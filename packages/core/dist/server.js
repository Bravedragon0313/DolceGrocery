/******/ (function(modules) { // webpackBootstrap
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadUpdateChunk(chunkId) {
/******/ 		var chunk = require("./" + "" + chunkId + "." + hotCurrentHash + ".hot-update.js");
/******/ 		hotAddUpdateChunk(chunk.id, chunk.modules);
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadManifest() {
/******/ 		try {
/******/ 			var update = require("./" + "" + hotCurrentHash + ".hot-update.json");
/******/ 		} catch (e) {
/******/ 			return Promise.resolve();
/******/ 		}
/******/ 		return Promise.resolve(update);
/******/ 	}
/******/
/******/ 	//eslint-disable-next-line no-unused-vars
/******/ 	function hotDisposeChunk(chunkId) {
/******/ 		delete installedChunks[chunkId];
/******/ 	}
/******/
/******/ 	var hotApplyOnUpdate = true;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentHash = "aeb9704216c5f485f91a";
/******/ 	var hotRequestTimeout = 10000;
/******/ 	var hotCurrentModuleData = {};
/******/ 	var hotCurrentChildModule;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParents = [];
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParentsTemp = [];
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateRequire(moduleId) {
/******/ 		var me = installedModules[moduleId];
/******/ 		if (!me) return __webpack_require__;
/******/ 		var fn = function(request) {
/******/ 			if (me.hot.active) {
/******/ 				if (installedModules[request]) {
/******/ 					if (installedModules[request].parents.indexOf(moduleId) === -1) {
/******/ 						installedModules[request].parents.push(moduleId);
/******/ 					}
/******/ 				} else {
/******/ 					hotCurrentParents = [moduleId];
/******/ 					hotCurrentChildModule = request;
/******/ 				}
/******/ 				if (me.children.indexOf(request) === -1) {
/******/ 					me.children.push(request);
/******/ 				}
/******/ 			} else {
/******/ 				console.warn(
/******/ 					"[HMR] unexpected require(" +
/******/ 						request +
/******/ 						") from disposed module " +
/******/ 						moduleId
/******/ 				);
/******/ 				hotCurrentParents = [];
/******/ 			}
/******/ 			return __webpack_require__(request);
/******/ 		};
/******/ 		var ObjectFactory = function ObjectFactory(name) {
/******/ 			return {
/******/ 				configurable: true,
/******/ 				enumerable: true,
/******/ 				get: function() {
/******/ 					return __webpack_require__[name];
/******/ 				},
/******/ 				set: function(value) {
/******/ 					__webpack_require__[name] = value;
/******/ 				}
/******/ 			};
/******/ 		};
/******/ 		for (var name in __webpack_require__) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(__webpack_require__, name) &&
/******/ 				name !== "e" &&
/******/ 				name !== "t"
/******/ 			) {
/******/ 				Object.defineProperty(fn, name, ObjectFactory(name));
/******/ 			}
/******/ 		}
/******/ 		fn.e = function(chunkId) {
/******/ 			if (hotStatus === "ready") hotSetStatus("prepare");
/******/ 			hotChunksLoading++;
/******/ 			return __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {
/******/ 				finishChunkLoading();
/******/ 				throw err;
/******/ 			});
/******/
/******/ 			function finishChunkLoading() {
/******/ 				hotChunksLoading--;
/******/ 				if (hotStatus === "prepare") {
/******/ 					if (!hotWaitingFilesMap[chunkId]) {
/******/ 						hotEnsureUpdateChunk(chunkId);
/******/ 					}
/******/ 					if (hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 						hotUpdateDownloaded();
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 		fn.t = function(value, mode) {
/******/ 			if (mode & 1) value = fn(value);
/******/ 			return __webpack_require__.t(value, mode & ~1);
/******/ 		};
/******/ 		return fn;
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateModule(moduleId) {
/******/ 		var hot = {
/******/ 			// private stuff
/******/ 			_acceptedDependencies: {},
/******/ 			_declinedDependencies: {},
/******/ 			_selfAccepted: false,
/******/ 			_selfDeclined: false,
/******/ 			_disposeHandlers: [],
/******/ 			_main: hotCurrentChildModule !== moduleId,
/******/
/******/ 			// Module API
/******/ 			active: true,
/******/ 			accept: function(dep, callback) {
/******/ 				if (dep === undefined) hot._selfAccepted = true;
/******/ 				else if (typeof dep === "function") hot._selfAccepted = dep;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._acceptedDependencies[dep[i]] = callback || function() {};
/******/ 				else hot._acceptedDependencies[dep] = callback || function() {};
/******/ 			},
/******/ 			decline: function(dep) {
/******/ 				if (dep === undefined) hot._selfDeclined = true;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._declinedDependencies[dep[i]] = true;
/******/ 				else hot._declinedDependencies[dep] = true;
/******/ 			},
/******/ 			dispose: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			addDisposeHandler: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			removeDisposeHandler: function(callback) {
/******/ 				var idx = hot._disposeHandlers.indexOf(callback);
/******/ 				if (idx >= 0) hot._disposeHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			// Management API
/******/ 			check: hotCheck,
/******/ 			apply: hotApply,
/******/ 			status: function(l) {
/******/ 				if (!l) return hotStatus;
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			addStatusHandler: function(l) {
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			removeStatusHandler: function(l) {
/******/ 				var idx = hotStatusHandlers.indexOf(l);
/******/ 				if (idx >= 0) hotStatusHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			//inherit from previous dispose call
/******/ 			data: hotCurrentModuleData[moduleId]
/******/ 		};
/******/ 		hotCurrentChildModule = undefined;
/******/ 		return hot;
/******/ 	}
/******/
/******/ 	var hotStatusHandlers = [];
/******/ 	var hotStatus = "idle";
/******/
/******/ 	function hotSetStatus(newStatus) {
/******/ 		hotStatus = newStatus;
/******/ 		for (var i = 0; i < hotStatusHandlers.length; i++)
/******/ 			hotStatusHandlers[i].call(null, newStatus);
/******/ 	}
/******/
/******/ 	// while downloading
/******/ 	var hotWaitingFiles = 0;
/******/ 	var hotChunksLoading = 0;
/******/ 	var hotWaitingFilesMap = {};
/******/ 	var hotRequestedFilesMap = {};
/******/ 	var hotAvailableFilesMap = {};
/******/ 	var hotDeferred;
/******/
/******/ 	// The update info
/******/ 	var hotUpdate, hotUpdateNewHash;
/******/
/******/ 	function toModuleId(id) {
/******/ 		var isNumber = +id + "" === id;
/******/ 		return isNumber ? +id : id;
/******/ 	}
/******/
/******/ 	function hotCheck(apply) {
/******/ 		if (hotStatus !== "idle") {
/******/ 			throw new Error("check() is only allowed in idle status");
/******/ 		}
/******/ 		hotApplyOnUpdate = apply;
/******/ 		hotSetStatus("check");
/******/ 		return hotDownloadManifest(hotRequestTimeout).then(function(update) {
/******/ 			if (!update) {
/******/ 				hotSetStatus("idle");
/******/ 				return null;
/******/ 			}
/******/ 			hotRequestedFilesMap = {};
/******/ 			hotWaitingFilesMap = {};
/******/ 			hotAvailableFilesMap = update.c;
/******/ 			hotUpdateNewHash = update.h;
/******/
/******/ 			hotSetStatus("prepare");
/******/ 			var promise = new Promise(function(resolve, reject) {
/******/ 				hotDeferred = {
/******/ 					resolve: resolve,
/******/ 					reject: reject
/******/ 				};
/******/ 			});
/******/ 			hotUpdate = {};
/******/ 			var chunkId = "main";
/******/ 			// eslint-disable-next-line no-lone-blocks
/******/ 			{
/******/ 				hotEnsureUpdateChunk(chunkId);
/******/ 			}
/******/ 			if (
/******/ 				hotStatus === "prepare" &&
/******/ 				hotChunksLoading === 0 &&
/******/ 				hotWaitingFiles === 0
/******/ 			) {
/******/ 				hotUpdateDownloaded();
/******/ 			}
/******/ 			return promise;
/******/ 		});
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotAddUpdateChunk(chunkId, moreModules) {
/******/ 		if (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])
/******/ 			return;
/******/ 		hotRequestedFilesMap[chunkId] = false;
/******/ 		for (var moduleId in moreModules) {
/******/ 			if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				hotUpdate[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if (--hotWaitingFiles === 0 && hotChunksLoading === 0) {
/******/ 			hotUpdateDownloaded();
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotEnsureUpdateChunk(chunkId) {
/******/ 		if (!hotAvailableFilesMap[chunkId]) {
/******/ 			hotWaitingFilesMap[chunkId] = true;
/******/ 		} else {
/******/ 			hotRequestedFilesMap[chunkId] = true;
/******/ 			hotWaitingFiles++;
/******/ 			hotDownloadUpdateChunk(chunkId);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotUpdateDownloaded() {
/******/ 		hotSetStatus("ready");
/******/ 		var deferred = hotDeferred;
/******/ 		hotDeferred = null;
/******/ 		if (!deferred) return;
/******/ 		if (hotApplyOnUpdate) {
/******/ 			// Wrap deferred object in Promise to mark it as a well-handled Promise to
/******/ 			// avoid triggering uncaught exception warning in Chrome.
/******/ 			// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666
/******/ 			Promise.resolve()
/******/ 				.then(function() {
/******/ 					return hotApply(hotApplyOnUpdate);
/******/ 				})
/******/ 				.then(
/******/ 					function(result) {
/******/ 						deferred.resolve(result);
/******/ 					},
/******/ 					function(err) {
/******/ 						deferred.reject(err);
/******/ 					}
/******/ 				);
/******/ 		} else {
/******/ 			var outdatedModules = [];
/******/ 			for (var id in hotUpdate) {
/******/ 				if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 					outdatedModules.push(toModuleId(id));
/******/ 				}
/******/ 			}
/******/ 			deferred.resolve(outdatedModules);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotApply(options) {
/******/ 		if (hotStatus !== "ready")
/******/ 			throw new Error("apply() is only allowed in ready status");
/******/ 		options = options || {};
/******/
/******/ 		var cb;
/******/ 		var i;
/******/ 		var j;
/******/ 		var module;
/******/ 		var moduleId;
/******/
/******/ 		function getAffectedStuff(updateModuleId) {
/******/ 			var outdatedModules = [updateModuleId];
/******/ 			var outdatedDependencies = {};
/******/
/******/ 			var queue = outdatedModules.map(function(id) {
/******/ 				return {
/******/ 					chain: [id],
/******/ 					id: id
/******/ 				};
/******/ 			});
/******/ 			while (queue.length > 0) {
/******/ 				var queueItem = queue.pop();
/******/ 				var moduleId = queueItem.id;
/******/ 				var chain = queueItem.chain;
/******/ 				module = installedModules[moduleId];
/******/ 				if (!module || module.hot._selfAccepted) continue;
/******/ 				if (module.hot._selfDeclined) {
/******/ 					return {
/******/ 						type: "self-declined",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				if (module.hot._main) {
/******/ 					return {
/******/ 						type: "unaccepted",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				for (var i = 0; i < module.parents.length; i++) {
/******/ 					var parentId = module.parents[i];
/******/ 					var parent = installedModules[parentId];
/******/ 					if (!parent) continue;
/******/ 					if (parent.hot._declinedDependencies[moduleId]) {
/******/ 						return {
/******/ 							type: "declined",
/******/ 							chain: chain.concat([parentId]),
/******/ 							moduleId: moduleId,
/******/ 							parentId: parentId
/******/ 						};
/******/ 					}
/******/ 					if (outdatedModules.indexOf(parentId) !== -1) continue;
/******/ 					if (parent.hot._acceptedDependencies[moduleId]) {
/******/ 						if (!outdatedDependencies[parentId])
/******/ 							outdatedDependencies[parentId] = [];
/******/ 						addAllToSet(outdatedDependencies[parentId], [moduleId]);
/******/ 						continue;
/******/ 					}
/******/ 					delete outdatedDependencies[parentId];
/******/ 					outdatedModules.push(parentId);
/******/ 					queue.push({
/******/ 						chain: chain.concat([parentId]),
/******/ 						id: parentId
/******/ 					});
/******/ 				}
/******/ 			}
/******/
/******/ 			return {
/******/ 				type: "accepted",
/******/ 				moduleId: updateModuleId,
/******/ 				outdatedModules: outdatedModules,
/******/ 				outdatedDependencies: outdatedDependencies
/******/ 			};
/******/ 		}
/******/
/******/ 		function addAllToSet(a, b) {
/******/ 			for (var i = 0; i < b.length; i++) {
/******/ 				var item = b[i];
/******/ 				if (a.indexOf(item) === -1) a.push(item);
/******/ 			}
/******/ 		}
/******/
/******/ 		// at begin all updates modules are outdated
/******/ 		// the "outdated" status can propagate to parents if they don't accept the children
/******/ 		var outdatedDependencies = {};
/******/ 		var outdatedModules = [];
/******/ 		var appliedUpdate = {};
/******/
/******/ 		var warnUnexpectedRequire = function warnUnexpectedRequire() {
/******/ 			console.warn(
/******/ 				"[HMR] unexpected require(" + result.moduleId + ") to disposed module"
/******/ 			);
/******/ 		};
/******/
/******/ 		for (var id in hotUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 				moduleId = toModuleId(id);
/******/ 				/** @type {TODO} */
/******/ 				var result;
/******/ 				if (hotUpdate[id]) {
/******/ 					result = getAffectedStuff(moduleId);
/******/ 				} else {
/******/ 					result = {
/******/ 						type: "disposed",
/******/ 						moduleId: id
/******/ 					};
/******/ 				}
/******/ 				/** @type {Error|false} */
/******/ 				var abortError = false;
/******/ 				var doApply = false;
/******/ 				var doDispose = false;
/******/ 				var chainInfo = "";
/******/ 				if (result.chain) {
/******/ 					chainInfo = "\nUpdate propagation: " + result.chain.join(" -> ");
/******/ 				}
/******/ 				switch (result.type) {
/******/ 					case "self-declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of self decline: " +
/******/ 									result.moduleId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of declined dependency: " +
/******/ 									result.moduleId +
/******/ 									" in " +
/******/ 									result.parentId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "unaccepted":
/******/ 						if (options.onUnaccepted) options.onUnaccepted(result);
/******/ 						if (!options.ignoreUnaccepted)
/******/ 							abortError = new Error(
/******/ 								"Aborted because " + moduleId + " is not accepted" + chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "accepted":
/******/ 						if (options.onAccepted) options.onAccepted(result);
/******/ 						doApply = true;
/******/ 						break;
/******/ 					case "disposed":
/******/ 						if (options.onDisposed) options.onDisposed(result);
/******/ 						doDispose = true;
/******/ 						break;
/******/ 					default:
/******/ 						throw new Error("Unexception type " + result.type);
/******/ 				}
/******/ 				if (abortError) {
/******/ 					hotSetStatus("abort");
/******/ 					return Promise.reject(abortError);
/******/ 				}
/******/ 				if (doApply) {
/******/ 					appliedUpdate[moduleId] = hotUpdate[moduleId];
/******/ 					addAllToSet(outdatedModules, result.outdatedModules);
/******/ 					for (moduleId in result.outdatedDependencies) {
/******/ 						if (
/******/ 							Object.prototype.hasOwnProperty.call(
/******/ 								result.outdatedDependencies,
/******/ 								moduleId
/******/ 							)
/******/ 						) {
/******/ 							if (!outdatedDependencies[moduleId])
/******/ 								outdatedDependencies[moduleId] = [];
/******/ 							addAllToSet(
/******/ 								outdatedDependencies[moduleId],
/******/ 								result.outdatedDependencies[moduleId]
/******/ 							);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 				if (doDispose) {
/******/ 					addAllToSet(outdatedModules, [result.moduleId]);
/******/ 					appliedUpdate[moduleId] = warnUnexpectedRequire;
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Store self accepted outdated modules to require them later by the module system
/******/ 		var outdatedSelfAcceptedModules = [];
/******/ 		for (i = 0; i < outdatedModules.length; i++) {
/******/ 			moduleId = outdatedModules[i];
/******/ 			if (
/******/ 				installedModules[moduleId] &&
/******/ 				installedModules[moduleId].hot._selfAccepted &&
/******/ 				// removed self-accepted modules should not be required
/******/ 				appliedUpdate[moduleId] !== warnUnexpectedRequire
/******/ 			) {
/******/ 				outdatedSelfAcceptedModules.push({
/******/ 					module: moduleId,
/******/ 					errorHandler: installedModules[moduleId].hot._selfAccepted
/******/ 				});
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "dispose" phase
/******/ 		hotSetStatus("dispose");
/******/ 		Object.keys(hotAvailableFilesMap).forEach(function(chunkId) {
/******/ 			if (hotAvailableFilesMap[chunkId] === false) {
/******/ 				hotDisposeChunk(chunkId);
/******/ 			}
/******/ 		});
/******/
/******/ 		var idx;
/******/ 		var queue = outdatedModules.slice();
/******/ 		while (queue.length > 0) {
/******/ 			moduleId = queue.pop();
/******/ 			module = installedModules[moduleId];
/******/ 			if (!module) continue;
/******/
/******/ 			var data = {};
/******/
/******/ 			// Call dispose handlers
/******/ 			var disposeHandlers = module.hot._disposeHandlers;
/******/ 			for (j = 0; j < disposeHandlers.length; j++) {
/******/ 				cb = disposeHandlers[j];
/******/ 				cb(data);
/******/ 			}
/******/ 			hotCurrentModuleData[moduleId] = data;
/******/
/******/ 			// disable module (this disables requires from this module)
/******/ 			module.hot.active = false;
/******/
/******/ 			// remove module from cache
/******/ 			delete installedModules[moduleId];
/******/
/******/ 			// when disposing there is no need to call dispose handler
/******/ 			delete outdatedDependencies[moduleId];
/******/
/******/ 			// remove "parents" references from all children
/******/ 			for (j = 0; j < module.children.length; j++) {
/******/ 				var child = installedModules[module.children[j]];
/******/ 				if (!child) continue;
/******/ 				idx = child.parents.indexOf(moduleId);
/******/ 				if (idx >= 0) {
/******/ 					child.parents.splice(idx, 1);
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// remove outdated dependency from module children
/******/ 		var dependency;
/******/ 		var moduleOutdatedDependencies;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					for (j = 0; j < moduleOutdatedDependencies.length; j++) {
/******/ 						dependency = moduleOutdatedDependencies[j];
/******/ 						idx = module.children.indexOf(dependency);
/******/ 						if (idx >= 0) module.children.splice(idx, 1);
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "apply" phase
/******/ 		hotSetStatus("apply");
/******/
/******/ 		hotCurrentHash = hotUpdateNewHash;
/******/
/******/ 		// insert new code
/******/ 		for (moduleId in appliedUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {
/******/ 				modules[moduleId] = appliedUpdate[moduleId];
/******/ 			}
/******/ 		}
/******/
/******/ 		// call accept handlers
/******/ 		var error = null;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					var callbacks = [];
/******/ 					for (i = 0; i < moduleOutdatedDependencies.length; i++) {
/******/ 						dependency = moduleOutdatedDependencies[i];
/******/ 						cb = module.hot._acceptedDependencies[dependency];
/******/ 						if (cb) {
/******/ 							if (callbacks.indexOf(cb) !== -1) continue;
/******/ 							callbacks.push(cb);
/******/ 						}
/******/ 					}
/******/ 					for (i = 0; i < callbacks.length; i++) {
/******/ 						cb = callbacks[i];
/******/ 						try {
/******/ 							cb(moduleOutdatedDependencies);
/******/ 						} catch (err) {
/******/ 							if (options.onErrored) {
/******/ 								options.onErrored({
/******/ 									type: "accept-errored",
/******/ 									moduleId: moduleId,
/******/ 									dependencyId: moduleOutdatedDependencies[i],
/******/ 									error: err
/******/ 								});
/******/ 							}
/******/ 							if (!options.ignoreErrored) {
/******/ 								if (!error) error = err;
/******/ 							}
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Load self accepted modules
/******/ 		for (i = 0; i < outdatedSelfAcceptedModules.length; i++) {
/******/ 			var item = outdatedSelfAcceptedModules[i];
/******/ 			moduleId = item.module;
/******/ 			hotCurrentParents = [moduleId];
/******/ 			try {
/******/ 				__webpack_require__(moduleId);
/******/ 			} catch (err) {
/******/ 				if (typeof item.errorHandler === "function") {
/******/ 					try {
/******/ 						item.errorHandler(err);
/******/ 					} catch (err2) {
/******/ 						if (options.onErrored) {
/******/ 							options.onErrored({
/******/ 								type: "self-accept-error-handler-errored",
/******/ 								moduleId: moduleId,
/******/ 								error: err2,
/******/ 								originalError: err
/******/ 							});
/******/ 						}
/******/ 						if (!options.ignoreErrored) {
/******/ 							if (!error) error = err2;
/******/ 						}
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				} else {
/******/ 					if (options.onErrored) {
/******/ 						options.onErrored({
/******/ 							type: "self-accept-errored",
/******/ 							moduleId: moduleId,
/******/ 							error: err
/******/ 						});
/******/ 					}
/******/ 					if (!options.ignoreErrored) {
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// handle errors in accept handlers and self accepted module load
/******/ 		if (error) {
/******/ 			hotSetStatus("fail");
/******/ 			return Promise.reject(error);
/******/ 		}
/******/
/******/ 		hotSetStatus("idle");
/******/ 		return new Promise(function(resolve) {
/******/ 			resolve(outdatedModules);
/******/ 		});
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {},
/******/ 			hot: hotCreateModule(moduleId),
/******/ 			parents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),
/******/ 			children: []
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// __webpack_hash__
/******/ 	__webpack_require__.h = function() { return hotCurrentHash; };
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return hotCreateRequire(0)(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@ever-platform/common/src/@pyro/db/db-object.ts":
/*!**********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/@pyro/db/db-object.ts ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const schema_1 = __webpack_require__(/*! ./schema */ "./node_modules/@ever-platform/common/src/@pyro/db/schema.ts");
const mongoose_1 = tslib_1.__importDefault(__webpack_require__(/*! mongoose */ "mongoose"));
const utils_1 = __webpack_require__(/*! ../../utils */ "./node_modules/@ever-platform/common/src/utils.ts");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
class DBObject {
    constructor(obj) {
        lodash_1.default.assign(this, obj);
        if (mongoose_1.default != null &&
            mongoose_1.default.Types != null &&
            mongoose_1.default.Types.ObjectId != null) {
            if (obj && obj['_id']) {
                this['_id'] = mongoose_1.default.Types.ObjectId.createFromHexString(obj['_id'].toString());
            }
        }
    }
    get createdAt() {
        return this._createdAt != null ? utils_1.toDate(this._createdAt) : null;
    }
    get updatedAt() {
        return this._updatedAt != null ? utils_1.toDate(this._updatedAt) : null;
    }
    get id() {
        return this._id.toString();
    }
    isEqual(p) {
        for (const prop in schema_1.getPreSchema(this.constructor)) {
            if (this[prop] !== p[prop]) {
                return false;
            }
        }
        return true;
    }
}
DBObject.modelName = '';
tslib_1.__decorate([
    typeorm_1.PrimaryColumn(),
    tslib_1.__metadata("design:type", Object)
], DBObject.prototype, "_id", void 0);
tslib_1.__decorate([
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Object)
], DBObject.prototype, "_createdAt", void 0);
tslib_1.__decorate([
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Object)
], DBObject.prototype, "_updatedAt", void 0);
exports.DBObject = DBObject;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts":
/*!******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/@pyro/db/index.ts ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var db_object_1 = __webpack_require__(/*! ./db-object */ "./node_modules/@ever-platform/common/src/@pyro/db/db-object.ts");
exports.DBObject = db_object_1.DBObject;
var model_1 = __webpack_require__(/*! ./model */ "./node_modules/@ever-platform/common/src/@pyro/db/model.ts");
exports.ModelName = model_1.ModelName;
var schema_1 = __webpack_require__(/*! ./schema */ "./node_modules/@ever-platform/common/src/@pyro/db/schema.ts");
exports.Schema = schema_1.Schema;
exports.getSchema = schema_1.getSchema;
exports.getPreSchema = schema_1.getPreSchema;
exports.Index = schema_1.Index;
var types_1 = __webpack_require__(/*! ./types */ "./node_modules/@ever-platform/common/src/@pyro/db/types.ts");
exports.Types = types_1.Types;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/@pyro/db/model.ts":
/*!******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/@pyro/db/model.ts ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function ModelName(name) {
    return (target) => {
        target.modelName = name;
    };
}
exports.ModelName = ModelName;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/@pyro/db/schema.ts":
/*!*******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/@pyro/db/schema.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_object_1 = __webpack_require__(/*! ./db-object */ "./node_modules/@ever-platform/common/src/@pyro/db/db-object.ts");
__webpack_require__(/*! reflect-metadata */ "reflect-metadata");
const _ = tslib_1.__importStar(__webpack_require__(/*! lodash */ "lodash"));
const mongoose_1 = __webpack_require__(/*! mongoose */ "mongoose");
const mongooseSchemasKey = 'mongooseSchemas';
const mongooseIndexesKey = 'mongooseIndexes';
function Schema(schema) {
    return (target, propertyKey) => {
        let mongooseSchemas = Reflect.getMetadata(mongooseSchemasKey, target.constructor);
        if (typeof mongooseSchemas === 'undefined' || mongooseSchemas == null) {
            mongooseSchemas = {};
        }
        mongooseSchemas[propertyKey] = schema;
        Reflect.defineMetadata(mongooseSchemasKey, mongooseSchemas, target.constructor);
    };
}
exports.Schema = Schema;
function Index(value) {
    return (target, propertyKey) => {
        let indexesObj = Reflect.getMetadata(mongooseIndexesKey, target.constructor);
        if (typeof indexesObj === 'undefined' || indexesObj == null) {
            indexesObj = {};
        }
        indexesObj[propertyKey] = value;
        Reflect.defineMetadata(mongooseIndexesKey, indexesObj, target.constructor);
    };
}
exports.Index = Index;
function getPreSchema(DBObj) {
    const mongooseSchemas = Reflect.getMetadata(mongooseSchemasKey, DBObj);
    if (mongooseSchemas != null) {
        return mongooseSchemas;
    }
    else {
        return {};
    }
}
exports.getPreSchema = getPreSchema;
function getSchema(DBObj) {
    const preSchema = getPreSchema(DBObj);
    const schema = new mongoose_1.Schema(preSchema, {
        timestamps: {
            createdAt: '_createdAt',
            updatedAt: '_updatedAt',
        },
    });
    const mongooseIndexes = Reflect.getMetadata(mongooseIndexesKey, DBObj);
    if (mongooseIndexes != null) {
        schema.index(mongooseIndexes);
    }
    _.each(preSchema, (SubType, property) => {
        if (SubType.prototype instanceof db_object_1.DBObject) {
            _.each(getSchema(SubType).indexes(), (index) => {
                _.each(index, (indexValue, indexProperty) => {
                    schema.index({
                        [property + '.' + indexProperty]: indexValue,
                    });
                });
            });
        }
    });
    return schema;
}
exports.getSchema = getSchema;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/@pyro/db/types.ts":
/*!******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/@pyro/db/types.ts ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const schema_1 = __webpack_require__(/*! ./schema */ "./node_modules/@ever-platform/common/src/@pyro/db/schema.ts");
exports.Types = {
    String: (s) => {
        if (s == null) {
            return schema_1.Schema({ type: String, required: true });
        }
        else {
            return schema_1.Schema({ type: String, default: s });
        }
    },
    Number: (n) => {
        if (n == null) {
            return schema_1.Schema({ type: Number, required: true });
        }
        else {
            return schema_1.Schema({ type: Number, default: n });
        }
    },
    Boolean: (b) => {
        if (b == null) {
            return schema_1.Schema({ type: Boolean, required: true });
        }
        else {
            return schema_1.Schema({ type: Boolean, default: b });
        }
    },
    Date: (d) => {
        if (d == null) {
            return schema_1.Schema({ type: Date, required: true });
        }
        else {
            return schema_1.Schema({ type: Date, default: d });
        }
    },
    Ref(Type, options = {}) {
        return (target, propertyKey) => {
            const multi = Array.isArray(Type);
            const op = Object.assign({}, options);
            op.type = String;
            op.ref = (multi ? Type[0] : Type).modelName;
            schema_1.Schema(multi ? [op] : op)(target, propertyKey);
        };
    },
};


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/data/abbreviation-to-country.ts":
/*!********************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/data/abbreviation-to-country.ts ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.countries = {
    AD: 'Andorra',
    AE: 'United Arab Emirates',
    AF: 'Afghanistan',
    AG: 'Antigua and Barbuda',
    AI: 'Anguilla',
    AL: 'Albania',
    AM: 'Armenia',
    AO: 'Angola',
    AQ: 'Antarctica',
    AR: 'Argentina',
    AS: 'American Samoa',
    AT: 'Austria',
    AU: 'Australia',
    AW: 'Aruba',
    AX: 'Åland',
    AZ: 'Azerbaijan',
    BA: 'Bosnia and Herzegovina',
    BB: 'Barbados',
    BD: 'Bangladesh',
    BE: 'Belgium',
    BF: 'Burkina Faso',
    BG: 'Bulgaria',
    BH: 'Bahrain',
    BI: 'Burundi',
    BJ: 'Benin',
    BL: 'Saint Barthélemy',
    BM: 'Bermuda',
    BN: 'Brunei',
    BO: 'Bolivia',
    BQ: 'Bonaire',
    BR: 'Brazil',
    BS: 'Bahamas',
    BT: 'Bhutan',
    BV: 'Bouvet Island',
    BW: 'Botswana',
    BY: 'Belarus',
    BZ: 'Belize',
    CA: 'Canada',
    CC: 'Cocos [Keeling] Islands',
    CD: 'Democratic Republic of the Congo',
    CF: 'Central African Republic',
    CG: 'Republic of the Congo',
    CH: 'Switzerland',
    CI: 'Ivory Coast',
    CK: 'Cook Islands',
    CL: 'Chile',
    CM: 'Cameroon',
    CN: 'China',
    CO: 'Colombia',
    CR: 'Costa Rica',
    CU: 'Cuba',
    CV: 'Cape Verde',
    CW: 'Curacao',
    CX: 'Christmas Island',
    CY: 'Cyprus',
    CZ: 'Czech Republic',
    DE: 'Germany',
    DJ: 'Djibouti',
    DK: 'Denmark',
    DM: 'Dominica',
    DO: 'Dominican Republic',
    DZ: 'Algeria',
    EC: 'Ecuador',
    EE: 'Estonia',
    EG: 'Egypt',
    EH: 'Western Sahara',
    ER: 'Eritrea',
    ES: 'Spain',
    ET: 'Ethiopia',
    FI: 'Finland',
    FJ: 'Fiji',
    FK: 'Falkland Islands',
    FM: 'Micronesia',
    FO: 'Faroe Islands',
    FR: 'France',
    GA: 'Gabon',
    GB: 'United Kingdom',
    GD: 'Grenada',
    GE: 'Georgia',
    GF: 'French Guiana',
    GG: 'Guernsey',
    GH: 'Ghana',
    GI: 'Gibraltar',
    GL: 'Greenland',
    GM: 'Gambia',
    GN: 'Guinea',
    GP: 'Guadeloupe',
    GQ: 'Equatorial Guinea',
    GR: 'Greece',
    GS: 'South Georgia and the South Sandwich Islands',
    GT: 'Guatemala',
    GU: 'Guam',
    GW: 'Guinea-Bissau',
    GY: 'Guyana',
    HK: 'Hong Kong',
    HM: 'Heard Island and McDonald Islands',
    HN: 'Honduras',
    HR: 'Croatia',
    HT: 'Haiti',
    HU: 'Hungary',
    ID: 'Indonesia',
    IE: 'Ireland',
    IL: 'Israel',
    IM: 'Isle of Man',
    IN: 'India',
    IO: 'British Indian Ocean Territory',
    IQ: 'Iraq',
    IR: 'Iran',
    IS: 'Iceland',
    IT: 'Italy',
    JE: 'Jersey',
    JM: 'Jamaica',
    JO: 'Jordan',
    JP: 'Japan',
    KE: 'Kenya',
    KG: 'Kyrgyzstan',
    KH: 'Cambodia',
    KI: 'Kiribati',
    KM: 'Comoros',
    KN: 'Saint Kitts and Nevis',
    KP: 'North Korea',
    KR: 'South Korea',
    KW: 'Kuwait',
    KY: 'Cayman Islands',
    KZ: 'Kazakhstan',
    LA: 'Laos',
    LB: 'Lebanon',
    LC: 'Saint Lucia',
    LI: 'Liechtenstein',
    LK: 'Sri Lanka',
    LR: 'Liberia',
    LS: 'Lesotho',
    LT: 'Lithuania',
    LU: 'Luxembourg',
    LV: 'Latvia',
    LY: 'Libya',
    MA: 'Morocco',
    MC: 'Monaco',
    MD: 'Moldova',
    ME: 'Montenegro',
    MF: 'Saint Martin',
    MG: 'Madagascar',
    MH: 'Marshall Islands',
    MK: 'Macedonia',
    ML: 'Mali',
    MM: 'Myanmar [Burma]',
    MN: 'Mongolia',
    MO: 'Macao',
    MP: 'Northern Mariana Islands',
    MQ: 'Martinique',
    MR: 'Mauritania',
    MS: 'Montserrat',
    MT: 'Malta',
    MU: 'Mauritius',
    MV: 'Maldives',
    MW: 'Malawi',
    MX: 'Mexico',
    MY: 'Malaysia',
    MZ: 'Mozambique',
    NA: 'Namibia',
    NC: 'New Caledonia',
    NE: 'Niger',
    NF: 'Norfolk Island',
    NG: 'Nigeria',
    NI: 'Nicaragua',
    NL: 'Netherlands',
    NO: 'Norway',
    NP: 'Nepal',
    NR: 'Nauru',
    NU: 'Niue',
    NZ: 'New Zealand',
    OM: 'Oman',
    PA: 'Panama',
    PE: 'Peru',
    PF: 'French Polynesia',
    PG: 'Papua New Guinea',
    PH: 'Philippines',
    PK: 'Pakistan',
    PL: 'Poland',
    PM: 'Saint Pierre and Miquelon',
    PN: 'Pitcairn Islands',
    PR: 'Puerto Rico',
    PS: 'Palestine',
    PT: 'Portugal',
    PW: 'Palau',
    PY: 'Paraguay',
    QA: 'Qatar',
    RE: 'Réunion',
    RO: 'Romania',
    RS: 'Serbia',
    RU: 'Russia',
    RW: 'Rwanda',
    SA: 'Saudi Arabia',
    SB: 'Solomon Islands',
    SC: 'Seychelles',
    SD: 'Sudan',
    SE: 'Sweden',
    SG: 'Singapore',
    SH: 'Saint Helena',
    SI: 'Slovenia',
    SJ: 'Svalbard and Jan Mayen',
    SK: 'Slovakia',
    SL: 'Sierra Leone',
    SM: 'San Marino',
    SN: 'Senegal',
    SO: 'Somalia',
    SR: 'Suriname',
    SS: 'South Sudan',
    ST: 'São Tomé and Príncipe',
    SV: 'El Salvador',
    SX: 'Sint Maarten',
    SY: 'Syria',
    SZ: 'Swaziland',
    TC: 'Turks and Caicos Islands',
    TD: 'Chad',
    TF: 'French Southern Territories',
    TG: 'Togo',
    TH: 'Thailand',
    TJ: 'Tajikistan',
    TK: 'Tokelau',
    TL: 'East Timor',
    TM: 'Turkmenistan',
    TN: 'Tunisia',
    TO: 'Tonga',
    TR: 'Turkey',
    TT: 'Trinidad and Tobago',
    TV: 'Tuvalu',
    TW: 'Taiwan',
    TZ: 'Tanzania',
    UA: 'Ukraine',
    UG: 'Uganda',
    UM: 'U.S. Minor Outlying Islands',
    US: 'United States',
    UY: 'Uruguay',
    UZ: 'Uzbekistan',
    VA: 'Vatican City',
    VC: 'Saint Vincent and the Grenadines',
    VE: 'Venezuela',
    VG: 'British Virgin Islands',
    VI: 'U.S. Virgin Islands',
    VN: 'Vietnam',
    VU: 'Vanuatu',
    WF: 'Wallis and Futuna',
    WS: 'Samoa',
    XK: 'Kosovo',
    YE: 'Yemen',
    YT: 'Mayotte',
    ZA: 'South Africa',
    ZM: 'Zambia',
    ZW: 'Zimbabwe',
};


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Admin.ts":
/*!******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Admin.ts ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const db_2 = __webpack_require__(/*! @pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let Admin = class Admin extends db_1.DBObject {
};
tslib_1.__decorate([
    db_2.Schema({ type: String, unique: true }),
    db_2.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Admin.prototype, "email", void 0);
tslib_1.__decorate([
    db_2.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Admin.prototype, "name", void 0);
tslib_1.__decorate([
    db_2.Schema({ type: String, select: false }),
    db_2.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Admin.prototype, "hash", void 0);
tslib_1.__decorate([
    db_2.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Admin.prototype, "pictureUrl", void 0);
tslib_1.__decorate([
    db_2.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Admin.prototype, "isDeleted", void 0);
tslib_1.__decorate([
    db_2.Schema({
        type: String,
        required: false,
        validate: new RegExp(`^[a-z ,.'-]+$`, 'i'),
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Admin.prototype, "firstName", void 0);
tslib_1.__decorate([
    db_2.Schema({
        type: String,
        required: false,
        validate: new RegExp(`^[a-z ,.'-]+$`, 'i'),
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Admin.prototype, "lastName", void 0);
Admin = tslib_1.__decorate([
    db_1.ModelName('Admin'),
    typeorm_1.Entity({ name: 'admins' })
], Admin);
exports.default = Admin;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Carrier.ts":
/*!********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Carrier.ts ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const CarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! ../enums/CarrierStatus */ "./node_modules/@ever-platform/common/src/enums/CarrierStatus.ts"));
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! ./GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let Carrier = class Carrier extends db_1.DBObject {
    constructor(carrier) {
        super(carrier);
        if (carrier && carrier.geoLocation) {
            this.geoLocation = new GeoLocation_1.default(carrier.geoLocation);
        }
    }
    get fullName() {
        return `${this.firstName} ${this.lastName}`;
    }
};
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: true,
        validate: new RegExp(`^[a-z ,.'-]+$`, 'i'),
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "firstName", void 0);
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: true,
        validate: new RegExp(`^[a-z ,.'-]+$`, 'i'),
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "lastName", void 0);
tslib_1.__decorate([
    db_1.Types.Number(0),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Carrier.prototype, "numberOfDeliveries", void 0);
tslib_1.__decorate([
    db_1.Schema(db_1.getSchema(GeoLocation_1.default)),
    tslib_1.__metadata("design:type", GeoLocation_1.default)
], Carrier.prototype, "geoLocation", void 0);
tslib_1.__decorate([
    db_1.Schema(String),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "apartment", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(true),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Carrier.prototype, "isActive", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Carrier.prototype, "isDeleted", void 0);
tslib_1.__decorate([
    db_1.Types.Number(CarrierStatus_1.default.Offline),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Carrier.prototype, "status", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, unique: true, required: true }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "username", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Boolean, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Carrier.prototype, "shared", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false, select: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "hash", void 0);
tslib_1.__decorate([
    db_1.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "phone", void 0);
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: true,
        validate: new RegExp(`(http(s?):)s?:?(\/\/[^"']*\.(?:png|jpg|jpeg|gif|png|svg))`),
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "logo", void 0);
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: false,
        sparse: true,
        unique: true,
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "email", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Array)
], Carrier.prototype, "skippedOrderIds", void 0);
tslib_1.__decorate([
    db_1.Types.Number(0),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Carrier.prototype, "deliveriesCountToday", void 0);
tslib_1.__decorate([
    db_1.Types.Number(0),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Carrier.prototype, "totalDistanceToday", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], Carrier.prototype, "devicesIds", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Carrier.prototype, "isSharedCarrier", void 0);
Carrier = tslib_1.__decorate([
    db_1.ModelName('Carrier'),
    typeorm_1.Entity({ name: 'carriers' }),
    tslib_1.__metadata("design:paramtypes", [Object])
], Carrier);
exports.default = Carrier;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Currency.ts":
/*!*********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Currency.ts ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! @pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let Currency = class Currency extends db_1.DBObject {
};
tslib_1.__decorate([
    db_1.Schema({ type: String, unique: true }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Currency.prototype, "currencyCode", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Currency.prototype, "isDeleted", void 0);
Currency = tslib_1.__decorate([
    db_1.ModelName('Currency'),
    typeorm_1.Entity({ name: 'currencies' })
], Currency);
exports.default = Currency;
exports.countriesDefaultCurrencies = {
    IL: 'ILS',
    RU: 'RUB',
    US: 'USD',
    BG: 'BGN',
};


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Device.ts":
/*!*******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Device.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let Device = class Device extends db_1.DBObject {
};
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Device.prototype, "channelId", void 0);
tslib_1.__decorate([
    db_1.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Device.prototype, "type", void 0);
tslib_1.__decorate([
    db_1.Types.String('en-US'),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Device.prototype, "language", void 0);
tslib_1.__decorate([
    db_1.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Device.prototype, "uuid", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Device.prototype, "isDeleted", void 0);
Device = tslib_1.__decorate([
    db_1.ModelName('Device'),
    typeorm_1.Entity({ name: 'devices' })
], Device);
exports.default = Device;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts":
/*!************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/GeoLocation.ts ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const abbreviation_to_country_1 = __webpack_require__(/*! ../data/abbreviation-to-country */ "./node_modules/@ever-platform/common/src/data/abbreviation-to-country.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
exports.locationPreSchema = {
    type: { type: String },
    coordinates: [Number],
};
let GeoLocation = class GeoLocation extends db_1.DBObject {
    get countryName() {
        return getCountryName(this.countryId);
    }
    get isLocValid() {
        return (this.loc.type === 'Point' &&
            typeof lodash_1.default.isArray(this.loc.coordinates) &&
            this.loc.coordinates.length === 2 &&
            lodash_1.default.every(this.loc.coordinates, (c) => lodash_1.default.isFinite(c)));
    }
    get isValid() {
        const notEmptyString = (s) => lodash_1.default.isString(s) && !lodash_1.default.isEmpty(s);
        return lodash_1.default.every([this.city, this.streetAddress, this.house], notEmptyString);
    }
    get coordinates() {
        return {
            lng: this.loc.coordinates[0],
            lat: this.loc.coordinates[1],
        };
    }
    set coordinates(coords) {
        this.loc.coordinates = [coords.lng, coords.lat];
    }
};
tslib_1.__decorate([
    db_1.Schema({ type: Number, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], GeoLocation.prototype, "countryId", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: String }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], GeoLocation.prototype, "postcode", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], GeoLocation.prototype, "apartment", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], GeoLocation.prototype, "city", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], GeoLocation.prototype, "streetAddress", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], GeoLocation.prototype, "house", void 0);
tslib_1.__decorate([
    db_1.Index('2dsphere'),
    db_1.Schema(exports.locationPreSchema),
    tslib_1.__metadata("design:type", Object)
], GeoLocation.prototype, "loc", void 0);
GeoLocation = tslib_1.__decorate([
    db_1.ModelName('GeoLocation')
], GeoLocation);
exports.default = GeoLocation;
var Country;
(function (Country) {
    Country[Country["AD"] = 0] = "AD";
    Country[Country["AE"] = 1] = "AE";
    Country[Country["AF"] = 2] = "AF";
    Country[Country["AG"] = 3] = "AG";
    Country[Country["AI"] = 4] = "AI";
    Country[Country["AL"] = 5] = "AL";
    Country[Country["AM"] = 6] = "AM";
    Country[Country["AO"] = 7] = "AO";
    Country[Country["AQ"] = 8] = "AQ";
    Country[Country["AR"] = 9] = "AR";
    Country[Country["AS"] = 10] = "AS";
    Country[Country["AT"] = 11] = "AT";
    Country[Country["AU"] = 12] = "AU";
    Country[Country["AW"] = 13] = "AW";
    Country[Country["AX"] = 14] = "AX";
    Country[Country["AZ"] = 15] = "AZ";
    Country[Country["BA"] = 16] = "BA";
    Country[Country["BB"] = 17] = "BB";
    Country[Country["BD"] = 18] = "BD";
    Country[Country["BE"] = 19] = "BE";
    Country[Country["BF"] = 20] = "BF";
    Country[Country["BG"] = 21] = "BG";
    Country[Country["BH"] = 22] = "BH";
    Country[Country["BI"] = 23] = "BI";
    Country[Country["BJ"] = 24] = "BJ";
    Country[Country["BL"] = 25] = "BL";
    Country[Country["BM"] = 26] = "BM";
    Country[Country["BN"] = 27] = "BN";
    Country[Country["BO"] = 28] = "BO";
    Country[Country["BQ"] = 29] = "BQ";
    Country[Country["BR"] = 30] = "BR";
    Country[Country["BS"] = 31] = "BS";
    Country[Country["BT"] = 32] = "BT";
    Country[Country["BV"] = 33] = "BV";
    Country[Country["BW"] = 34] = "BW";
    Country[Country["BY"] = 35] = "BY";
    Country[Country["BZ"] = 36] = "BZ";
    Country[Country["CA"] = 37] = "CA";
    Country[Country["CC"] = 38] = "CC";
    Country[Country["CD"] = 39] = "CD";
    Country[Country["CF"] = 40] = "CF";
    Country[Country["CG"] = 41] = "CG";
    Country[Country["CH"] = 42] = "CH";
    Country[Country["CI"] = 43] = "CI";
    Country[Country["CK"] = 44] = "CK";
    Country[Country["CL"] = 45] = "CL";
    Country[Country["CM"] = 46] = "CM";
    Country[Country["CN"] = 47] = "CN";
    Country[Country["CO"] = 48] = "CO";
    Country[Country["CR"] = 49] = "CR";
    Country[Country["CU"] = 50] = "CU";
    Country[Country["CV"] = 51] = "CV";
    Country[Country["CW"] = 52] = "CW";
    Country[Country["CX"] = 53] = "CX";
    Country[Country["CY"] = 54] = "CY";
    Country[Country["CZ"] = 55] = "CZ";
    Country[Country["DE"] = 56] = "DE";
    Country[Country["DJ"] = 57] = "DJ";
    Country[Country["DK"] = 58] = "DK";
    Country[Country["DM"] = 59] = "DM";
    Country[Country["DO"] = 60] = "DO";
    Country[Country["DZ"] = 61] = "DZ";
    Country[Country["EC"] = 62] = "EC";
    Country[Country["EE"] = 63] = "EE";
    Country[Country["EG"] = 64] = "EG";
    Country[Country["EH"] = 65] = "EH";
    Country[Country["ER"] = 66] = "ER";
    Country[Country["ES"] = 67] = "ES";
    Country[Country["ET"] = 68] = "ET";
    Country[Country["FI"] = 69] = "FI";
    Country[Country["FJ"] = 70] = "FJ";
    Country[Country["FK"] = 71] = "FK";
    Country[Country["FM"] = 72] = "FM";
    Country[Country["FO"] = 73] = "FO";
    Country[Country["FR"] = 74] = "FR";
    Country[Country["GA"] = 75] = "GA";
    Country[Country["GB"] = 76] = "GB";
    Country[Country["GD"] = 77] = "GD";
    Country[Country["GE"] = 78] = "GE";
    Country[Country["GF"] = 79] = "GF";
    Country[Country["GG"] = 80] = "GG";
    Country[Country["GH"] = 81] = "GH";
    Country[Country["GI"] = 82] = "GI";
    Country[Country["GL"] = 83] = "GL";
    Country[Country["GM"] = 84] = "GM";
    Country[Country["GN"] = 85] = "GN";
    Country[Country["GP"] = 86] = "GP";
    Country[Country["GQ"] = 87] = "GQ";
    Country[Country["GR"] = 88] = "GR";
    Country[Country["GS"] = 89] = "GS";
    Country[Country["GT"] = 90] = "GT";
    Country[Country["GU"] = 91] = "GU";
    Country[Country["GW"] = 92] = "GW";
    Country[Country["GY"] = 93] = "GY";
    Country[Country["HK"] = 94] = "HK";
    Country[Country["HM"] = 95] = "HM";
    Country[Country["HN"] = 96] = "HN";
    Country[Country["HR"] = 97] = "HR";
    Country[Country["HT"] = 98] = "HT";
    Country[Country["HU"] = 99] = "HU";
    Country[Country["ID"] = 100] = "ID";
    Country[Country["IE"] = 101] = "IE";
    Country[Country["IL"] = 102] = "IL";
    Country[Country["IM"] = 103] = "IM";
    Country[Country["IN"] = 104] = "IN";
    Country[Country["IO"] = 105] = "IO";
    Country[Country["IQ"] = 106] = "IQ";
    Country[Country["IR"] = 107] = "IR";
    Country[Country["IS"] = 108] = "IS";
    Country[Country["IT"] = 109] = "IT";
    Country[Country["JE"] = 110] = "JE";
    Country[Country["JM"] = 111] = "JM";
    Country[Country["JO"] = 112] = "JO";
    Country[Country["JP"] = 113] = "JP";
    Country[Country["KE"] = 114] = "KE";
    Country[Country["KG"] = 115] = "KG";
    Country[Country["KH"] = 116] = "KH";
    Country[Country["KI"] = 117] = "KI";
    Country[Country["KM"] = 118] = "KM";
    Country[Country["KN"] = 119] = "KN";
    Country[Country["KP"] = 120] = "KP";
    Country[Country["KR"] = 121] = "KR";
    Country[Country["KW"] = 122] = "KW";
    Country[Country["KY"] = 123] = "KY";
    Country[Country["KZ"] = 124] = "KZ";
    Country[Country["LA"] = 125] = "LA";
    Country[Country["LB"] = 126] = "LB";
    Country[Country["LC"] = 127] = "LC";
    Country[Country["LI"] = 128] = "LI";
    Country[Country["LK"] = 129] = "LK";
    Country[Country["LR"] = 130] = "LR";
    Country[Country["LS"] = 131] = "LS";
    Country[Country["LT"] = 132] = "LT";
    Country[Country["LU"] = 133] = "LU";
    Country[Country["LV"] = 134] = "LV";
    Country[Country["LY"] = 135] = "LY";
    Country[Country["MA"] = 136] = "MA";
    Country[Country["MC"] = 137] = "MC";
    Country[Country["MD"] = 138] = "MD";
    Country[Country["ME"] = 139] = "ME";
    Country[Country["MF"] = 140] = "MF";
    Country[Country["MG"] = 141] = "MG";
    Country[Country["MH"] = 142] = "MH";
    Country[Country["MK"] = 143] = "MK";
    Country[Country["ML"] = 144] = "ML";
    Country[Country["MM"] = 145] = "MM";
    Country[Country["MN"] = 146] = "MN";
    Country[Country["MO"] = 147] = "MO";
    Country[Country["MP"] = 148] = "MP";
    Country[Country["MQ"] = 149] = "MQ";
    Country[Country["MR"] = 150] = "MR";
    Country[Country["MS"] = 151] = "MS";
    Country[Country["MT"] = 152] = "MT";
    Country[Country["MU"] = 153] = "MU";
    Country[Country["MV"] = 154] = "MV";
    Country[Country["MW"] = 155] = "MW";
    Country[Country["MX"] = 156] = "MX";
    Country[Country["MY"] = 157] = "MY";
    Country[Country["MZ"] = 158] = "MZ";
    Country[Country["NA"] = 159] = "NA";
    Country[Country["NC"] = 160] = "NC";
    Country[Country["NE"] = 161] = "NE";
    Country[Country["NF"] = 162] = "NF";
    Country[Country["NG"] = 163] = "NG";
    Country[Country["NI"] = 164] = "NI";
    Country[Country["NL"] = 165] = "NL";
    Country[Country["NO"] = 166] = "NO";
    Country[Country["NP"] = 167] = "NP";
    Country[Country["NR"] = 168] = "NR";
    Country[Country["NU"] = 169] = "NU";
    Country[Country["NZ"] = 170] = "NZ";
    Country[Country["OM"] = 171] = "OM";
    Country[Country["PA"] = 172] = "PA";
    Country[Country["PE"] = 173] = "PE";
    Country[Country["PF"] = 174] = "PF";
    Country[Country["PG"] = 175] = "PG";
    Country[Country["PH"] = 176] = "PH";
    Country[Country["PK"] = 177] = "PK";
    Country[Country["PL"] = 178] = "PL";
    Country[Country["PM"] = 179] = "PM";
    Country[Country["PN"] = 180] = "PN";
    Country[Country["PR"] = 181] = "PR";
    Country[Country["PS"] = 182] = "PS";
    Country[Country["PT"] = 183] = "PT";
    Country[Country["PW"] = 184] = "PW";
    Country[Country["PY"] = 185] = "PY";
    Country[Country["QA"] = 186] = "QA";
    Country[Country["RE"] = 187] = "RE";
    Country[Country["RO"] = 188] = "RO";
    Country[Country["RS"] = 189] = "RS";
    Country[Country["RU"] = 190] = "RU";
    Country[Country["RW"] = 191] = "RW";
    Country[Country["SA"] = 192] = "SA";
    Country[Country["SB"] = 193] = "SB";
    Country[Country["SC"] = 194] = "SC";
    Country[Country["SD"] = 195] = "SD";
    Country[Country["SE"] = 196] = "SE";
    Country[Country["SG"] = 197] = "SG";
    Country[Country["SH"] = 198] = "SH";
    Country[Country["SI"] = 199] = "SI";
    Country[Country["SJ"] = 200] = "SJ";
    Country[Country["SK"] = 201] = "SK";
    Country[Country["SL"] = 202] = "SL";
    Country[Country["SM"] = 203] = "SM";
    Country[Country["SN"] = 204] = "SN";
    Country[Country["SO"] = 205] = "SO";
    Country[Country["SR"] = 206] = "SR";
    Country[Country["SS"] = 207] = "SS";
    Country[Country["ST"] = 208] = "ST";
    Country[Country["SV"] = 209] = "SV";
    Country[Country["SX"] = 210] = "SX";
    Country[Country["SY"] = 211] = "SY";
    Country[Country["SZ"] = 212] = "SZ";
    Country[Country["TC"] = 213] = "TC";
    Country[Country["TD"] = 214] = "TD";
    Country[Country["TF"] = 215] = "TF";
    Country[Country["TG"] = 216] = "TG";
    Country[Country["TH"] = 217] = "TH";
    Country[Country["TJ"] = 218] = "TJ";
    Country[Country["TK"] = 219] = "TK";
    Country[Country["TL"] = 220] = "TL";
    Country[Country["TM"] = 221] = "TM";
    Country[Country["TN"] = 222] = "TN";
    Country[Country["TO"] = 223] = "TO";
    Country[Country["TR"] = 224] = "TR";
    Country[Country["TT"] = 225] = "TT";
    Country[Country["TV"] = 226] = "TV";
    Country[Country["TW"] = 227] = "TW";
    Country[Country["TZ"] = 228] = "TZ";
    Country[Country["UA"] = 229] = "UA";
    Country[Country["UG"] = 230] = "UG";
    Country[Country["UM"] = 231] = "UM";
    Country[Country["US"] = 232] = "US";
    Country[Country["UY"] = 233] = "UY";
    Country[Country["UZ"] = 234] = "UZ";
    Country[Country["VA"] = 235] = "VA";
    Country[Country["VC"] = 236] = "VC";
    Country[Country["VE"] = 237] = "VE";
    Country[Country["VG"] = 238] = "VG";
    Country[Country["VI"] = 239] = "VI";
    Country[Country["VN"] = 240] = "VN";
    Country[Country["VU"] = 241] = "VU";
    Country[Country["WF"] = 242] = "WF";
    Country[Country["WS"] = 243] = "WS";
    Country[Country["XK"] = 244] = "XK";
    Country[Country["YE"] = 245] = "YE";
    Country[Country["YT"] = 246] = "YT";
    Country[Country["ZA"] = 247] = "ZA";
    Country[Country["ZM"] = 248] = "ZM";
    Country[Country["ZW"] = 249] = "ZW";
})(Country = exports.Country || (exports.Country = {}));
function getCountryName(country) {
    return abbreviation_to_country_1.countries[Country[country]] || null;
}
exports.getCountryName = getCountryName;
exports.countriesIdsToNamesArray = Object.keys(abbreviation_to_country_1.countries).map((abbr) => {
    return { id: Country[abbr], name: getCountryName(+Country[abbr]) };
});


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Invite.ts":
/*!*******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Invite.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! ./GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let Invite = class Invite extends db_1.DBObject {
    constructor(invite) {
        super(invite);
        if (invite && invite.geoLocation) {
            this.geoLocation = new GeoLocation_1.default(invite.geoLocation);
        }
    }
    toInviteRequestFindObject() {
        return {
            geoLocation: this.geoLocation,
            apartment: this.apartment,
        };
    }
};
tslib_1.__decorate([
    db_1.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Invite.prototype, "code", void 0);
tslib_1.__decorate([
    db_1.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Invite.prototype, "apartment", void 0);
tslib_1.__decorate([
    db_1.Schema(db_1.getSchema(GeoLocation_1.default)),
    tslib_1.__metadata("design:type", GeoLocation_1.default)
], Invite.prototype, "geoLocation", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Invite.prototype, "isDeleted", void 0);
Invite = tslib_1.__decorate([
    db_1.ModelName('Invite'),
    typeorm_1.Entity({ name: 'invites' }),
    tslib_1.__metadata("design:paramtypes", [Object])
], Invite);
exports.default = Invite;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/InviteRequest.ts":
/*!**************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/InviteRequest.ts ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! ./GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let InviteRequest = class InviteRequest extends db_1.DBObject {
    constructor(inviteRequest) {
        super(inviteRequest);
        if (inviteRequest && inviteRequest.geoLocation) {
            this.geoLocation = new GeoLocation_1.default(inviteRequest.geoLocation);
        }
    }
    toAddressString() {
        if (!this.geoLocation) {
            return null;
        }
        let address = `${this.geoLocation.streetAddress} ${this.geoLocation.house}`;
        if (this.apartment) {
            address += `/${this.apartment}`;
        }
        address += `, ${this.geoLocation.city}`;
        return address;
    }
    toEnterByLocationToken() {
        if (this.geoLocation.house != null &&
            this.geoLocation.streetAddress != null &&
            this.geoLocation.city != null &&
            this.geoLocation.countryId != null) {
            return {
                apartment: this.apartment,
                house: this.geoLocation.house,
                streetAddress: this.geoLocation.streetAddress,
                city: this.geoLocation.city,
                postcode: this.geoLocation.postcode,
                countryId: this.geoLocation.countryId,
            };
        }
        else {
            throw new Error('GeoLocation is not full!');
        }
    }
};
tslib_1.__decorate([
    db_1.Schema(db_1.getSchema(GeoLocation_1.default)),
    tslib_1.__metadata("design:type", GeoLocation_1.default)
], InviteRequest.prototype, "geoLocation", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: String }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], InviteRequest.prototype, "deviceId", void 0);
tslib_1.__decorate([
    db_1.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], InviteRequest.prototype, "apartment", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: Boolean, default: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], InviteRequest.prototype, "isManual", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], InviteRequest.prototype, "isDeleted", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], InviteRequest.prototype, "isInvited", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Date, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Date)
], InviteRequest.prototype, "invitedDate", void 0);
InviteRequest = tslib_1.__decorate([
    db_1.ModelName('InviteRequest'),
    typeorm_1.Entity({ name: 'inviterequests' }),
    tslib_1.__metadata("design:paramtypes", [Object])
], InviteRequest);
exports.default = InviteRequest;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Order.ts":
/*!******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Order.ts ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const UserOrder_1 = tslib_1.__importDefault(__webpack_require__(/*! ./UserOrder */ "./node_modules/@ever-platform/common/src/entities/UserOrder.ts"));
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const OrderProduct_1 = tslib_1.__importDefault(__webpack_require__(/*! ./OrderProduct */ "./node_modules/@ever-platform/common/src/entities/OrderProduct.ts"));
const Carrier_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Carrier */ "./node_modules/@ever-platform/common/src/entities/Carrier.ts"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const OrderWarehouseStatus_1 = tslib_1.__importStar(__webpack_require__(/*! ../enums/OrderWarehouseStatus */ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts"));
const OrderCarrierStatus_1 = tslib_1.__importStar(__webpack_require__(/*! ../enums/OrderCarrierStatus */ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts"));
const OrderStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! ../enums/OrderStatus */ "./node_modules/@ever-platform/common/src/enums/OrderStatus.ts"));
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
const DeliveryType_1 = tslib_1.__importDefault(__webpack_require__(/*! ../enums/DeliveryType */ "./node_modules/@ever-platform/common/src/enums/DeliveryType.ts"));
let Order = class Order extends db_1.DBObject {
    constructor(order) {
        super(order);
        if (order) {
            if (order.user) {
                this.user = new UserOrder_1.default(order.user);
            }
            if (order.warehouse &&
                order.warehouse != null &&
                typeof order.warehouse !== 'string') {
                this.warehouse = new Warehouse_1.default(order.warehouse);
            }
            if (order.carrier &&
                order.carrier != null &&
                typeof order.carrier !== 'string') {
                this.carrier = new Carrier_1.default(order.carrier);
            }
            if (order.products && order.products != null) {
                this.products = lodash_1.default.map(order.products, (orderProduct) => {
                    return new OrderProduct_1.default(orderProduct);
                });
            }
        }
    }
    get warehouseId() {
        if (typeof this.warehouse === 'string') {
            return this.warehouse;
        }
        else {
            return this.warehouse.id;
        }
    }
    get isCompleted() {
        return ((this.isPaid && this.status === OrderStatus_1.default.Delivered) ||
            this.isCancelled);
    }
    get carrierId() {
        if (this.carrier == null) {
            return null;
        }
        else if (typeof this.carrier === 'string') {
            return this.carrier;
        }
        else {
            return this.carrier.id;
        }
    }
    get warehouseStatusText() {
        return OrderWarehouseStatus_1.warehouseStatusToString(this.warehouseStatus);
    }
    get carrierStatusText() {
        return OrderCarrierStatus_1.carrierStatusToString(this.carrierStatus);
    }
    get totalPrice() {
        return lodash_1.default.sum(lodash_1.default.map(this.products, (product) => product.count * product.price));
    }
    getStatusText(language) {
        switch (language) {
            case 'en-US':
                return this._getStatusTextEnglish();
            case 'he-IL':
                return this._getStatusTextHebrew();
            case 'ru-RU':
                return this._getStatusTextRussian();
            case 'bg-BG':
                return this._getStatusTextBulgarian();
            case 'es-ES':
                return this._getStatusTextSpanish();
            default:
                return 'BAD_STATUS';
        }
    }
    get status() {
        if (this.carrier == null ||
            this.carrierStatus <= OrderCarrierStatus_1.default.CarrierPickedUpOrder) {
            if (this.warehouseStatus >= 200) {
                return OrderStatus_1.default.WarehouseIssue;
            }
            else if (this.isCancelled) {
                return OrderStatus_1.default.CanceledWhileWarehousePreparation;
            }
            else {
                return OrderStatus_1.default.WarehousePreparation;
            }
        }
        else {
            if (this.carrierStatus >= 200) {
                return OrderStatus_1.default.CarrierIssue;
            }
            else if (this.isCancelled) {
                return OrderStatus_1.default.CanceledWhileInDelivery;
            }
            else if (this.isPaid &&
                this.carrierStatus === OrderCarrierStatus_1.default.DeliveryCompleted) {
                return OrderStatus_1.default.Delivered;
            }
            else {
                return OrderStatus_1.default.InDelivery;
            }
        }
    }
    _getStatusTextEnglish() {
        switch (this.status) {
            case OrderStatus_1.default.WarehousePreparation:
                return 'Preparation';
            case OrderStatus_1.default.InDelivery:
                return 'In Delivery';
            case OrderStatus_1.default.Delivered:
                return 'Delivered';
            case OrderStatus_1.default.CanceledWhileWarehousePreparation:
            case OrderStatus_1.default.CanceledWhileInDelivery:
                return 'Cancelled';
            case OrderStatus_1.default.WarehouseIssue:
                return 'Preparation Issue';
            case OrderStatus_1.default.CarrierIssue:
                return 'Delivery Issue';
            default:
                return 'BAD_STATUS';
        }
    }
    _getStatusTextBulgarian() {
        switch (this.status) {
            case OrderStatus_1.default.WarehousePreparation:
                return 'Подготовка';
            case OrderStatus_1.default.InDelivery:
                return 'Доставя се';
            case OrderStatus_1.default.Delivered:
                return 'Доставено';
            case OrderStatus_1.default.CanceledWhileWarehousePreparation:
            case OrderStatus_1.default.CanceledWhileInDelivery:
                return 'Отказана';
            case OrderStatus_1.default.WarehouseIssue:
                return 'Проблем при подготовката';
            case OrderStatus_1.default.CarrierIssue:
                return 'Проблем при доставката';
            default:
                return 'Проблем с поръчката';
        }
    }
    _getStatusTextHebrew() {
        switch (this.status) {
            case OrderStatus_1.default.WarehousePreparation:
                return 'בהכנה';
            case OrderStatus_1.default.InDelivery:
                return 'במשלוח';
            case OrderStatus_1.default.Delivered:
                return 'הסתיים בצלחה';
            case OrderStatus_1.default.CanceledWhileWarehousePreparation:
            case OrderStatus_1.default.CanceledWhileInDelivery:
                return 'התבטל';
            case OrderStatus_1.default.WarehouseIssue:
                return 'בעייה בהכנה';
            case OrderStatus_1.default.CarrierIssue:
                return 'בעייה במשלוח';
            default:
                return 'BAD_STATUS';
        }
    }
    _getStatusTextRussian() {
        switch (this.status) {
            case OrderStatus_1.default.WarehousePreparation:
                return 'В подготовке';
            case OrderStatus_1.default.InDelivery:
                return 'В доставки';
            case OrderStatus_1.default.Delivered:
                return 'Доставлено';
            case OrderStatus_1.default.CanceledWhileWarehousePreparation:
            case OrderStatus_1.default.CanceledWhileInDelivery:
                return 'Отменено';
            case OrderStatus_1.default.WarehouseIssue:
                return 'Проблема с подготовкой';
            case OrderStatus_1.default.CarrierIssue:
                return 'Проблема с доставкой';
            default:
                return 'BAD_STATUS';
        }
    }
    _getStatusTextSpanish() {
        switch (this.status) {
            case OrderStatus_1.default.WarehousePreparation:
                return 'Preparación';
            case OrderStatus_1.default.InDelivery:
                return 'En la entrega';
            case OrderStatus_1.default.Delivered:
                return 'Entregado';
            case OrderStatus_1.default.CanceledWhileWarehousePreparation:
            case OrderStatus_1.default.CanceledWhileInDelivery:
                return 'Cancelado';
            case OrderStatus_1.default.WarehouseIssue:
                return 'Problema de preparación';
            case OrderStatus_1.default.CarrierIssue:
                return 'Problema de envio';
            default:
                return 'BAD_STATUS';
        }
    }
};
tslib_1.__decorate([
    db_1.Index(1),
    db_1.Schema(db_1.getSchema(UserOrder_1.default)),
    tslib_1.__metadata("design:type", UserOrder_1.default)
], Order.prototype, "user", void 0);
tslib_1.__decorate([
    db_1.Index(1),
    db_1.Types.Ref(Warehouse_1.default),
    tslib_1.__metadata("design:type", Object)
], Order.prototype, "warehouse", void 0);
tslib_1.__decorate([
    db_1.Schema([db_1.getSchema(OrderProduct_1.default)]),
    tslib_1.__metadata("design:type", Array)
], Order.prototype, "products", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Order.prototype, "isConfirmed", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Order.prototype, "isCancelled", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Order.prototype, "isPaid", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Date, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Date)
], Order.prototype, "deliveryTime", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Date, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Date)
], Order.prototype, "finishedProcessingTime", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Date, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Date)
], Order.prototype, "startDeliveryTime", void 0);
tslib_1.__decorate([
    db_1.Types.Number(0),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Order.prototype, "deliveryTimeEstimate", void 0);
tslib_1.__decorate([
    db_1.Types.Number(OrderWarehouseStatus_1.default.NoStatus),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Order.prototype, "warehouseStatus", void 0);
tslib_1.__decorate([
    db_1.Types.Number(OrderCarrierStatus_1.default.NoCarrier),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Order.prototype, "carrierStatus", void 0);
tslib_1.__decorate([
    db_1.Types.Ref(Carrier_1.default, { required: false }),
    tslib_1.__metadata("design:type", Object)
], Order.prototype, "carrier", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Order.prototype, "isDeleted", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Order.prototype, "stripeChargeId", void 0);
tslib_1.__decorate([
    db_1.Types.Number(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Order.prototype, "orderNumber", void 0);
tslib_1.__decorate([
    db_1.Types.Number(DeliveryType_1.default.Delivery),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Order.prototype, "orderType", void 0);
Order = tslib_1.__decorate([
    db_1.ModelName('Order'),
    typeorm_1.Entity({ name: 'orders' }),
    tslib_1.__metadata("design:paramtypes", [Object])
], Order);
exports.default = Order;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/OrderProduct.ts":
/*!*************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/OrderProduct.ts ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const Product_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Product */ "./node_modules/@ever-platform/common/src/entities/Product.ts"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let OrderProduct = class OrderProduct extends db_1.DBObject {
    constructor(orderProduct) {
        super(orderProduct);
        if (orderProduct && orderProduct.product) {
            this.product = new Product_1.default(orderProduct.product);
        }
    }
};
tslib_1.__decorate([
    db_1.Types.Number(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], OrderProduct.prototype, "price", void 0);
tslib_1.__decorate([
    db_1.Types.Number(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], OrderProduct.prototype, "initialPrice", void 0);
tslib_1.__decorate([
    db_1.Types.Number(0),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], OrderProduct.prototype, "count", void 0);
tslib_1.__decorate([
    db_1.Schema(db_1.getSchema(Product_1.default)),
    tslib_1.__metadata("design:type", Product_1.default)
], OrderProduct.prototype, "product", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(true),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], OrderProduct.prototype, "isManufacturing", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(true),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], OrderProduct.prototype, "isCarrierRequired", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(true),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], OrderProduct.prototype, "isDeliveryRequired", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: Boolean }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], OrderProduct.prototype, "isTakeaway", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: Number }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], OrderProduct.prototype, "deliveryTimeMin", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: Number }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], OrderProduct.prototype, "deliveryTimeMax", void 0);
OrderProduct = tslib_1.__decorate([
    db_1.ModelName('OrderProduct'),
    tslib_1.__metadata("design:paramtypes", [Object])
], OrderProduct);
exports.default = OrderProduct;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/PaymentGateway.ts":
/*!***************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/PaymentGateway.ts ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! @pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const PaymentGateways_1 = tslib_1.__importDefault(__webpack_require__(/*! ../enums/PaymentGateways */ "./node_modules/@ever-platform/common/src/enums/PaymentGateways.ts"));
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let PaymentGateway = class PaymentGateway extends db_1.DBObject {
};
tslib_1.__decorate([
    db_1.Types.Number(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], PaymentGateway.prototype, "paymentGateway", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Object }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Object)
], PaymentGateway.prototype, "configureObject", void 0);
PaymentGateway = tslib_1.__decorate([
    db_1.ModelName('PaymentGateway')
], PaymentGateway);
exports.default = PaymentGateway;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Product.ts":
/*!********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Product.ts ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const ProductsCategory_1 = tslib_1.__importDefault(__webpack_require__(/*! ./ProductsCategory */ "./node_modules/@ever-platform/common/src/entities/ProductsCategory.ts"));
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let Product = class Product extends db_1.DBObject {
};
tslib_1.__decorate([
    db_1.Schema({ type: Array }),
    tslib_1.__metadata("design:type", Array)
], Product.prototype, "title", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Array }),
    tslib_1.__metadata("design:type", Array)
], Product.prototype, "description", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Array }),
    tslib_1.__metadata("design:type", Array)
], Product.prototype, "descriptionHTML", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Array }),
    tslib_1.__metadata("design:type", Array)
], Product.prototype, "details", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Array }),
    tslib_1.__metadata("design:type", Array)
], Product.prototype, "detailsHTML", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Array }),
    tslib_1.__metadata("design:type", Array)
], Product.prototype, "images", void 0);
tslib_1.__decorate([
    db_1.Types.Ref([ProductsCategory_1.default]),
    tslib_1.__metadata("design:type", Array)
], Product.prototype, "categories", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Product.prototype, "isDeleted", void 0);
Product = tslib_1.__decorate([
    db_1.ModelName('Product'),
    typeorm_1.Entity({ name: 'products' })
], Product);
exports.default = Product;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/ProductInfo.ts":
/*!************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/ProductInfo.ts ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const WarehouseProduct_1 = tslib_1.__importDefault(__webpack_require__(/*! ./WarehouseProduct */ "./node_modules/@ever-platform/common/src/entities/WarehouseProduct.ts"));
class ProductInfo {
    constructor(productInfo) {
        if (productInfo) {
            lodash_1.default.assign(this, productInfo);
            if (productInfo.warehouseProduct) {
                this.warehouseProduct = new WarehouseProduct_1.default(productInfo.warehouseProduct);
            }
        }
    }
    get product() {
        return this.warehouseProduct.product;
    }
    getOrderProductCreateObject(count) {
        return {
            initialPrice: this.warehouseProduct.initialPrice,
            price: this.warehouseProduct.price,
            deliveryTimeMin: this.warehouseProduct.deliveryTimeMin,
            deliveryTimeMax: this.warehouseProduct.deliveryTimeMax,
            count,
            product: this.warehouseProduct.product,
        };
    }
}
exports.default = ProductInfo;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/ProductsCategory.ts":
/*!*****************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/ProductsCategory.ts ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let ProductsCategory = class ProductsCategory extends db_1.DBObject {
};
tslib_1.__decorate([
    db_1.Schema({ type: Array }),
    tslib_1.__metadata("design:type", Array)
], ProductsCategory.prototype, "name", void 0);
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: false,
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], ProductsCategory.prototype, "image", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], ProductsCategory.prototype, "isDeleted", void 0);
ProductsCategory = tslib_1.__decorate([
    db_1.ModelName('ProductCategory'),
    typeorm_1.Entity({ name: 'productcategories' })
], ProductsCategory);
exports.default = ProductsCategory;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/User.ts":
/*!*****************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/User.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! ./GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let User = class User extends db_1.DBObject {
    constructor(user) {
        super(user);
        if (user && user.geoLocation) {
            this.geoLocation = new GeoLocation_1.default(user.geoLocation);
        }
    }
    get fullAddress() {
        return (`${this.geoLocation.city}, ${this.geoLocation.streetAddress} ` +
            `${this.apartment}/${this.geoLocation.house}`);
    }
};
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "firstName", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "lastName", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "image", void 0);
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: false,
        sparse: true,
        unique: true,
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "email", void 0);
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: false,
        select: false,
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "hash", void 0);
tslib_1.__decorate([
    db_1.Schema(db_1.getSchema(GeoLocation_1.default)),
    tslib_1.__metadata("design:type", GeoLocation_1.default)
], User.prototype, "geoLocation", void 0);
tslib_1.__decorate([
    db_1.Schema(String),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "apartment", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "stripeCustomerId", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], User.prototype, "devicesIds", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], User.prototype, "socialIds", void 0);
tslib_1.__decorate([
    db_1.Schema(String),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "phone", void 0);
tslib_1.__decorate([
    db_1.Schema(Boolean),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], User.prototype, "isRegistrationCompleted", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], User.prototype, "isBanned", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], User.prototype, "isDeleted", void 0);
User = tslib_1.__decorate([
    db_1.ModelName('User'),
    typeorm_1.Entity({ name: 'users' }),
    tslib_1.__metadata("design:paramtypes", [Object])
], User);
exports.default = User;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/UserOrder.ts":
/*!**********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/UserOrder.ts ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! ./GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let UserOrder = class UserOrder extends db_1.DBObject {
    constructor(userOrder) {
        super(userOrder);
        if (userOrder && userOrder.geoLocation) {
            this.geoLocation = new GeoLocation_1.default(userOrder.geoLocation);
        }
    }
    get fullAddress() {
        return (`${this.geoLocation.city}, ${this.geoLocation.streetAddress} ` +
            `${this.apartment}/${this.geoLocation.house}`);
    }
};
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "firstName", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "lastName", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "image", void 0);
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: false,
        sparse: true,
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "email", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false, select: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "hash", void 0);
tslib_1.__decorate([
    db_1.Schema(db_1.getSchema(GeoLocation_1.default)),
    tslib_1.__metadata("design:type", GeoLocation_1.default)
], UserOrder.prototype, "geoLocation", void 0);
tslib_1.__decorate([
    db_1.Schema(String),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "apartment", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "stripeCustomerId", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], UserOrder.prototype, "devicesIds", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], UserOrder.prototype, "socialIds", void 0);
tslib_1.__decorate([
    db_1.Schema(String),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "phone", void 0);
tslib_1.__decorate([
    db_1.Schema(Boolean),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], UserOrder.prototype, "isRegistrationCompleted", void 0);
UserOrder = tslib_1.__decorate([
    db_1.ModelName('UserOrder'),
    tslib_1.__metadata("design:paramtypes", [Object])
], UserOrder);
exports.default = UserOrder;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts":
/*!**********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Warehouse.ts ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! ./GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const WarehouseProduct_1 = tslib_1.__importDefault(__webpack_require__(/*! ./WarehouseProduct */ "./node_modules/@ever-platform/common/src/entities/WarehouseProduct.ts"));
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
const OrderBarcodeTypes_1 = tslib_1.__importDefault(__webpack_require__(/*! ../enums/OrderBarcodeTypes */ "./node_modules/@ever-platform/common/src/enums/OrderBarcodeTypes.ts"));
const PaymentGateway_1 = tslib_1.__importDefault(__webpack_require__(/*! ./PaymentGateway */ "./node_modules/@ever-platform/common/src/entities/PaymentGateway.ts"));
let Warehouse = class Warehouse extends db_1.DBObject {
    constructor(warehouse) {
        super(warehouse);
        if (warehouse) {
            if (warehouse.geoLocation) {
                this.geoLocation = new GeoLocation_1.default(warehouse.geoLocation);
            }
            if (warehouse.products) {
                this.products = lodash_1.default.map(warehouse.products, (warehouseProduct) => {
                    return new WarehouseProduct_1.default(warehouseProduct);
                });
            }
            if (!warehouse.barcodeData) {
                this.barcodeData = warehouse._id.toString();
            }
        }
    }
};
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "isActive", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(true),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "isPaymentEnabled", void 0);
tslib_1.__decorate([
    db_1.Schema(db_1.getSchema(GeoLocation_1.default)),
    tslib_1.__metadata("design:type", GeoLocation_1.default)
], Warehouse.prototype, "geoLocation", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Object }),
    tslib_1.__metadata("design:type", Object)
], Warehouse.prototype, "deliveryAreas", void 0);
tslib_1.__decorate([
    db_1.Schema([db_1.getSchema(WarehouseProduct_1.default)]),
    tslib_1.__metadata("design:type", Array)
], Warehouse.prototype, "products", void 0);
tslib_1.__decorate([
    db_1.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "name", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "logo", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, unique: true }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "username", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false, select: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "hash", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "contactEmail", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "contactPhone", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "ordersPhone", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "ordersEmail", void 0);
tslib_1.__decorate([
    db_1.Schema([Number]),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Array)
], Warehouse.prototype, "forwardOrdersUsing", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(true),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "isManufacturing", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(true),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "isCarrierRequired", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], Warehouse.prototype, "devicesIds", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], Warehouse.prototype, "usedCarriersIds", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "hasRestrictedCarriers", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], Warehouse.prototype, "carriersIds", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "isDeleted", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Boolean, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "productsDelivery", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Boolean, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "productsTakeaway", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Number, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Warehouse.prototype, "orderBarcodeType", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, unique: true, sparse: true }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "barcodeData", void 0);
tslib_1.__decorate([
    db_1.Schema([db_1.getSchema(PaymentGateway_1.default)]),
    tslib_1.__metadata("design:type", Array)
], Warehouse.prototype, "paymentGateways", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Boolean, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "useOnlyRestrictedCarriersForDelivery", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Boolean, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "preferRestrictedCarriersForDelivery", void 0);
Warehouse = tslib_1.__decorate([
    db_1.ModelName('Warehouse'),
    typeorm_1.Entity({ name: 'warehouses' }),
    tslib_1.__metadata("design:paramtypes", [Object])
], Warehouse);
exports.default = Warehouse;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/WarehouseProduct.ts":
/*!*****************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/WarehouseProduct.ts ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const Product_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Product */ "./node_modules/@ever-platform/common/src/entities/Product.ts"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let WarehouseProduct = class WarehouseProduct extends db_1.DBObject {
    constructor(warehouseProduct) {
        super(warehouseProduct);
        if (typeof warehouseProduct.product !== 'string') {
            this.product = new Product_1.default(warehouseProduct.product);
        }
    }
    get productId() {
        if (typeof this.product === 'string') {
            return this.product;
        }
        else {
            return this.product.id;
        }
    }
};
tslib_1.__decorate([
    db_1.Types.Number(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], WarehouseProduct.prototype, "price", void 0);
tslib_1.__decorate([
    db_1.Types.Number(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], WarehouseProduct.prototype, "initialPrice", void 0);
tslib_1.__decorate([
    db_1.Types.Number(0),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], WarehouseProduct.prototype, "count", void 0);
tslib_1.__decorate([
    db_1.Types.Number(0),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], WarehouseProduct.prototype, "soldCount", void 0);
tslib_1.__decorate([
    db_1.Types.Ref(Product_1.default),
    tslib_1.__metadata("design:type", Object)
], WarehouseProduct.prototype, "product", void 0);
tslib_1.__decorate([
    typeorm_1.Column(),
    db_1.Types.Boolean(true),
    tslib_1.__metadata("design:type", Boolean)
], WarehouseProduct.prototype, "isManufacturing", void 0);
tslib_1.__decorate([
    typeorm_1.Column(),
    db_1.Types.Boolean(true),
    tslib_1.__metadata("design:type", Boolean)
], WarehouseProduct.prototype, "isCarrierRequired", void 0);
tslib_1.__decorate([
    typeorm_1.Column(),
    db_1.Types.Boolean(true),
    tslib_1.__metadata("design:type", Boolean)
], WarehouseProduct.prototype, "isDeliveryRequired", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: Boolean }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], WarehouseProduct.prototype, "isTakeaway", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: Number }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], WarehouseProduct.prototype, "deliveryTimeMin", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: Number }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], WarehouseProduct.prototype, "deliveryTimeMax", void 0);
WarehouseProduct = tslib_1.__decorate([
    db_1.ModelName('WarehouseProduct'),
    tslib_1.__metadata("design:paramtypes", [Object])
], WarehouseProduct);
exports.default = WarehouseProduct;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/enums/CarrierStatus.ts":
/*!***********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/enums/CarrierStatus.ts ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var CarrierStatus;
(function (CarrierStatus) {
    CarrierStatus[CarrierStatus["Online"] = 0] = "Online";
    CarrierStatus[CarrierStatus["Offline"] = 1] = "Offline";
    CarrierStatus[CarrierStatus["Blocked"] = 2] = "Blocked";
})(CarrierStatus || (CarrierStatus = {}));
exports.default = CarrierStatus;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/enums/DeliveryType.ts":
/*!**********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/enums/DeliveryType.ts ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var DeliveryType;
(function (DeliveryType) {
    DeliveryType[DeliveryType["Delivery"] = 0] = "Delivery";
    DeliveryType[DeliveryType["Takeaway"] = 1] = "Takeaway";
})(DeliveryType || (DeliveryType = {}));
exports.default = DeliveryType;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/enums/OrderBarcodeTypes.ts":
/*!***************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/enums/OrderBarcodeTypes.ts ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var OrderBarcodeTypes;
(function (OrderBarcodeTypes) {
    OrderBarcodeTypes[OrderBarcodeTypes["QR"] = 0] = "QR";
    OrderBarcodeTypes[OrderBarcodeTypes["CODE128"] = 1] = "CODE128";
    OrderBarcodeTypes[OrderBarcodeTypes["CODE39"] = 2] = "CODE39";
    OrderBarcodeTypes[OrderBarcodeTypes["pharmacode"] = 3] = "pharmacode";
    OrderBarcodeTypes[OrderBarcodeTypes["MSI"] = 4] = "MSI";
})(OrderBarcodeTypes || (OrderBarcodeTypes = {}));
function orderBarcodeTypesToString(status) {
    switch (status) {
        case OrderBarcodeTypes.QR:
            return 'QR code';
        case OrderBarcodeTypes.CODE128:
            return 'CODE128';
        case OrderBarcodeTypes.CODE39:
            return 'CODE39';
        case OrderBarcodeTypes.pharmacode:
            return 'pharmacode';
        case OrderBarcodeTypes.MSI:
            return 'MSI';
        default:
            return 'BAD_STATUS';
    }
}
exports.orderBarcodeTypesToString = orderBarcodeTypesToString;
exports.default = OrderBarcodeTypes;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts":
/*!****************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var OrderCarrierStatus;
(function (OrderCarrierStatus) {
    OrderCarrierStatus[OrderCarrierStatus["NoCarrier"] = 0] = "NoCarrier";
    OrderCarrierStatus[OrderCarrierStatus["CarrierSelectedOrder"] = 1] = "CarrierSelectedOrder";
    OrderCarrierStatus[OrderCarrierStatus["CarrierPickedUpOrder"] = 2] = "CarrierPickedUpOrder";
    OrderCarrierStatus[OrderCarrierStatus["CarrierStartDelivery"] = 3] = "CarrierStartDelivery";
    OrderCarrierStatus[OrderCarrierStatus["CarrierArrivedToCustomer"] = 4] = "CarrierArrivedToCustomer";
    OrderCarrierStatus[OrderCarrierStatus["DeliveryCompleted"] = 5] = "DeliveryCompleted";
    OrderCarrierStatus[OrderCarrierStatus["IssuesDuringDelivery"] = 204] = "IssuesDuringDelivery";
    OrderCarrierStatus[OrderCarrierStatus["ClientRefuseTakingOrder"] = 205] = "ClientRefuseTakingOrder";
})(OrderCarrierStatus || (OrderCarrierStatus = {}));
function carrierStatusToString(status) {
    switch (status) {
        case OrderCarrierStatus.NoCarrier:
            return 'No Carrier';
        case OrderCarrierStatus.CarrierSelectedOrder:
            return 'Order Selected For Delivery';
        case OrderCarrierStatus.CarrierPickedUpOrder:
            return 'Order Picked Up';
        case OrderCarrierStatus.CarrierStartDelivery:
            return 'Order In Delivery';
        case OrderCarrierStatus.CarrierArrivedToCustomer:
            return 'Arrived To Client';
        case OrderCarrierStatus.DeliveryCompleted:
            return 'Delivered';
        case OrderCarrierStatus.IssuesDuringDelivery:
            return 'Delivery Issues';
        case OrderCarrierStatus.ClientRefuseTakingOrder:
            return 'Client Refuse to Take Order';
        default:
            return 'BAD_STATUS';
    }
}
exports.carrierStatusToString = carrierStatusToString;
exports.default = OrderCarrierStatus;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/enums/OrderStatus.ts":
/*!*********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/enums/OrderStatus.ts ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var OrderStatus;
(function (OrderStatus) {
    OrderStatus[OrderStatus["WarehousePreparation"] = 0] = "WarehousePreparation";
    OrderStatus[OrderStatus["InDelivery"] = 1] = "InDelivery";
    OrderStatus[OrderStatus["Delivered"] = 2] = "Delivered";
    OrderStatus[OrderStatus["CanceledWhileWarehousePreparation"] = 200] = "CanceledWhileWarehousePreparation";
    OrderStatus[OrderStatus["CanceledWhileInDelivery"] = 201] = "CanceledWhileInDelivery";
    OrderStatus[OrderStatus["WarehouseIssue"] = 202] = "WarehouseIssue";
    OrderStatus[OrderStatus["CarrierIssue"] = 203] = "CarrierIssue";
})(OrderStatus || (OrderStatus = {}));
exports.default = OrderStatus;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts":
/*!******************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var OrderWarehouseStatus;
(function (OrderWarehouseStatus) {
    OrderWarehouseStatus[OrderWarehouseStatus["NoStatus"] = 0] = "NoStatus";
    OrderWarehouseStatus[OrderWarehouseStatus["ReadyForProcessing"] = 1] = "ReadyForProcessing";
    OrderWarehouseStatus[OrderWarehouseStatus["WarehouseStartedProcessing"] = 2] = "WarehouseStartedProcessing";
    OrderWarehouseStatus[OrderWarehouseStatus["AllocationStarted"] = 3] = "AllocationStarted";
    OrderWarehouseStatus[OrderWarehouseStatus["AllocationFinished"] = 4] = "AllocationFinished";
    OrderWarehouseStatus[OrderWarehouseStatus["PackagingStarted"] = 5] = "PackagingStarted";
    OrderWarehouseStatus[OrderWarehouseStatus["PackagingFinished"] = 6] = "PackagingFinished";
    OrderWarehouseStatus[OrderWarehouseStatus["GivenToCarrier"] = 7] = "GivenToCarrier";
    OrderWarehouseStatus[OrderWarehouseStatus["GivenToCustomer"] = 8] = "GivenToCustomer";
    OrderWarehouseStatus[OrderWarehouseStatus["AllocationFailed"] = 200] = "AllocationFailed";
    OrderWarehouseStatus[OrderWarehouseStatus["PackagingFailed"] = 201] = "PackagingFailed";
})(OrderWarehouseStatus || (OrderWarehouseStatus = {}));
function warehouseStatusToString(status) {
    switch (status) {
        case OrderWarehouseStatus.NoStatus:
            return 'Created';
        case OrderWarehouseStatus.ReadyForProcessing:
            return 'Confirmed';
        case OrderWarehouseStatus.WarehouseStartedProcessing:
            return 'Processing';
        case OrderWarehouseStatus.AllocationStarted:
            return 'Allocation Started';
        case OrderWarehouseStatus.AllocationFinished:
            return 'Allocation Finished';
        case OrderWarehouseStatus.PackagingStarted:
            return 'Packaging Started';
        case OrderWarehouseStatus.PackagingFinished:
            return 'Packaged';
        case OrderWarehouseStatus.GivenToCarrier:
            return 'Given to Carrier';
        case OrderWarehouseStatus.GivenToCustomer:
            return 'Given to Customer';
        case OrderWarehouseStatus.AllocationFailed:
            return 'Allocation Failed';
        case OrderWarehouseStatus.PackagingFailed:
            return 'Packaging Failed';
        default:
            return 'BAD_STATUS';
    }
}
exports.warehouseStatusToString = warehouseStatusToString;
exports.default = OrderWarehouseStatus;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/enums/PaymentGateways.ts":
/*!*************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/enums/PaymentGateways.ts ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var PaymentGateways;
(function (PaymentGateways) {
    PaymentGateways[PaymentGateways["Stripe"] = 0] = "Stripe";
    PaymentGateways[PaymentGateways["PayPal"] = 1] = "PayPal";
})(PaymentGateways || (PaymentGateways = {}));
function paymentGatewaysToString(paymentGateway) {
    switch (paymentGateway) {
        case PaymentGateways.Stripe:
            return 'Stripe';
        case PaymentGateways.PayPal:
            return 'PayPal';
        default:
            return 'BAD_PAYMENT_GATEWAY';
    }
}
exports.paymentGatewaysToString = paymentGatewaysToString;
function paymentGatewaysLogo(paymentGateway) {
    switch (paymentGateway) {
        case PaymentGateways.Stripe:
            return 'https://stripe.com/img/v3/home/twitter.png';
        case PaymentGateways.PayPal:
            return 'https://avatars1.githubusercontent.com/u/476675?s=200&v=4';
        default:
            return 'BAD_PAYMENT_GATEWAY';
    }
}
exports.paymentGatewaysLogo = paymentGatewaysLogo;
exports.default = PaymentGateways;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/errors/NotInvitedError.ts":
/*!**************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/errors/NotInvitedError.ts ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
class NotInvitedError {
    constructor() {
        this.code = 'not-invited';
        this.message = 'Not invited!';
    }
}
exports.NotInvitedError = NotInvitedError;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/errors/WrongPasswordError.ts":
/*!*****************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/errors/WrongPasswordError.ts ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
class WrongPasswordError {
    constructor() {
        this.code = 'wrong-password';
        this.message = 'Wrong password!';
    }
}
exports.WrongPasswordError = WrongPasswordError;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/notifications.ts":
/*!*****************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/notifications.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.launched = 'launched_notification';


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/utils.ts":
/*!*********************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/utils.ts ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const lodash_1 = __webpack_require__(/*! lodash */ "lodash");
var Utils;
(function (Utils) {
    function calcCrow(lat1, lon1, lat2, lon2) {
        const R = 6371;
        const dLat = Utils._toRad(lat2 - lat1);
        const dLon = Utils._toRad(lon2 - lon1);
        lat1 = Utils._toRad(lat1);
        lat2 = Utils._toRad(lat2);
        const a = Math.pow(Math.sin(dLat / 2), 2) +
            Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);
        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
        const d = R * c;
        return d;
    }
    Utils.calcCrow = calcCrow;
    function getDistance(geoLocation1, geoLocation2) {
        return getLocDistance(geoLocation1.loc, geoLocation2.loc);
    }
    Utils.getDistance = getDistance;
    function getLocDistance(loc1, loc2) {
        return calcCrow(loc1.coordinates[0], loc1.coordinates[1], loc2.coordinates[0], loc2.coordinates[1]);
    }
    Utils.getLocDistance = getLocDistance;
    function _toRad(v) {
        return (v * Math.PI) / 180;
    }
    Utils._toRad = _toRad;
    function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min)) + min;
    }
    Utils.getRandomInt = getRandomInt;
    function toDate(date) {
        if (date instanceof Date) {
            return date;
        }
        else {
            return new Date(date);
        }
    }
    Utils.toDate = toDate;
    function generatedLogoColor() {
        return lodash_1.sample(['#269aff', '#ffaf26', '#8b72ff', '#0ecc9D']).replace('#', '');
    }
    Utils.generatedLogoColor = generatedLogoColor;
})(Utils || (Utils = {}));
exports.getDistance = Utils.getDistance;
exports.toDate = Utils.toDate;
exports.getDummyImage = (width, height, letter) => {
    return `https://dummyimage.com/${width}x${height}/${Utils.generatedLogoColor()}/ffffff.jpg&text=${letter}`;
};
exports.getPlaceholditImgix = (width, height, fontSize, name) => {
    return `https://placeholdit.imgix.net/~text?txtsize=${fontSize}&txt=${name}&w=${width}&h=${height}`;
};
exports.getFakeImg = (width, height, fontSize, name) => {
    return `https://fakeimg.pl/${width}x${height}/FFD890%2C128/000/?text=${name}&font_size=${fontSize}`;
};
exports.generateObjectIdString = (m = Math, d = Date, h = 16, s = (x) => m.floor(x).toString(h)) => {
    return (s(d.now() / 1000) + ' '.repeat(h).replace(/./g, () => s(m.random() * h)));
};
function getIdFromTheDate(order) {
    if (!order['createdAt'] || !order.orderNumber) {
        throw `Can't use getIdFromTheDate function. Property ${!order['createdAt'] ? 'createdAt' : 'orderNumber'} is missing!`;
    }
    const [day, month, year] = new Date(order['createdAt'])
        .toLocaleDateString()
        .split('/');
    let d = ('0' + day).slice(-2);
    d = d.substr(-2);
    let m = ('0' + month).slice(-2);
    m = m.substr(-2);
    return `${d}${m}${year}-${order.orderNumber}`;
}
exports.getIdFromTheDate = getIdFromTheDate;
exports.default = Utils;


/***/ }),

/***/ "./src/@pyro/db-server/db-service.ts":
/*!*******************************************!*\
  !*** ./src/@pyro/db-server/db-service.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const mongoose_1 = tslib_1.__importDefault(__webpack_require__(/*! mongoose */ "mongoose"));
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const existence_1 = __webpack_require__(/*! ./existence */ "./src/@pyro/db-server/existence.ts");
const from_1 = __webpack_require__(/*! rxjs/observable/from */ "rxjs/observable/from");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const of_1 = __webpack_require__(/*! rxjs/observable/of */ "rxjs/observable/of");
const uuid_1 = __webpack_require__(/*! uuid */ "uuid");
const entity_service_1 = __webpack_require__(/*! @pyro/db-server/entity-service */ "./src/@pyro/db-server/entity-service.ts");
let DBService = class DBService extends entity_service_1.EntityService {
    constructor() {
        super();
        this.existence = new rxjs_1.Subject();
    }
    get(id) {
        const callId = uuid_1.v1();
        this.log.info({ objectId: id, callId }, '.get(id) called');
        return from_1.from(this.getCurrent(id)).pipe(operators_1.concat(this.existence.pipe(operators_1.filter((existenceEvent) => id === existenceEvent.id), operators_1.map((existenceEvent) => existenceEvent.value), operators_1.share())), operators_1.tap({
            next: (obj) => {
                this.log.info({
                    objectId: id,
                    object: obj,
                    callId,
                }, '.get(id) emitted next value');
            },
            error: (err) => {
                this.log.error({
                    objectId: id,
                    err,
                    callId,
                }, '.get(id), emitted error!');
            },
        }));
    }
    getCurrent(id) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ objectId: id, callId }, '.getCurrent(id) called');
            const obj = yield this.Model.findById(id).lean().exec();
            return this.parse(obj);
        });
    }
    getMultiple(ids) {
        const callId = uuid_1.v1();
        this.log.info({ objectIds: ids, callId }, '.getMultiple(ids) called');
        return of_1.of(null).pipe(operators_1.concat(this.existence.pipe(operators_1.filter((event) => lodash_1.default.includes(ids, event.id)), operators_1.share())), operators_1.exhaustMap(() => this.getCurrentMultiple(ids)), operators_1.tap({
            next: (objects) => {
                this.log.info({ objectIds: ids, objects, callId }, '.getMultiple(ids) emitted next value');
            },
            error: (err) => {
                this.log.error({ objectIds: ids, err, callId }, '.getMultiple(ids), emitted error!');
            },
        }));
    }
    getCurrentMultiple(ids) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ objectIds: ids, callId }, '.getCurrentMultiple(ids) called');
            const objs = yield this.Model.find({
                _id: {
                    $in: lodash_1.default.map(ids, (id) => this.getObjectId(id)),
                },
            })
                .lean()
                .exec();
            return lodash_1.default.map(objs, (obj) => this.parse(obj));
        });
    }
    create(createObject) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, createObject }, '.create(createObject) called');
            let object;
            try {
                const document = yield this.Model.create(createObject);
                object = this.parse(document.toObject());
            }
            catch (error) {
                this.log.error({ callId, createObject, error }, '.create(createObject) thrown error!');
                throw error;
            }
            this.existence.next({
                id: object.id,
                value: object,
                lastValue: null,
                type: existence_1.ExistenceEventType.Created,
            });
            this.log.info({ callId, createObject, object }, '.create(createObject) created object');
            return object;
        });
    }
    removeAll() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId }, '.removeAll() called!');
            try {
                yield this.Model.remove({}).exec();
            }
            catch (err) {
                this.log.error({ callId, err }, '.removeAll() thrown error!');
                throw err;
            }
            this.log.info({ callId }, '.removeAll() removed all!');
        });
    }
    remove(objectId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, objectId }, '.remove(objectId) called');
            let lastValue;
            try {
                const lastValueRaw = (yield this.Model.findByIdAndRemove(objectId)
                    .lean()
                    .exec());
                lastValue = this.parse(lastValueRaw);
            }
            catch (err) {
                this.log.error({ callId, objectId, err }, '.remove(objectId) thrown error!');
                throw err;
            }
            if (lastValue == null) {
                throw new Error(".remove(objectId) error - Object don't exist");
            }
            else {
                this.existence.next({
                    id: objectId,
                    value: null,
                    lastValue,
                    type: existence_1.ExistenceEventType.Removed,
                });
                this.log.info({ callId, objectId, lastValue }, '.remove(objectId) removed object');
            }
        });
    }
    removeMultiple(conditions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, conditions }, '.removeMultiple(conditions) called');
            let lastValues;
            try {
                lastValues = yield this.find(conditions);
                yield this.Model.deleteMany({
                    _id: { $in: lastValues.map((o) => this.getObjectId(o.id)) },
                }).exec();
            }
            catch (err) {
                this.log.error({ callId, conditions, err }, '.removeMultiple(conditions) thrown error!');
                throw err;
            }
            lodash_1.default.each(lastValues, (lastValue) => {
                this.existence.next({
                    id: lastValue.id,
                    lastValue,
                    value: null,
                    type: existence_1.ExistenceEventType.Removed,
                });
            });
            this.log.info({
                callId,
                conditions,
                lastValues,
            }, '.removeMultiple(conditions) removed objects');
        });
    }
    removeMultipleByIds(ids) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this.Model.update({
                _id: { $in: ids.map((id) => this.getObjectId(id)) },
            }, { isDeleted: true }, { multi: true }).exec();
        });
    }
    find(conditions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, conditions }, '.find(conditions) called');
            let results;
            try {
                const documents = (yield this.Model.find(conditions == null ? {} : conditions)
                    .lean()
                    .exec());
                results = lodash_1.default.map(documents, (obj) => this.parse(obj));
            }
            catch (err) {
                this.log.error({ callId, conditions, err }, '.find(conditions) thrown error!');
                throw err;
            }
            this.log.info({ callId, conditions, results }, '.find(conditions) found results');
            return results;
        });
    }
    findOne(conditions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, conditions }, '.findOne(conditions) called');
            let result;
            try {
                const obj = (yield this.Model.findOne(conditions)
                    .lean()
                    .exec());
                result = this.parse(obj);
            }
            catch (err) {
                this.log.error({ callId, conditions, err }, '.findOne(conditions) thrown error!');
                throw err;
            }
            this.log.info({ callId, conditions, result }, '.findOne(conditions) found result');
            return result;
        });
    }
    update(objectId, updateObj) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, objectId, updateObj }, '.update(objectId, updateObj) called');
            let beforeUpdateObject;
            let updatedObject;
            try {
                beforeUpdateObject = yield this.getCurrent(objectId);
                if (beforeUpdateObject != null) {
                    const obj = (yield this.Model.findByIdAndUpdate(objectId, updateObj, { new: true })
                        .lean()
                        .exec());
                    updatedObject = this.parse(obj);
                }
                else {
                    throw new Error(`There is no such object with the id ${beforeUpdateObject}`);
                }
            }
            catch (err) {
                this.log.error({ callId, objectId, updateObj, err }, '.update(objectId, updateObj) thrown error!');
                throw err;
            }
            this.existence.next({
                id: objectId,
                value: updatedObject,
                lastValue: beforeUpdateObject,
                type: existence_1.ExistenceEventType.Updated,
            });
            this.log.info({
                callId,
                objectId,
                updateObj,
                updatedValue: updatedObject,
                lastValue: beforeUpdateObject,
            }, '.update(objectId, updateObj) updated object');
            return updatedObject;
        });
    }
    updateMultiple(findObj, updateObj) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, findObj, updateObj }, '.updateMultiple(findObj, updateObj) called');
            let lastValues;
            let updatedObjects;
            try {
                lastValues = yield this.find(findObj);
                yield this.Model.updateMany(findObj, updateObj, {
                    new: true,
                }).exec();
                updatedObjects = yield this.getCurrentMultiple(lodash_1.default.map(lastValues, (value) => value.id));
            }
            catch (err) {
                this.log.error({ callId, findObj, updateObj, err }, '.updateMultiple(findObj, updateObj) thrown error!');
                throw err;
            }
            lodash_1.default.each(lastValues, (lastValue) => {
                const newValue = lodash_1.default.find(updatedObjects, (obj) => obj.id === lastValue.id);
                this.existence.next({
                    id: lastValue.id,
                    lastValue,
                    value: newValue,
                    type: existence_1.ExistenceEventType.Updated,
                });
            });
            this.log.info({
                callId,
                findObj,
                updateObj,
                lastValues,
                updatedObjects,
            }, '.updateMultiple(objectId, updateObj) updated objects');
            return updatedObjects;
        });
    }
    updateMultipleByIds(ids, updateObj) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, ids, updateObj }, '.updateMultipleByIds(ids, updateObj) called');
            let updatedObjects;
            try {
                updatedObjects = yield this.updateMultiple({
                    _id: {
                        $in: lodash_1.default.map(ids, (id) => new mongoose_1.default.Types.ObjectId(id)),
                    },
                }, updateObj);
            }
            catch (err) {
                this.log.error({ callId, ids, updateObj, err }, '.updateMultipleByIds(ids, updateObj) thrown error!');
                throw err;
            }
            this.log.info({
                callId,
                ids,
                updateObj,
                updatedObjects,
            }, '.updateMultipleByIds(ids, updateObj) updated objects');
            return updatedObjects;
        });
    }
    count(findObj) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, findObj }, '.countDocuments(findObj) called');
            let count;
            try {
                count = (yield this.Model.countDocuments(findObj).exec());
            }
            catch (err) {
                this.log.error({ callId, findObj, err }, '.countDocuments(findObj) thrown error!');
                throw err;
            }
            this.log.info({ callId, findObj, count }, '.countDocuments(findObj) counted objects');
            return count;
        });
    }
    findAll(selectFields = {}) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this.Model.find({}).select(selectFields).lean().exec();
        });
    }
};
DBService = tslib_1.__decorate([
    inversify_1.injectable(),
    tslib_1.__metadata("design:paramtypes", [])
], DBService);
exports.DBService = DBService;


/***/ }),

/***/ "./src/@pyro/db-server/entity-service.ts":
/*!***********************************************!*\
  !*** ./src/@pyro/db-server/entity-service.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const model_1 = __webpack_require__(/*! @pyro/db-server/model */ "./src/@pyro/db-server/model.ts");
const mongoose_1 = tslib_1.__importDefault(__webpack_require__(/*! mongoose */ "mongoose"));
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
let EntityService = class EntityService {
    get Model() {
        return model_1.getModel(this.DBObject);
    }
    getObjectId(id) {
        return new mongoose_1.default.Types.ObjectId(id);
    }
    parse(obj) {
        if (obj == null) {
            return null;
        }
        else {
            return new this.DBObject(obj);
        }
    }
};
EntityService = tslib_1.__decorate([
    inversify_1.injectable()
], EntityService);
exports.EntityService = EntityService;


/***/ }),

/***/ "./src/@pyro/db-server/existence.ts":
/*!******************************************!*\
  !*** ./src/@pyro/db-server/existence.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const ExistenceEventTypeCreated = 'created';
const ExistenceEventTypeUpdated = 'updated';
const ExistenceEventTypeRemoved = 'removed';
var ExistenceEventType;
(function (ExistenceEventType) {
    ExistenceEventType.Created = ExistenceEventTypeCreated;
    ExistenceEventType.Updated = ExistenceEventTypeUpdated;
    ExistenceEventType.Removed = ExistenceEventTypeRemoved;
})(ExistenceEventType = exports.ExistenceEventType || (exports.ExistenceEventType = {}));


/***/ }),

/***/ "./src/@pyro/db-server/index.ts":
/*!**************************************!*\
  !*** ./src/@pyro/db-server/index.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var model_1 = __webpack_require__(/*! ./model */ "./src/@pyro/db-server/model.ts");
exports.getModel = model_1.getModel;
var existence_1 = __webpack_require__(/*! ./existence */ "./src/@pyro/db-server/existence.ts");
exports.ExistenceEventType = existence_1.ExistenceEventType;
var db_service_1 = __webpack_require__(/*! ./db-service */ "./src/@pyro/db-server/db-service.ts");
exports.DBService = db_service_1.DBService;


/***/ }),

/***/ "./src/@pyro/db-server/model.ts":
/*!**************************************!*\
  !*** ./src/@pyro/db-server/model.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! @pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const mongoose_1 = tslib_1.__importDefault(__webpack_require__(/*! mongoose */ "mongoose"));
exports.modelMetadata = 'db:model';
function getModel(DBObject) {
    let Model = Reflect.getMetadata(exports.modelMetadata, DBObject);
    if (Model == null) {
        Model = mongoose_1.default.model(DBObject.modelName, db_1.getSchema(DBObject));
        Reflect.defineMetadata(exports.modelMetadata, Model, DBObject);
    }
    return Model;
}
exports.getModel = getModel;


/***/ }),

/***/ "./src/@pyro/io/connection-handler.ts":
/*!********************************************!*\
  !*** ./src/@pyro/io/connection-handler.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const router_1 = __webpack_require__(/*! ./router/router */ "./src/@pyro/io/router/router.ts");
const async_1 = __webpack_require__(/*! ./listener/handler/async */ "./src/@pyro/io/listener/handler/async.ts");
const observable_1 = __webpack_require__(/*! ./listener/handler/observable */ "./src/@pyro/io/listener/handler/observable.ts");
const listener_1 = __webpack_require__(/*! ./listener/listener */ "./src/@pyro/io/listener/listener.ts");
const types_1 = __webpack_require__(/*! ./listener/types */ "./src/@pyro/io/listener/types.ts");
class ConnectionHandler {
    constructor(socket, router, log) {
        this.socket = socket;
        this.router = router;
        this.log = log;
        this.listeners = router_1.getListeners(this.router);
        this.routerName = router_1.getRouterName(this.router);
    }
    handle() {
        this.log.info({
            socketId: this.socket.id,
            listeners: this.listeners.map((listener) => listener.name),
            routerName: this.routerName,
        }, `Socket connected! Starting listeners listening!`);
        try {
            this.listeners.forEach((listener) => {
                const handler = this.listenerHandlerFactory(listener);
                handler.handle();
            });
        }
        catch (err) {
            this.log.fatal("Couldn't start listeners listening!", { err });
        }
        this.socket.on('disconnect', () => {
            this.onDisconnection();
        });
    }
    listenerHandlerFactory(listener) {
        switch (listener_1.getListenerType(listener)) {
            case types_1.ListenerType.Async:
                return new async_1.AsyncListenerHandler(this.router, listener, this.socket, this.log);
            case types_1.ListenerType.Observable:
                return new observable_1.ObservableListenerHandler(this.router, listener, this.socket, this.log);
            default:
                throw new Error(`Bad listener type! ${listener_1.getListenerType(listener)}`);
        }
    }
    onDisconnection() {
        this.log.info({
            socketId: this.socket.id,
            listeners: this.listeners.map((listener) => listener.name),
            routerName: this.routerName,
        }, `Socket disconnected!`);
    }
}
exports.ConnectionHandler = ConnectionHandler;


/***/ }),

/***/ "./src/@pyro/io/index.ts":
/*!*******************************!*\
  !*** ./src/@pyro/io/index.ts ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var routers_manager_1 = __webpack_require__(/*! ./routers-manager */ "./src/@pyro/io/routers-manager.ts");
exports.RoutersManager = routers_manager_1.RoutersManager;
var async_1 = __webpack_require__(/*! ./listener/async */ "./src/@pyro/io/listener/async.ts");
exports.asyncListener = async_1.asyncListener;
var observable_1 = __webpack_require__(/*! ./listener/observable */ "./src/@pyro/io/listener/observable.ts");
exports.observableListener = observable_1.observableListener;
var serialization_1 = __webpack_require__(/*! ./listener/serialization */ "./src/@pyro/io/listener/serialization.ts");
exports.serialization = serialization_1.serialization;
var router_1 = __webpack_require__(/*! ./router/router */ "./src/@pyro/io/router/router.ts");
exports.routerName = router_1.routerName;
exports.RouterSymbol = router_1.RouterSymbol;


/***/ }),

/***/ "./src/@pyro/io/listener/async.ts":
/*!****************************************!*\
  !*** ./src/@pyro/io/listener/async.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const types_1 = __webpack_require__(/*! ./types */ "./src/@pyro/io/listener/types.ts");
const listener_1 = __webpack_require__(/*! ./listener */ "./src/@pyro/io/listener/listener.ts");
exports.asyncListener = listener_1.listenerOf(types_1.ListenerType.Async);


/***/ }),

/***/ "./src/@pyro/io/listener/handler/async.ts":
/*!************************************************!*\
  !*** ./src/@pyro/io/listener/handler/async.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const uuid_1 = __webpack_require__(/*! uuid */ "uuid");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const base_1 = __webpack_require__(/*! ./base */ "./src/@pyro/io/listener/handler/base.ts");
class AsyncListenerHandler extends base_1.BaseListenerHandler {
    constructor(router, listener, socket, log) {
        super(router, listener, socket, log);
        this.router = router;
        this.listener = listener;
        this.socket = socket;
        this.log = log;
    }
    handleRequest(_args) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            const callback = lodash_1.default.last(_args);
            const args = this.serializer(lodash_1.default.initial(_args));
            this.logCall(callId, args);
            try {
                const data = yield this.listener.apply(this.router, args);
                this.log.info(Object.assign(Object.assign({}, this.baseLogDetails), { callId, result: data }), `Listener completed`);
                callback(null, data);
            }
            catch (err) {
                this.log.error(Object.assign(Object.assign({}, this.baseLogDetails), { callId,
                    err }), `Listener thrown error!`);
                callback(this.serializeError(err), null);
            }
        });
    }
}
exports.AsyncListenerHandler = AsyncListenerHandler;


/***/ }),

/***/ "./src/@pyro/io/listener/handler/base.ts":
/*!***********************************************!*\
  !*** ./src/@pyro/io/listener/handler/base.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const router_1 = __webpack_require__(/*! ../../router/router */ "./src/@pyro/io/router/router.ts");
const listener_1 = __webpack_require__(/*! ../listener */ "./src/@pyro/io/listener/listener.ts");
const serialization_1 = __webpack_require__(/*! ../serialization */ "./src/@pyro/io/listener/serialization.ts");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const get_parameter_names_1 = tslib_1.__importDefault(__webpack_require__(/*! @captemulation/get-parameter-names */ "@captemulation/get-parameter-names"));
class BaseListenerHandler {
    constructor(_router, _listener, _socket, _log) {
        this._router = _router;
        this._listener = _listener;
        this._socket = _socket;
        this._log = _log;
        this.routerName = router_1.getRouterName(this._router);
        this.listenerType = listener_1.getListenerType(this._listener);
        this.listenerArgumentsNames = get_parameter_names_1.default(this._listener);
        this.baseLogDetails = {
            socketId: this._socket.id,
            listenerName: this._listener.name,
            listenerType: this.listenerType,
            routerName: this.routerName,
        };
        this.serializer = serialization_1.getListenerSerializer(_listener);
    }
    handle() {
        this._socket.on(this._listener.name, (...args) => {
            this.handleRequest(args);
        });
    }
    logCall(callId, args) {
        this._log.info(Object.assign(Object.assign({}, this.baseLogDetails), { callId, args: lodash_1.default.zipObject(this.listenerArgumentsNames, args) }), `Listener called`);
    }
    serializeError(_error) {
        if (_error instanceof Error) {
            const error = _error;
            return {
                __isError__: true,
                name: error.name,
                message: error.message,
            };
        }
        else {
            return _error;
        }
    }
}
exports.BaseListenerHandler = BaseListenerHandler;


/***/ }),

/***/ "./src/@pyro/io/listener/handler/observable.ts":
/*!*****************************************************!*\
  !*** ./src/@pyro/io/listener/handler/observable.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const base_1 = __webpack_require__(/*! ./base */ "./src/@pyro/io/listener/handler/base.ts");
class ObservableListenerHandler extends base_1.BaseListenerHandler {
    constructor(router, listener, socket, log) {
        super(router, listener, socket, log);
        this.router = router;
        this.listener = listener;
        this.socket = socket;
        this.log = log;
    }
    handleRequest(_args) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = lodash_1.default.last(_args);
            const args = this.serializer(lodash_1.default.initial(_args));
            this.logCall(callId, args);
            const observable = Reflect.apply(this.listener, this.router, args);
            this.socket.on(`${callId}_subscribe`, (subscriptionId) => {
                const subscription = observable.subscribe({
                    next: (value) => {
                        this.log.info(Object.assign(Object.assign({}, this.baseLogDetails), { callId,
                            value }), `Listener emitted next value`);
                        this.socket.emit(`${subscriptionId}_next`, value);
                    },
                    error: (err) => {
                        this.log.error(Object.assign(Object.assign({}, this.baseLogDetails), { callId,
                            err }), `Listener thrown error!`);
                        this.socket.emit(`${subscriptionId}_error`, this.serializeError(err));
                    },
                    complete: () => {
                        this.log.info(Object.assign(Object.assign({}, this.baseLogDetails), { callId }), `Listener completed`);
                        this.socket.emit(`_${subscriptionId}_complete`);
                    },
                });
                this.socket.on(`${subscriptionId}_unsubscribe`, () => subscription.unsubscribe());
                this.socket.on('disconnect', () => subscription.unsubscribe());
            });
        });
    }
}
exports.ObservableListenerHandler = ObservableListenerHandler;


/***/ }),

/***/ "./src/@pyro/io/listener/listener.ts":
/*!*******************************************!*\
  !*** ./src/@pyro/io/listener/listener.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const metadata_1 = __webpack_require__(/*! ../router/metadata */ "./src/@pyro/io/router/metadata.ts");
const metadata_2 = __webpack_require__(/*! ./metadata */ "./src/@pyro/io/listener/metadata.ts");
exports.listenerOf = (listenerType) => () => (router, propertyKey, descriptor) => {
    const method = router[propertyKey];
    if (!Reflect.hasMetadata(metadata_1.routerMetadata.listeners, router.constructor)) {
        Reflect.defineMetadata(metadata_1.routerMetadata.listeners, [], router.constructor);
    }
    const listeners = Reflect.getMetadata(metadata_1.routerMetadata.listeners, router.constructor);
    listeners.push(method);
    Reflect.defineMetadata(metadata_2.listenerMetadata.type, listenerType, method);
};
exports.getListenerType = (listener) => {
    return Reflect.getMetadata(metadata_2.listenerMetadata.type, listener);
};


/***/ }),

/***/ "./src/@pyro/io/listener/metadata.ts":
/*!*******************************************!*\
  !*** ./src/@pyro/io/listener/metadata.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.listenerMetadata = {
    type: 'router:listener:type',
    serializers: 'router:listener:serializers',
};


/***/ }),

/***/ "./src/@pyro/io/listener/observable.ts":
/*!*********************************************!*\
  !*** ./src/@pyro/io/listener/observable.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const types_1 = __webpack_require__(/*! ./types */ "./src/@pyro/io/listener/types.ts");
const listener_1 = __webpack_require__(/*! ./listener */ "./src/@pyro/io/listener/listener.ts");
exports.observableListener = listener_1.listenerOf(types_1.ListenerType.Observable);


/***/ }),

/***/ "./src/@pyro/io/listener/serialization.ts":
/*!************************************************!*\
  !*** ./src/@pyro/io/listener/serialization.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const metadata_1 = __webpack_require__(/*! ./metadata */ "./src/@pyro/io/listener/metadata.ts");
exports.serialization = (serializeFunction) => (router, propertyKey, parameterIndex) => {
    const listener = router[propertyKey];
    if (!Reflect.hasMetadata(metadata_1.listenerMetadata.serializers, listener)) {
        Reflect.defineMetadata(metadata_1.listenerMetadata.serializers, [], listener);
    }
    Reflect.getMetadata(metadata_1.listenerMetadata.serializers, listener)[parameterIndex] = serializeFunction;
};
exports.getListenerSerializer = (listener) => {
    const serializers = Reflect.getMetadata(metadata_1.listenerMetadata.serializers, listener);
    if (serializers == null) {
        return (args) => args;
    }
    return (args) => {
        return args.map((arg, i) => serializers[i] != null ? serializers[i](arg) : arg);
    };
};


/***/ }),

/***/ "./src/@pyro/io/listener/types.ts":
/*!****************************************!*\
  !*** ./src/@pyro/io/listener/types.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ListenerType;
(function (ListenerType) {
    ListenerType["Async"] = "async";
    ListenerType["Observable"] = "observable";
})(ListenerType = exports.ListenerType || (exports.ListenerType = {}));


/***/ }),

/***/ "./src/@pyro/io/router/handler.ts":
/*!****************************************!*\
  !*** ./src/@pyro/io/router/handler.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const router_1 = __webpack_require__(/*! ./router */ "./src/@pyro/io/router/router.ts");
const connection_handler_1 = __webpack_require__(/*! ../connection-handler */ "./src/@pyro/io/connection-handler.ts");
class RouterHandler {
    constructor(io, router, log) {
        this.io = io;
        this.router = router;
        this.log = log;
        this.routerName = router_1.getRouterName(router);
        this.listeners = router_1.getListeners(router);
    }
    listen() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this.log.info(`Starting router listening`, {
                routerName: this.routerName,
                listeners: this.listeners
                    ? this.listeners.map((listener) => listener.name)
                    : null,
            });
            const routerNamespace = this.io.of(`/${this.routerName}`);
            routerNamespace.setMaxListeners(0);
            routerNamespace.on('connection', (socket) => {
                const connectionHandler = new connection_handler_1.ConnectionHandler(socket, this.router, this.log);
                connectionHandler.handle();
            });
        });
    }
}
exports.RouterHandler = RouterHandler;


/***/ }),

/***/ "./src/@pyro/io/router/metadata.ts":
/*!*****************************************!*\
  !*** ./src/@pyro/io/router/metadata.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var routerMetadata;
(function (routerMetadata) {
    routerMetadata.name = 'router:name';
    routerMetadata.listeners = 'router:listeners';
})(routerMetadata = exports.routerMetadata || (exports.routerMetadata = {}));


/***/ }),

/***/ "./src/@pyro/io/router/router.ts":
/*!***************************************!*\
  !*** ./src/@pyro/io/router/router.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const metadata_1 = __webpack_require__(/*! ./metadata */ "./src/@pyro/io/router/metadata.ts");
exports.RouterSymbol = Symbol('Router');
exports.routerName = (name) => Reflect.metadata(metadata_1.routerMetadata.name, name);
exports.getRouterName = (router) => {
    return Reflect.getMetadata(metadata_1.routerMetadata.name, router.constructor);
};
exports.getListeners = (router) => {
    return Reflect.getMetadata(metadata_1.routerMetadata.listeners, router.constructor);
};


/***/ }),

/***/ "./src/@pyro/io/routers-manager.ts":
/*!*****************************************!*\
  !*** ./src/@pyro/io/routers-manager.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const router_1 = __webpack_require__(/*! ./router/router */ "./src/@pyro/io/router/router.ts");
const handler_1 = __webpack_require__(/*! ./router/handler */ "./src/@pyro/io/router/handler.ts");
let RoutersManager = class RoutersManager {
    constructor(routers) {
        this.routers = routers;
        this.log = Log_1.createEverLogger({ name: 'io' });
    }
    startListening(io) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this.io = io;
            this.routers.forEach((router) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                yield this.startRouterListening(router);
            }));
        });
    }
    startRouterListening(router) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            try {
                const routerHandler = new handler_1.RouterHandler(this.io, router, this.log);
                yield routerHandler.listen();
            }
            catch (err) {
                this.log.fatal("Couldn't start router listening!", { err });
            }
        });
    }
};
RoutersManager = tslib_1.__decorate([
    inversify_1.injectable(),
    tslib_1.__param(0, inversify_1.multiInject(router_1.RouterSymbol)),
    tslib_1.__metadata("design:paramtypes", [Array])
], RoutersManager);
exports.RoutersManager = RoutersManager;


/***/ }),

/***/ "./src/app.module.ts":
/*!***************************!*\
  !*** ./src/app.module.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const mongoose_1 = tslib_1.__importDefault(__webpack_require__(/*! mongoose */ "mongoose"));
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const subscriptions_module_1 = __webpack_require__(/*! ./graphql/subscriptions/subscriptions.module */ "./src/graphql/subscriptions/subscriptions.module.ts");
const subscriptions_service_1 = __webpack_require__(/*! ./graphql/subscriptions/subscriptions.service */ "./src/graphql/subscriptions/subscriptions.service.ts");
const invites_module_1 = __webpack_require__(/*! ./graphql/invites/invites.module */ "./src/graphql/invites/invites.module.ts");
const devices_module_1 = __webpack_require__(/*! ./graphql/devices/devices.module */ "./src/graphql/devices/devices.module.ts");
const config_module_1 = __webpack_require__(/*! ./config/config.module */ "./src/config/config.module.ts");
const product_module_1 = __webpack_require__(/*! ./controllers/product/product.module */ "./src/controllers/product/product.module.ts");
const users_module_1 = __webpack_require__(/*! ./graphql/users/users.module */ "./src/graphql/users/users.module.ts");
const warehouses_module_1 = __webpack_require__(/*! ./graphql/warehouses/warehouses.module */ "./src/graphql/warehouses/warehouses.module.ts");
const orders_module_1 = __webpack_require__(/*! ./graphql/orders/orders.module */ "./src/graphql/orders/orders.module.ts");
const carriers_module_1 = __webpack_require__(/*! ./graphql/carriers/carriers.module */ "./src/graphql/carriers/carriers.module.ts");
const products_module_1 = __webpack_require__(/*! ./graphql/products/products.module */ "./src/graphql/products/products.module.ts");
const env_1 = __webpack_require__(/*! ./env */ "./src/env.ts");
const Log_1 = __webpack_require__(/*! ./helpers/Log */ "./src/helpers/Log.ts");
const cqrs_1 = __webpack_require__(/*! @nestjs/cqrs */ "@nestjs/cqrs");
const test_controller_1 = __webpack_require__(/*! ./controllers/test.controller */ "./src/controllers/test.controller.ts");
const core_1 = __webpack_require__(/*! @nestjs/core */ "@nestjs/core");
const geo_locations_module_1 = __webpack_require__(/*! ./graphql/geo-locations/geo-locations.module */ "./src/graphql/geo-locations/geo-locations.module.ts");
const scalars_1 = __webpack_require__(/*! ./graphql/scalars */ "./src/graphql/scalars/index.ts");
const warehouses_products_modules_1 = __webpack_require__(/*! ./graphql/warehouses-products/warehouses-products.modules */ "./src/graphql/warehouses-products/warehouses-products.modules.ts");
const warehouses_carriers_module_1 = __webpack_require__(/*! ./graphql/warehouses-carriers/warehouses-carriers.module */ "./src/graphql/warehouses-carriers/warehouses-carriers.module.ts");
const warehouses_orders_module_1 = __webpack_require__(/*! ./graphql/warehouses-orders/warehouses-orders.module */ "./src/graphql/warehouses-orders/warehouses-orders.module.ts");
const invites_requests_module_1 = __webpack_require__(/*! ./graphql/invites-requests/invites-requests.module */ "./src/graphql/invites-requests/invites-requests.module.ts");
const auth_module_1 = __webpack_require__(/*! ./auth/auth.module */ "./src/auth/auth.module.ts");
const admins_module_1 = __webpack_require__(/*! ./graphql/admin/admins.module */ "./src/graphql/admin/admins.module.ts");
const data_module_1 = __webpack_require__(/*! ./graphql/data/data.module */ "./src/graphql/data/data.module.ts");
const carriers_orders_module_1 = __webpack_require__(/*! ./graphql/carriers-orders/carriers-orders.module */ "./src/graphql/carriers-orders/carriers-orders.module.ts");
const geo_location_orders_module_1 = __webpack_require__(/*! ./graphql/geo-locations/orders/geo-location-orders.module */ "./src/graphql/geo-locations/orders/geo-location-orders.module.ts");
const geo_location_merchants_module_1 = __webpack_require__(/*! ./graphql/geo-locations/merchants/geo-location-merchants.module */ "./src/graphql/geo-locations/merchants/geo-location-merchants.module.ts");
const apollo_server_express_1 = __webpack_require__(/*! apollo-server-express */ "apollo-server-express");
const merge_graphql_schemas_1 = __webpack_require__(/*! merge-graphql-schemas */ "merge-graphql-schemas");
const users_1 = __webpack_require__(/*! ./services/users */ "./src/services/users/index.ts");
const typeorm_1 = __webpack_require__(/*! @nestjs/typeorm */ "@nestjs/typeorm");
const services_module_1 = __webpack_require__(/*! ./services/services.module */ "./src/services/services.module.ts");
const services_app_1 = __webpack_require__(/*! ./services/services.app */ "./src/services/services.app.ts");
const currency_module_1 = __webpack_require__(/*! ./graphql/currency/currency.module */ "./src/graphql/currency/currency.module.ts");
const port = env_1.env.GQLPORT;
const log = Log_1.createEverLogger({
    name: 'ApplicationModule from NestJS',
});
exports.CommandHandlers = [users_1.GetAboutUsHandler];
exports.EventHandlers = [];
const entities = services_app_1.ServicesApp.getEntities();
let ApplicationModule = class ApplicationModule {
    constructor(subscriptionsService, moduleRef, command$, event$) {
        this.subscriptionsService = subscriptionsService;
        this.moduleRef = moduleRef;
        this.command$ = command$;
        this.event$ = event$;
    }
    onModuleInit() {
        this.event$.register(exports.EventHandlers);
        this.command$.register(exports.CommandHandlers);
    }
    configure(consumer) {
        const { ObjectId } = mongoose_1.default.Types;
        ObjectId.prototype.valueOf = function () {
            return this.toString();
        };
        log.info(`GraphQL playground available at http://localhost:${port}/graphql`);
    }
    createServer(schema) {
        return new apollo_server_express_1.ApolloServer({
            schema,
            context: ({ req, res }) => ({
                req,
            }),
            playground: {
                endpoint: `http://localhost:${port}/graphql`,
                subscriptionEndpoint: `ws://localhost:${port}/subscriptions`,
                settings: {
                    'editor.theme': 'dark',
                },
            },
        });
    }
    createSchema() {
        const graphqlPath = './**/*.graphql';
        console.log(`Searching for *.graphql files`);
        const typesArray = merge_graphql_schemas_1.fileLoader(graphqlPath);
        const typeDefs = merge_graphql_schemas_1.mergeTypes(typesArray, { all: true });
        const schema = apollo_server_express_1.makeExecutableSchema({
            typeDefs,
            resolvers: Object.assign({}, scalars_1.SCALARS),
        });
        return schema;
    }
};
ApplicationModule = tslib_1.__decorate([
    common_1.Module({
        controllers: [test_controller_1.TestController],
        providers: [...exports.CommandHandlers, ...exports.EventHandlers],
        imports: [
            data_module_1.DataModule,
            services_module_1.ServicesModule,
            cqrs_1.CqrsModule,
            auth_module_1.AuthModule,
            admins_module_1.AdminsModule,
            config_module_1.ConfigModule,
            typeorm_1.TypeOrmModule.forRoot({
                type: 'mongodb',
                host: 'localhost',
                database: 'test',
                entities,
                synchronize: true,
                useNewUrlParser: true,
                autoReconnect: true,
                logging: true,
            }),
            typeorm_1.TypeOrmModule.forFeature(entities),
            subscriptions_module_1.SubscriptionsModule.forRoot(env_1.env.GQLPORT_SUBSCRIPTIONS),
            graphql_1.GraphQLModule.forRoot({
                typePaths: ['./**/*.graphql'],
                installSubscriptionHandlers: true,
                debug: true,
                playground: true,
                context: ({ req, res }) => ({
                    req,
                }),
            }),
            invites_module_1.InvitesModule,
            devices_module_1.DevicesModule,
            product_module_1.ProductModule,
            warehouses_module_1.WarehousesModule,
            geo_locations_module_1.GeoLocationsModule,
            users_module_1.UsersModule,
            orders_module_1.OrdersModule,
            carriers_module_1.CarriersModule,
            carriers_orders_module_1.CarriersOrdersModule,
            products_module_1.ProductsModule,
            warehouses_products_modules_1.WarehousesProductsModule,
            warehouses_orders_module_1.WarehousesOrdersModule,
            warehouses_carriers_module_1.WarehousesCarriersModule,
            invites_requests_module_1.InvitesRequestsModule,
            geo_location_orders_module_1.GeoLocationOrdersModule,
            geo_location_merchants_module_1.GeoLocationMerchantsModule,
            currency_module_1.CurrencyModule,
        ],
    }),
    tslib_1.__metadata("design:paramtypes", [subscriptions_service_1.SubscriptionsService,
        core_1.ModuleRef,
        cqrs_1.CommandBus,
        cqrs_1.EventBus])
], ApplicationModule);
exports.ApplicationModule = ApplicationModule;


/***/ }),

/***/ "./src/auth/auth.module.ts":
/*!*********************************!*\
  !*** ./src/auth/auth.module.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const jwt_strategy_1 = __webpack_require__(/*! ./jwt.strategy */ "./src/auth/jwt.strategy.ts");
let AuthModule = class AuthModule {
};
AuthModule = tslib_1.__decorate([
    common_1.Module({
        imports: [],
        providers: [jwt_strategy_1.JwtStrategy],
        exports: [],
    })
], AuthModule);
exports.AuthModule = AuthModule;


/***/ }),

/***/ "./src/auth/jwt.strategy.ts":
/*!**********************************!*\
  !*** ./src/auth/jwt.strategy.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const passport_jwt_1 = __webpack_require__(/*! passport-jwt */ "passport-jwt");
const passport_1 = __webpack_require__(/*! @nestjs/passport */ "@nestjs/passport");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const auth_1 = __webpack_require__(/*! ../services/auth */ "./src/services/auth/index.ts");
let JwtStrategy = class JwtStrategy extends passport_1.PassportStrategy(passport_jwt_1.Strategy) {
    constructor(authService) {
        super(auth_1.createJwtData);
        this.authService = authService;
    }
    validate(payload, done) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const user = yield this.authService.validateUser(payload);
            if (!user) {
                return done(new common_1.UnauthorizedException(), false);
            }
            done(null, user);
        });
    }
};
JwtStrategy = tslib_1.__decorate([
    common_1.Injectable(),
    tslib_1.__metadata("design:paramtypes", [auth_1.AuthenticationService])
], JwtStrategy);
exports.JwtStrategy = JwtStrategy;


/***/ }),

/***/ "./src/config/config.module.ts":
/*!*************************************!*\
  !*** ./src/config/config.module.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const config_service_1 = __webpack_require__(/*! ./config.service */ "./src/config/config.service.ts");
let ConfigModule = class ConfigModule {
};
ConfigModule = tslib_1.__decorate([
    common_1.Module({
        providers: [
            {
                provide: config_service_1.ConfigService,
                useValue: new config_service_1.ConfigService(),
            },
        ],
        exports: [config_service_1.ConfigService],
    })
], ConfigModule);
exports.ConfigModule = ConfigModule;


/***/ }),

/***/ "./src/config/config.service.ts":
/*!**************************************!*\
  !*** ./src/config/config.service.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const env_1 = __webpack_require__(/*! ../env */ "./src/env.ts");
let ConfigService = class ConfigService {
    get(key) {
        return env_1.env[key];
    }
    get Env() {
        return env_1.env;
    }
};
ConfigService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('configService')
], ConfigService);
exports.ConfigService = ConfigService;


/***/ }),

/***/ "./src/controllers/product/ProductsDto.ts":
/*!************************************************!*\
  !*** ./src/controllers/product/ProductsDto.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const swagger_1 = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
class UpdateProductDto {
}
tslib_1.__decorate([
    swagger_1.ApiModelProperty(),
    tslib_1.__metadata("design:type", String)
], UpdateProductDto.prototype, "name", void 0);
tslib_1.__decorate([
    swagger_1.ApiModelProperty(),
    tslib_1.__metadata("design:type", Number)
], UpdateProductDto.prototype, "price", void 0);
exports.UpdateProductDto = UpdateProductDto;
class CreateProductDto {
}
tslib_1.__decorate([
    swagger_1.ApiModelProperty(),
    tslib_1.__metadata("design:type", Array)
], CreateProductDto.prototype, "title", void 0);
tslib_1.__decorate([
    swagger_1.ApiModelProperty(),
    tslib_1.__metadata("design:type", Array)
], CreateProductDto.prototype, "description", void 0);
tslib_1.__decorate([
    swagger_1.ApiModelProperty(),
    tslib_1.__metadata("design:type", Array)
], CreateProductDto.prototype, "images", void 0);
exports.CreateProductDto = CreateProductDto;


/***/ }),

/***/ "./src/controllers/product/product.controller.ts":
/*!*******************************************************!*\
  !*** ./src/controllers/product/product.controller.ts ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const swagger_1 = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
const ProductsDto_1 = __webpack_require__(/*! ./ProductsDto */ "./src/controllers/product/ProductsDto.ts");
const passport_1 = __webpack_require__(/*! @nestjs/passport */ "@nestjs/passport");
const products_1 = __webpack_require__(/*! ../../services/products */ "./src/services/products/index.ts");
let ProductController = class ProductController {
    constructor(productsService) {
        this.productsService = productsService;
    }
    findAll(request) {
        return this.productsService.find({});
    }
    findOne(id) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const prod = yield this.productsService.getCurrent(id);
            return prod;
        });
    }
    create(createInfo) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this.productsService.create(createInfo);
        });
    }
    update(id, updateInfo) {
        return `Here updates a #${id} product`;
    }
    remove(id) {
        return `Here removes a #${id} product`;
    }
};
tslib_1.__decorate([
    common_1.Get(),
    common_1.Header('Cache-Control', 'none'),
    common_1.UseGuards(passport_1.AuthGuard('jwt')),
    swagger_1.ApiBearerAuth(),
    tslib_1.__param(0, common_1.Req()),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", void 0)
], ProductController.prototype, "findAll", null);
tslib_1.__decorate([
    common_1.Get(':id'),
    tslib_1.__param(0, common_1.Param('id')),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductController.prototype, "findOne", null);
tslib_1.__decorate([
    common_1.Post(':id'),
    tslib_1.__param(0, common_1.Body()),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [ProductsDto_1.CreateProductDto]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductController.prototype, "create", null);
tslib_1.__decorate([
    common_1.Put(':id'),
    tslib_1.__param(0, common_1.Param('id')), tslib_1.__param(1, common_1.Body()),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, ProductsDto_1.UpdateProductDto]),
    tslib_1.__metadata("design:returntype", void 0)
], ProductController.prototype, "update", null);
tslib_1.__decorate([
    common_1.Delete('id'),
    tslib_1.__param(0, common_1.Param('id')),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", void 0)
], ProductController.prototype, "remove", null);
ProductController = tslib_1.__decorate([
    swagger_1.ApiUseTags('product'),
    common_1.Controller('product'),
    tslib_1.__metadata("design:paramtypes", [products_1.ProductsService])
], ProductController);
exports.ProductController = ProductController;


/***/ }),

/***/ "./src/controllers/product/product.module.ts":
/*!***************************************************!*\
  !*** ./src/controllers/product/product.module.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const product_controller_1 = __webpack_require__(/*! ./product.controller */ "./src/controllers/product/product.controller.ts");
let ProductModule = class ProductModule {
};
ProductModule = tslib_1.__decorate([
    common_1.Module({
        controllers: [product_controller_1.ProductController],
    })
], ProductModule);
exports.ProductModule = ProductModule;


/***/ }),

/***/ "./src/controllers/test.controller.ts":
/*!********************************************!*\
  !*** ./src/controllers/test.controller.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const users_1 = __webpack_require__(/*! ../services/users */ "./src/services/users/index.ts");
const swagger_1 = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
let TestController = class TestController {
    constructor(_userCommandService) {
        this._userCommandService = _userCommandService;
    }
    index() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const userId = '1';
            const deviceId = '2';
            yield this._userCommandService.exec(userId, deviceId);
        });
    }
};
tslib_1.__decorate([
    common_1.Get('index'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], TestController.prototype, "index", null);
TestController = tslib_1.__decorate([
    swagger_1.ApiUseTags('test'),
    common_1.Controller('test'),
    tslib_1.__metadata("design:paramtypes", [users_1.UserCommandService])
], TestController);
exports.TestController = TestController;


/***/ }),

/***/ "./src/env.ts":
/*!********************!*\
  !*** ./src/env.ts ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(__dirname) {
Object.defineProperty(exports, "__esModule", { value: true });
const envalid_1 = __webpack_require__(/*! envalid */ "envalid");
exports.env = envalid_1.cleanEnv(process.env, {
    NODE_ENV: envalid_1.str({
        choices: ['production', 'development', 'test'],
        default: 'development',
    }),
    WEB_CONCURRENCY: envalid_1.num({ default: 1 }),
    WEB_MEMORY: envalid_1.num({ default: 2048 }),
    HTTPSPORT: envalid_1.port({ default: 5501 }),
    HTTPPORT: envalid_1.port({ default: 5500 }),
    GQLPORT: envalid_1.port({ default: 5555 }),
    GQLPORT_SUBSCRIPTIONS: envalid_1.port({ default: 5050 }),
    HTTPS_CERT_PATH: envalid_1.str({ default: 'certificates/https/cert.pem' }),
    HTTPS_KEY_PATH: envalid_1.str({ default: 'certificates/https/key.pem' }),
    LOGS_PATH: envalid_1.str({ default: './tmp/logs' }),
    DB_URI: envalid_1.str({ default: 'mongodb://localhost/ever_development' }),
    TESTING_DB_URI: envalid_1.str({ default: 'mongodb://localhost/ever_testing' }),
    STRIPE_SECRET_KEY: envalid_1.str({ default: '' }),
    URBAN_AIRSHIP_KEY: envalid_1.str({ default: '' }),
    URBAN_AIRSHIP_SECRET: envalid_1.str({ default: '' }),
    AWS_ACCESS_KEY_ID: envalid_1.str({ default: '' }),
    AWS_SECRET_ACCESS_KEY: envalid_1.str({ default: '' }),
    KEYMETRICS_MACHINE_NAME: envalid_1.str({ default: '' }),
    KEYMETRICS_SECRET_KEY: envalid_1.str({ default: '' }),
    KEYMETRICS_PUBLIC_KEY: envalid_1.str({ default: '' }),
    GOOGLE_APP_ID: envalid_1.str({ default: '' }),
    GOOGLE_APP_SECRET: envalid_1.str({ default: '' }),
    FACEBOOK_APP_ID: envalid_1.str({ default: '' }),
    FACEBOOK_APP_SECRET: envalid_1.str({ default: '' }),
    JWT_SECRET: envalid_1.str({ default: 'default' }),
    ADMIN_PASSWORD_BCRYPT_SALT_ROUNDS: envalid_1.num({
        desc: 'Used for passwords encryption, recommended value: 12',
        docs: 'https://security.stackexchange.com/questions/17207/recommended-of-rounds-for-bcrypt',
        default: 12,
    }),
    WAREHOUSE_PASSWORD_BCRYPT_SALT_ROUNDS: envalid_1.num({
        desc: 'Used for passwords encryption, recommended value: 12',
        docs: 'https://security.stackexchange.com/questions/17207/recommended-of-rounds-for-bcrypt',
        default: 12,
    }),
    CARRIER_PASSWORD_BCRYPT_SALT_ROUNDS: envalid_1.num({
        desc: 'Used for passwords encryption, recommended value: 12',
        docs: 'https://security.stackexchange.com/questions/17207/recommended-of-rounds-for-bcrypt',
        default: 12,
    }),
    USER_PASSWORD_BCRYPT_SALT_ROUNDS: envalid_1.num({
        desc: 'Used for passwords encryption, recommended value: 10',
        docs: 'https://security.stackexchange.com/questions/17207/recommended-of-rounds-for-bcrypt',
        default: 10,
    }),
    SETTING_INVITES_ENABLED: envalid_1.bool({ default: false }),
    SETTINGS_REGISTRATIONS_REQUIRED_ON_START: envalid_1.bool({ default: false }),
    FAKE_INVITE_CODE: envalid_1.num({ default: 0 }),
    ARCGIS_CLIENT_ID: envalid_1.str({ default: '' }),
    ARCGIS_CLIENT_SECRET: envalid_1.str({ default: '' }),
    IP_STACK_API_KEY: envalid_1.str({ default: '' }),
    LOG_LEVEL: envalid_1.str({
        choices: ['trace', 'debug', 'info', 'warn', 'error', 'fatal'],
        default: 'error',
    }),
    ENGINE_API_KEY: envalid_1.str({
        desc: 'Apollo Engine Key (optional, see https://www.apollographql.com/docs/platform/schema-registry)',
        default: '',
    }),
    MAX_SOCKETS: envalid_1.num({ default: Infinity }),
}, { strict: true, dotEnvPath: __dirname + '/../.env' });

/* WEBPACK VAR INJECTION */}.call(this, "/"))

/***/ }),

/***/ "./src/graphql/admin/admin.resolver.ts":
/*!*********************************************!*\
  !*** ./src/graphql/admin/admin.resolver.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const admins_1 = __webpack_require__(/*! ../../services/admins */ "./src/services/admins/index.ts");
const passport_jwt_1 = __webpack_require__(/*! passport-jwt */ "passport-jwt");
let AdminResolver = class AdminResolver {
    constructor(_adminsService) {
        this._adminsService = _adminsService;
    }
    getAdmin(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._adminsService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getByEmail(_, { email }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._adminsService.getByEmail(email);
        });
    }
    registerAdmin(_, { registerInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._adminsService.register(registerInput);
        });
    }
    updateAdmin(_, { id, updateInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._adminsService.throwIfNotExists(id);
            return this._adminsService.update(id, updateInput);
        });
    }
    adminLogin(_, { email, password }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._adminsService.login(email, password);
        });
    }
    adminAuthenticated(_, __, context) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._adminsService.isAuthenticated(passport_jwt_1.ExtractJwt.fromAuthHeaderAsBearerToken()(context.req));
        });
    }
    updateAdminPassword(_, { id, password, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._adminsService.updatePassword(id, password);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('admin'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminResolver.prototype, "getAdmin", null);
tslib_1.__decorate([
    graphql_1.Query('adminByEmail'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminResolver.prototype, "getByEmail", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminResolver.prototype, "registerAdmin", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminResolver.prototype, "updateAdmin", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminResolver.prototype, "adminLogin", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminResolver.prototype, "adminAuthenticated", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminResolver.prototype, "updateAdminPassword", null);
AdminResolver = tslib_1.__decorate([
    graphql_1.Resolver('Admin'),
    tslib_1.__metadata("design:paramtypes", [admins_1.AdminsService])
], AdminResolver);
exports.AdminResolver = AdminResolver;


/***/ }),

/***/ "./src/graphql/admin/admins.module.ts":
/*!********************************************!*\
  !*** ./src/graphql/admin/admins.module.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const admin_resolver_1 = __webpack_require__(/*! ./admin.resolver */ "./src/graphql/admin/admin.resolver.ts");
let AdminsModule = class AdminsModule {
};
AdminsModule = tslib_1.__decorate([
    common_1.Module({
        providers: [admin_resolver_1.AdminResolver],
    })
], AdminsModule);
exports.AdminsModule = AdminsModule;


/***/ }),

/***/ "./src/graphql/carriers-orders/carriers-orders.module.ts":
/*!***************************************************************!*\
  !*** ./src/graphql/carriers-orders/carriers-orders.module.ts ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const carriers_orders_resolver_1 = __webpack_require__(/*! ./carriers-orders.resolver */ "./src/graphql/carriers-orders/carriers-orders.resolver.ts");
let CarriersOrdersModule = class CarriersOrdersModule {
};
CarriersOrdersModule = tslib_1.__decorate([
    common_1.Module({
        providers: [carriers_orders_resolver_1.CarriersOrdersResolver],
    })
], CarriersOrdersModule);
exports.CarriersOrdersModule = CarriersOrdersModule;


/***/ }),

/***/ "./src/graphql/carriers-orders/carriers-orders.resolver.ts":
/*!*****************************************************************!*\
  !*** ./src/graphql/carriers-orders/carriers-orders.resolver.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const carriers_1 = __webpack_require__(/*! ../../services/carriers */ "./src/services/carriers/index.ts");
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
let CarriersOrdersResolver = class CarriersOrdersResolver {
    constructor(_carriersOrdersService) {
        this._carriersOrdersService = _carriersOrdersService;
    }
    getCarrierOrders(_, { carrierId, options, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersOrdersService.getCarrierOrders(carrierId, options);
        });
    }
    getCarrierCurrentOrder(_, { carrierId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const dbOrder = yield this._carriersOrdersService.getCarrierCurrentOrder(carrierId);
            return dbOrder !== null ? new Order_1.default(dbOrder) : null;
        });
    }
    getCarrierOrdersHistory(_, { carrierId, options, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersOrdersService.getCarrierOrdersHistory(carrierId, options);
        });
    }
    getCountOfCarrierOrdersHistory(_, { carrierId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersOrdersService.getCountOfCarrierOrdersHistory(carrierId);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('getCarrierOrders'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersResolver.prototype, "getCarrierOrders", null);
tslib_1.__decorate([
    graphql_1.Query('getCarrierCurrentOrder'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersResolver.prototype, "getCarrierCurrentOrder", null);
tslib_1.__decorate([
    graphql_1.Query('getCarrierOrdersHistory'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersResolver.prototype, "getCarrierOrdersHistory", null);
tslib_1.__decorate([
    graphql_1.Query('getCountOfCarrierOrdersHistory'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersResolver.prototype, "getCountOfCarrierOrdersHistory", null);
CarriersOrdersResolver = tslib_1.__decorate([
    graphql_1.Resolver('CarriersOrders'),
    tslib_1.__metadata("design:paramtypes", [carriers_1.CarriersOrdersService])
], CarriersOrdersResolver);
exports.CarriersOrdersResolver = CarriersOrdersResolver;


/***/ }),

/***/ "./src/graphql/carriers/carrier.resolver.ts":
/*!**************************************************!*\
  !*** ./src/graphql/carriers/carrier.resolver.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const carriers_1 = __webpack_require__(/*! ../../services/carriers */ "./src/services/carriers/index.ts");
const Carrier_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Carrier */ "./node_modules/@ever-platform/common/src/entities/Carrier.ts"));
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const devices_1 = __webpack_require__(/*! ../../services/devices */ "./src/services/devices/index.ts");
const CarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/CarrierStatus */ "./node_modules/@ever-platform/common/src/enums/CarrierStatus.ts"));
let CarrierResolver = class CarrierResolver {
    constructor(_carriersService, _devicesService) {
        this._carriersService = _carriersService;
        this._devicesService = _devicesService;
    }
    getActiveCarriers() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.getAllActive().pipe(operators_1.first()).toPromise();
        });
    }
    getCarriers(_, { carriersFindInput, pagingOptions = {} }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!pagingOptions || (pagingOptions && !pagingOptions['sort'])) {
                pagingOptions['sort'] = { field: '_createdAt', sortBy: 'desc' };
            }
            const carriers = yield this._carriersService.getCarriers(carriersFindInput, pagingOptions);
            return carriers.map((c) => new Carrier_1.default(c));
        });
    }
    getCarrierByUsername(_, { username }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.findOne({
                username,
                isDeleted: { $eq: false },
            });
        });
    }
    getCarrier(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getCountOfCarriers(_, { carriersFindInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.Model.find(Object.assign(Object.assign({}, carriersFindInput), { isDeleted: { $eq: false } }))
                .countDocuments()
                .exec();
        });
    }
    updateCarrierEmail(_, { carrierId, email }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.updateEmail(carrierId, email);
        });
    }
    registerCarrier(_, { registerInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.register(registerInput);
        });
    }
    updateCarrierStatus(_, { id, status }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this._carriersService.updateStatus(id, CarrierStatus_1.default[status]);
        });
    }
    updateCarrier(_, { id, updateInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._carriersService.throwIfNotExists(id);
            return this._carriersService.update(id, updateInput);
        });
    }
    removeCarrier(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._carriersService.throwIfNotExists(id);
            return this._carriersService.remove(id);
        });
    }
    removeCarriersByIds(_, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const carriers = yield this._carriersService.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const carriersIds = carriers.map((d) => d.id);
            return this._carriersService.removeMultipleByIds(carriersIds);
        });
    }
    getDevices(_carrier) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const carrier = new Carrier_1.default(_carrier);
            return this._devicesService
                .getMultiple(carrier.devicesIds)
                .pipe(operators_1.map((devices) => devices.filter((d) => !d.isDeleted)), operators_1.first())
                .toPromise();
        });
    }
    carrierLogin(_, { username, password }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.login(username, password);
        });
    }
    updateCarrierPassword(_, { id, password, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.updatePassword(id, password);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('getActiveCarriers'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "getActiveCarriers", null);
tslib_1.__decorate([
    graphql_1.Query('getCarriers'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "getCarriers", null);
tslib_1.__decorate([
    graphql_1.Query('getCarrierByUsername'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "getCarrierByUsername", null);
tslib_1.__decorate([
    graphql_1.Query('getCarrier'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "getCarrier", null);
tslib_1.__decorate([
    graphql_1.Query('getCountOfCarriers'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "getCountOfCarriers", null);
tslib_1.__decorate([
    graphql_1.Mutation('updateCarrierEmail'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "updateCarrierEmail", null);
tslib_1.__decorate([
    graphql_1.Mutation('registerCarrier'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "registerCarrier", null);
tslib_1.__decorate([
    graphql_1.Mutation('updateCarrierStatus'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "updateCarrierStatus", null);
tslib_1.__decorate([
    graphql_1.Mutation('updateCarrier'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "updateCarrier", null);
tslib_1.__decorate([
    graphql_1.Mutation('removeCarrier'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "removeCarrier", null);
tslib_1.__decorate([
    graphql_1.Mutation('removeCarriersByIds'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "removeCarriersByIds", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('devices'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "getDevices", null);
tslib_1.__decorate([
    graphql_1.Mutation('carrierLogin'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "carrierLogin", null);
tslib_1.__decorate([
    graphql_1.Mutation('updateCarrierPassword'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "updateCarrierPassword", null);
CarrierResolver = tslib_1.__decorate([
    graphql_1.Resolver('Carrier'),
    tslib_1.__metadata("design:paramtypes", [carriers_1.CarriersService,
        devices_1.DevicesService])
], CarrierResolver);
exports.CarrierResolver = CarrierResolver;


/***/ }),

/***/ "./src/graphql/carriers/carriers.module.ts":
/*!*************************************************!*\
  !*** ./src/graphql/carriers/carriers.module.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const carrier_resolver_1 = __webpack_require__(/*! ./carrier.resolver */ "./src/graphql/carriers/carrier.resolver.ts");
let CarriersModule = class CarriersModule {
};
CarriersModule = tslib_1.__decorate([
    common_1.Module({
        providers: [carrier_resolver_1.CarrierResolver],
    })
], CarriersModule);
exports.CarriersModule = CarriersModule;


/***/ }),

/***/ "./src/graphql/currency/currency.module.ts":
/*!*************************************************!*\
  !*** ./src/graphql/currency/currency.module.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const currency_resolver_1 = __webpack_require__(/*! ./currency.resolver */ "./src/graphql/currency/currency.resolver.ts");
let CurrencyModule = class CurrencyModule {
};
CurrencyModule = tslib_1.__decorate([
    common_1.Module({
        providers: [currency_resolver_1.CurrencyResolver],
    })
], CurrencyModule);
exports.CurrencyModule = CurrencyModule;


/***/ }),

/***/ "./src/graphql/currency/currency.resolver.ts":
/*!***************************************************!*\
  !*** ./src/graphql/currency/currency.resolver.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const CurrencyService_1 = __webpack_require__(/*! ../../services/currency/CurrencyService */ "./src/services/currency/CurrencyService.ts");
let CurrencyResolver = class CurrencyResolver {
    constructor(_currenciesService) {
        this._currenciesService = _currenciesService;
    }
    getCurrencies(_) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._currenciesService.getAllCurrencies();
        });
    }
    createCurrency(_, { createInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._currenciesService.createCurrency(createInput);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('currencies'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CurrencyResolver.prototype, "getCurrencies", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CurrencyResolver.prototype, "createCurrency", null);
CurrencyResolver = tslib_1.__decorate([
    graphql_1.Resolver('Currency'),
    tslib_1.__metadata("design:paramtypes", [CurrencyService_1.CurrenciesService])
], CurrencyResolver);
exports.CurrencyResolver = CurrencyResolver;


/***/ }),

/***/ "./src/graphql/data/data.module.ts":
/*!*****************************************!*\
  !*** ./src/graphql/data/data.module.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const data_resolver_1 = __webpack_require__(/*! ./data.resolver */ "./src/graphql/data/data.resolver.ts");
let DataModule = class DataModule {
};
DataModule = tslib_1.__decorate([
    common_1.Module({
        providers: [data_resolver_1.DataResolver],
    })
], DataModule);
exports.DataModule = DataModule;


/***/ }),

/***/ "./src/graphql/data/data.resolver.ts":
/*!*******************************************!*\
  !*** ./src/graphql/data/data.resolver.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const InvitesService_1 = __webpack_require__(/*! ../../services/invites/InvitesService */ "./src/services/invites/InvitesService.ts");
const admins_1 = __webpack_require__(/*! ../../services/admins */ "./src/services/admins/index.ts");
const carriers_1 = __webpack_require__(/*! ../../services/carriers */ "./src/services/carriers/index.ts");
const invites_1 = __webpack_require__(/*! ../../services/invites */ "./src/services/invites/index.ts");
const orders_1 = __webpack_require__(/*! ../../services/orders */ "./src/services/orders/index.ts");
const users_1 = __webpack_require__(/*! ../../services/users */ "./src/services/users/index.ts");
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const devices_1 = __webpack_require__(/*! ../../services/devices */ "./src/services/devices/index.ts");
const products_1 = __webpack_require__(/*! ../../services/products */ "./src/services/products/index.ts");
let DataResolver = class DataResolver {
    constructor(_adminsService, _carriersService, _inviteRequestsService, _invitesService, _ordersService, _usersService, _storesService, _devicesService, _productsService, _productsCategoriesService) {
        this._adminsService = _adminsService;
        this._carriersService = _carriersService;
        this._inviteRequestsService = _inviteRequestsService;
        this._invitesService = _invitesService;
        this._ordersService = _ordersService;
        this._usersService = _usersService;
        this._storesService = _storesService;
        this._devicesService = _devicesService;
        this._productsService = _productsService;
        this._productsCategoriesService = _productsCategoriesService;
    }
    clearAll() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            [
                this._adminsService,
                this._carriersService,
                this._devicesService,
                this._invitesService,
                this._inviteRequestsService,
                this._ordersService,
                this._productsService,
                this._productsCategoriesService,
                this._usersService,
                this._storesService,
            ].forEach((service) => {
                service.Model.updateMany({}, { isDeleted: true }, (err, raw) => {
                    if (err !== null) {
                        const collectionName = service.constructor.name.replace('Service', '');
                        throw new Error(`Cannot update '${collectionName}' collection`);
                    }
                });
            });
            return true;
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('clearAll'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], DataResolver.prototype, "clearAll", null);
DataResolver = tslib_1.__decorate([
    graphql_1.Resolver('Data'),
    tslib_1.__metadata("design:paramtypes", [admins_1.AdminsService,
        carriers_1.CarriersService,
        invites_1.InvitesRequestsService,
        InvitesService_1.InvitesService,
        orders_1.OrdersService,
        users_1.UsersService,
        warehouses_1.WarehousesService,
        devices_1.DevicesService,
        products_1.ProductsService,
        products_1.ProductsCategoriesService])
], DataResolver);
exports.DataResolver = DataResolver;


/***/ }),

/***/ "./src/graphql/devices/device.resolver.ts":
/*!************************************************!*\
  !*** ./src/graphql/devices/device.resolver.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const passport_1 = __webpack_require__(/*! @nestjs/passport */ "@nestjs/passport");
const graphql_subscriptions_1 = __webpack_require__(/*! graphql-subscriptions */ "graphql-subscriptions");
const devices_1 = __webpack_require__(/*! ../../services/devices */ "./src/services/devices/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const pubSub = new graphql_subscriptions_1.PubSub();
let DeviceResolver = class DeviceResolver {
    constructor(_devicesService) {
        this._devicesService = _devicesService;
    }
    getDevice(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._devicesService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getDevices(_, { findInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._devicesService.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false } }));
        });
    }
    updateDeviceLanguage(_, { deviceId, language, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._devicesService.updateLanguage(deviceId, language);
        });
    }
    createDevice(_, { createInfo }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._devicesService.create(createInfo);
        });
    }
    updateDevice(_, { id, updateInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._devicesService.throwIfNotExists(id);
            try {
                const device = yield this._devicesService.update(id, updateInput);
                pubSub.publish('deviceCreated', { deviceCreated: device });
                return device;
            }
            catch (error) {
                console.log(error);
                return null;
            }
        });
    }
    removeDevice(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._devicesService.throwIfNotExists(id);
            return this._devicesService.remove(id);
        });
    }
    removeDeviceByIds(_, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const devices = yield this._devicesService.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const devicesIds = devices.map((d) => d.id);
            return this._devicesService.removeMultipleByIds(devicesIds);
        });
    }
    deviceCreated() {
        return {
            subscribe: () => pubSub.asyncIterator('deviceCreated'),
        };
    }
};
tslib_1.__decorate([
    graphql_1.Query('device'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DeviceResolver.prototype, "getDevice", null);
tslib_1.__decorate([
    graphql_1.Query('devices'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DeviceResolver.prototype, "getDevices", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DeviceResolver.prototype, "updateDeviceLanguage", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    common_1.UseGuards(passport_1.AuthGuard('jwt')),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DeviceResolver.prototype, "createDevice", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DeviceResolver.prototype, "updateDevice", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DeviceResolver.prototype, "removeDevice", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DeviceResolver.prototype, "removeDeviceByIds", null);
tslib_1.__decorate([
    graphql_1.Subscription(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", void 0)
], DeviceResolver.prototype, "deviceCreated", null);
DeviceResolver = tslib_1.__decorate([
    graphql_1.Resolver('Device'),
    tslib_1.__metadata("design:paramtypes", [devices_1.DevicesService])
], DeviceResolver);
exports.DeviceResolver = DeviceResolver;


/***/ }),

/***/ "./src/graphql/devices/devices.module.ts":
/*!***********************************************!*\
  !*** ./src/graphql/devices/devices.module.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const device_resolver_1 = __webpack_require__(/*! ./device.resolver */ "./src/graphql/devices/device.resolver.ts");
let DevicesModule = class DevicesModule {
};
DevicesModule = tslib_1.__decorate([
    common_1.Module({
        providers: [device_resolver_1.DeviceResolver],
    })
], DevicesModule);
exports.DevicesModule = DevicesModule;


/***/ }),

/***/ "./src/graphql/geo-locations/geo-location.resolver.ts":
/*!************************************************************!*\
  !*** ./src/graphql/geo-locations/geo-location.resolver.ts ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const geo_locations_1 = __webpack_require__(/*! ../../services/geo-locations */ "./src/services/geo-locations/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let GeoLocationResolver = class GeoLocationResolver {
    constructor(geoLocationsProductsService) {
        this.geoLocationsProductsService = geoLocationsProductsService;
    }
    getGeoLocationProducts(_, { geoLocation }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this.geoLocationsProductsService
                .get(geoLocation)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    geoLocationProductsByPaging(_, { geoLocation, options, pagingOptions = {}, searchText, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this.geoLocationsProductsService.geoLocationProductsByPaging(geoLocation, pagingOptions, options, searchText);
        });
    }
    getCountOfGeoLocationProducts(_, { geoLocation, options, searchText, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this.geoLocationsProductsService.getCountOfGeoLocationProducts(geoLocation, options, searchText);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('geoLocationProducts'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationResolver.prototype, "getGeoLocationProducts", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationResolver.prototype, "geoLocationProductsByPaging", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationResolver.prototype, "getCountOfGeoLocationProducts", null);
GeoLocationResolver = tslib_1.__decorate([
    graphql_1.Resolver('GeoLocation'),
    tslib_1.__metadata("design:paramtypes", [geo_locations_1.GeoLocationsProductsService])
], GeoLocationResolver);
exports.GeoLocationResolver = GeoLocationResolver;


/***/ }),

/***/ "./src/graphql/geo-locations/geo-locations.module.ts":
/*!***********************************************************!*\
  !*** ./src/graphql/geo-locations/geo-locations.module.ts ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const geo_location_resolver_1 = __webpack_require__(/*! ./geo-location.resolver */ "./src/graphql/geo-locations/geo-location.resolver.ts");
let GeoLocationsModule = class GeoLocationsModule {
};
GeoLocationsModule = tslib_1.__decorate([
    common_1.Module({
        providers: [geo_location_resolver_1.GeoLocationResolver],
    })
], GeoLocationsModule);
exports.GeoLocationsModule = GeoLocationsModule;


/***/ }),

/***/ "./src/graphql/geo-locations/merchants/geo-location-merchants.module.ts":
/*!******************************************************************************!*\
  !*** ./src/graphql/geo-locations/merchants/geo-location-merchants.module.ts ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const geo_location_merchants_resolver_1 = __webpack_require__(/*! ./geo-location-merchants.resolver */ "./src/graphql/geo-locations/merchants/geo-location-merchants.resolver.ts");
let GeoLocationMerchantsModule = class GeoLocationMerchantsModule {
};
GeoLocationMerchantsModule = tslib_1.__decorate([
    common_1.Module({
        providers: [geo_location_merchants_resolver_1.GeoLocationMerchantsResolver],
    })
], GeoLocationMerchantsModule);
exports.GeoLocationMerchantsModule = GeoLocationMerchantsModule;


/***/ }),

/***/ "./src/graphql/geo-locations/merchants/geo-location-merchants.resolver.ts":
/*!********************************************************************************!*\
  !*** ./src/graphql/geo-locations/merchants/geo-location-merchants.resolver.ts ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const geo_locations_1 = __webpack_require__(/*! ../../../services/geo-locations */ "./src/services/geo-locations/index.ts");
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const utils_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/utils */ "./node_modules/@ever-platform/common/src/utils.ts"));
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const IN_STORE_DISTANCE = 50;
let GeoLocationMerchantsResolver = class GeoLocationMerchantsResolver {
    constructor(geoLocationsWarehousesService) {
        this.geoLocationsWarehousesService = geoLocationsWarehousesService;
    }
    getCoseMerchants(_, { geoLocation }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            let merchants = yield this.geoLocationsWarehousesService.getMerchants(geoLocation, IN_STORE_DISTANCE, { fullProducts: false, activeOnly: true });
            merchants = merchants.sort((m1, m2) => utils_1.default.getDistance(new GeoLocation_1.default(m1.geoLocation), new GeoLocation_1.default(geoLocation)) -
                utils_1.default.getDistance(new GeoLocation_1.default(m2.geoLocation), new GeoLocation_1.default(geoLocation)));
            return merchants.map((m) => new Warehouse_1.default(m));
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('getCoseMerchants'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationMerchantsResolver.prototype, "getCoseMerchants", null);
GeoLocationMerchantsResolver = tslib_1.__decorate([
    graphql_1.Resolver('GeoLocationMerchants'),
    tslib_1.__metadata("design:paramtypes", [geo_locations_1.GeoLocationsWarehousesService])
], GeoLocationMerchantsResolver);
exports.GeoLocationMerchantsResolver = GeoLocationMerchantsResolver;


/***/ }),

/***/ "./src/graphql/geo-locations/orders/geo-location-orders.module.ts":
/*!************************************************************************!*\
  !*** ./src/graphql/geo-locations/orders/geo-location-orders.module.ts ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const geo_location_orders_resolver_1 = __webpack_require__(/*! ./geo-location-orders.resolver */ "./src/graphql/geo-locations/orders/geo-location-orders.resolver.ts");
let GeoLocationOrdersModule = class GeoLocationOrdersModule {
};
GeoLocationOrdersModule = tslib_1.__decorate([
    common_1.Module({
        providers: [geo_location_orders_resolver_1.GeoLocationOrdersResolver],
    })
], GeoLocationOrdersModule);
exports.GeoLocationOrdersModule = GeoLocationOrdersModule;


/***/ }),

/***/ "./src/graphql/geo-locations/orders/geo-location-orders.resolver.ts":
/*!**************************************************************************!*\
  !*** ./src/graphql/geo-locations/orders/geo-location-orders.resolver.ts ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const GeoLocationsOrdersService_1 = __webpack_require__(/*! ../../../services/geo-locations/GeoLocationsOrdersService */ "./src/services/geo-locations/GeoLocationsOrdersService.ts");
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
let GeoLocationOrdersResolver = class GeoLocationOrdersResolver {
    constructor(geoLocationsOrdersService) {
        this.geoLocationsOrdersService = geoLocationsOrdersService;
    }
    getOrderForWork(_, { geoLocation, skippedOrderIds, options, searchObj, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const orders = yield this.geoLocationsOrdersService.getOrdersForWork(geoLocation, skippedOrderIds, options, searchObj);
            return orders[0];
        });
    }
    getOrdersForWork(_, { geoLocation, skippedOrderIds, options, searchObj, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const orders = yield this.geoLocationsOrdersService.getOrdersForWork(geoLocation, skippedOrderIds, options, searchObj);
            return orders.map((o) => new Order_1.default(o));
        });
    }
    getCountOfOrdersForWork(_, { geoLocation, skippedOrderIds, searchObj, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this.geoLocationsOrdersService.getCountOfOrdersForWork(geoLocation, skippedOrderIds, searchObj);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('getOrderForWork'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationOrdersResolver.prototype, "getOrderForWork", null);
tslib_1.__decorate([
    graphql_1.Query('getOrdersForWork'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationOrdersResolver.prototype, "getOrdersForWork", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationOrdersResolver.prototype, "getCountOfOrdersForWork", null);
GeoLocationOrdersResolver = tslib_1.__decorate([
    graphql_1.Resolver('GeoLocationOrders'),
    tslib_1.__metadata("design:paramtypes", [GeoLocationsOrdersService_1.GeoLocationsOrdersService])
], GeoLocationOrdersResolver);
exports.GeoLocationOrdersResolver = GeoLocationOrdersResolver;


/***/ }),

/***/ "./src/graphql/invites-requests/invites-requests.module.ts":
/*!*****************************************************************!*\
  !*** ./src/graphql/invites-requests/invites-requests.module.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const invites_requests_resolver_1 = __webpack_require__(/*! ./invites-requests.resolver */ "./src/graphql/invites-requests/invites-requests.resolver.ts");
let InvitesRequestsModule = class InvitesRequestsModule {
};
InvitesRequestsModule = tslib_1.__decorate([
    common_1.Module({
        providers: [invites_requests_resolver_1.InviteRequestResolver],
    })
], InvitesRequestsModule);
exports.InvitesRequestsModule = InvitesRequestsModule;


/***/ }),

/***/ "./src/graphql/invites-requests/invites-requests.resolver.ts":
/*!*******************************************************************!*\
  !*** ./src/graphql/invites-requests/invites-requests.resolver.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const invites_1 = __webpack_require__(/*! ../../services/invites */ "./src/services/invites/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const InviteRequest_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/InviteRequest */ "./node_modules/@ever-platform/common/src/entities/InviteRequest.ts"));
let InviteRequestResolver = class InviteRequestResolver {
    constructor(_invitesRequestsService) {
        this._invitesRequestsService = _invitesRequestsService;
    }
    generate1000InviteRequests(_, { defaultLng, defaultLat }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._invitesRequestsService.generate1000InviteRequests(defaultLng, defaultLat);
        });
    }
    getInviteRequest(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesRequestsService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    notifyAboutLaunch(_, { invite, devicesIds, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesRequestsService.notifyAboutLaunch(invite, devicesIds);
        });
    }
    getInvitesRequests(_, { findInput, invited, pagingOptions = {} }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!pagingOptions || (pagingOptions && !pagingOptions['sort'])) {
                pagingOptions['sort'] = { field: '_createdAt', sortBy: 'asc' };
            }
            const invitesRequests = yield this._invitesRequestsService.getInvitesRequests(findInput, invited, pagingOptions);
            return invitesRequests.map((i) => new InviteRequest_1.default(i));
        });
    }
    getCountOfInvitesRequests(_, { invited }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const findObj = { isDeleted: { $eq: false } };
            if (!invited) {
                findObj['isInvited'] = { $eq: false };
            }
            return this._invitesRequestsService.Model.find(findObj)
                .countDocuments()
                .exec();
        });
    }
    createInviteRequest(_, { createInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesRequestsService.create(createInput);
        });
    }
    updateInviteRequest(_, { id, updateInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._invitesRequestsService.throwIfNotExists(id);
            return this._invitesRequestsService.update(id, updateInput);
        });
    }
    removeInviteRequest(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._invitesRequestsService.throwIfNotExists(id);
            return this._invitesRequestsService.remove(id);
        });
    }
    removeInvitesRequestsByIds(_, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const inviteRequests = yield this._invitesRequestsService.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const inviteRequestsIds = inviteRequests.map((d) => d.id);
            return this._invitesRequestsService.removeMultipleByIds(inviteRequestsIds);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "generate1000InviteRequests", null);
tslib_1.__decorate([
    graphql_1.Query('inviteRequest'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "getInviteRequest", null);
tslib_1.__decorate([
    graphql_1.Query('notifyAboutLaunch'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "notifyAboutLaunch", null);
tslib_1.__decorate([
    graphql_1.Query('invitesRequests'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "getInvitesRequests", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "getCountOfInvitesRequests", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "createInviteRequest", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "updateInviteRequest", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "removeInviteRequest", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "removeInvitesRequestsByIds", null);
InviteRequestResolver = tslib_1.__decorate([
    graphql_1.Resolver('Invite-request'),
    tslib_1.__metadata("design:paramtypes", [invites_1.InvitesRequestsService])
], InviteRequestResolver);
exports.InviteRequestResolver = InviteRequestResolver;


/***/ }),

/***/ "./src/graphql/invites/invite.resolver.ts":
/*!************************************************!*\
  !*** ./src/graphql/invites/invite.resolver.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const InvitesService_1 = __webpack_require__(/*! ../../services/invites/InvitesService */ "./src/services/invites/InvitesService.ts");
const invites_1 = __webpack_require__(/*! ../../services/invites */ "./src/services/invites/index.ts");
const Invite_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Invite */ "./node_modules/@ever-platform/common/src/entities/Invite.ts"));
let InviteResolver = class InviteResolver {
    constructor(_invitesService, _inviteRequestsService) {
        this._invitesService = _invitesService;
        this._inviteRequestsService = _inviteRequestsService;
    }
    generate1000InvitesConnectedToInviteRequests(_, { defaultLng, defaultLat }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const { invitesRequestsToCreate, invitesToCreate, } = this._invitesService.generate1000InvitesConnectedToInviteRequests(defaultLng, defaultLat);
            yield this._invitesService.Model.insertMany(invitesToCreate);
            yield this._inviteRequestsService.Model.insertMany(invitesRequestsToCreate);
        });
    }
    getInvite(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getInviteByCode(_, { info }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesService.getByCode(info).pipe(operators_1.first()).toPromise();
        });
    }
    getInviteByLocation(_, { info }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesService
                .getByLocation(info)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getInvites(_, { findInput, pagingOptions = {} }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!pagingOptions || (pagingOptions && !pagingOptions['sort'])) {
                pagingOptions['sort'] = { field: '_createdAt', sortBy: 'desc' };
            }
            const invites = yield this._invitesService.getInvites(findInput, pagingOptions);
            return invites.map((i) => new Invite_1.default(i));
        });
    }
    getCountOfInvites() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesService.Model.find({ isDeleted: { $eq: false } })
                .countDocuments()
                .exec();
        });
    }
    createInvite(_, { createInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesService.create(createInput);
        });
    }
    updateInvite(_, { id, updateInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._invitesService.throwIfNotExists(id);
            return this._invitesService.update(id, updateInput);
        });
    }
    removeInvite(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._invitesService.throwIfNotExists(id);
            return this._invitesService.remove(id);
        });
    }
    removeInvitesByIds(_, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const invites = yield this._invitesService.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const invitesIds = invites.map((d) => d.id);
            return this._invitesService.removeMultipleByIds(invitesIds);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "generate1000InvitesConnectedToInviteRequests", null);
tslib_1.__decorate([
    graphql_1.Query('invite'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "getInvite", null);
tslib_1.__decorate([
    graphql_1.Query('getInviteByCode'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "getInviteByCode", null);
tslib_1.__decorate([
    graphql_1.Query('getInviteByLocation'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "getInviteByLocation", null);
tslib_1.__decorate([
    graphql_1.Query('invites'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "getInvites", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "getCountOfInvites", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "createInvite", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "updateInvite", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "removeInvite", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "removeInvitesByIds", null);
InviteResolver = tslib_1.__decorate([
    graphql_1.Resolver('Invite'),
    tslib_1.__metadata("design:paramtypes", [InvitesService_1.InvitesService,
        invites_1.InvitesRequestsService])
], InviteResolver);
exports.InviteResolver = InviteResolver;


/***/ }),

/***/ "./src/graphql/invites/invites.module.ts":
/*!***********************************************!*\
  !*** ./src/graphql/invites/invites.module.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const invite_resolver_1 = __webpack_require__(/*! ./invite.resolver */ "./src/graphql/invites/invite.resolver.ts");
let InvitesModule = class InvitesModule {
};
InvitesModule = tslib_1.__decorate([
    common_1.Module({
        providers: [invite_resolver_1.InviteResolver],
    })
], InvitesModule);
exports.InvitesModule = InvitesModule;


/***/ }),

/***/ "./src/graphql/orders/order.resolver.ts":
/*!**********************************************!*\
  !*** ./src/graphql/orders/order.resolver.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const CarriersService_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../services/carriers/CarriersService */ "./src/services/carriers/CarriersService.ts"));
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const OrderCarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderCarrierStatus */ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts"));
const OrderWarehouseStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderWarehouseStatus */ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts"));
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const orders_1 = __webpack_require__(/*! ../../services/orders */ "./src/services/orders/index.ts");
const users_1 = __webpack_require__(/*! ../../services/users */ "./src/services/users/index.ts");
const products_1 = __webpack_require__(/*! ../../services/products */ "./src/services/products/index.ts");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const bson_1 = __webpack_require__(/*! bson */ "bson");
const FakeOrdersService_1 = __webpack_require__(/*! ../../services/fake-data/FakeOrdersService */ "./src/services/fake-data/FakeOrdersService.ts");
let OrderResolver = class OrderResolver {
    constructor(_ordersService, _carriersService, _warehousesService, _usersService, _productsService, _fakeOrdersService) {
        this._ordersService = _ordersService;
        this._carriersService = _carriersService;
        this._warehousesService = _warehousesService;
        this._usersService = _usersService;
        this._productsService = _productsService;
        this._fakeOrdersService = _fakeOrdersService;
        this._getRandomProduct = (orderCount, products) => {
            return products[orderCount % products.length];
        };
        this._getRandomCustomer = (orderCount, customers) => {
            if (orderCount < customers.length) {
                return customers[orderCount];
            }
            else {
                return customers[orderCount % customers.length];
            }
        };
        this._getRandomCarrierId = (orderCount, carriers) => {
            return carriers[orderCount % carriers.length].id;
        };
        this._prepareOrderFieldsValues = (orderCount) => {
            const hasCarrier = Math.random() > 0.07;
            const orderIsPaid = Math.random() > 0.15;
            const numberOfProductsToOrder = orderCount % 4 || 1;
            return { numberOfProductsToOrder, hasCarrier, orderIsPaid };
        };
        this._getRandomOrderDate = (orderCount) => {
            const orderDate = new Date();
            orderDate.setFullYear(orderDate.getFullYear() - Math.round(Math.random() * 5));
            const dateNow = new Date();
            const isCurrentYear = orderDate.getFullYear() === dateNow.getFullYear();
            const months = isCurrentYear ? Number(dateNow.getMonth()) : 11;
            orderDate.setMonth(months > 0 ? orderCount % months : 0);
            const isCurrentMonth = orderDate.getMonth() === dateNow.getMonth() && isCurrentYear;
            const days = isCurrentMonth ? Number(dateNow.getDate()) : 31;
            orderDate.setDate(orderCount % days);
            const isCurrentDay = orderDate.getDate() === dateNow.getDate() &&
                isCurrentYear &&
                isCurrentMonth;
            const hours = isCurrentDay ? Number(dateNow.getHours()) : 24;
            orderDate.setHours(orderCount % hours);
            return orderDate;
        };
        this._setupOrderProducts = (products) => {
            let productCount = 1;
            const orderProducts = [];
            for (const p of products) {
                const productPrice = Math.round(Math.random() * 15);
                orderProducts.push({
                    count: 2,
                    isManufacturing: true,
                    isCarrierRequired: true,
                    isDeliveryRequired: true,
                    price: productPrice,
                    initialPrice: productPrice,
                    product: p,
                });
                if (productCount >= 3) {
                    break;
                }
                productCount += 1;
            }
            return orderProducts;
        };
        this._setupAvailableOrdersToCreate = (stores, products, users) => {
            const orders = [];
            for (let orderNumber = 1; orderNumber <= 30; orderNumber += 1) {
                const orderStore = stores[lodash_1.default.random(stores.length - 1)];
                const orderProducts = this._setupOrderProducts(products);
                const createdAt = this.getCloseDate(new Date());
                orders.push({
                    user: users[lodash_1.default.random(users.length - 1)],
                    warehouse: orderStore._id.toString(),
                    products: orderProducts,
                    isConfirmed: true,
                    isCancelled: false,
                    isPaid: false,
                    warehouseStatus: OrderWarehouseStatus_1.default.PackagingFinished,
                    carrierStatus: OrderCarrierStatus_1.default.NoCarrier,
                    orderNumber,
                    _createdAt: createdAt,
                });
            }
            return orders;
        };
        this._setupHistoryOrdersToCreate = (stores, products, users, carrierId, orderNumber) => {
            const orders = [];
            const availableStatuses = [
                OrderCarrierStatus_1.default.DeliveryCompleted,
                OrderCarrierStatus_1.default.IssuesDuringDelivery,
                OrderCarrierStatus_1.default.ClientRefuseTakingOrder,
            ];
            for (let i = 1; i <= 12; i += 1) {
                const orderStore = stores[lodash_1.default.random(stores.length - 1)];
                const orderProducts = this._setupOrderProducts(products);
                const carrierStatus = availableStatuses[lodash_1.default.random(availableStatuses.length - 1)];
                const createdAt = this.getCloseDate(new Date());
                const startDeliveryTime = this.getFinishedTime(createdAt);
                orders.push({
                    user: users[lodash_1.default.random(users.length - 1)],
                    warehouse: orderStore._id.toString(),
                    products: orderProducts,
                    isConfirmed: true,
                    isCancelled: false,
                    carrier: carrierId,
                    startDeliveryTime,
                    deliveryTime: carrierStatus === OrderCarrierStatus_1.default.DeliveryCompleted
                        ? this.getFinishedTime(startDeliveryTime)
                        : null,
                    finishedProcessingTime: carrierStatus !== OrderCarrierStatus_1.default.DeliveryCompleted
                        ? this.getFinishedTime(startDeliveryTime)
                        : null,
                    isPaid: true,
                    warehouseStatus: OrderWarehouseStatus_1.default.GivenToCarrier,
                    carrierStatus,
                    orderNumber,
                    _createdAt: createdAt,
                });
            }
            return orders;
        };
    }
    generateActiveAndAvailableOrdersPerCarrier() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const commonOptionsFlag = { isDeleted: { $eq: false } };
            const users = yield this._usersService.Model.find(commonOptionsFlag)
                .select({ __v: 0 })
                .lean()
                .exec();
            const stores = yield this._warehousesService.Model.find(commonOptionsFlag)
                .select({ _id: 1 })
                .lean()
                .exec();
            const products = yield this._productsService.Model.find(commonOptionsFlag)
                .select({ __v: 0 })
                .lean()
                .exec();
            const ordersRaw = this._setupAvailableOrdersToCreate(stores, products, users);
            yield this._ordersService.Model.insertMany(ordersRaw);
        });
    }
    generatePastOrdersPerCarrier() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const commonOptionsFlag = { isDeleted: { $eq: false } };
            const users = yield this._usersService.Model.find(commonOptionsFlag)
                .select({ __v: 0 })
                .lean()
                .exec();
            const stores = yield this._warehousesService.Model.find(commonOptionsFlag)
                .select({ _id: 1 })
                .lean()
                .exec();
            const carrierIds = yield this._carriersService.Model.find(commonOptionsFlag)
                .select({ _id: 1 })
                .lean()
                .exec();
            const products = yield this._productsService.Model.find(commonOptionsFlag)
                .select({ __v: 0 })
                .lean()
                .exec();
            const totalOrdersToCreate = [];
            carrierIds.forEach((objectId, index) => {
                const carrierId = objectId._id.toString();
                const orderNumber = index;
                const ordersRaw = this._setupHistoryOrdersToCreate(stores, products, users, carrierId, orderNumber);
                totalOrdersToCreate.push(ordersRaw);
            });
            yield this._ordersService.Model.insertMany(lodash_1.default.flatten(totalOrdersToCreate));
        });
    }
    addTakenOrders(_context, { carrierIds }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const commonOptionsFlag = { isDeleted: { $eq: false } };
            const stores = yield this._warehousesService.find(commonOptionsFlag);
            const customers = yield this._usersService.find(commonOptionsFlag);
            const products = yield this._productsService.find(commonOptionsFlag);
            const ordersToCreate = [];
            carrierIds.forEach((id) => {
                for (let orderNumber = 1; orderNumber <= 20; orderNumber += 1) {
                    const orderProducts = [];
                    const productCount = Math.round(Math.random() * 4) || 1;
                    for (let i = 0; i < productCount; i += 1) {
                        const orderPrice = (orderNumber + i) % 110 || 1;
                        orderProducts.push({
                            count: (orderNumber + i) % 12 || 1,
                            isManufacturing: true,
                            isCarrierRequired: true,
                            isDeliveryRequired: true,
                            price: orderPrice,
                            initialPrice: orderPrice,
                            product: this._getRandomProduct(orderNumber + i, products),
                        });
                    }
                    const orderIsPaid = Math.random() > 0.5;
                    const createdAt = this._getRandomOrderDate(orderNumber);
                    const startDeliveryTime = this.getFinishedTime(createdAt);
                    ordersToCreate.push({
                        isCancelled: !orderIsPaid,
                        isPaid: orderIsPaid,
                        deliveryTimeEstimate: 0,
                        startDeliveryTime,
                        deliveryTime: orderIsPaid
                            ? this.getFinishedTime(startDeliveryTime)
                            : null,
                        finishedProcessingTime: !orderIsPaid
                            ? this.getFinishedTime(startDeliveryTime)
                            : null,
                        warehouseStatus: OrderWarehouseStatus_1.default.PackagingFinished,
                        carrierStatus: OrderCarrierStatus_1.default.DeliveryCompleted,
                        orderNumber,
                        user: this._getRandomCustomer(orderNumber, customers),
                        warehouse: stores[orderNumber % stores.length].id,
                        products: orderProducts,
                        _createdAt: createdAt,
                        carrier: id,
                    });
                }
            });
            yield this._ordersService.Model.insertMany(ordersToCreate);
        });
    }
    addOrdersToTake() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const commonOptionsFlag = { isDeleted: { $eq: false } };
            const stores = yield this._warehousesService.find(commonOptionsFlag);
            const customers = yield this._usersService.find(commonOptionsFlag);
            const products = yield this._productsService.find(commonOptionsFlag);
            const ordersToCreate = [];
            for (let i = 0; i < 3; i += 1) {
                for (let orderNumber = 1; orderNumber <= 10; orderNumber += 1) {
                    const orderProducts = [];
                    const productCount = Math.round(Math.random() * 4) || 1;
                    for (let j = 0; j < productCount; j += 1) {
                        const orderPrice = (orderNumber + j) % 110 || 1;
                        orderProducts.push({
                            count: (orderNumber + j) % 6 || 1,
                            isManufacturing: true,
                            isCarrierRequired: true,
                            isDeliveryRequired: true,
                            price: orderPrice,
                            initialPrice: orderPrice,
                            product: this._getRandomProduct(orderNumber + j, products),
                        });
                    }
                    const createdAt = this.getCloseDate(new Date());
                    ordersToCreate.push({
                        isConfirmed: false,
                        isCancelled: false,
                        isPaid: false,
                        deliveryTimeEstimate: 0,
                        warehouseStatus: OrderWarehouseStatus_1.default.PackagingFinished,
                        carrierStatus: OrderCarrierStatus_1.default.NoCarrier,
                        orderNumber,
                        user: this._getRandomCustomer(orderNumber, customers),
                        warehouse: stores[orderNumber % stores.length].id,
                        products: orderProducts,
                        _createdAt: createdAt,
                    });
                }
            }
            yield this._ordersService.Model.insertMany(ordersToCreate);
        });
    }
    generateRandomOrdersCurrentStore(_context, { storeId, storeCreatedAt, ordersLimit, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const commonOptionsFlag = { isDeleted: { $eq: false } };
            const customers = yield this._usersService.find(commonOptionsFlag);
            const carriers = yield this._carriersService.find(commonOptionsFlag);
            const products = yield this._productsService.find(commonOptionsFlag);
            let response = { error: false, message: null };
            try {
                const currentStoreOrders = [];
                const storeCreatedDate = new Date(storeCreatedAt);
                for (let orderNumber = 1; orderNumber <= ordersLimit; orderNumber += 1) {
                    const carrierId = this._getRandomCarrierId(orderNumber, carriers);
                    const orderRaw = this._fakeOrdersService.getOrderRaw(orderNumber, storeId, storeCreatedDate, carrierId, customers, products);
                    currentStoreOrders.push(orderRaw);
                }
                yield this._ordersService.Model.insertMany(currentStoreOrders);
            }
            catch (err) {
                response = { error: true, message: err.message };
            }
            return response;
        });
    }
    generateOrdersByCustomerId(_context, { numberOfOrders, customerId, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const commonOptionsFlag = { isDeleted: { $eq: false } };
            const stores = (yield this._warehousesService.find(commonOptionsFlag)).filter((__, index) => index <= 20);
            const carriers = yield this._carriersService.find(commonOptionsFlag);
            const products = yield this._productsService.find(commonOptionsFlag);
            const user = yield this._usersService
                .get(customerId)
                .pipe(operators_1.first())
                .toPromise();
            if (products.length > 0) {
                const rawOrders = [];
                for (let orderNumber = 1; orderNumber <= numberOfOrders; orderNumber += 1) {
                    const { numberOfProductsToOrder, hasCarrier, orderIsPaid, } = this._prepareOrderFieldsValues(orderNumber);
                    const orderProducts = [];
                    for (let i = 0; i < numberOfProductsToOrder; i += 1) {
                        const orderPrice = (orderNumber + i) % 110 || 1;
                        orderProducts.push({
                            count: (orderNumber + i) % 6 || 1,
                            isManufacturing: true,
                            isCarrierRequired: hasCarrier,
                            isDeliveryRequired: hasCarrier,
                            price: orderPrice,
                            initialPrice: orderPrice,
                            product: this._getRandomProduct(orderNumber + i, products),
                        });
                    }
                    const orderDate = this._getRandomOrderDate(orderNumber);
                    const orderDeliveryTime = new Date(orderDate);
                    orderDeliveryTime.setMinutes(orderDeliveryTime.getMinutes() +
                        Math.round(Math.random() * 90));
                    const startDeliveryTime = this.getFinishedTime(orderDate);
                    rawOrders.push(Object.assign({ isCancelled: !orderIsPaid, isPaid: orderIsPaid, deliveryTimeEstimate: 0, startDeliveryTime, deliveryTime: orderIsPaid
                            ? this.getFinishedTime(startDeliveryTime)
                            : null, finishedProcessingTime: !orderIsPaid
                            ? this.getFinishedTime(startDeliveryTime)
                            : null, warehouseStatus: OrderWarehouseStatus_1.default.PackagingFinished, carrierStatus: OrderCarrierStatus_1.default.DeliveryCompleted, orderNumber,
                        user, warehouse: stores[orderNumber % stores.length].id, products: orderProducts, _createdAt: orderDate }, (hasCarrier && {
                        carrier: this._getRandomCarrierId(orderNumber, carriers),
                    })));
                }
                yield this._ordersService.Model.insertMany(rawOrders);
            }
        });
    }
    getOrdersChartTotalOrders() {
        return this._ordersService.getOrdersChartTotalOrders();
    }
    getCompletedOrdersInfo(_context, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const orders = yield this._ordersService.getDashboardCompletedOrders(storeId);
            return {
                totalOrders: orders.length,
                totalRevenue: orders
                    .map((order) => order.totalPrice)
                    .reduce((prevPrice, nextPrice) => prevPrice + nextPrice, 0),
            };
        });
    }
    getDashboardCompletedOrders() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.getDashboardCompletedOrders();
        });
    }
    getDashboardCompletedOrdersToday() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.getDashboardCompletedOrdersToday();
        });
    }
    getOrder(_context, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getOrders(_context, { findInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false } }));
        });
    }
    getOrderedUsersInfo(_context, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.getOrderedUsersInfo(storeId);
        });
    }
    getUsersOrdersCountInfo(_context, { usersIds }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const ordersInfo = yield this._ordersService.Model.aggregate([
                {
                    $match: {
                        $and: [
                            { 'user._id': { $ne: null } },
                            usersIds
                                ? {
                                    'user._id': {
                                        $in: usersIds.map((i) => new bson_1.ObjectId(i)),
                                    },
                                }
                                : {},
                        ],
                    },
                },
                {
                    $group: {
                        _id: '$user._id',
                        ordersCount: { $sum: 1 },
                    },
                },
            ]);
            return ordersInfo.map((o) => ({
                id: o._id,
                ordersCount: o.ordersCount,
            }));
        });
    }
    getMerchantsOrdersCountInfo(_context, { merchantsIds }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const ordersInfo = yield this._ordersService.Model.aggregate([
                {
                    $match: {
                        $and: [
                            { warehouse: { $ne: null } },
                            merchantsIds
                                ? { warehouse: { $in: merchantsIds } }
                                : {},
                        ],
                    },
                },
                {
                    $group: {
                        _id: '$warehouse',
                        ordersCount: { $sum: 1 },
                    },
                },
            ]);
            return ordersInfo.map((o) => ({
                id: o._id,
                ordersCount: o.ordersCount,
            }));
        });
    }
    updateOrderCarrierStatus(_context, { orderId, status, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.updateCarrierStatus(orderId, OrderCarrierStatus_1.default[status]);
        });
    }
    updateOrderWarehouseStatus(_context, { orderId, status, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.updateWarehouseStatus(orderId, OrderWarehouseStatus_1.default[status]);
        });
    }
    payOrderWithStripe(_context, { orderId, cardId, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.payWithStripe(orderId, cardId);
        });
    }
    getCarrier(_order) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const order = new Order_1.default(_order);
            return order.carrierId == null
                ? null
                : this._carriersService
                    .get(order.carrierId)
                    .pipe(operators_1.first())
                    .toPromise();
        });
    }
    getWarehouse(_order) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const order = new Order_1.default(_order);
            return this._warehousesService
                .get(order.warehouseId)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getFinishedTime(date) {
        const randomMinutes = lodash_1.default.random(1, 30);
        const randomSec = lodash_1.default.random(1, 60);
        const oldDate = new Date(date);
        oldDate.setSeconds(randomSec);
        return new Date(oldDate.setMinutes(date.getMinutes() + randomMinutes));
    }
    getCloseDate(date) {
        const randomMinutes = lodash_1.default.random(1, 10);
        const randomSec = lodash_1.default.random(1, 60);
        const oldDate = new Date(date);
        oldDate.setSeconds(randomSec);
        return new Date(oldDate.setMinutes(date.getMinutes() - randomMinutes));
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "generateActiveAndAvailableOrdersPerCarrier", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "generatePastOrdersPerCarrier", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "addTakenOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "addOrdersToTake", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "generateRandomOrdersCurrentStore", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "generateOrdersByCustomerId", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", void 0)
], OrderResolver.prototype, "getOrdersChartTotalOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getCompletedOrdersInfo", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getDashboardCompletedOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getDashboardCompletedOrdersToday", null);
tslib_1.__decorate([
    graphql_1.Query('getOrder'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getOrder", null);
tslib_1.__decorate([
    graphql_1.Query('orders'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getOrderedUsersInfo", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getUsersOrdersCountInfo", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getMerchantsOrdersCountInfo", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "updateOrderCarrierStatus", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "updateOrderWarehouseStatus", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "payOrderWithStripe", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('carrier'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getCarrier", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('warehouse'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getWarehouse", null);
OrderResolver = tslib_1.__decorate([
    graphql_1.Resolver('Order'),
    tslib_1.__metadata("design:paramtypes", [orders_1.OrdersService,
        CarriersService_1.default,
        warehouses_1.WarehousesService,
        users_1.UsersService,
        products_1.ProductsService,
        FakeOrdersService_1.FakeOrdersService])
], OrderResolver);
exports.OrderResolver = OrderResolver;


/***/ }),

/***/ "./src/graphql/orders/orders.module.ts":
/*!*********************************************!*\
  !*** ./src/graphql/orders/orders.module.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const order_resolver_1 = __webpack_require__(/*! ./order.resolver */ "./src/graphql/orders/order.resolver.ts");
let OrdersModule = class OrdersModule {
};
OrdersModule = tslib_1.__decorate([
    common_1.Module({
        providers: [order_resolver_1.OrderResolver],
    })
], OrdersModule);
exports.OrdersModule = OrdersModule;


/***/ }),

/***/ "./src/graphql/products/categories/products-categories.module.ts":
/*!***********************************************************************!*\
  !*** ./src/graphql/products/categories/products-categories.module.ts ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const products_category_resolver_1 = __webpack_require__(/*! ./products-category.resolver */ "./src/graphql/products/categories/products-category.resolver.ts");
let ProductsCategoriesModule = class ProductsCategoriesModule {
};
ProductsCategoriesModule = tslib_1.__decorate([
    common_1.Module({
        providers: [products_category_resolver_1.ProductsCategoryResolver],
    })
], ProductsCategoriesModule);
exports.ProductsCategoriesModule = ProductsCategoriesModule;


/***/ }),

/***/ "./src/graphql/products/categories/products-category.resolver.ts":
/*!***********************************************************************!*\
  !*** ./src/graphql/products/categories/products-category.resolver.ts ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const products_1 = __webpack_require__(/*! ../../../services/products */ "./src/services/products/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let ProductsCategoryResolver = class ProductsCategoryResolver {
    constructor(_productsCategoriesService) {
        this._productsCategoriesService = _productsCategoriesService;
    }
    getProductsCategory(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._productsCategoriesService
                .get(id)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getProductsCategories(_, { findInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._productsCategoriesService.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false } }));
        });
    }
    createProductsCategory(_, { createInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._productsCategoriesService.create(createInput);
        });
    }
    updateProductsCategory(_, { id, updateInput, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._productsCategoriesService.throwIfNotExists(id);
            return this._productsCategoriesService.update(id, updateInput);
        });
    }
    removeProductsCategoriesByIds(_, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const categories = yield this._productsCategoriesService.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const categoriesIds = categories.map((c) => c.id);
            return this._productsCategoriesService.removeMultipleByIds(categoriesIds);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('productsCategory'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoryResolver.prototype, "getProductsCategory", null);
tslib_1.__decorate([
    graphql_1.Query('productsCategories'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoryResolver.prototype, "getProductsCategories", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoryResolver.prototype, "createProductsCategory", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoryResolver.prototype, "updateProductsCategory", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoryResolver.prototype, "removeProductsCategoriesByIds", null);
ProductsCategoryResolver = tslib_1.__decorate([
    graphql_1.Resolver('ProductsCategory'),
    tslib_1.__metadata("design:paramtypes", [products_1.ProductsCategoriesService])
], ProductsCategoryResolver);
exports.ProductsCategoryResolver = ProductsCategoryResolver;


/***/ }),

/***/ "./src/graphql/products/product.resolver.ts":
/*!**************************************************!*\
  !*** ./src/graphql/products/product.resolver.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const products_1 = __webpack_require__(/*! ../../services/products */ "./src/services/products/index.ts");
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const Product_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Product */ "./node_modules/@ever-platform/common/src/entities/Product.ts"));
let ProductResolver = class ProductResolver {
    constructor(_productsService, _warehousesService, _warehousesProductsService) {
        this._productsService = _productsService;
        this._warehousesService = _warehousesService;
        this._warehousesProductsService = _warehousesProductsService;
    }
    getProduct(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._productsService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getProducts(_, { findInput, pagingOptions = {}, existedProductsIds = [] }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!pagingOptions || (pagingOptions && !pagingOptions['sort'])) {
                pagingOptions['sort'] = { field: '_createdAt', sortBy: 'desc' };
            }
            const products = yield this._productsService.getProducts(findInput, pagingOptions, existedProductsIds);
            return products.map((p) => new Product_1.default(p));
        });
    }
    getCountOfProducts(_, { existedProductsIds = [] }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._productsService.Model.find({
                isDeleted: { $eq: false },
                _id: { $nin: existedProductsIds },
            })
                .countDocuments()
                .exec();
        });
    }
    removeProductsByIds(_, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouses = yield this._warehousesService.find({
                isDeleted: { $eq: false },
            });
            const products = yield this._productsService.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const productsIds = products.map((d) => d.id);
            for (const warehouse of warehouses) {
                const productsForDel = warehouse.products
                    .filter((p) => productsIds.includes(p.productId))
                    .map((p) => p.productId);
                if (productsForDel.length > 0) {
                    yield this._warehousesProductsService.remove(warehouse.id, productsForDel);
                }
            }
            yield this._productsService.removeMultipleByIds(productsIds);
        });
    }
    saveProduct(_, { product }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const productId = product['_id'];
            yield this._productsService.throwIfNotExists(productId);
            product.id = productId;
            return this._productsService.save(product);
        });
    }
    createProduct(_, { product }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._productsService.create(product);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('product'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductResolver.prototype, "getProduct", null);
tslib_1.__decorate([
    graphql_1.Query('products'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductResolver.prototype, "getProducts", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductResolver.prototype, "getCountOfProducts", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductResolver.prototype, "removeProductsByIds", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductResolver.prototype, "saveProduct", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductResolver.prototype, "createProduct", null);
ProductResolver = tslib_1.__decorate([
    graphql_1.Resolver('Product'),
    tslib_1.__metadata("design:paramtypes", [products_1.ProductsService,
        warehouses_1.WarehousesService,
        warehouses_1.WarehousesProductsService])
], ProductResolver);
exports.ProductResolver = ProductResolver;


/***/ }),

/***/ "./src/graphql/products/products.module.ts":
/*!*************************************************!*\
  !*** ./src/graphql/products/products.module.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const product_resolver_1 = __webpack_require__(/*! ./product.resolver */ "./src/graphql/products/product.resolver.ts");
const products_categories_module_1 = __webpack_require__(/*! ./categories/products-categories.module */ "./src/graphql/products/categories/products-categories.module.ts");
let ProductsModule = class ProductsModule {
};
ProductsModule = tslib_1.__decorate([
    common_1.Module({
        imports: [products_categories_module_1.ProductsCategoriesModule],
        providers: [product_resolver_1.ProductResolver],
    })
], ProductsModule);
exports.ProductsModule = ProductsModule;


/***/ }),

/***/ "./src/graphql/scalars/date.type.graphql":
/*!***********************************************!*\
  !*** ./src/graphql/scalars/date.type.graphql ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "scalar Date\n"

/***/ }),

/***/ "./src/graphql/scalars/index.ts":
/*!**************************************!*\
  !*** ./src/graphql/scalars/index.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./date.type.graphql */ "./src/graphql/scalars/date.type.graphql"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./scalars */ "./src/graphql/scalars/scalars.ts"), exports);


/***/ }),

/***/ "./src/graphql/scalars/scalars.ts":
/*!****************************************!*\
  !*** ./src/graphql/scalars/scalars.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const date_type_graphql_1 = __webpack_require__(/*! ./date.type.graphql */ "./src/graphql/scalars/date.type.graphql");
exports.SCALARS = {
    Date: date_type_graphql_1.DateScalar,
};


/***/ }),

/***/ "./src/graphql/subscriptions/subscription.constants.ts":
/*!*************************************************************!*\
  !*** ./src/graphql/subscriptions/subscription.constants.ts ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.SUBSCRIPTION_SERVER = 'SUBSCRIPTION_SERVER';


/***/ }),

/***/ "./src/graphql/subscriptions/subscription.providers.ts":
/*!*************************************************************!*\
  !*** ./src/graphql/subscriptions/subscription.providers.ts ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const http_1 = __webpack_require__(/*! http */ "http");
const subscription_constants_1 = __webpack_require__(/*! ./subscription.constants */ "./src/graphql/subscriptions/subscription.constants.ts");
exports.createSubscriptionProviders = (port = 5050) => [
    {
        provide: subscription_constants_1.SUBSCRIPTION_SERVER,
        useFactory: () => {
            const server = http_1.createServer();
            const closeServer = () => {
                try {
                    if (server != null) {
                        server.close(() => {
                            process.exit(0);
                        });
                    }
                }
                catch (err) {
                    process.exit(0);
                }
            };
            process
                .on('SIGINT', () => closeServer())
                .on('SIGTERM', () => closeServer());
            return new Promise((resolve) => server.listen(port, () => resolve(server)));
        },
    },
];


/***/ }),

/***/ "./src/graphql/subscriptions/subscriptions.module.ts":
/*!***********************************************************!*\
  !*** ./src/graphql/subscriptions/subscriptions.module.ts ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var SubscriptionsModule_1;
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const subscription_providers_1 = __webpack_require__(/*! ./subscription.providers */ "./src/graphql/subscriptions/subscription.providers.ts");
const subscriptions_service_1 = __webpack_require__(/*! ./subscriptions.service */ "./src/graphql/subscriptions/subscriptions.service.ts");
let SubscriptionsModule = SubscriptionsModule_1 = class SubscriptionsModule {
    static forRoot(port) {
        const providers = subscription_providers_1.createSubscriptionProviders(port);
        return {
            module: SubscriptionsModule_1,
            providers: [...providers],
            exports: [...providers],
        };
    }
};
SubscriptionsModule = SubscriptionsModule_1 = tslib_1.__decorate([
    common_1.Module({
        providers: [subscriptions_service_1.SubscriptionsService],
        exports: [subscriptions_service_1.SubscriptionsService],
    })
], SubscriptionsModule);
exports.SubscriptionsModule = SubscriptionsModule;


/***/ }),

/***/ "./src/graphql/subscriptions/subscriptions.service.ts":
/*!************************************************************!*\
  !*** ./src/graphql/subscriptions/subscriptions.service.ts ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const subscription_constants_1 = __webpack_require__(/*! ./subscription.constants */ "./src/graphql/subscriptions/subscription.constants.ts");
const subscriptions_transport_ws_1 = __webpack_require__(/*! subscriptions-transport-ws */ "subscriptions-transport-ws");
const graphql_1 = __webpack_require__(/*! graphql */ "graphql");
let SubscriptionsService = class SubscriptionsService {
    constructor(ws) {
        this.ws = ws;
    }
    createSubscriptionServer(schema, options = {}, socketOptions = {}) {
        this.subscriptionServer = new subscriptions_transport_ws_1.SubscriptionServer(Object.assign({ execute: graphql_1.execute,
            subscribe: graphql_1.subscribe,
            schema }, options), Object.assign({ server: this.ws, path: '/subscriptions' }, socketOptions));
    }
    onModuleDestroy() {
        this.ws.close();
    }
};
SubscriptionsService = tslib_1.__decorate([
    common_1.Injectable(),
    tslib_1.__param(0, common_1.Inject(subscription_constants_1.SUBSCRIPTION_SERVER)),
    tslib_1.__metadata("design:paramtypes", [Object])
], SubscriptionsService);
exports.SubscriptionsService = SubscriptionsService;


/***/ }),

/***/ "./src/graphql/users/user.resolver.ts":
/*!********************************************!*\
  !*** ./src/graphql/users/user.resolver.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const users_1 = __webpack_require__(/*! ../../services/users */ "./src/services/users/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const User_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/User */ "./node_modules/@ever-platform/common/src/entities/User.ts"));
const devices_1 = __webpack_require__(/*! ../../services/devices */ "./src/services/devices/index.ts");
const UsersAuthService_1 = __webpack_require__(/*! ../../services/users/UsersAuthService */ "./src/services/users/UsersAuthService.ts");
const mongodb_1 = __webpack_require__(/*! mongodb */ "mongodb");
const orders_1 = __webpack_require__(/*! ../../services/orders */ "./src/services/orders/index.ts");
let UserResolver = class UserResolver {
    constructor(_usersService, _usersAuthService, _usersOrdersService, _devicesService, _ordersService) {
        this._usersService = _usersService;
        this._usersAuthService = _usersAuthService;
        this._usersOrdersService = _usersOrdersService;
        this._devicesService = _devicesService;
        this._ordersService = _ordersService;
    }
    isUserEmailExists(_, { email }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.isUserEmailExists(email);
        });
    }
    generate1000Customers(_, { defaultLng, defaultLat }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            let success = true;
            let message = null;
            try {
                yield this._ordersService.generateOrdersPerEachCustomer(yield this._usersService.generate1000Customers(defaultLng, defaultLat));
            }
            catch (err) {
                message = err.message;
                success = false;
            }
            return {
                success,
                message,
            };
        });
    }
    getSocial(_, { socialId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.getSocial(socialId);
        });
    }
    userExists(_, { conditions }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const userId = conditions.exceptCustomerId;
            const memberKey = conditions.memberKey;
            const memberValue = conditions.memberValue;
            return ((yield this._usersService.count({
                _id: { $nin: [new mongodb_1.ObjectId(userId)] },
                isDeleted: { $eq: false },
                [memberKey]: memberValue,
            })) > 0);
        });
    }
    getUser(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getUsers(_, { findInput, pagingOptions = {} }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!pagingOptions || (pagingOptions && !pagingOptions['sort'])) {
                pagingOptions['sort'] = { field: '_createdAt', sortBy: 'desc' };
            }
            const users = yield this._usersService.getUsers(findInput, pagingOptions);
            return users.map((u) => new User_1.default(u));
        });
    }
    getOrders(_, { userId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._usersService.throwIfNotExists(userId);
            const result = yield this._usersOrdersService
                .get(userId)
                .pipe(operators_1.first())
                .toPromise();
            return result;
        });
    }
    getCountOfUsers() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.Model.find({ isDeleted: { $eq: false } })
                .countDocuments()
                .exec();
        });
    }
    getCustomerMetrics(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersOrdersService.getCustomerMetrics(id);
        });
    }
    updateUser(_, { id, updateObject }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.updateUser(id, updateObject);
        });
    }
    updateUserEmail(_, { userId, email }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.updateEmail(userId, email);
        });
    }
    registerUser(_, { registerInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersAuthService.register(registerInput);
        });
    }
    userLogin(_, { email, password }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersAuthService.login(email, password);
        });
    }
    removeUsersByIds(obj, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const users = yield this._usersService.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const usersIds = users.map((u) => u.id);
            return this._usersService.removeMultipleByIds(usersIds);
        });
    }
    getDevices(_user) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const user = new User_1.default(_user);
            return ((yield this._devicesService.getMultipleDevices(user.devicesIds))
                .pipe(operators_1.first())
                .toPromise());
        });
    }
    updateUserPassword(_, { id, password, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersAuthService.updatePassword(id, password);
        });
    }
    addUserRegistrationInfo(_, { id, registrationInfo, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersAuthService.addRegistrationInfo(id, registrationInfo);
        });
    }
    banUser(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.banUser(id);
        });
    }
    unbanUser(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.unbanUser(id);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "isUserEmailExists", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "generate1000Customers", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "getSocial", null);
tslib_1.__decorate([
    graphql_1.Query('isUserExists'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "userExists", null);
tslib_1.__decorate([
    graphql_1.Query('user'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "getUser", null);
tslib_1.__decorate([
    graphql_1.Query('users'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "getUsers", null);
tslib_1.__decorate([
    graphql_1.Query('getOrders'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "getOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "getCountOfUsers", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "getCustomerMetrics", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "updateUser", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "updateUserEmail", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "registerUser", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "userLogin", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "removeUsersByIds", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('devices'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "getDevices", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "updateUserPassword", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "addUserRegistrationInfo", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "banUser", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "unbanUser", null);
UserResolver = tslib_1.__decorate([
    graphql_1.Resolver('User'),
    tslib_1.__metadata("design:paramtypes", [users_1.UsersService,
        UsersAuthService_1.UsersAuthService,
        users_1.UsersOrdersService,
        devices_1.DevicesService,
        orders_1.OrdersService])
], UserResolver);
exports.UserResolver = UserResolver;


/***/ }),

/***/ "./src/graphql/users/users.module.ts":
/*!*******************************************!*\
  !*** ./src/graphql/users/users.module.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const user_resolver_1 = __webpack_require__(/*! ./user.resolver */ "./src/graphql/users/user.resolver.ts");
let UsersModule = class UsersModule {
};
UsersModule = tslib_1.__decorate([
    common_1.Module({
        providers: [user_resolver_1.UserResolver],
    })
], UsersModule);
exports.UsersModule = UsersModule;


/***/ }),

/***/ "./src/graphql/warehouses-carriers/warehouses-carriers.module.ts":
/*!***********************************************************************!*\
  !*** ./src/graphql/warehouses-carriers/warehouses-carriers.module.ts ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const warehouses_carriers_resolver_1 = __webpack_require__(/*! ./warehouses-carriers.resolver */ "./src/graphql/warehouses-carriers/warehouses-carriers.resolver.ts");
let WarehousesCarriersModule = class WarehousesCarriersModule {
};
WarehousesCarriersModule = tslib_1.__decorate([
    common_1.Module({
        providers: [warehouses_carriers_resolver_1.WarehouseCarriersResolver],
        imports: [],
    })
], WarehousesCarriersModule);
exports.WarehousesCarriersModule = WarehousesCarriersModule;


/***/ }),

/***/ "./src/graphql/warehouses-carriers/warehouses-carriers.resolver.ts":
/*!*************************************************************************!*\
  !*** ./src/graphql/warehouses-carriers/warehouses-carriers.resolver.ts ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let WarehouseCarriersResolver = class WarehouseCarriersResolver {
    constructor(_warehousesCarriersService) {
        this._warehousesCarriersService = _warehousesCarriersService;
    }
    getStoreCarriers(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const result = yield this._warehousesCarriersService
                .get(storeId)
                .pipe(operators_1.first())
                .toPromise();
            return result;
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseCarriersResolver.prototype, "getStoreCarriers", null);
WarehouseCarriersResolver = tslib_1.__decorate([
    graphql_1.Resolver('WarehouseCarriers'),
    tslib_1.__metadata("design:paramtypes", [warehouses_1.WarehousesCarriersService])
], WarehouseCarriersResolver);
exports.WarehouseCarriersResolver = WarehouseCarriersResolver;


/***/ }),

/***/ "./src/graphql/warehouses-orders/warehouses-orders.module.ts":
/*!*******************************************************************!*\
  !*** ./src/graphql/warehouses-orders/warehouses-orders.module.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const warehouses_orders_resolver_1 = __webpack_require__(/*! ./warehouses-orders.resolver */ "./src/graphql/warehouses-orders/warehouses-orders.resolver.ts");
let WarehousesOrdersModule = class WarehousesOrdersModule {
};
WarehousesOrdersModule = tslib_1.__decorate([
    common_1.Module({
        providers: [warehouses_orders_resolver_1.WarehouseOrdersResolver],
        imports: [],
    })
], WarehousesOrdersModule);
exports.WarehousesOrdersModule = WarehousesOrdersModule;


/***/ }),

/***/ "./src/graphql/warehouses-orders/warehouses-orders.resolver.ts":
/*!*********************************************************************!*\
  !*** ./src/graphql/warehouses-orders/warehouses-orders.resolver.ts ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const orders_1 = __webpack_require__(/*! ../../services/orders */ "./src/services/orders/index.ts");
const bson_1 = __webpack_require__(/*! bson */ "bson");
let WarehouseOrdersResolver = class WarehouseOrdersResolver {
    constructor(_warehousesOrdersService, _ordersService) {
        this._warehousesOrdersService = _warehousesOrdersService;
        this._ordersService = _ordersService;
    }
    getStoreOrders(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesOrdersService
                .get(storeId)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getDashboardOrdersChartOrders(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const resOrders = this._ordersService.getStoreOrdersChartTotalOrders(storeId);
            return resOrders;
        });
    }
    getNextOrderNumber(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesOrdersService.getNextOrderNumber(storeId);
        });
    }
    getMerchantsOrders() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.Model.aggregate([
                { $match: { warehouse: { $ne: null } } },
                {
                    $group: {
                        _id: '$warehouse',
                        ordersCount: { $sum: 1 },
                    },
                },
            ]);
        });
    }
    getStoreOrdersTableData(_, { storeId, pagingOptions = {}, status }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!pagingOptions || (pagingOptions && !pagingOptions['sort'])) {
                pagingOptions['sort'] = { field: '_createdAt', sortBy: 'asc' };
            }
            const orders = yield this._warehousesOrdersService.getStoreOrders(storeId, pagingOptions, status);
            let page = 1;
            if (pagingOptions) {
                page = Math.ceil(pagingOptions['skip'] / pagingOptions['limit'] + 1);
            }
            return { orders: orders.map((o) => new Order_1.default(o)), page };
        });
    }
    getCountOfStoreOrders(_, { storeId, status }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const findObj = warehouses_1.getStoreOrdersFingObj(storeId, status);
            return this._ordersService.Model.find(findObj).countDocuments().exec();
        });
    }
    removeUserOrders(_, { storeId, userId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const res = yield this._ordersService.Model.update({
                'user._id': new bson_1.ObjectId(userId),
                warehouse: storeId,
                isDeleted: false,
            }, { isDeleted: true }, { multi: true }).exec();
            return {
                number: res.n,
                modified: res.nModified,
            };
        });
    }
    getOrdersInDelivery(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const order = yield this._ordersService.getOrdersInDelivery(storeId);
            return order || [];
        });
    }
    createOrder(_, { createInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesOrdersService.create(createInput);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "getStoreOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "getDashboardOrdersChartOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "getNextOrderNumber", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "getMerchantsOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "getStoreOrdersTableData", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "getCountOfStoreOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "removeUserOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "getOrdersInDelivery", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "createOrder", null);
WarehouseOrdersResolver = tslib_1.__decorate([
    graphql_1.Resolver('WarehouseOrders'),
    tslib_1.__metadata("design:paramtypes", [warehouses_1.WarehousesOrdersService,
        orders_1.OrdersService])
], WarehouseOrdersResolver);
exports.WarehouseOrdersResolver = WarehouseOrdersResolver;


/***/ }),

/***/ "./src/graphql/warehouses-products/warehouse-products.resolver.ts":
/*!************************************************************************!*\
  !*** ./src/graphql/warehouses-products/warehouse-products.resolver.ts ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const handlebars_1 = __webpack_require__(/*! handlebars */ "handlebars");
const WarehouseProduct_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/WarehouseProduct */ "./node_modules/@ever-platform/common/src/entities/WarehouseProduct.ts"));
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let WarehouseProductsResolver = class WarehouseProductsResolver {
    constructor(_warehousesProductsService) {
        this._warehousesProductsService = _warehousesProductsService;
    }
    getProductsWithPagination(_, { id, pagingOptions = {} }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouseProducts = yield this._warehousesProductsService.getProductsWithPagination(id, pagingOptions);
            return warehouseProducts.map((p) => new WarehouseProduct_1.default(p));
        });
    }
    getProductsCount(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesProductsService.getProductsCount(id);
        });
    }
    getWarehouseProduct(_, { warehouseId, warehouseProductId, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return yield this._warehousesProductsService
                .getProduct(warehouseId, warehouseProductId)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    addWarehouseProducts(_, { warehouseId, products, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesProductsService.add(warehouseId, products);
        });
    }
    removeWarehouseProducts(_, { warehouseId, productsIds, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesProductsService.remove(warehouseId, productsIds);
        });
    }
    updateWarehouseProduct(_, { warehouseId, productId, updateInput, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            throw new handlebars_1.Exception('not implemented');
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseProductsResolver.prototype, "getProductsWithPagination", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseProductsResolver.prototype, "getProductsCount", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseProductsResolver.prototype, "getWarehouseProduct", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseProductsResolver.prototype, "addWarehouseProducts", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseProductsResolver.prototype, "removeWarehouseProducts", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseProductsResolver.prototype, "updateWarehouseProduct", null);
WarehouseProductsResolver = tslib_1.__decorate([
    graphql_1.Resolver('Warehouse-products'),
    tslib_1.__metadata("design:paramtypes", [warehouses_1.WarehousesProductsService])
], WarehouseProductsResolver);
exports.WarehouseProductsResolver = WarehouseProductsResolver;


/***/ }),

/***/ "./src/graphql/warehouses-products/warehouses-products.modules.ts":
/*!************************************************************************!*\
  !*** ./src/graphql/warehouses-products/warehouses-products.modules.ts ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const warehouse_products_resolver_1 = __webpack_require__(/*! ./warehouse-products.resolver */ "./src/graphql/warehouses-products/warehouse-products.resolver.ts");
let WarehousesProductsModule = class WarehousesProductsModule {
};
WarehousesProductsModule = tslib_1.__decorate([
    common_1.Module({
        providers: [warehouse_products_resolver_1.WarehouseProductsResolver],
        imports: [],
    })
], WarehousesProductsModule);
exports.WarehousesProductsModule = WarehousesProductsModule;


/***/ }),

/***/ "./src/graphql/warehouses/warehouse.resolver.ts":
/*!******************************************************!*\
  !*** ./src/graphql/warehouses/warehouse.resolver.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const devices_1 = __webpack_require__(/*! ../../services/devices */ "./src/services/devices/index.ts");
const orders_1 = __webpack_require__(/*! ../../services/orders */ "./src/services/orders/index.ts");
const users_1 = __webpack_require__(/*! ../../services/users */ "./src/services/users/index.ts");
const geo_locations_1 = __webpack_require__(/*! ../../services/geo-locations */ "./src/services/geo-locations/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const utils_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/utils */ "./node_modules/@ever-platform/common/src/utils.ts"));
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
let WarehouseResolver = class WarehouseResolver {
    constructor(_geoLocationWarehousesService, _warehousesService, _warehousesOrdersService, _warehousesUsersService, _warehousesCarriersService, _warehouseProductsService, _devicesService, _ordersService, _usersService) {
        this._geoLocationWarehousesService = _geoLocationWarehousesService;
        this._warehousesService = _warehousesService;
        this._warehousesOrdersService = _warehousesOrdersService;
        this._warehousesUsersService = _warehousesUsersService;
        this._warehousesCarriersService = _warehousesCarriersService;
        this._warehouseProductsService = _warehouseProductsService;
        this._devicesService = _devicesService;
        this._ordersService = _ordersService;
        this._usersService = _usersService;
    }
    hasExistingStores() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return (yield this._warehousesService.count({})) > 0;
        });
    }
    getStoreProducts(_, { storeId, fullProducts }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehouseProductsService
                .get(storeId, fullProducts)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getStoreAvailableProducts(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehouseProductsService
                .getAvailable(storeId)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getAllActiveStores(_, { fullProducts }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService
                .getAllActive(fullProducts)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    countStoreCustomers(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const storeOrders = yield this._warehousesOrdersService
                .get(storeId)
                .pipe(operators_1.first())
                .toPromise();
            const storeCustomerIds = storeOrders.map((order) => order.user._id.toString());
            return new Set(storeCustomerIds).size;
        });
    }
    getCountExistingCustomers() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const isDeletedFlag = { isDeleted: { $eq: false } };
            const users = yield this._ordersService.Model.find(isDeletedFlag)
                .distinct('user._id')
                .lean();
            const storesIds = yield this._ordersService.Model.find(isDeletedFlag)
                .distinct('warehouse')
                .lean();
            return {
                total: users.length,
                perStore: storesIds.map((storeId) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                    const usersIds = yield this._ordersService.Model.find(Object.assign(Object.assign({}, isDeletedFlag), { warehouse: storeId })).distinct('user._id');
                    return {
                        storeId,
                        customersCount: usersIds.length,
                    };
                })),
            };
        });
    }
    getCountExistingCustomersToday() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const isDeletedFlag = { isDeleted: { $eq: false } };
            const start = new Date();
            const end = new Date();
            start.setHours(0, 0, 0, 0);
            end.setHours(23, 59, 59, 999);
            const users = yield this._ordersService.Model.find(Object.assign(Object.assign({}, isDeletedFlag), { _createdAt: { $gte: start, $lt: end } }))
                .distinct('user._id')
                .lean()
                .exec();
            const storesIds = yield this._ordersService.Model.find(Object.assign(Object.assign({}, isDeletedFlag), { _createdAt: { $gte: start, $lt: end } }))
                .distinct('warehouse')
                .lean()
                .exec();
            return {
                total: users.length,
                perStore: storesIds.map((storeId) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                    const usersIds = yield this._ordersService.Model.find(Object.assign(Object.assign({}, isDeletedFlag), { 'user._id': { $in: users.map((u) => u._id) }, warehouse: storeId })).distinct('user._id');
                    return {
                        storeId,
                        customersCount: usersIds.length,
                    };
                })),
            };
        });
    }
    getNearbyStores(_, { geoLocation }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._geoLocationWarehousesService
                .get(geoLocation)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getWarehouse(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getAllStores() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.find({ isDeleted: { $eq: false } });
        });
    }
    getWarehouses(_, { findInput, pagingOptions = {} }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!pagingOptions || (pagingOptions && !pagingOptions['sort'])) {
                pagingOptions['sort'] = { field: '_createdAt', sortBy: 'desc' };
            }
            const merchants = yield this._warehousesService.getMerchants(findInput, pagingOptions);
            return merchants.map((m) => new Warehouse_1.default(m));
        });
    }
    getStoreCustomers(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesUsersService.getPromise(storeId);
        });
    }
    getCountOfMerchants() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.Model.find({ isDeleted: { $eq: false } })
                .countDocuments()
                .exec();
        });
    }
    getMerchantsBuyName(_, { searchName, geoLocation, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const count = yield this._warehousesService.Model.find({
                name: { $regex: searchName, $options: 'i' },
            })
                .countDocuments()
                .exec();
            let merchants = yield this._warehousesService.getMerchants({ name: { $regex: searchName, $options: 'i' } }, { skip: 0, limit: count });
            if (geoLocation) {
                merchants = merchants.sort((m1, m2) => utils_1.default.getDistance(new GeoLocation_1.default(m1.geoLocation), new GeoLocation_1.default(geoLocation)) -
                    utils_1.default.getDistance(new GeoLocation_1.default(m2.geoLocation), new GeoLocation_1.default(geoLocation)));
            }
            return merchants.map((m) => new Warehouse_1.default(m));
        });
    }
    warehouseLogin(_, { username, password }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.login(username, password);
        });
    }
    updateStoreGeoLocation(_, { storeId, geoLocation, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.updateGeoLocation(storeId, geoLocation);
        });
    }
    registerWarehouse(_, { registerInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.register(registerInput);
        });
    }
    removeWarehousesByIds(_, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.removeMultipleByIds(ids);
        });
    }
    getDevices(_warehouse) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = new Warehouse_1.default(_warehouse);
            return this._devicesService
                .getMultiple(warehouse.devicesIds)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getOrders(_warehouse) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = new Warehouse_1.default(_warehouse);
            return this._warehousesOrdersService
                .get(warehouse.id)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getUsers(_warehouse) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = new Warehouse_1.default(_warehouse);
            return this._warehousesUsersService
                .get(warehouse.id)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getCarriers(_warehouse) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = new Warehouse_1.default(_warehouse);
            return this._warehousesCarriersService
                .get(warehouse.id)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    updateWarehousePassword(_, { id, password, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.updatePassword(id, password);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "hasExistingStores", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getStoreProducts", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getStoreAvailableProducts", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getAllActiveStores", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "countStoreCustomers", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getCountExistingCustomers", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getCountExistingCustomersToday", null);
tslib_1.__decorate([
    graphql_1.Query('nearbyStores'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getNearbyStores", null);
tslib_1.__decorate([
    graphql_1.Query('warehouse'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getWarehouse", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getAllStores", null);
tslib_1.__decorate([
    graphql_1.Query('warehouses'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getWarehouses", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getStoreCustomers", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getCountOfMerchants", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getMerchantsBuyName", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "warehouseLogin", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "updateStoreGeoLocation", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "registerWarehouse", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "removeWarehousesByIds", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('devices'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getDevices", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('orders'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getOrders", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('users'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getUsers", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('carriers'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getCarriers", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "updateWarehousePassword", null);
WarehouseResolver = tslib_1.__decorate([
    graphql_1.Resolver('Warehouse'),
    tslib_1.__metadata("design:paramtypes", [geo_locations_1.GeoLocationsWarehousesService,
        warehouses_1.WarehousesService,
        warehouses_1.WarehousesOrdersService,
        warehouses_1.WarehousesUsersService,
        warehouses_1.WarehousesCarriersService,
        warehouses_1.WarehousesProductsService,
        devices_1.DevicesService,
        orders_1.OrdersService,
        users_1.UsersService])
], WarehouseResolver);
exports.WarehouseResolver = WarehouseResolver;


/***/ }),

/***/ "./src/graphql/warehouses/warehouses.module.ts":
/*!*****************************************************!*\
  !*** ./src/graphql/warehouses/warehouses.module.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const warehouse_resolver_1 = __webpack_require__(/*! ./warehouse.resolver */ "./src/graphql/warehouses/warehouse.resolver.ts");
const auth_module_1 = __webpack_require__(/*! ../../auth/auth.module */ "./src/auth/auth.module.ts");
let WarehousesModule = class WarehousesModule {
};
WarehousesModule = tslib_1.__decorate([
    common_1.Module({
        providers: [warehouse_resolver_1.WarehouseResolver],
        imports: [auth_module_1.AuthModule],
    })
], WarehousesModule);
exports.WarehousesModule = WarehousesModule;


/***/ }),

/***/ "./src/helpers/Log.ts":
/*!****************************!*\
  !*** ./src/helpers/Log.ts ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const bunyan_1 = tslib_1.__importDefault(__webpack_require__(/*! bunyan */ "bunyan"));
const fs_1 = __webpack_require__(/*! fs */ "fs");
const mkdirp_1 = tslib_1.__importDefault(__webpack_require__(/*! mkdirp */ "mkdirp"));
const env_1 = __webpack_require__(/*! ../env */ "./src/env.ts");
const _ = __webpack_require__(/*! lodash */ "lodash");
const bunyan_cloudwatch_1 = tslib_1.__importDefault(__webpack_require__(/*! bunyan-cloudwatch */ "bunyan-cloudwatch"));
const os_1 = tslib_1.__importDefault(__webpack_require__(/*! os */ "os"));
const bunyan_prettystream_1 = tslib_1.__importDefault(__webpack_require__(/*! bunyan-prettystream */ "bunyan-prettystream"));
let isLogsFolderExists = env_1.env.LOGS_PATH ? fs_1.existsSync(env_1.env.LOGS_PATH) : false;
const getAdditionalLoggerStreams = ({ name }) => {
    const hostname = os_1.default.hostname();
    if (env_1.env.isProd) {
        const logLevels = ['info', 'error', 'debug'];
        return _.map(logLevels, (type) => {
            let stream;
            try {
                stream = bunyan_cloudwatch_1.default({
                    logGroupName: 'ever/api',
                    logStreamName: `${type}_${name}_${hostname}`,
                    cloudWatchLogsOptions: {
                        region: 'us-east-1',
                    },
                });
            }
            catch (err) {
                console.log(err);
            }
            return {
                stream,
                type: 'raw',
                level: type,
            };
        });
    }
    else {
        return [];
    }
};
const prettyStdOut = new bunyan_prettystream_1.default();
prettyStdOut.pipe(process.stdout);
function createEverLogger({ name }) {
    if (!isLogsFolderExists) {
        mkdirp_1.default.sync(env_1.env.LOGS_PATH);
        isLogsFolderExists = true;
    }
    const logger = bunyan_1.default.createLogger({
        name: `everbie.${name}`,
        serializers: bunyan_1.default.stdSerializers,
        streams: [
            {
                level: 'info',
                path: `${env_1.env.LOGS_PATH}/info_${name}.log`,
            },
            {
                level: 'error',
                path: `${env_1.env.LOGS_PATH}/error_${name}.log`,
            },
            {
                level: 'debug',
                path: `${env_1.env.LOGS_PATH}/debug_${name}.log`,
            },
            {
                level: 'debug',
                type: 'raw',
                stream: prettyStdOut,
            },
            ...getAdditionalLoggerStreams({ name }),
        ],
    });
    if (env_1.env.LOG_LEVEL) {
        logger.level(bunyan_1.default[env_1.env.LOG_LEVEL.toUpperCase()]);
    }
    return logger;
}
exports.createEverLogger = createEverLogger;
function Log(logArgs) {
    return function (target) {
        target.prototype.logName = logArgs.name;
        target.prototype.log = createEverLogger(logArgs);
    };
}
exports.Log = Log;


/***/ }),

/***/ "./src/helpers/NestJSLogger.ts":
/*!*************************************!*\
  !*** ./src/helpers/NestJSLogger.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const Log_1 = __webpack_require__(/*! ./Log */ "./src/helpers/Log.ts");
const log = Log_1.createEverLogger({ name: 'nestjs' });
class EverbieNestJSLogger {
    log(message) {
        log.info(message);
    }
    error(message, trace) {
        log.error(`Message: ${message}. Trace: ${trace}`);
    }
    warn(message) {
        log.warn(message);
    }
}
exports.EverbieNestJSLogger = EverbieNestJSLogger;


/***/ }),

/***/ "./src/nest-bootstrap.ts":
/*!*******************************!*\
  !*** ./src/nest-bootstrap.ts ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const core_1 = __webpack_require__(/*! @nestjs/core */ "@nestjs/core");
const app_module_1 = __webpack_require__(/*! ./app.module */ "./src/app.module.ts");
const swagger_1 = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
const env_1 = __webpack_require__(/*! ./env */ "./src/env.ts");
const Log_1 = __webpack_require__(/*! ./helpers/Log */ "./src/helpers/Log.ts");
const NestJSLogger_1 = __webpack_require__(/*! ./helpers/NestJSLogger */ "./src/helpers/NestJSLogger.ts");
const log = Log_1.createEverLogger({ name: 'bootstrapNest' });
function bootstrapNest() {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        const port = env_1.env.GQLPORT;
        const app = yield core_1.NestFactory.create(app_module_1.ApplicationModule, {
            logger: new NestJSLogger_1.EverbieNestJSLogger(),
        });
        app.enableCors();
        const options = new swagger_1.DocumentBuilder()
            .setTitle('Ever REST API')
            .setVersion('1.0')
            .addBearerAuth()
            .build();
        const document = swagger_1.SwaggerModule.createDocument(app, options);
        swagger_1.SwaggerModule.setup('api', app, document);
        yield app.listen(port + '');
        if (true) {
            module.hot.accept();
            module.hot.dispose((_) => app.close());
        }
        log.info(`Swagger UI available at http://localhost:${port}/api`);
        console.log(`Swagger UI available at http://localhost:${port}/api`);
    });
}
exports.bootstrapNest = bootstrapNest;


/***/ }),

/***/ "./src/services/IService.ts":
/*!**********************************!*\
  !*** ./src/services/IService.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.ServiceSymbol = Symbol('Service');


/***/ }),

/***/ "./src/services/admins/AdminsService.ts":
/*!**********************************************!*\
  !*** ./src/services/admins/AdminsService.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const Admin_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Admin */ "./node_modules/@ever-platform/common/src/entities/Admin.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let AdminsService = class AdminsService extends db_server_1.DBService {
    constructor(authServiceFactory, _adminRepository) {
        super();
        this._adminRepository = _adminRepository;
        this.DBObject = Admin_1.default;
        this.log = Log_1.createEverLogger({ name: 'adminService' });
        _adminRepository
            .count()
            .then((c) => {
            console.log('Admins count: ' + c);
        })
            .catch((e) => {
            console.log(e);
        });
        this.authService = authServiceFactory({
            role: 'admin',
            Entity: Admin_1.default,
            saltRounds: env_1.env.ADMIN_PASSWORD_BCRYPT_SALT_ROUNDS,
        });
    }
    get(id) {
        return super.get(id).pipe(operators_1.map((admin) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return admin;
        })), operators_1.switchMap((admin) => admin));
    }
    getByEmail(email) {
        const _super = Object.create(null, {
            findOne: { get: () => super.findOne }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.findOne.call(this, { email, isDeleted: { $eq: false } });
        });
    }
    register(input) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const admin = yield this.create(Object.assign(Object.assign({}, input.admin), (input.password
                ? {
                    hash: yield this.authService.getPasswordHash(input.password),
                }
                : {})));
            return admin;
        });
    }
    updatePassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            yield this.authService.updatePassword(id, password);
        });
    }
    login(email, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            let res = null;
            const admin = yield this.getByEmail(email);
            if (admin) {
                res = yield this.authService.login({ email }, password);
            }
            if (!res) {
                return null;
            }
            return {
                admin: res.entity,
                token: res.token,
            };
        });
    }
    isAuthenticated(token) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this.authService.isAuthenticated(token);
        });
    }
    updateById(id, updateObject) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return _super.update.call(this, id, updateObject);
        });
    }
    throwIfNotExists(adminId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const admin = yield _super.get.call(this, adminId).pipe(operators_1.first()).toPromise();
            if (!admin || admin.isDeleted) {
                throw Error(`Admin with id '${adminId}' does not exists!`);
            }
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], AdminsService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminsService.prototype, "getByEmail", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminsService.prototype, "register", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminsService.prototype, "updatePassword", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminsService.prototype, "login", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminsService.prototype, "isAuthenticated", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminsService.prototype, "updateById", null);
AdminsService = tslib_1.__decorate([
    inversify_1.injectable(),
    tslib_1.__param(0, inversify_1.inject('Factory<AuthService>')),
    tslib_1.__param(1, inversify_1.inject('AdminRepository')),
    tslib_1.__metadata("design:paramtypes", [Function, typeorm_1.Repository])
], AdminsService);
exports.AdminsService = AdminsService;


/***/ }),

/***/ "./src/services/admins/index.ts":
/*!**************************************!*\
  !*** ./src/services/admins/index.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./AdminsService */ "./src/services/admins/AdminsService.ts"), exports);


/***/ }),

/***/ "./src/services/auth/AuthService.ts":
/*!******************************************!*\
  !*** ./src/services/auth/AuthService.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const entity_service_1 = __webpack_require__(/*! @pyro/db-server/entity-service */ "./src/@pyro/db-server/entity-service.ts");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const WrongPasswordError_1 = __webpack_require__(/*! @modules/server.common/errors/WrongPasswordError */ "./node_modules/@ever-platform/common/src/errors/WrongPasswordError.ts");
const bcrypt_1 = tslib_1.__importDefault(__webpack_require__(/*! bcrypt */ "bcrypt"));
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const jsonwebtoken_1 = tslib_1.__importDefault(__webpack_require__(/*! jsonwebtoken */ "jsonwebtoken"));
const jsonwebtoken_2 = __webpack_require__(/*! jsonwebtoken */ "jsonwebtoken");
let AuthService = class AuthService extends entity_service_1.EntityService {
    setConfig(config) {
        this.role = config.role;
        this.DBObject = config.Entity;
        this.saltRounds = config.saltRounds;
    }
    getPasswordHash(password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return bcrypt_1.default.hash(password, this.saltRounds);
        });
    }
    addPassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const entity = this.parse(yield this.Model.findById(id).select('+hash').lean().exec());
            if (entity.hash != null) {
                throw new Error('Password already exists, please call updatePassword instead.');
            }
            yield this._savePassword(id, password);
        });
    }
    updatePassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const entity = this.parse(yield this.Model.findById(id).select('+hash').lean().exec());
            if (!(yield bcrypt_1.default.compare(password.current, entity.hash))) {
                throw new WrongPasswordError_1.WrongPasswordError();
            }
            yield this._savePassword(id, password.new);
        });
    }
    _savePassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const hash = yield this.getPasswordHash(password);
            yield this.Model.findByIdAndUpdate(id, {
                hash,
            })
                .lean()
                .exec();
        });
    }
    login(findObj, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const entity = this.parse(yield this.Model.findOne(findObj).select('+hash').lean().exec());
            if (!entity || !(yield bcrypt_1.default.compare(password, entity.hash))) {
                return null;
            }
            const token = jsonwebtoken_1.default.sign({ id: entity.id, role: this.role }, env_1.env.JWT_SECRET, {});
            delete entity.hash;
            return {
                entity,
                token,
            };
        });
    }
    isAuthenticated(token) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            try {
                const { id, role } = jsonwebtoken_1.default.verify(token, env_1.env.JWT_SECRET);
                const entity = yield this.Model.findById(id).lean().exec();
                if (!entity) {
                    return false;
                }
                return role === this.role;
            }
            catch (err) {
                if (err instanceof jsonwebtoken_2.JsonWebTokenError) {
                    return false;
                }
                else {
                    throw err;
                }
            }
        });
    }
};
AuthService = tslib_1.__decorate([
    inversify_1.injectable()
], AuthService);
exports.AuthService = AuthService;
exports.authServiceFactory = (context) => {
    return (config) => {
        const authService = context.container.get(AuthService);
        authService.setConfig(config);
        return authService;
    };
};


/***/ }),

/***/ "./src/services/auth/AuthenticationService.ts":
/*!****************************************************!*\
  !*** ./src/services/auth/AuthenticationService.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const passport_jwt_1 = __webpack_require__(/*! passport-jwt */ "passport-jwt");
const jsonwebtoken_1 = tslib_1.__importDefault(__webpack_require__(/*! jsonwebtoken */ "jsonwebtoken"));
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const warehouses_1 = __webpack_require__(/*! ../warehouses */ "./src/services/warehouses/index.ts");
const carriers_1 = __webpack_require__(/*! ../carriers */ "./src/services/carriers/index.ts");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const jwtSecret = env_1.env.JWT_SECRET;
if (jwtSecret === 'default') {
    console.log('Warning: default JWT_SECRET used. Please add your own to config!');
}
exports.createJwtData = {
    jwtFromRequest: passport_jwt_1.ExtractJwt.fromAuthHeaderAsBearerToken(),
    secretOrKey: jwtSecret,
};
function createToken(id, appName) {
    const user = { id, appName };
    return jsonwebtoken_1.default.sign(user, 'secretKey', {
        expiresIn: 3600,
    });
}
exports.createToken = createToken;
let AuthenticationService = class AuthenticationService {
    constructor(warehousesService, carriersService) {
        this.warehousesService = warehousesService;
        this.carriersService = carriersService;
    }
    validateUser(payload) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (payload.appName === 'carrier') {
                return this.carriersService
                    .get(payload.id)
                    .pipe(operators_1.first())
                    .toPromise();
            }
            else if (payload.appName === 'warehouse') {
                return this.warehousesService
                    .get(payload.id)
                    .pipe(operators_1.first())
                    .toPromise();
            }
            else {
                return null;
            }
        });
    }
};
AuthenticationService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('auth'),
    tslib_1.__param(0, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => warehouses_1.WarehousesService))),
    tslib_1.__param(1, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => carriers_1.CarriersService))),
    tslib_1.__metadata("design:paramtypes", [warehouses_1.WarehousesService,
        carriers_1.CarriersService])
], AuthenticationService);
exports.AuthenticationService = AuthenticationService;


/***/ }),

/***/ "./src/services/auth/index.ts":
/*!************************************!*\
  !*** ./src/services/auth/index.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./AuthenticationService */ "./src/services/auth/AuthenticationService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./AuthService */ "./src/services/auth/AuthService.ts"), exports);


/***/ }),

/***/ "./src/services/carriers/CarriersOrdersService.ts":
/*!********************************************************!*\
  !*** ./src/services/carriers/CarriersOrdersService.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const products_1 = __webpack_require__(/*! ../products */ "./src/services/products/index.ts");
const orders_1 = __webpack_require__(/*! ../orders */ "./src/services/orders/index.ts");
const CarriersService_1 = tslib_1.__importDefault(__webpack_require__(/*! ./CarriersService */ "./src/services/carriers/CarriersService.ts"));
const OrderCarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderCarrierStatus */ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts"));
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const warehouses_1 = __webpack_require__(/*! ../warehouses */ "./src/services/warehouses/index.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
const geo_locations_1 = __webpack_require__(/*! ../geo-locations */ "./src/services/geo-locations/index.ts");
const utils_1 = __webpack_require__(/*! @modules/server.common/utils */ "./node_modules/@ever-platform/common/src/utils.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const OrderWarehouseStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderWarehouseStatus */ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts"));
let CarriersOrdersService = class CarriersOrdersService {
    constructor(carriersService, productsService, ordersService, geoLocationsOrdersService, warehousesOrdersService) {
        this.carriersService = carriersService;
        this.productsService = productsService;
        this.ordersService = ordersService;
        this.geoLocationsOrdersService = geoLocationsOrdersService;
        this.warehousesOrdersService = warehousesOrdersService;
        this.log = Log_1.createEverLogger({
            name: 'carriersOrdersService',
        });
    }
    selectedForDelivery(carrierId, orderIds) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            let carrier = yield this.carriersService
                .get(carrierId)
                .pipe(operators_1.first())
                .toPromise();
            if (carrier != null) {
                if (orderIds.length > 0) {
                    yield this.ordersService.updateMultipleByIds(orderIds, {
                        carrier: carrierId,
                        carrierStatus: OrderCarrierStatus_1.default.CarrierSelectedOrder,
                    });
                }
                carrier = yield this.carriersService
                    .get(carrierId)
                    .pipe(operators_1.first())
                    .toPromise();
                return carrier;
            }
            else {
                throw new Error('Carrier with such id is not found!');
            }
        });
    }
    getCount(carrierId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            return this.ordersService.count(lodash_1.default.extend({ carrier: carrierId }, orders_1.OrdersService.FindObjects.isCompleted));
        });
    }
    skipOrders(carrierId, ordersIds) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            return this.carriersService.update(carrierId, {
                $push: {
                    skippedOrderIds: {
                        $each: ordersIds,
                    },
                },
            });
        });
    }
    updateStatus(carrierId, status) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            const findObj = lodash_1.default.extend({ carrier: carrierId }, orders_1.OrdersService.FindObjects.isNotCompleted);
            const updateObj = {
                carrierStatus: status,
            };
            if (status === OrderCarrierStatus_1.default.DeliveryCompleted) {
                updateObj.isPaid = true;
                updateObj.deliveryTime = Date.now();
            }
            if (status === OrderCarrierStatus_1.default.CarrierStartDelivery ||
                status === OrderCarrierStatus_1.default.CarrierPickedUpOrder) {
                updateObj.startDeliveryTime = Date.now();
            }
            const finishedProcessingStatuses = [
                OrderCarrierStatus_1.default.ClientRefuseTakingOrder,
                OrderCarrierStatus_1.default.DeliveryCompleted,
                OrderCarrierStatus_1.default.IssuesDuringDelivery,
            ];
            if (finishedProcessingStatuses.includes(status)) {
                updateObj.finishedProcessingTime = Date.now();
            }
            if ((yield this.carriersService.getCurrent(carrierId)) != null) {
                try {
                    const orders = yield this.ordersService.updateMultiple(findObj, updateObj);
                    if (status === OrderCarrierStatus_1.default.DeliveryCompleted) {
                        return yield this.carriersService.increaseNumberOfDeliveries(carrierId, orders.length);
                    }
                    else {
                        return (yield this.carriersService.getCurrent(carrierId));
                    }
                }
                catch (err) {
                    this.log.error(err);
                    throw err;
                }
            }
            else {
                throw new Error('Carrier with such id is not found!');
            }
        });
    }
    cancelDelivery(carrierId, orderIds) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            const _orders = yield this.ordersService.find({
                _id: { $in: orderIds },
                isDeleted: { $eq: false },
            });
            const ordersIdsFiltered = _orders.map((d) => d.id);
            const orders = yield this.ordersService.updateMultipleByIds(ordersIdsFiltered, {
                $unset: { carrier: 1 },
                carrierStatus: OrderCarrierStatus_1.default.NoCarrier,
            });
            yield this.skipOrders(carrierId, lodash_1.default.map(orders, (order) => order.id));
            return this.carriersService.updateStatus(carrierId, 0);
        });
    }
    getAvailable(carrierId, options = {
        populateWarehouse: false,
    }) {
        return this.carriersService.get(carrierId).pipe(operators_1.map((carrier) => (carrier != null ? carrier.geoLocation : null)), operators_1.distinctUntilChanged((geoLocation1, geoLocation2) => {
            if (geoLocation1 == null || geoLocation2 == null) {
                return true;
            }
            else {
                return utils_1.getDistance(geoLocation1, geoLocation2) <= 0.001;
            }
        }), operators_1.switchMap((geoLocation) => geoLocation != null
            ? this.geoLocationsOrdersService.get(geoLocation, {
                populateWarehouse: options.populateWarehouse,
            })
            : rxjs_1.throwError(new Error(`No such a carrier with the id ${carrierId} => can't getAvailable`))));
    }
    get(carrierId, options = {
        populateWarehouse: false,
        completion: 'not-completed',
    }) {
        return rxjs_1.of(null).pipe(operators_1.map((res) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            return res;
        })), operators_1.switchMap((res) => res), operators_1.concat(this.ordersService.existence.pipe(operators_1.filter((existenceEvent) => {
            switch (existenceEvent.type) {
                case db_server_1.ExistenceEventType.Created:
                    return existenceEvent.value != null
                        ? existenceEvent.value.carrierId ===
                            carrierId
                        : false;
                case db_server_1.ExistenceEventType.Updated:
                    return ((existenceEvent.value != null
                        ? existenceEvent.value.carrierId ===
                            carrierId
                        : false) ||
                        (existenceEvent.lastValue != null
                            ? existenceEvent.lastValue.carrierId ===
                                carrierId
                            : false));
                case db_server_1.ExistenceEventType.Removed:
                    return existenceEvent.lastValue != null
                        ? existenceEvent.lastValue.carrierId ===
                            carrierId
                        : false;
            }
        }), operators_1.share())), operators_1.exhaustMap(() => this._get(carrierId, options)));
    }
    getCarrierOrders(carrierId, options = {
        populateWarehouse: false,
        completion: 'not-completed',
    }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const ordersRaw = (yield this.ordersService.Model.find(lodash_1.default.extend({ carrier: carrierId, isDeleted: { $eq: false } }, (() => {
                switch (options.completion) {
                    case 'completed':
                        return orders_1.OrdersService.FindObjects.isCompleted;
                    case 'not-completed':
                        return orders_1.OrdersService.FindObjects.isNotCompleted;
                    case 'all':
                        return {};
                }
            })()))
                .populate(options.populateWarehouse ? 'warehouse' : '')
                .lean()
                .exec());
            return ordersRaw.map((orderRaw) => {
                orderRaw['id'] = orderRaw._id;
                orderRaw.products = orderRaw.products.map((p) => {
                    p['id'] = p._id;
                    p.product['id'] = p.product._id;
                    return p;
                });
                return orderRaw;
            });
        });
    }
    getCarrierCurrentOrder(carrierId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            return this.ordersService.Model.findOne(lodash_1.default.assign(this.getOrdersForWorkFilter(carrierId), {
                carrier: carrierId,
            }))
                .lean()
                .exec();
        });
    }
    getCountOfCarrierOrdersHistory(carrierId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            return this.ordersService.Model.find({ carrier: carrierId })
                .countDocuments()
                .exec();
        });
    }
    getCarrierOrdersHistory(carrierId, options) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            const dbOrders = yield this.ordersService.Model.find({
                carrier: carrierId,
            })
                .sort({
                _createdAt: options.sort && options.sort.toLowerCase().includes('desc')
                    ? 'desc'
                    : 'asc',
            })
                .skip(options.skip || 0)
                .limit(options.limit || 1)
                .lean()
                .exec();
            return dbOrders.map((o) => new Order_1.default(o));
        });
    }
    _get(carrierId, options) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            try {
                const ordersRaw = (yield this.ordersService.Model.find(lodash_1.default.extend({ carrier: carrierId, isDeleted: { $eq: false } }, (() => {
                    switch (options.completion) {
                        case 'completed':
                            return orders_1.OrdersService.FindObjects.isCompleted;
                        case 'not-completed':
                            return orders_1.OrdersService.FindObjects.isNotCompleted;
                        case 'all':
                            return {};
                    }
                })()))
                    .populate(options.populateWarehouse ? 'warehouse' : '')
                    .lean()
                    .exec());
                return lodash_1.default.map(ordersRaw, (orderRaw) => new Order_1.default(orderRaw));
            }
            catch (err) {
                this.log.error(err);
                throw err;
            }
        });
    }
    getOrdersForWorkFilter(carrierId) {
        return {
            carrierStatus: {
                $nin: [
                    OrderCarrierStatus_1.default.IssuesDuringDelivery,
                    OrderCarrierStatus_1.default.ClientRefuseTakingOrder,
                    OrderCarrierStatus_1.default.DeliveryCompleted,
                ],
            },
            warehouseStatus: {
                $in: [
                    OrderWarehouseStatus_1.default.PackagingFinished,
                    OrderWarehouseStatus_1.default.GivenToCarrier,
                ],
            },
            $or: [{ carrier: null }, { carrier: carrierId }],
        };
    }
};
CarriersOrdersService.CarrierTrackingDistance = 50000;
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Array]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "selectedForDelivery", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "getCount", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Array]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "skipOrders", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "updateStatus", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Array]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "cancelDelivery", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], CarriersOrdersService.prototype, "getAvailable", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], CarriersOrdersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "getCarrierOrders", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "getCarrierCurrentOrder", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "getCountOfCarrierOrdersHistory", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "getCarrierOrdersHistory", null);
CarriersOrdersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('carrier-orders'),
    tslib_1.__param(0, inversify_1.inject(CarriersService_1.default)),
    tslib_1.__param(1, inversify_1.inject(products_1.ProductsService)),
    tslib_1.__param(2, inversify_1.inject(orders_1.OrdersService)),
    tslib_1.__param(3, inversify_1.inject(geo_locations_1.GeoLocationsOrdersService)),
    tslib_1.__param(4, inversify_1.inject(warehouses_1.WarehousesOrdersService)),
    tslib_1.__metadata("design:paramtypes", [CarriersService_1.default,
        products_1.ProductsService,
        orders_1.OrdersService,
        geo_locations_1.GeoLocationsOrdersService,
        warehouses_1.WarehousesOrdersService])
], CarriersOrdersService);
exports.CarriersOrdersService = CarriersOrdersService;


/***/ }),

/***/ "./src/services/carriers/CarriersService.ts":
/*!**************************************************!*\
  !*** ./src/services/carriers/CarriersService.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const CarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/CarrierStatus */ "./node_modules/@ever-platform/common/src/enums/CarrierStatus.ts"));
const Carrier_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Carrier */ "./node_modules/@ever-platform/common/src/entities/Carrier.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
let CarriersService = class CarriersService extends db_server_1.DBService {
    constructor(authServiceFactory) {
        super();
        this.authServiceFactory = authServiceFactory;
        this.DBObject = Carrier_1.default;
        this.log = Log_1.createEverLogger({
            name: 'carriersService',
        });
        this.authService = this.authServiceFactory({
            role: 'carrier',
            Entity: Carrier_1.default,
            saltRounds: env_1.env.CARRIER_PASSWORD_BCRYPT_SALT_ROUNDS,
        });
    }
    get(id) {
        return super.get(id).pipe(operators_1.map((carrier) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return carrier;
        })), operators_1.switchMap((carrier) => {
            return carrier;
        }));
    }
    getAllActive() {
        return rxjs_1.concat(rxjs_1.of(null), this.existence).pipe(operators_1.exhaustMap(() => this._getAllActive()));
    }
    _getAllActive() {
        const _super = Object.create(null, {
            find: { get: () => super.find }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.find.call(this, { isActive: true, isDeleted: { $eq: false } });
        });
    }
    getMultipleByIds(carrierIds) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const carriers = yield this.find({
                _id: { $in: carrierIds },
                isDeleted: { $eq: false },
            });
            const carriersIdsToReturn = carriers.map((c) => c.id);
            return this.getMultiple(carriersIdsToReturn);
        });
    }
    register(input) {
        const _super = Object.create(null, {
            create: { get: () => super.create }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const carrier = yield _super.create.call(this, Object.assign(Object.assign({}, input.carrier), (input.password
                ? {
                    hash: yield this.authService.getPasswordHash(input.password),
                }
                : {})));
            return carrier;
        });
    }
    updatePassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            yield this.authService.updatePassword(id, password);
        });
    }
    login(username, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const res = yield this.authService.login({ username }, password);
            if (!res) {
                return null;
            }
            else if (res.entity.isDeleted) {
                return null;
            }
            return {
                carrier: res.entity,
                token: res.token,
            };
        });
    }
    updateStatus(carrierId, status) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(carrierId);
            return _super.update.call(this, carrierId, { status });
        });
    }
    updateActivity(carrierId, isActive) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(carrierId);
            return _super.update.call(this, carrierId, { isActive });
        });
    }
    updateEmail(carrierId, email) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(carrierId);
            return this.update(carrierId, { email });
        });
    }
    updateGeoLocation(carrierId, geoLocation) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(carrierId);
            return _super.update.call(this, carrierId, { geoLocation });
        });
    }
    updateById(id, updateObject) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return _super.update.call(this, id, updateObject);
        });
    }
    increaseNumberOfDeliveries(carrierId, n) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(carrierId);
            return _super.update.call(this, carrierId, {
                $inc: { numberOfDeliveries: n },
            });
        });
    }
    throwIfNotExists(carrierId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const carrier = yield _super.get.call(this, carrierId).pipe(operators_1.first()).toPromise();
            if (!carrier || carrier.isDeleted) {
                throw Error(`Carrier with id '${carrierId}' does not exists!`);
            }
        });
    }
    getCarriers(findInput, pagingOptions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const sortObj = {};
            if (pagingOptions.sort) {
                sortObj[pagingOptions.sort.field] = pagingOptions.sort.sortBy;
            }
            return this.Model.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false } }))
                .sort(sortObj)
                .skip(pagingOptions.skip)
                .limit(pagingOptions.limit)
                .lean()
                .exec();
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", void 0)
], CarriersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], CarriersService.prototype, "getAllActive", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersService.prototype, "register", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersService.prototype, "login", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersService.prototype, "updateStatus", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Boolean]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersService.prototype, "updateActivity", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersService.prototype, "updateEmail", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__param(1, io_1.serialization((gl) => new GeoLocation_1.default(gl))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, GeoLocation_1.default]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersService.prototype, "updateGeoLocation", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersService.prototype, "updateById", null);
CarriersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('carrier'),
    tslib_1.__param(0, inversify_1.inject('Factory<AuthService>')),
    tslib_1.__metadata("design:paramtypes", [Function])
], CarriersService);
exports.CarriersService = CarriersService;
exports.default = CarriersService;


/***/ }),

/***/ "./src/services/carriers/index.ts":
/*!****************************************!*\
  !*** ./src/services/carriers/index.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./CarriersService */ "./src/services/carriers/CarriersService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./CarriersOrdersService */ "./src/services/carriers/CarriersOrdersService.ts"), exports);


/***/ }),

/***/ "./src/services/currency/CurrencyService.ts":
/*!**************************************************!*\
  !*** ./src/services/currency/CurrencyService.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const Currency_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Currency */ "./node_modules/@ever-platform/common/src/entities/Currency.ts"));
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
let CurrenciesService = class CurrenciesService extends db_server_1.DBService {
    constructor() {
        super(...arguments);
        this.DBObject = Currency_1.default;
        this.log = Log_1.createEverLogger({
            name: 'currenciesService',
        });
    }
    createCurrency(currency) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            let success;
            let message;
            let data;
            try {
                data = yield this.create(currency);
                success = true;
                message = `Successfully create currency ${data.currencyCode}`;
            }
            catch (error) {
                success = false;
                message = error.message;
            }
            return { success, message, data };
        });
    }
    getAllCurrencies() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const currencies = yield this.find({
                isDeleted: { $eq: false },
            });
            return currencies;
        });
    }
};
CurrenciesService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('currency')
], CurrenciesService);
exports.CurrenciesService = CurrenciesService;


/***/ }),

/***/ "./src/services/devices/DevicesService.ts":
/*!************************************************!*\
  !*** ./src/services/devices/DevicesService.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Device_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Device */ "./node_modules/@ever-platform/common/src/entities/Device.ts"));
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let DevicesService = class DevicesService extends db_server_1.DBService {
    constructor() {
        super(...arguments);
        this.DBObject = Device_1.default;
        this.log = Log_1.createEverLogger({
            name: 'devicesService',
        });
    }
    get(id) {
        return super.get(id).pipe(operators_1.map((device) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return device;
        })), operators_1.switchMap((device) => device));
    }
    getMultipleDevices(ids) {
        const _super = Object.create(null, {
            getMultiple: { get: () => super.getMultiple }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const devices = yield this.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const devicesIds = devices.map((device) => device.id);
            return _super.getMultiple.call(this, devicesIds);
        });
    }
    create(device) {
        const _super = Object.create(null, {
            create: { get: () => super.create }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.create.call(this, device);
        });
    }
    updateLanguage(deviceId, language) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(deviceId);
            return this.update(deviceId, {
                language,
            });
        });
    }
    throwIfNotExists(deviceId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const device = yield _super.get.call(this, deviceId).pipe(operators_1.first()).toPromise();
            if (!device || device.isDeleted) {
                throw Error(`Device with id '${deviceId}' does not exists!`);
            }
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], DevicesService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DevicesService.prototype, "create", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], DevicesService.prototype, "updateLanguage", null);
DevicesService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('device')
], DevicesService);
exports.DevicesService = DevicesService;


/***/ }),

/***/ "./src/services/devices/index.ts":
/*!***************************************!*\
  !*** ./src/services/devices/index.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./DevicesService */ "./src/services/devices/DevicesService.ts"), exports);


/***/ }),

/***/ "./src/services/fake-data/FakeOrdersService.ts":
/*!*****************************************************!*\
  !*** ./src/services/fake-data/FakeOrdersService.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
let FakeOrdersService = class FakeOrdersService {
    getOrderRaw(orderNumber, storeId, storeCreatedAt, carrierId, customers, products) {
        this._orderNumber = orderNumber;
        this._storeId = storeId;
        this._carrierId = carrierId;
        this._orderCreatedAt = this.getOrderDate(storeCreatedAt);
        switch (true) {
            case orderNumber <= 25:
                return this._getOrderJustCreated(customers, products);
            case orderNumber <= 50:
                return this._getOrderReadyForProcessing(customers, products);
            case orderNumber <= 75:
                return this._getOrderStoreStartProcessing(customers, products);
            case orderNumber <= 100:
                return this._getOrderConfirmed(customers, products);
            case orderNumber <= 125:
                return this._getOrderStartAllocation(customers, products);
            case orderNumber <= 150:
                return this._getOrderPackagingStarted(customers, products);
            case orderNumber <= 200:
                return this._getOrderAllocationFails(customers, products);
            case orderNumber <= 250:
                return this._getOrderPackagingFails(customers, products);
            case orderNumber <= 300:
                return this._getOrderIssuesDuringDelivery(customers, products);
            case orderNumber <= 350:
                return this._getOrderClientRefuseOrder(customers, products);
            case orderNumber <= 400:
                return this._getOrderAllocationFinished(customers, products);
            case orderNumber <= 450:
                return this._getOrderPackagingFinished(customers, products);
            case orderNumber <= 475:
                return this._getOrderCarrierSelected(customers, products);
            case orderNumber <= 500:
                return this._getOrderCarrierPickup(customers, products);
            case orderNumber <= 525:
                return this._getOrderCarrierArriveToCustomer(customers, products);
            case orderNumber <= 650:
                return this._getOrderCancelled(customers, products);
            case orderNumber <= 1000:
                return this._getOrderDeliveryCompleted(customers, products);
        }
    }
    getOrderDate(startDate) {
        const now = new Date();
        const orderYear = lodash_1.default.random(startDate.getFullYear(), now.getFullYear());
        const orderMonth = lodash_1.default.random(11);
        const orderDate = lodash_1.default.random(31);
        const orderHours = lodash_1.default.random(23);
        const orderMinutes = lodash_1.default.random(59);
        const orderCreatedAt = new Date(orderYear, orderMonth, orderDate, orderHours, orderMinutes);
        if (orderCreatedAt < startDate || orderCreatedAt > now) {
            const diff = now.getTime() - startDate.getTime();
            orderCreatedAt.setTime(startDate.getTime() + lodash_1.default.random(diff));
        }
        return orderCreatedAt;
    }
    getOrderNextTime(date) {
        const randomMinutes = lodash_1.default.random(1, 30);
        const randomSec = lodash_1.default.random(1, 60);
        const oldDate = new Date(date);
        oldDate.setSeconds(randomSec);
        return new Date(oldDate.setMinutes(date.getMinutes() + randomMinutes));
    }
    getRandomNumberOfProducts() {
        return this._orderNumber % 7 || 1;
    }
    getRandomOrderProductCount() {
        return this._orderNumber % 3 || 1;
    }
    getRandomOrderProductPrice() {
        return this._orderNumber % 110 || 1;
    }
    getRandomProduct(orderNumber, products) {
        return products[orderNumber % products.length];
    }
    generateRandomOrderProducts(products) {
        const numberOfProducts = this.getRandomNumberOfProducts();
        const orderProducts = [];
        for (let productNumber = 1; productNumber <= numberOfProducts; productNumber += 1) {
            const orderPrice = this.getRandomOrderProductPrice();
            orderProducts.push({
                count: this.getRandomOrderProductCount(),
                product: this.getRandomProduct(productNumber, products),
                isManufacturing: true,
                price: orderPrice,
                initialPrice: orderPrice,
            });
        }
        return orderProducts;
    }
    getRandomOrderCustomer(customers) {
        return customers[this._orderNumber % customers.length];
    }
    _getOrderDeliveryCompleted(customers, products) {
        const startDeliveryTime = this.getOrderNextTime(this._orderCreatedAt);
        const deliveryTime = this.getOrderNextTime(startDeliveryTime);
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: true,
            deliveryTimeEstimate: 0,
            warehouseStatus: 6,
            carrierStatus: 5,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            carrier: this._carrierId,
            startDeliveryTime,
            deliveryTime,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderCarrierArriveToCustomer(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 6,
            carrierStatus: 4,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            carrier: this._carrierId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            startDeliveryTime: this.getOrderNextTime(this._orderCreatedAt),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderCarrierPickup(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 6,
            carrierStatus: 2,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            carrier: this._carrierId,
            startDeliveryTime: this.getOrderNextTime(this._orderCreatedAt),
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderCarrierSelected(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 6,
            carrierStatus: 1,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            carrier: this._carrierId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderPackagingFinished(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 6,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderAllocationFinished(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 4,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderClientRefuseOrder(customers, products) {
        const startDeliveryTime = this.getOrderNextTime(this._orderCreatedAt);
        const finishedProcessingTime = this.getOrderNextTime(startDeliveryTime);
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 6,
            carrierStatus: 205,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            carrier: this._carrierId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            startDeliveryTime,
            finishedProcessingTime,
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderIssuesDuringDelivery(customers, products) {
        const startDeliveryTime = this.getOrderNextTime(this._orderCreatedAt);
        const finishedProcessingTime = this.getOrderNextTime(startDeliveryTime);
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 6,
            carrierStatus: 204,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            carrier: this._carrierId,
            startDeliveryTime,
            finishedProcessingTime,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderPackagingFails(customers, products) {
        const finishedProcessingTime = this.getOrderNextTime(this._orderCreatedAt);
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 201,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            finishedProcessingTime,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderAllocationFails(customers, products) {
        const finishedProcessingTime = this.getOrderNextTime(this._orderCreatedAt);
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 200,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            finishedProcessingTime,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderPackagingStarted(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 5,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderStartAllocation(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 3,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderStoreStartProcessing(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 2,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderReadyForProcessing(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 1,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderCancelled(customers, products) {
        const finishedProcessingTime = this.getOrderNextTime(this._orderCreatedAt);
        return {
            isConfirmed: true,
            isCancelled: true,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 0,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: 1,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            finishedProcessingTime,
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderConfirmed(customers, products) {
        return {
            isConfirmed: true,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 0,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: 1,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderJustCreated(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 0,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
};
FakeOrdersService = tslib_1.__decorate([
    inversify_1.injectable()
], FakeOrdersService);
exports.FakeOrdersService = FakeOrdersService;


/***/ }),

/***/ "./src/services/geo-locations/GeoLocationsOrdersService.ts":
/*!*****************************************************************!*\
  !*** ./src/services/geo-locations/GeoLocationsOrdersService.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const orders_1 = __webpack_require__(/*! ../orders */ "./src/services/orders/index.ts");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const GeoLocationsWarehousesService_1 = __webpack_require__(/*! ./GeoLocationsWarehousesService */ "./src/services/geo-locations/GeoLocationsWarehousesService.ts");
const bluebird_1 = tslib_1.__importDefault(__webpack_require__(/*! bluebird */ "bluebird"));
const warehouses_1 = __webpack_require__(/*! ../warehouses */ "./src/services/warehouses/index.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const of_1 = __webpack_require__(/*! rxjs/observable/of */ "rxjs/observable/of");
const from_1 = __webpack_require__(/*! rxjs/observable/from */ "rxjs/observable/from");
const OrderWarehouseStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderWarehouseStatus */ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts"));
const OrderCarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderCarrierStatus */ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts"));
const bson_1 = __webpack_require__(/*! bson */ "bson");
let GeoLocationsOrdersService = class GeoLocationsOrdersService {
    constructor(ordersService, warehousesService, geoLocationsWarehousesService, warehousesProductsService, warehousesOrdersService) {
        this.ordersService = ordersService;
        this.warehousesService = warehousesService;
        this.geoLocationsWarehousesService = geoLocationsWarehousesService;
        this.warehousesProductsService = warehousesProductsService;
        this.warehousesOrdersService = warehousesOrdersService;
        this.log = Log_1.createEverLogger({
            name: 'geoLocationsOrdersService',
        });
    }
    get(geoLocation, options = {}) {
        return of_1.of(null).pipe(operators_1.concat(this.ordersService.existence.pipe(operators_1.exhaustMap((existenceEvent) => {
            switch (existenceEvent.type) {
                case db_server_1.ExistenceEventType.Created:
                case db_server_1.ExistenceEventType.Updated:
                    if (existenceEvent.value != null) {
                        return this.warehousesService
                            .get(existenceEvent.value.warehouseId)
                            .pipe(operators_1.first());
                    }
                    else {
                        return this.warehousesService
                            .get('wrong')
                            .pipe(operators_1.first());
                    }
                case db_server_1.ExistenceEventType.Removed:
                    if (existenceEvent.lastValue != null) {
                        return this.warehousesService
                            .get(existenceEvent.lastValue.warehouseId)
                            .pipe(operators_1.first());
                    }
                    else {
                        return this.warehousesService
                            .get('wrong')
                            .pipe(operators_1.first());
                    }
            }
        }), operators_1.filter((warehouse) => warehouse != null
            ? GeoLocationsWarehousesService_1.GeoLocationsWarehousesService.isNearly(warehouse, geoLocation)
            : true), operators_1.share())), operators_1.exhaustMap(() => from_1.from(this._get(geoLocation, options))));
    }
    getCountOfOrdersForWork(geoLocation, skippedOrderIds = [], searchObj) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const merchants = yield this.geoLocationsWarehousesService.getMerchants(geoLocation, GeoLocationsWarehousesService_1.GeoLocationsWarehousesService.TrackingDistance, { fullProducts: false, activeOnly: true });
            const merchantsIds = merchants.map((m) => m._id);
            let searchByRegex = [];
            if (searchObj && searchObj.byRegex.length > 0) {
                searchByRegex = searchObj.byRegex.map((s) => {
                    return { [s.key]: { $regex: s.value, $options: 'i' } };
                });
            }
            return this.ordersService.Model.find(lodash_1.default.assign({
                warehouse: { $in: merchantsIds },
                warehouseStatus: {
                    $eq: OrderWarehouseStatus_1.default.PackagingFinished,
                },
                carrierStatus: {
                    $lte: OrderCarrierStatus_1.default.CarrierSelectedOrder,
                },
                _id: { $nin: skippedOrderIds },
            }, ...searchByRegex))
                .countDocuments()
                .exec();
        });
    }
    getOrdersForWork(geoLocation, skippedOrderIds = [], options, searchObj) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const merchants = yield this.geoLocationsWarehousesService.getMerchants(geoLocation, GeoLocationsWarehousesService_1.GeoLocationsWarehousesService.TrackingDistance, { fullProducts: false, activeOnly: true });
            const merchantsIds = merchants.map((m) => m._id.toString());
            let searchByRegex = [];
            if (searchObj) {
                const byRegex = searchObj.byRegex;
                if (byRegex && byRegex.length > 0) {
                    searchByRegex = byRegex.map((s) => {
                        return { [s.key]: { $regex: s.value, $options: 'i' } };
                    });
                }
                const isCancelled = searchObj.isCancelled;
                if (isCancelled != null) {
                    searchByRegex.push({ isCancelled });
                }
            }
            const orders = yield this.ordersService.Model.aggregate([
                {
                    $match: lodash_1.default.assign({
                        warehouse: { $in: merchantsIds },
                        warehouseStatus: {
                            $eq: OrderWarehouseStatus_1.default.PackagingFinished,
                        },
                        carrierStatus: {
                            $lte: OrderCarrierStatus_1.default.CarrierSelectedOrder,
                        },
                        _id: {
                            $nin: skippedOrderIds.map((id) => new bson_1.ObjectId(id)),
                        },
                    }, ...searchByRegex),
                },
                {
                    $sort: {
                        _createdAt: options.sort &&
                            options.sort.toLowerCase().includes('desc')
                            ? -1
                            : 1,
                    },
                },
            ])
                .allowDiskUse(true)
                .skip(options.skip || 0)
                .limit(options.limit || 1)
                .exec();
            return orders.filter((o) => o !== null).map((o) => new Order_1.default(o));
        });
    }
    _get(geoLocation, options = {}) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouses = yield this.geoLocationsWarehousesService
                .get(geoLocation, { activeOnly: true })
                .pipe(operators_1.first())
                .toPromise();
            this.log.info({
                geoLocation,
                warehouses,
            }, 'warehouses by location');
            const orders = lodash_1.default.flatten(yield bluebird_1.default.map(warehouses, (warehouse) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const warehouseOrders = yield this.warehousesOrdersService
                    .get(warehouse.id, {
                    populateCarrier: !!options.populateCarrier,
                })
                    .pipe(operators_1.first())
                    .toPromise();
                if (options.populateWarehouse) {
                    lodash_1.default.each(warehouseOrders, (order) => (order.warehouse = warehouse));
                }
                this.log.info({
                    geoLocation,
                    warehouseOrders,
                    warehouse,
                }, 'orders by warehouse');
                return warehouseOrders;
            })));
            this.log.info({
                geoLocation,
                orders,
            }, 'orders by warehouses');
            return orders;
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__param(0, io_1.serialization((geoLocationParam) => new GeoLocation_1.default(geoLocationParam))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [GeoLocation_1.default, Object]),
    tslib_1.__metadata("design:returntype", void 0)
], GeoLocationsOrdersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Array, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationsOrdersService.prototype, "getCountOfOrdersForWork", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Array, Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationsOrdersService.prototype, "getOrdersForWork", null);
GeoLocationsOrdersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('geo-location-orders'),
    tslib_1.__param(0, inversify_1.inject(orders_1.OrdersService)),
    tslib_1.__param(1, inversify_1.inject(warehouses_1.WarehousesService)),
    tslib_1.__param(2, inversify_1.inject(GeoLocationsWarehousesService_1.GeoLocationsWarehousesService)),
    tslib_1.__param(3, inversify_1.inject(warehouses_1.WarehousesProductsService)),
    tslib_1.__param(4, inversify_1.inject(warehouses_1.WarehousesOrdersService)),
    tslib_1.__metadata("design:paramtypes", [orders_1.OrdersService,
        warehouses_1.WarehousesService,
        GeoLocationsWarehousesService_1.GeoLocationsWarehousesService,
        warehouses_1.WarehousesProductsService,
        warehouses_1.WarehousesOrdersService])
], GeoLocationsOrdersService);
exports.GeoLocationsOrdersService = GeoLocationsOrdersService;


/***/ }),

/***/ "./src/services/geo-locations/GeoLocationsProductsService.ts":
/*!*******************************************************************!*\
  !*** ./src/services/geo-locations/GeoLocationsProductsService.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const warehouses_1 = __webpack_require__(/*! ../warehouses */ "./src/services/warehouses/index.ts");
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const ProductInfo_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/ProductInfo */ "./node_modules/@ever-platform/common/src/entities/ProductInfo.ts"));
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const utils_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/utils */ "./node_modules/@ever-platform/common/src/utils.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const GeoLocationsWarehousesService_1 = __webpack_require__(/*! ./GeoLocationsWarehousesService */ "./src/services/geo-locations/GeoLocationsWarehousesService.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const WarehouseProduct_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/WarehouseProduct */ "./node_modules/@ever-platform/common/src/entities/WarehouseProduct.ts"));
let GeoLocationsProductsService = class GeoLocationsProductsService {
    constructor(warehousesService, geoLocationsWarehousesService) {
        this.warehousesService = warehousesService;
        this.geoLocationsWarehousesService = geoLocationsWarehousesService;
        this.log = Log_1.createEverLogger({
            name: 'geoLocationsProductsService',
        });
    }
    get(geoLocation, options) {
        return this.geoLocationsWarehousesService
            .get(geoLocation, { fullProducts: true, activeOnly: true })
            .pipe(operators_1.map((warehouses) => this._getProductsFromWarehouses(geoLocation, warehouses, options)));
    }
    getCountOfGeoLocationProducts(geoLocation, options, searchText) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            try {
                const merchants = yield this.geoLocationsWarehousesService.getMerchants(geoLocation, GeoLocationsWarehousesService_1.GeoLocationsWarehousesService.TrackingDistance, {
                    fullProducts: true,
                    activeOnly: true,
                    merchantsIds: options ? options.merchantIds : null,
                });
                const productsIds = merchants.map((m) => {
                    let products = m.products
                        .filter((wProduct) => this.productsFilter(wProduct, options))
                        .filter((wProduct) => this.filterBySearchText(wProduct, searchText));
                    if (!options || !options.withoutCount) {
                        products = products.filter((wProduct) => wProduct.count > 0);
                    }
                    return products.map((p) => new WarehouseProduct_1.default(p).productId);
                });
                return (productsIds.flat().filter((x, i, a) => a.indexOf(x) == i)
                    .length || 0);
            }
            catch (error) {
                return 0;
            }
        });
    }
    geoLocationProductsByPaging(geoLocation, pagingOptions, options, searchText) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const merchants = yield this.geoLocationsWarehousesService.getMerchants(geoLocation, GeoLocationsWarehousesService_1.GeoLocationsWarehousesService.TrackingDistance, {
                fullProducts: true,
                activeOnly: true,
                merchantsIds: options ? options.merchantIds : null,
            });
            const products = this._getProductsFromWarehouses(geoLocation, merchants.map((m) => new Warehouse_1.default(m)), options, searchText);
            return products.slice(pagingOptions.skip).slice(0, pagingOptions.limit);
        });
    }
    _getProductsFromWarehouses(geoLocation, warehouses, options, searchText) {
        const underscore_ = lodash_1.default;
        return underscore_(warehouses)
            .map((_warehouse) => {
            const warehouse = lodash_1.default.clone(_warehouse);
            if (!options || !options.withoutCount) {
                warehouse.products = warehouse.products.filter((wProduct) => wProduct.count > 0);
            }
            if (options) {
                warehouse.products = warehouse.products.filter((wProduct) => this.productsFilter(wProduct, options));
            }
            warehouse.products = warehouse.products.filter((wProduct) => this.filterBySearchText(wProduct, searchText));
            return warehouse;
        })
            .map((warehouse) => lodash_1.default.map(warehouse.products, (warehouseProduct) => {
            return new ProductInfo_1.default({
                warehouseId: warehouse.id,
                warehouseLogo: warehouse.logo,
                warehouseProduct,
                distance: utils_1.default.getDistance(geoLocation, warehouse.geoLocation),
            });
        }))
            .flatten()
            .groupBy((productInfo) => productInfo.warehouseProduct.productId)
            .map((productInfos, productId) => {
            return lodash_1.default.minBy(productInfos, (productInfo) => productInfo.distance);
        })
            .filter((productInfo) => !lodash_1.default.isUndefined(productInfo))
            .map((productInfo) => productInfo)
            .value();
    }
    productsFilter(wProduct, options) {
        if (!options) {
            return true;
        }
        wProduct.product.images = wProduct.product.images.filter((i) => {
            return ((options.imageOrientation !== undefined
                ? options.imageOrientation === 1
                    ? i.orientation === 1
                    : i.orientation === 0 || i.orientation === 2
                : true) &&
                (options.locale !== undefined
                    ? i.locale === options.locale
                    : true));
        });
        if (!wProduct.product.images || wProduct.product.images.length === 0) {
            return false;
        }
        return options.isDeliveryRequired
            ? wProduct.isDeliveryRequired === options.isDeliveryRequired
            :  true && options.isTakeaway
                ? wProduct.isTakeaway === options.isTakeaway
                : true;
    }
    filterBySearchText(wProduct, searchText) {
        if (!searchText) {
            return true;
        }
        let titles = wProduct.product['title'];
        titles = titles ? titles.map((t) => t.value) : [];
        let descriptions = wProduct.product['description'];
        descriptions = descriptions
            ? descriptions.map((d) => d.value)
            : [];
        let details = wProduct.product['details'];
        details = details ? details.map((d) => d.value) : [];
        return ((titles &&
            titles
                .join()
                .toLocaleLowerCase()
                .includes(searchText.toLocaleLowerCase())) ||
            (descriptions &&
                descriptions
                    .join()
                    .toLocaleLowerCase()
                    .includes(searchText.toLocaleLowerCase())) ||
            (details &&
                details
                    .join()
                    .toLocaleLowerCase()
                    .includes(searchText.toLocaleLowerCase())));
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__param(0, io_1.serialization((g) => new GeoLocation_1.default(g))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [GeoLocation_1.default, Object]),
    tslib_1.__metadata("design:returntype", void 0)
], GeoLocationsProductsService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object, String]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationsProductsService.prototype, "getCountOfGeoLocationProducts", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__param(0, io_1.serialization((g) => new GeoLocation_1.default(g))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [GeoLocation_1.default, Object, Object, String]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationsProductsService.prototype, "geoLocationProductsByPaging", null);
GeoLocationsProductsService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('geo-location-products'),
    tslib_1.__param(0, inversify_1.inject(warehouses_1.WarehousesService)),
    tslib_1.__param(1, inversify_1.inject(GeoLocationsWarehousesService_1.GeoLocationsWarehousesService)),
    tslib_1.__metadata("design:paramtypes", [warehouses_1.WarehousesService,
        GeoLocationsWarehousesService_1.GeoLocationsWarehousesService])
], GeoLocationsProductsService);
exports.GeoLocationsProductsService = GeoLocationsProductsService;


/***/ }),

/***/ "./src/services/geo-locations/GeoLocationsService.ts":
/*!***********************************************************!*\
  !*** ./src/services/geo-locations/GeoLocationsService.ts ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const axios_1 = tslib_1.__importDefault(__webpack_require__(/*! axios */ "axios"));
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const util_1 = __webpack_require__(/*! util */ "util");
let GeoLocationsService = class GeoLocationsService {
    constructor() {
        this.log = Log_1.createEverLogger({
            name: 'GeoLocationsService',
        });
        this.arcgisClientID = env_1.env.ARCGIS_CLIENT_ID;
        this.arcgisClientSecret = env_1.env.ARCGIS_CLIENT_SECRET;
    }
    getAddressByCoordinatesUsingArcGIS(lat, lng) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!this.arcgisClientID || !this.arcgisClientSecret) {
                this.log.info(`Cannot use getAddressByCoordinatesUsingArcGIS without${this.arcgisClientID ? '' : ' arcgisClientID'}${this.arcgisClientSecret ? '' : ' arcgisClientSecret'}`);
                return null;
            }
            try {
                this.log.info(`Attempt to reverse Geocode coordinates: ${lat},${lng}`);
                const tokenRequestUrl = `https://www.arcgis.com/sharing/oauth2/token?client_id=${this.arcgisClientID}&client_secret=${this.arcgisClientSecret}&grant_type=client_credentials&f=json`;
                const tokenResult = yield axios_1.default.get(tokenRequestUrl);
                if (!tokenResult ||
                    !tokenResult.data ||
                    !tokenResult.data['access_token']) {
                    this.log.info(`Cannot get arcgis token with client_id=${this.arcgisClientID}, client_secret=${this.arcgisClientSecret}`);
                    return null;
                }
                else {
                    const token = tokenResult.data['access_token'];
                    const requestBaseUrl = `https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/reverseGeocode?location=${lng}%2C${lat}&distance=200&f=json`;
                    const requestUrl = `${requestBaseUrl}&forStorage=true&token=${token}`;
                    const resp = yield axios_1.default.get(requestUrl);
                    if (resp &&
                        resp.data &&
                        resp.data['address'] &&
                        (resp.data['address'].City ||
                            resp.data['address'].Region ||
                            resp.data['address'].Subregion)) {
                        let locality;
                        if (resp.data['address'].City) {
                            locality = resp.data['address'].City;
                        }
                        else if (resp.data['address'].Subregion) {
                            locality = resp.data['address'].Subregion;
                        }
                        else if (resp.data['address'].Region) {
                            locality = resp.data['address'].Region;
                        }
                        const result = {
                            locality,
                            thoroughfare: resp.data['address'].Address
                                ? resp.data['address'].Address.replace(/\d+|^\s+|\s+$/g, '').replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '')
                                : null,
                        };
                        this.log.info(`Attempted to reverse Geocode coordinates: ${lat}, ${lng}. Got results: ` +
                            `${JSON.stringify(result)}`);
                        return result;
                    }
                    else {
                        this.log.info(`Attempted to reverse Geocode coordinates: ${lat}, ${lng}. ` +
                            `Got empty response: ${resp ? util_1.inspect(resp) : ''}`);
                        return null;
                    }
                }
            }
            catch (err) {
                this.log.info(err);
                return null;
            }
        });
    }
};
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Number, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationsService.prototype, "getAddressByCoordinatesUsingArcGIS", null);
GeoLocationsService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('geo-location'),
    tslib_1.__metadata("design:paramtypes", [])
], GeoLocationsService);
exports.GeoLocationsService = GeoLocationsService;


/***/ }),

/***/ "./src/services/geo-locations/GeoLocationsWarehousesService.ts":
/*!*********************************************************************!*\
  !*** ./src/services/geo-locations/GeoLocationsWarehousesService.ts ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var GeoLocationsWarehousesService_1;
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const utils_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/utils */ "./node_modules/@ever-platform/common/src/utils.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const warehouses_1 = __webpack_require__(/*! ../warehouses */ "./src/services/warehouses/index.ts");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const of_1 = __webpack_require__(/*! rxjs/observable/of */ "rxjs/observable/of");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let GeoLocationsWarehousesService = GeoLocationsWarehousesService_1 = class GeoLocationsWarehousesService {
    constructor(warehousesService) {
        this.warehousesService = warehousesService;
        this.log = Log_1.createEverLogger({
            name: 'geoLocationsWarehousesService',
        });
    }
    static isNearly(warehouse, geoLocation) {
        return (utils_1.default.getDistance(warehouse.geoLocation, geoLocation) <=
            GeoLocationsWarehousesService_1.TrackingDistance);
    }
    get(geoLocation, _options) {
        const options = {
            fullProducts: _options != null && _options.fullProducts != null,
            activeOnly: _options != null && _options.activeOnly != null
                ? _options.activeOnly
                : false,
        };
        return of_1.of(null).pipe(operators_1.concat(this.warehousesService.existence.pipe(operators_1.filter((existenceEvent) => {
            let warehouse;
            let oldWarehouse;
            switch (existenceEvent.type) {
                case db_server_1.ExistenceEventType.Created:
                    warehouse = existenceEvent.value;
                    if (warehouse == null) {
                        return false;
                    }
                    return (GeoLocationsWarehousesService_1.isNearly(warehouse, geoLocation) &&
                        (options.activeOnly
                            ? warehouse.isActive
                            : true));
                case db_server_1.ExistenceEventType.Updated:
                    warehouse = existenceEvent.value;
                    oldWarehouse = existenceEvent.lastValue;
                    if (warehouse == null || oldWarehouse == null) {
                        return false;
                    }
                    return (GeoLocationsWarehousesService_1.isNearly(warehouse, geoLocation) !==
                        GeoLocationsWarehousesService_1.isNearly(oldWarehouse, geoLocation) &&
                        (options.activeOnly
                            ? warehouse.isActive !==
                                oldWarehouse.isActive
                            : true));
                case db_server_1.ExistenceEventType.Removed:
                    oldWarehouse = existenceEvent.lastValue;
                    if (oldWarehouse == null) {
                        return false;
                    }
                    return (GeoLocationsWarehousesService_1.isNearly(oldWarehouse, geoLocation) &&
                        (options.activeOnly
                            ? oldWarehouse.isActive
                            : true));
            }
        }), operators_1.share())), operators_1.exhaustMap(() => this._get(geoLocation, GeoLocationsWarehousesService_1.TrackingDistance, options)), operators_1.share());
    }
    getMerchants(geoLocation, maxDistance, options) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const merchantsIds = options.merchantsIds;
            const merchants = (yield this.warehousesService.Model.find(lodash_1.default.assign({
                'geoLocation.loc': {
                    $near: {
                        $geometry: {
                            type: 'Point',
                            coordinates: geoLocation.loc.coordinates,
                        },
                        $maxDistance: maxDistance,
                    },
                },
            }, options.activeOnly ? { isActive: true } : {}, merchantsIds && merchantsIds.length > 0
                ? {
                    _id: { $in: merchantsIds },
                }
                : {}))
                .populate(options.fullProducts ? 'products.product' : '')
                .lean()
                .exec());
            return merchants;
        });
    }
    _get(geoLocation, maxDistance, options) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouses = (yield this.warehousesService.Model.find(lodash_1.default.assign({
                'geoLocation.loc': {
                    $near: {
                        $geometry: {
                            type: 'Point',
                            coordinates: geoLocation.loc.coordinates,
                        },
                        $maxDistance: maxDistance,
                    },
                },
            }, options.activeOnly ? { isActive: true } : {}))
                .populate(options.fullProducts ? 'products.product' : '')
                .lean()
                .exec());
            return warehouses.map((warehouse) => new Warehouse_1.default(warehouse));
        });
    }
};
GeoLocationsWarehousesService.TrackingDistance = 50000;
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__param(0, io_1.serialization((g) => new GeoLocation_1.default(g))),
    tslib_1.__param(1, io_1.serialization((o) => lodash_1.default.omit(o, ['fullProducts', 'activeOnly']))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [GeoLocation_1.default, Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], GeoLocationsWarehousesService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Number, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationsWarehousesService.prototype, "getMerchants", null);
GeoLocationsWarehousesService = GeoLocationsWarehousesService_1 = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('geo-location-warehouses'),
    tslib_1.__metadata("design:paramtypes", [warehouses_1.WarehousesService])
], GeoLocationsWarehousesService);
exports.GeoLocationsWarehousesService = GeoLocationsWarehousesService;


/***/ }),

/***/ "./src/services/geo-locations/index.ts":
/*!*********************************************!*\
  !*** ./src/services/geo-locations/index.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./GeoLocationsOrdersService */ "./src/services/geo-locations/GeoLocationsOrdersService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./GeoLocationsProductsService */ "./src/services/geo-locations/GeoLocationsProductsService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./GeoLocationsWarehousesService */ "./src/services/geo-locations/GeoLocationsWarehousesService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./GeoLocationsService */ "./src/services/geo-locations/GeoLocationsService.ts"), exports);


/***/ }),

/***/ "./src/services/inversify.config.ts":
/*!******************************************!*\
  !*** ./src/services/inversify.config.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
__webpack_require__(/*! reflect-metadata */ "reflect-metadata");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const carriers_1 = __webpack_require__(/*! ./carriers */ "./src/services/carriers/index.ts");
const users_1 = __webpack_require__(/*! ./users */ "./src/services/users/index.ts");
const products_1 = __webpack_require__(/*! ./products */ "./src/services/products/index.ts");
const warehouses_1 = __webpack_require__(/*! ./warehouses */ "./src/services/warehouses/index.ts");
const orders_1 = __webpack_require__(/*! ./orders */ "./src/services/orders/index.ts");
const invites_1 = __webpack_require__(/*! ./invites */ "./src/services/invites/index.ts");
const geo_locations_1 = __webpack_require__(/*! ./geo-locations */ "./src/services/geo-locations/index.ts");
const devices_1 = __webpack_require__(/*! ./devices */ "./src/services/devices/index.ts");
const IService_1 = __webpack_require__(/*! ./IService */ "./src/services/IService.ts");
const config_service_1 = __webpack_require__(/*! ../config/config.service */ "./src/config/config.service.ts");
const services_app_1 = __webpack_require__(/*! ./services.app */ "./src/services/services.app.ts");
const auth_1 = __webpack_require__(/*! ./auth */ "./src/services/auth/index.ts");
const UsersAuthService_1 = __webpack_require__(/*! ./users/UsersAuthService */ "./src/services/users/UsersAuthService.ts");
const admins_1 = __webpack_require__(/*! ./admins */ "./src/services/admins/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
const Admin_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Admin */ "./node_modules/@ever-platform/common/src/entities/Admin.ts"));
const Device_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Device */ "./node_modules/@ever-platform/common/src/entities/Device.ts"));
const FakeOrdersService_1 = __webpack_require__(/*! ./fake-data/FakeOrdersService */ "./src/services/fake-data/FakeOrdersService.ts");
const CurrencyService_1 = __webpack_require__(/*! ./currency/CurrencyService */ "./src/services/currency/CurrencyService.ts");
function getRepository(t) {
    const conn = typeorm_1.getConnection('typeorm');
    return conn.getRepository(t);
}
const bindings = new inversify_1.ContainerModule((bind) => {
    bind('AdminRepository')
        .toDynamicValue(() => {
        return getRepository(Admin_1.default);
    })
        .inRequestScope();
    bind('DeviceRepository')
        .toDynamicValue(() => {
        return getRepository(Device_1.default);
    })
        .inRequestScope();
    lodash_1.default.each([
        config_service_1.ConfigService,
        users_1.UserCommandService,
        admins_1.AdminsService,
        carriers_1.CarriersOrdersService,
        carriers_1.CarriersService,
        devices_1.DevicesService,
        geo_locations_1.GeoLocationsOrdersService,
        geo_locations_1.GeoLocationsProductsService,
        geo_locations_1.GeoLocationsWarehousesService,
        geo_locations_1.GeoLocationsService,
        invites_1.InvitesRequestsService,
        invites_1.InvitesService,
        orders_1.OrdersService,
        products_1.ProductsService,
        products_1.ProductsCategoriesService,
        users_1.UsersOrdersService,
        users_1.UsersService,
        UsersAuthService_1.UsersAuthService,
        users_1.SocialStrategiesService,
        users_1.SocialRegisterService,
        warehouses_1.WarehousesOrdersService,
        warehouses_1.WarehousesProductsService,
        warehouses_1.WarehousesUsersService,
        warehouses_1.WarehousesCarriersService,
        warehouses_1.WarehousesService,
        users_1.UsersProductsService,
        auth_1.AuthenticationService,
        FakeOrdersService_1.FakeOrdersService,
        CurrencyService_1.CurrenciesService,
    ], (Service) => {
        bind(Service).to(Service).inSingletonScope();
        bind(IService_1.ServiceSymbol).toFactory((context) => {
            return context.container.get(Service);
        });
        bind(io_1.RouterSymbol).toFactory((context) => {
            return context.container.get(Service);
        });
    });
    bind(auth_1.AuthService).toSelf();
    bind('Factory<AuthService>').toFactory(auth_1.authServiceFactory);
    bind('RoutersManager')
        .to(io_1.RoutersManager)
        .inSingletonScope();
    bind(services_app_1.ServicesApp).toSelf().inSingletonScope();
});
const container = new inversify_1.Container();
container.load(bindings);
exports.servicesContainer = container;


/***/ }),

/***/ "./src/services/invites/InvitesRequestsService.ts":
/*!********************************************************!*\
  !*** ./src/services/invites/InvitesRequestsService.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const InviteRequest_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/InviteRequest */ "./node_modules/@ever-platform/common/src/entities/InviteRequest.ts"));
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const InvitesService_1 = __webpack_require__(/*! ./InvitesService */ "./src/services/invites/InvitesService.ts");
const Subscription_1 = __webpack_require__(/*! rxjs/Subscription */ "rxjs/Subscription");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const Invite_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Invite */ "./node_modules/@ever-platform/common/src/entities/Invite.ts"));
const request_promise_1 = tslib_1.__importDefault(__webpack_require__(/*! request-promise */ "request-promise"));
const bluebird_1 = tslib_1.__importDefault(__webpack_require__(/*! bluebird */ "bluebird"));
const devices_1 = __webpack_require__(/*! ../devices */ "./src/services/devices/index.ts");
const notifications_1 = __webpack_require__(/*! @modules/server.common/notifications */ "./node_modules/@ever-platform/common/src/notifications.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const GeoLocation_1 = __webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts");
const faker_1 = tslib_1.__importDefault(__webpack_require__(/*! faker */ "faker"));
let InvitesRequestsService = class InvitesRequestsService extends db_server_1.DBService {
    constructor(invitesService, devicesService) {
        super();
        this.invitesService = invitesService;
        this.devicesService = devicesService;
        this.DBObject = InviteRequest_1.default;
        this.log = Log_1.createEverLogger({
            name: 'invitesRequestsService',
        });
        this.pushSendingInvitesSubscription = Subscription_1.Subscription.EMPTY;
        this.pushSendingInvitesSubscription = this.invitesService.existence
            .pipe(operators_1.filter((existenceEvent) => existenceEvent.type === db_server_1.ExistenceEventType.Created), operators_1.map((existenceEvent) => existenceEvent.value))
            .subscribe((invite) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            const results = yield this.Model.aggregate()
                .sort({ channelId: 1, _createdAt: 1 })
                .group({
                _id: '$deviceId',
                createdAt: { $last: '$_createdAt' },
            })
                .exec();
            if (results.length > 0) {
                yield this.notifyAboutLaunch(invite, lodash_1.default.map(results, (result) => result._id));
            }
        }));
    }
    get(id) {
        return super.get(id).pipe(operators_1.map((inviteReq) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return inviteReq;
        })), operators_1.switchMap((inviteReq) => inviteReq));
    }
    create(inviteRequest) {
        const _super = Object.create(null, {
            create: { get: () => super.create }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.create.call(this, inviteRequest);
        });
    }
    notifyAboutLaunch(invite, devicesIds) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const devices = yield (yield this.devicesService.getMultipleDevices(devicesIds))
                .pipe(operators_1.first())
                .toPromise();
            const devicesByLanguages = lodash_1.default.groupBy(devices, (device) => device.language);
            const languages = lodash_1.default.keys(devicesByLanguages);
            yield bluebird_1.default.map(languages, (language) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const devicesByLanguage = devicesByLanguages[language];
                const request = {
                    audience: this._getLaunchAudience(devicesByLanguage),
                    device_types: 'all',
                    notification: this._getLaunchNotification(language, invite),
                };
                try {
                    const rp = request_promise_1.default;
                    yield rp({
                        method: 'POST',
                        uri: 'https://go.urbanairship.com/api/push',
                        body: request,
                        headers: {
                            Accept: 'application/vnd.urbanairship+json; version=3;',
                        },
                        auth: {
                            user: env_1.env.URBAN_AIRSHIP_KEY,
                            pass: env_1.env.URBAN_AIRSHIP_SECRET,
                        },
                        json: true,
                    });
                }
                catch (e) {
                    console.error(`.notifyAboutLaunch(...) error: ${e.message}`);
                    throw e;
                }
            }));
        });
    }
    getInvitesRequests(findInput, invited, pagingOptions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const sortObj = {};
            const findNotInvited = Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false }, isInvited: { $eq: false } });
            if (pagingOptions.sort) {
                sortObj[pagingOptions.sort.field] = pagingOptions.sort.sortBy;
            }
            const inviteRequests = yield this.Model.find(findNotInvited)
                .sort(sortObj)
                .skip(pagingOptions.skip)
                .limit(pagingOptions.limit)
                .lean()
                .exec();
            const allNotInvitedCount = yield this.Model.find(findNotInvited)
                .countDocuments()
                .exec();
            const skipInvited = pagingOptions.skip + inviteRequests.length - allNotInvitedCount;
            if (invited && skipInvited >= 0) {
                const invitedFromDB = yield this.Model.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false }, isInvited: { $eq: true } }))
                    .sort({ invitedDate: 'desc' })
                    .skip(skipInvited)
                    .limit(pagingOptions.limit - inviteRequests.length)
                    .lean()
                    .exec();
                return [...inviteRequests, ...invitedFromDB];
            }
            return inviteRequests;
        });
    }
    throwIfNotExists(inviteRequestId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const inviteRequest = yield _super.get.call(this, inviteRequestId)
                .pipe(operators_1.first())
                .toPromise();
            if (!inviteRequest || inviteRequest.isDeleted) {
                throw Error(`Invite request with id '${inviteRequestId}' does not exists!`);
            }
        });
    }
    generate1000InviteRequests(defaultLng, defaultLat) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const invitesRequestsToCreate = [];
            let inviteRequestsCount = 1;
            while (inviteRequestsCount <= 1000) {
                const houseNumber = `${inviteRequestsCount}`;
                const requestLocation = this._getInviteRequestGeoLocationCreateObj(houseNumber, defaultLng, defaultLat);
                invitesRequestsToCreate.push({
                    isInvited: false,
                    apartment: `${inviteRequestsCount}`,
                    geoLocation: requestLocation,
                });
                inviteRequestsCount += 1;
            }
            yield this.Model.insertMany(invitesRequestsToCreate);
        });
    }
    _getLaunchAudience(devices) {
        const audience = {
            or: [],
        };
        const ios_devices = lodash_1.default.filter(devices, (device) => device.type === 'ios');
        if (ios_devices.length > 0) {
            audience.or.push({
                ios_channel: ios_devices
                    .map((device) => device.channelId)
                    .filter((channelId) => channelId != null)
                    .map((channelId) => channelId),
            });
        }
        const android_devices = lodash_1.default.filter(devices, (device) => device.type === 'android');
        if (android_devices.length > 0) {
            audience.or.push({
                android_channel: android_devices
                    .map((device) => device.channelId)
                    .filter((channelId) => channelId != null)
                    .map((channelId) => channelId),
            });
        }
        return audience;
    }
    _getLaunchNotification(language, invite) {
        switch (language) {
            case 'en-US':
                return {
                    android: {
                        title: 'Ever just launched!',
                        alert: 'Click to see some available products.',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                    ios: {
                        alert: 'Ever just launched at your address. Have fun!',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                };
            case 'ru-RU':
                return {
                    android: {
                        title: 'Ever только что запустился!',
                        alert: 'Кликните чтобы увидить доступные продукты.',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                    ios: {
                        alert: 'Ever тольуо что запустился по Вашему адресу. Удачи!',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                };
            case 'bg-BG':
                return {
                    android: {
                        title: 'Ever стартира!',
                        alert: 'Кликнете, за да видите някои налични продукти.',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                    ios: {
                        alert: 'Ever стартира на вашия адрес. Забавлявай се!',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                };
            case 'he-IL':
            default:
                return {
                    android: {
                        title: 'הושקנו בכתובת שלך!',
                        alert: 'תלחץ כדי לצפות במוצרים!',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                    ios: {
                        alert: 'Ever הושק בכתובת שלך! תלחץ כדי לצפות במוצרים!',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                };
        }
    }
    _getInviteRequestGeoLocationCreateObj(houseNumber, defaultLng, defaultLat) {
        const GeoLocation = {
            countryId: faker_1.default.random.number(GeoLocation_1.Country.ZW),
            city: faker_1.default.address.city(),
            house: houseNumber,
            loc: {
                type: 'Point',
                coordinates: [defaultLng, defaultLat],
            },
            streetAddress: faker_1.default.address.streetAddress(),
        };
        return GeoLocation;
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", void 0)
], InvitesRequestsService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InvitesRequestsService.prototype, "create", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Invite_1.default, Array]),
    tslib_1.__metadata("design:returntype", Promise)
], InvitesRequestsService.prototype, "notifyAboutLaunch", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InvitesRequestsService.prototype, "getInvitesRequests", null);
InvitesRequestsService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('invite-request'),
    tslib_1.__param(0, inversify_1.inject(InvitesService_1.InvitesService)),
    tslib_1.__param(1, inversify_1.inject(devices_1.DevicesService)),
    tslib_1.__metadata("design:paramtypes", [InvitesService_1.InvitesService,
        devices_1.DevicesService])
], InvitesRequestsService);
exports.InvitesRequestsService = InvitesRequestsService;


/***/ }),

/***/ "./src/services/invites/InvitesService.ts":
/*!************************************************!*\
  !*** ./src/services/invites/InvitesService.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var InvitesService_1;
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const utils_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/utils */ "./node_modules/@ever-platform/common/src/utils.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const Invite_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Invite */ "./node_modules/@ever-platform/common/src/entities/Invite.ts"));
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const of_1 = __webpack_require__(/*! rxjs/observable/of */ "rxjs/observable/of");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const from_1 = __webpack_require__(/*! rxjs/observable/from */ "rxjs/observable/from");
const _ = __webpack_require__(/*! lodash */ "lodash");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const faker_1 = tslib_1.__importDefault(__webpack_require__(/*! faker */ "faker"));
const GeoLocation_1 = __webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts");
let InvitesService = InvitesService_1 = class InvitesService extends db_server_1.DBService {
    constructor() {
        super();
        this.log = Log_1.createEverLogger({
            name: 'invitesService',
        });
        this.DBObject = Invite_1.default;
        this._invitedStreetLocations = of_1.of(null).pipe(operators_1.concat(this.existence), operators_1.exhaustMap(() => this._getInvitedStreetLocations()));
    }
    get(id) {
        return super.get(id).pipe(operators_1.map((invite) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return invite;
        })), operators_1.switchMap((invite) => {
            return invite;
        }));
    }
    getInvitedStreetLocations() {
        return this._invitedStreetLocations;
    }
    create(invite) {
        if (!invite.code) {
            invite.code = utils_1.default.getRandomInt(1001, 9999) + '';
        }
        return super.create(invite);
    }
    getInvitesSettings() {
        return new Promise((resolve, reject) => {
            resolve({ isEnabled: env_1.env.SETTING_INVITES_ENABLED });
        });
    }
    getByCode(info) {
        const findObject = {
            code: info.inviteCode,
        };
        if (info.inviteCode !== env_1.env.FAKE_INVITE_CODE.toString()) {
            findObject['geoLocation.loc'] = {
                $near: {
                    $geometry: {
                        type: 'Point',
                        coordinates: info.location.coordinates,
                    },
                    $maxDistance: InvitesService_1.InviteWorkingDistance,
                },
            };
        }
        return from_1.from(this.findOne(Object.assign(Object.assign({}, findObject), { isDeleted: { $eq: false } }))).pipe(operators_1.concat(this.existence.pipe(operators_1.filter((event) => event.type !== db_server_1.ExistenceEventType.Removed), operators_1.map((event) => event.value), operators_1.filter((invite) => {
            return (utils_1.default.getLocDistance(invite.geoLocation.loc, info.location) <= InvitesService_1.InviteWorkingDistance &&
                invite.code === info.inviteCode);
        }))));
    }
    getByLocation(info) {
        const findObject = {
            'geoLocation.city': info.city,
            'geoLocation.streetAddress': info.streetAddress,
            'geoLocation.house': info.house,
            'geoLocation.countryId': info.countryId,
            apartment: info.apartment,
        };
        if (info.postcode != null) {
            findObject['geoLocation.postcode'] = info.postcode;
        }
        return from_1.from(this.findOne(Object.assign(Object.assign({}, findObject), { isDeleted: { $eq: false } }))).pipe(operators_1.concat(this.existence.pipe(operators_1.filter((event) => event.type !== db_server_1.ExistenceEventType.Removed), operators_1.map((event) => event.value), operators_1.filter((invite) => {
            return (invite.geoLocation.city === info.city &&
                invite.geoLocation.streetAddress ===
                    info.streetAddress &&
                invite.geoLocation.house === info.house &&
                invite.geoLocation.countryId === info.countryId &&
                invite.apartment === info.apartment);
        }))));
    }
    getInvites(findInput, pagingOptions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const sortObj = {};
            if (pagingOptions.sort) {
                sortObj[pagingOptions.sort.field] = pagingOptions.sort.sortBy;
            }
            return this.Model.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false } }))
                .sort(sortObj)
                .skip(pagingOptions.skip)
                .limit(pagingOptions.limit)
                .lean()
                .exec();
        });
    }
    throwIfNotExists(inviteId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const invite = yield _super.get.call(this, inviteId).pipe(operators_1.first()).toPromise();
            if (!invite || invite.isDeleted) {
                throw Error(`Invite with id '${inviteId}' does not exists!`);
            }
        });
    }
    generate1000InvitesConnectedToInviteRequests(defaultLng, defaultLat) {
        const invitesToCreate = [];
        const invitesRequestsToCreate = [];
        let inviteCount = 1;
        while (inviteCount <= 1000) {
            const apartment = `${inviteCount}`;
            const houseNumber = `${inviteCount}`;
            const geoLocation = this._getInviteGeoLocationCreateObj(houseNumber, defaultLng, defaultLat);
            invitesRequestsToCreate.push({
                apartment,
                geoLocation,
                isInvited: true,
                invitedDate: new Date(),
            });
            invitesToCreate.push({
                code: `${999 + inviteCount}`,
                apartment,
                geoLocation,
            });
            inviteCount += 1;
        }
        return {
            invitesRequestsToCreate,
            invitesToCreate,
        };
    }
    _getInviteGeoLocationCreateObj(houseNumber, defaultLng, defaultLat) {
        return {
            countryId: faker_1.default.random.number(GeoLocation_1.Country.ZW),
            city: faker_1.default.address.city(),
            house: houseNumber,
            loc: {
                type: 'Point',
                coordinates: [defaultLng, defaultLat],
            },
            streetAddress: faker_1.default.address.streetAddress(),
        };
    }
    _getInvitedStreetLocations() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const results = yield this.Model.aggregate()
                .group({
                _id: {
                    streetAddress: '$geoLocation.streetAddress',
                    city: '$geoLocation.city',
                    country: '$geoLocation.countryId',
                },
            })
                .exec();
            return _.map(results, (result) => result._id);
        });
    }
};
InvitesService.InviteWorkingDistance = 50000;
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", void 0)
], InvitesService.prototype, "get", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", void 0)
], InvitesService.prototype, "getInvitedStreetLocations", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InvitesService.prototype, "create", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], InvitesService.prototype, "getInvitesSettings", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], InvitesService.prototype, "getByCode", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], InvitesService.prototype, "getByLocation", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InvitesService.prototype, "getInvites", null);
InvitesService = InvitesService_1 = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('invite'),
    tslib_1.__metadata("design:paramtypes", [])
], InvitesService);
exports.InvitesService = InvitesService;


/***/ }),

/***/ "./src/services/invites/index.ts":
/*!***************************************!*\
  !*** ./src/services/invites/index.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./InvitesService */ "./src/services/invites/InvitesService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./InvitesRequestsService */ "./src/services/invites/InvitesRequestsService.ts"), exports);


/***/ }),

/***/ "./src/services/orders/OrdersService.ts":
/*!**********************************************!*\
  !*** ./src/services/orders/OrdersService.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const bluebird_1 = tslib_1.__importDefault(__webpack_require__(/*! bluebird */ "bluebird"));
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const warehouses_1 = __webpack_require__(/*! ../warehouses */ "./src/services/warehouses/index.ts");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const OrderCarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderCarrierStatus */ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts"));
const OrderWarehouseStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderWarehouseStatus */ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts"));
const users_1 = __webpack_require__(/*! ../users */ "./src/services/users/index.ts");
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const CarriersService_1 = tslib_1.__importDefault(__webpack_require__(/*! ../carriers/CarriersService */ "./src/services/carriers/CarriersService.ts"));
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const uuid_1 = __webpack_require__(/*! uuid */ "uuid");
const _ = __webpack_require__(/*! lodash */ "lodash");
const OrderStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderStatus */ "./node_modules/@ever-platform/common/src/enums/OrderStatus.ts"));
const User_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/User */ "./node_modules/@ever-platform/common/src/entities/User.ts"));
const products_1 = __webpack_require__(/*! ../../services/products */ "./src/services/products/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const Stripe = __webpack_require__(/*! stripe */ "stripe");
let OrdersService = class OrdersService extends db_server_1.DBService {
    constructor(warehousesService, usersService, carriersService, warehousesProductsService, _storesService, _productsService) {
        super();
        this.warehousesService = warehousesService;
        this.usersService = usersService;
        this.carriersService = carriersService;
        this.warehousesProductsService = warehousesProductsService;
        this._storesService = _storesService;
        this._productsService = _productsService;
        this.DBObject = Order_1.default;
        this.stripe = new Stripe(env_1.env.STRIPE_SECRET_KEY);
        this.log = Log_1.createEverLogger({
            name: 'ordersService',
        });
    }
    generateOrdersPerEachCustomer(customers) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const stores = yield this._storesService.findAll({
                _id: 1,
                products: 1,
            });
            const products = yield this._productsService.findAll();
            const orders = [];
            customers.forEach((customer, index) => {
                const storeId = stores[index % stores.length]._id;
                const product1Price = Math.round(Math.random() * 99);
                const product2Price = Math.round(Math.random() * 99);
                orders.push({
                    products: [
                        {
                            count: 2,
                            isManufacturing: true,
                            isCarrierRequired: true,
                            isDeliveryRequired: true,
                            price: product1Price,
                            initialPrice: product1Price,
                            product: products[index % products.length],
                        },
                        {
                            count: 2,
                            isManufacturing: true,
                            isCarrierRequired: true,
                            isDeliveryRequired: true,
                            price: product2Price,
                            initialPrice: product2Price,
                            product: products[(index + 1) % products.length],
                        },
                    ],
                    user: customer,
                    warehouse: storeId,
                    orderNumber: index,
                });
            });
            yield this.Model.insertMany(orders);
        });
    }
    get(id, options = {}) {
        if (options.populateCarrier || options.populateWarehouse) {
            return super.get(id).pipe(operators_1.map((order) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                yield this._throwIfNotExists(id);
                return order;
            })), operators_1.switchMap((order) => order), operators_1.exhaustMap(() => this._get(id, options)));
        }
        else {
            return super.get(id).pipe(operators_1.map((order) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                yield this._throwIfNotExists(id);
                return order;
            })), operators_1.switchMap((order) => order));
        }
    }
    updateCarrierStatus(orderId, status) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            try {
                const updateObj = { carrierStatus: status };
                if (status === OrderCarrierStatus_1.default.DeliveryCompleted) {
                    updateObj.isPaid = true;
                    updateObj.deliveryTime = Date.now();
                }
                if (status === OrderCarrierStatus_1.default.CarrierStartDelivery ||
                    status === OrderCarrierStatus_1.default.CarrierPickedUpOrder) {
                    updateObj.startDeliveryTime = Date.now();
                }
                const finishedProcessingStatuses = [
                    OrderCarrierStatus_1.default.ClientRefuseTakingOrder,
                    OrderCarrierStatus_1.default.DeliveryCompleted,
                    OrderCarrierStatus_1.default.IssuesDuringDelivery,
                ];
                if (finishedProcessingStatuses.includes(status)) {
                    updateObj.finishedProcessingTime = Date.now();
                }
                const order = yield this.update(orderId, updateObj);
                if (order.carrierId != null) {
                    if (status === OrderCarrierStatus_1.default.DeliveryCompleted) {
                        yield this.carriersService.increaseNumberOfDeliveries(order.carrierId, 1);
                    }
                    return order;
                }
                else {
                    throw new Error("Can't updateCarrierStatus(orderId, status) - Order has no carrier!");
                }
            }
            catch (err) {
                this.log.error(err);
                throw err;
            }
        });
    }
    updateWarehouseStatus(orderId, status) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            const updateObj = { warehouseStatus: status };
            const finishedProcessingStatuses = [
                OrderWarehouseStatus_1.default.PackagingFailed,
                OrderWarehouseStatus_1.default.AllocationFailed,
            ];
            if (finishedProcessingStatuses.includes(status)) {
                updateObj.finishedProcessingTime = Date.now();
            }
            if (status === OrderWarehouseStatus_1.default.GivenToCustomer) {
                updateObj.isPaid = true;
                updateObj.finishedProcessingTime = Date.now();
            }
            return this.update(orderId, updateObj);
        });
    }
    payWithStripe(orderId, cardId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            const callId = uuid_1.v1();
            this.log.info({ callId, orderId, cardId }, '.payWithStripe(orderId, cardId) called');
            let order;
            try {
                const _order = yield this.get(orderId).pipe(operators_1.first()).toPromise();
                if (_order != null) {
                    order = _order;
                    const user = yield this.usersService
                        .get(order.user.id)
                        .pipe(operators_1.first())
                        .toPromise();
                    if (user != null) {
                        const charge = yield this.stripe.charges.create({
                            amount: order.totalPrice * 100,
                            customer: user.stripeCustomerId,
                            source: cardId,
                            currency: 'ils',
                            description: 'Order id: ' + orderId,
                            metadata: {
                                orderId,
                            },
                        });
                        order = yield this.update(orderId, {
                            stripeChargeId: charge.id,
                            isPaid: true,
                        });
                    }
                    else {
                        throw new Error('User specified in order is not found!');
                    }
                }
                else {
                    throw new Error("couldn't find order with such id");
                }
            }
            catch (err) {
                this.log.error({ callId, orderId, cardId, err }, '.payWithStripe(orderId, cardId) thrown error!');
                throw err;
            }
            this.log.info({ callId, orderId, cardId, order }, '.payWithStripe(orderId, cardId) accepted payment');
            return order;
        });
    }
    refundWithStripe(orderId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            const callId = uuid_1.v1();
            this.log.info({ callId, orderId }, '.refundWithStripe(orderId) called');
            let refund;
            let order;
            try {
                order = yield this.get(orderId).pipe(operators_1.first()).toPromise();
                if (order != null) {
                    if (order.stripeChargeId != null) {
                        refund = yield this.stripe.refunds.create({
                            charge: order.stripeChargeId,
                        });
                        this.log.info({ callId, orderId, refund }, '.refundWithStripe(orderId) made refund');
                        return order;
                    }
                    else {
                        throw new Error(`There is no order with stripeChargeId field and id of ${orderId} to refundWithStripe on!`);
                    }
                }
                else {
                    throw new Error(`There is no order with id of ${orderId} to refundWithStripe on!`);
                }
            }
            catch (err) {
                this.log.error({ callId, orderId, err }, '.refundWithStripe(orderId) thrown error!');
                throw err;
            }
        });
    }
    confirm(orderId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            return this.update(orderId, {
                isConfirmed: true,
                warehouseStatus: OrderWarehouseStatus_1.default.ReadyForProcessing,
            });
        });
    }
    addProducts(orderId, products, warehouseId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            const order = yield this._get(orderId);
            const oldProductsIds = order.products.map((p) => p.product.id);
            const newProductsIds = products.map((p) => p.productId);
            for (const product of order.products) {
                if (newProductsIds.includes(product.product.id)) {
                    const newProduct = products.find((p) => p.productId === product.product.id);
                    if (newProduct) {
                        product.count += newProduct.count;
                        yield this.warehousesProductsService.decreaseCount(warehouseId, newProduct.productId, newProduct.count);
                        yield this.warehousesProductsService.increaseSoldCount(warehouseId, newProduct.productId, newProduct.count);
                    }
                }
            }
            products = products.filter((p) => !oldProductsIds.includes(p['productId']));
            const warehouse = (yield this.warehousesService
                .get(warehouseId, true)
                .pipe(operators_1.first())
                .toPromise());
            const warehouseProducts = _.keyBy(warehouse.products, 'productId');
            const newOrderProducts = yield _.map(products, (args) => {
                const wProduct = warehouseProducts[args.productId];
                if (!wProduct) {
                    throw new Error(`WarehouseOrdersService got call to create(userId, orderProducts) - But there is no product with the id ${args.productId}!`);
                }
                return {
                    count: args.count,
                    price: wProduct.price,
                    initialPrice: wProduct.initialPrice,
                    deliveryTimeMin: wProduct.deliveryTimeMin,
                    deliveryTimeMax: wProduct.deliveryTimeMax,
                    product: wProduct.product,
                    isManufacturing: wProduct.isManufacturing,
                    isCarrierRequired: wProduct.isCarrierRequired,
                    isDeliveryRequired: wProduct.isDeliveryRequired,
                    isTakeaway: wProduct.isTakeaway,
                };
            });
            for (const product of products) {
                yield this.warehousesProductsService.decreaseCount(warehouseId, product.productId, product.count);
                yield this.warehousesProductsService.increaseSoldCount(warehouseId, product.productId, product.count);
            }
            return this.update(orderId, {
                products: [...order.products, ...newOrderProducts],
            });
        });
    }
    decreaseOrderProducts(orderId, products, warehouseId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            const order = yield this._get(orderId);
            const oldProductsIds = order.products.map((p) => p.product.id);
            const newProductsIds = products.map((p) => p.productId);
            for (const product of order.products) {
                if (newProductsIds.includes(product.product.id)) {
                    const newProduct = products.find((p) => p.productId === product.product.id);
                    if (newProduct) {
                        product.count -= newProduct.count;
                        if (product.count >= 1) {
                            yield this.warehousesProductsService.decreaseSoldCount(warehouseId, newProduct.productId, newProduct.count);
                            yield this.warehousesProductsService.increaseCount(warehouseId, newProduct.productId, newProduct.count);
                        }
                        else {
                            throw new Error(`You can not decrease product to be === 0 !`);
                        }
                    }
                }
            }
            products = products.filter((p) => !oldProductsIds.includes(p['productId']));
            const warehouse = (yield this.warehousesService
                .get(warehouseId, true)
                .pipe(operators_1.first())
                .toPromise());
            const warehouseProducts = _.keyBy(warehouse.products, 'productId');
            const newOrderProducts = yield _.map(products, (args) => {
                const wProduct = warehouseProducts[args.productId];
                if (!wProduct) {
                    throw new Error(`WarehouseOrdersService got call to create(userId, orderProducts) - But there is no product with the id ${args.productId}!`);
                }
                return {
                    count: args.count,
                    price: wProduct.price,
                    initialPrice: wProduct.initialPrice,
                    deliveryTimeMin: wProduct.deliveryTimeMin,
                    deliveryTimeMax: wProduct.deliveryTimeMax,
                    product: wProduct.product,
                    isManufacturing: wProduct.isManufacturing,
                    isCarrierRequired: wProduct.isCarrierRequired,
                    isDeliveryRequired: wProduct.isDeliveryRequired,
                    isTakeaway: wProduct.isTakeaway,
                };
            });
            for (const product of products) {
                yield this.warehousesProductsService.decreaseCount(warehouseId, product.productId, product.count);
                yield this.warehousesProductsService.increaseSoldCount(warehouseId, product.productId, product.count);
            }
            return this.update(orderId, {
                products: [...order.products, ...newOrderProducts],
            });
        });
    }
    removeProducts(orderId, productsIds) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            const order = yield this._get(orderId);
            const newProducts = order.products.filter((p) => !productsIds.includes(p.product.id));
            const removedProducts = order.products.filter((p) => productsIds.includes(p.product.id));
            yield bluebird_1.default.map(removedProducts, (orderProduct) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const productId = orderProduct.product.id;
                yield this.warehousesProductsService.decreaseSoldCount(order.warehouseId, productId, orderProduct.count);
                yield this.warehousesProductsService.increaseCount(order.warehouseId, productId, orderProduct.count);
            }));
            return this.update(orderId, {
                products: newProducts,
            });
        });
    }
    cancel(orderId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            return this.update(orderId, {
                isCancelled: true,
                finishedProcessingTime: Date.now(),
            });
        });
    }
    paid(orderId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            return this.update(orderId, { isPaid: true });
        });
    }
    getStoreOrdersChartTotalOrders(storeId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const ordersRaw = yield this.Model.find({
                warehouse: storeId,
                isDeleted: { $eq: false },
            })
                .select({
                isCancelled: 1,
                isPaid: 1,
                carrier: 1,
                carrierStatus: 1,
                warehouseStatus: 1,
                _createdAt: 1,
                'products.price': 1,
                'products.count': 1,
            })
                .lean()
                .exec();
            const orders = _.map(ordersRaw, (o) => {
                return {
                    totalPrice: this._getOrderTotalPrice(o),
                    isCompleted: this._isOrderCompleted(o),
                    isCancelled: o.isCancelled,
                    _createdAt: o._createdAt,
                };
            });
            return orders.filter((o) => o.isCompleted);
        });
    }
    getOrdersChartTotalOrders() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const ordersRaw = yield this.Model.find({
                isDeleted: { $eq: false },
            })
                .select({
                isCancelled: 1,
                isPaid: 1,
                carrier: 1,
                carrierStatus: 1,
                warehouseStatus: 1,
                _createdAt: 1,
                'products.price': 1,
                'products.count': 1,
            })
                .lean()
                .exec();
            const orders = _.map(ordersRaw, (o) => {
                return {
                    totalPrice: this._getOrderTotalPrice(o),
                    isCompleted: this._isOrderCompleted(o),
                    isCancelled: o.isCancelled,
                    _createdAt: o._createdAt,
                };
            });
            const ordersRes = orders.filter((o) => o.isCompleted);
            return ordersRes;
        });
    }
    getDashboardCompletedOrdersToday() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const start = new Date();
            const end = new Date();
            start.setHours(0, 0, 0, 0);
            end.setHours(23, 59, 59, 999);
            const ordersRaw = yield this.Model.find({
                isDeleted: { $eq: false },
                isCancelled: { $eq: false },
                _createdAt: { $gte: start, $lt: end },
            })
                .select({
                isCancelled: 1,
                isPaid: 1,
                carrier: 1,
                carrierStatus: 1,
                warehouseStatus: 1,
                _createdAt: 1,
                warehouse: 1,
                user: 1,
                'products.price': 1,
                'products.count': 1,
            })
                .lean()
                .exec();
            const orders = _.map(ordersRaw, (o) => {
                return {
                    totalPrice: this._getOrderTotalPrice(o),
                    isCompleted: this._isOrderCompleted(o),
                    isCancelled: o.isCancelled,
                    user: o.user,
                    warehouseId: o.warehouse,
                    _createdAt: o._createdAt,
                };
            });
            return orders.filter((o) => o.isCompleted);
        });
    }
    getOrderedUsersInfo(storeId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const orders = yield this.Model.find({
                isDeleted: { $eq: false },
                warehouse: { $eq: storeId },
            })
                .select({
                user: 1,
                isPaid: 1,
                'products.price': 1,
                'products.count': 1,
            })
                .lean()
                .exec();
            const unique = (value, index, self) => {
                return (self
                    .map((s) => s.user._id.toString())
                    .indexOf(value.user._id.toString()) === index);
            };
            const oUsers = orders.filter(unique).map((o) => {
                const user = new User_1.default(o.user);
                return user;
            });
            const oUserIds = oUsers.map((u) => u.id);
            const realUsers = yield this.usersService.find({
                isDeleted: false,
                _id: { $in: oUserIds },
            });
            return oUsers.map((u) => {
                const userOrders = orders.filter((o) => o.user._id.toString() === u._id.toString());
                let totalPrice = 0;
                const paidOrders = userOrders.filter((o) => o.isPaid);
                if (paidOrders.length > 0) {
                    totalPrice = paidOrders
                        .map((o) => this._getOrderTotalPrice(o))
                        .reduce((a, b) => a + b);
                }
                return {
                    user: realUsers.find((ru) => ru.id === u.id),
                    ordersCount: userOrders.length,
                    totalPrice,
                };
            });
        });
    }
    getDashboardCompletedOrders(storeId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const quaryObj = {
                isDeleted: { $eq: false },
                isCancelled: { $eq: false },
            };
            if (storeId) {
                quaryObj['warehouse'] = { $eq: storeId };
            }
            const ordersRaw = yield this.Model.find(quaryObj)
                .select({
                isCancelled: 1,
                isPaid: 1,
                carrier: 1,
                carrierStatus: 1,
                warehouseStatus: 1,
                warehouse: 1,
                'products.price': 1,
                'products.count': 1,
            })
                .lean()
                .exec();
            const orders = _.map(ordersRaw, (o) => {
                return {
                    totalPrice: this._getOrderTotalPrice(o),
                    warehouseId: o.warehouse,
                    isCompleted: this._isOrderCompleted(o),
                };
            });
            return orders.filter((o) => o.isCompleted);
        });
    }
    getOrdersInDelivery(storeId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const order = yield this.Model.find({
                isDeleted: false,
                isCancelled: false,
                warehouse: storeId,
                carrierStatus: {
                    $in: [
                        OrderCarrierStatus_1.default.CarrierPickedUpOrder,
                        OrderCarrierStatus_1.default.CarrierStartDelivery,
                        OrderCarrierStatus_1.default.CarrierArrivedToCustomer,
                    ],
                },
            })
                .populate('carrier user')
                .lean()
                .exec();
            return order;
        });
    }
    _getOrderTotalPrice(order) {
        return _.sum(_.map(order.products, (p) => p.count * p.price));
    }
    _isOrderCompleted(order) {
        function getStatus(o) {
            if (o.carrier == null ||
                o.carrierStatus <= OrderCarrierStatus_1.default.CarrierPickedUpOrder) {
                if (o.warehouseStatus >= 200) {
                    return OrderStatus_1.default.WarehouseIssue;
                }
                else if (o.isCancelled) {
                    return OrderStatus_1.default.CanceledWhileWarehousePreparation;
                }
                else {
                    return OrderStatus_1.default.WarehousePreparation;
                }
            }
            else {
                if (o.carrierStatus >= 200) {
                    return OrderStatus_1.default.CarrierIssue;
                }
                else if (o.isCancelled) {
                    return OrderStatus_1.default.CanceledWhileInDelivery;
                }
                else if (o.isPaid &&
                    o.carrierStatus === OrderCarrierStatus_1.default.DeliveryCompleted) {
                    return OrderStatus_1.default.Delivered;
                }
                else {
                    return OrderStatus_1.default.InDelivery;
                }
            }
        }
        return ((order.isPaid && getStatus(order) === OrderStatus_1.default.Delivered) ||
            order.isCancelled);
    }
    _get(id, options = {}) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            let toPopulate = '';
            if (options.populateCarrier) {
                toPopulate += 'carrier ';
            }
            if (options.populateWarehouse) {
                toPopulate += 'warehouse ';
            }
            return new Order_1.default((yield this.Model.findById(id)
                .populate(toPopulate)
                .sort({ _createdAt: -1, orderNumber: -1 })
                .lean()
                .exec()));
        });
    }
    _throwIfNotExists(orderId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const order = yield _super.get.call(this, orderId).pipe(operators_1.first()).toPromise();
            if (!order || order.isDeleted) {
                throw Error(`Order with id '${orderId}' does not exists!`);
            }
        });
    }
};
OrdersService.FindObjects = {
    isCompleted: {
        $or: [
            {
                isPaid: true,
                carrierStatus: OrderCarrierStatus_1.default.DeliveryCompleted,
            },
            {
                isCancelled: true,
            },
        ],
    },
    isNotCompleted: {
        $and: [
            {
                isPaid: false,
                carrierStatus: {
                    $ne: OrderCarrierStatus_1.default.DeliveryCompleted,
                },
            },
            {
                isCancelled: false,
            },
        ],
    },
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], OrdersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "updateCarrierStatus", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "updateWarehouseStatus", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, String]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "payWithStripe", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "refundWithStripe", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "confirm", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "addProducts", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "decreaseOrderProducts", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Array]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "removeProducts", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "cancel", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "paid", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "getStoreOrdersChartTotalOrders", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "getOrdersChartTotalOrders", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "getDashboardCompletedOrdersToday", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "getOrderedUsersInfo", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "getDashboardCompletedOrders", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "getOrdersInDelivery", null);
OrdersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('order'),
    tslib_1.__param(0, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => warehouses_1.WarehousesService))),
    tslib_1.__param(1, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => users_1.UsersService))),
    tslib_1.__param(2, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => CarriersService_1.default))),
    tslib_1.__param(3, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => warehouses_1.WarehousesProductsService))),
    tslib_1.__param(4, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => warehouses_1.WarehousesService))),
    tslib_1.__param(5, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => products_1.ProductsService))),
    tslib_1.__metadata("design:paramtypes", [warehouses_1.WarehousesService,
        users_1.UsersService,
        CarriersService_1.default,
        warehouses_1.WarehousesProductsService,
        warehouses_1.WarehousesService,
        products_1.ProductsService])
], OrdersService);
exports.OrdersService = OrdersService;


/***/ }),

/***/ "./src/services/orders/index.ts":
/*!**************************************!*\
  !*** ./src/services/orders/index.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./OrdersService */ "./src/services/orders/OrdersService.ts"), exports);


/***/ }),

/***/ "./src/services/products/ProductsCategoriesService.ts":
/*!************************************************************!*\
  !*** ./src/services/products/ProductsCategoriesService.ts ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const ProductsCategory_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/ProductsCategory */ "./node_modules/@ever-platform/common/src/entities/ProductsCategory.ts"));
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let ProductsCategoriesService = class ProductsCategoriesService extends db_server_1.DBService {
    constructor() {
        super(...arguments);
        this.DBObject = ProductsCategory_1.default;
        this.log = Log_1.createEverLogger({
            name: 'productsCategoriesService',
        });
    }
    get(id) {
        return super.get(id).pipe(operators_1.map((category) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return category;
        })), operators_1.switchMap((category) => category));
    }
    create(category) {
        const _super = Object.create(null, {
            create: { get: () => super.create }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.create.call(this, category);
        });
    }
    update(id, updateObject) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return _super.update.call(this, id, updateObject);
        });
    }
    remove(id) {
        const _super = Object.create(null, {
            remove: { get: () => super.remove }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return _super.remove.call(this, id);
        });
    }
    throwIfNotExists(categoryId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const category = yield _super.get.call(this, categoryId).pipe(operators_1.first()).toPromise();
            if (!category || category.isDeleted) {
                throw Error(`Category with id '${categoryId}' does not exists!`);
            }
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], ProductsCategoriesService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [void 0]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoriesService.prototype, "create", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoriesService.prototype, "update", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoriesService.prototype, "remove", null);
ProductsCategoriesService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('products-category')
], ProductsCategoriesService);
exports.ProductsCategoriesService = ProductsCategoriesService;


/***/ }),

/***/ "./src/services/products/ProductsService.ts":
/*!**************************************************!*\
  !*** ./src/services/products/ProductsService.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const Product_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Product */ "./node_modules/@ever-platform/common/src/entities/Product.ts"));
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let ProductsService = class ProductsService extends db_server_1.DBService {
    constructor() {
        super(...arguments);
        this.DBObject = Product_1.default;
        this.log = Log_1.createEverLogger({
            name: 'productsService',
        });
    }
    get(id) {
        return super.get(id).pipe(operators_1.map((product) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return product;
        })), operators_1.switchMap((product) => product));
    }
    getProducts(findInput, pagingOptions, existedProductsIds = []) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const sortObj = {};
            if (pagingOptions.sort) {
                sortObj[pagingOptions.sort.field] = pagingOptions.sort.sortBy;
            }
            return this.Model.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false }, _id: { $nin: existedProductsIds } }))
                .sort(sortObj)
                .skip(pagingOptions.skip)
                .limit(pagingOptions.limit)
                .lean()
                .exec();
        });
    }
    create(product) {
        const _super = Object.create(null, {
            create: { get: () => super.create }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.create.call(this, product);
        });
    }
    update(id, updateObject) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return _super.update.call(this, id, updateObject);
        });
    }
    save(updatedProduct) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(updatedProduct.id);
            return this.update(updatedProduct.id, updatedProduct);
        });
    }
    throwIfNotExists(productId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const product = yield _super.get.call(this, productId).pipe(operators_1.first()).toPromise();
            if (!product || product.isDeleted) {
                throw Error(`Product with id '${productId}' does not exists!`);
            }
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], ProductsService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsService.prototype, "getProducts", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [void 0]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsService.prototype, "create", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsService.prototype, "update", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__param(0, io_1.serialization((product) => new Product_1.default(product))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Product_1.default]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsService.prototype, "save", null);
ProductsService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('product')
], ProductsService);
exports.ProductsService = ProductsService;


/***/ }),

/***/ "./src/services/products/index.ts":
/*!****************************************!*\
  !*** ./src/services/products/index.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./ProductsCategoriesService */ "./src/services/products/ProductsCategoriesService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./ProductsService */ "./src/services/products/ProductsService.ts"), exports);


/***/ }),

/***/ "./src/services/services.app.ts":
/*!**************************************!*\
  !*** ./src/services/services.app.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var ServicesApp_1;
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const https_1 = tslib_1.__importDefault(__webpack_require__(/*! https */ "https"));
const http_1 = tslib_1.__importDefault(__webpack_require__(/*! http */ "http"));
const path_1 = tslib_1.__importDefault(__webpack_require__(/*! path */ "path"));
const pem_1 = tslib_1.__importDefault(__webpack_require__(/*! pem */ "pem"));
const fs_1 = tslib_1.__importDefault(__webpack_require__(/*! fs */ "fs"));
const body_parser_1 = tslib_1.__importDefault(__webpack_require__(/*! body-parser */ "body-parser"));
const cors_1 = tslib_1.__importDefault(__webpack_require__(/*! cors */ "cors"));
const passport_1 = tslib_1.__importDefault(__webpack_require__(/*! passport */ "passport"));
const method_override_1 = tslib_1.__importDefault(__webpack_require__(/*! method-override */ "method-override"));
const errorhandler_1 = tslib_1.__importDefault(__webpack_require__(/*! errorhandler */ "errorhandler"));
const socket_io_1 = tslib_1.__importDefault(__webpack_require__(/*! socket.io */ "socket.io"));
const express_1 = tslib_1.__importDefault(__webpack_require__(/*! express */ "express"));
const mongoose_1 = tslib_1.__importDefault(__webpack_require__(/*! mongoose */ "mongoose"));
const morgan_1 = tslib_1.__importDefault(__webpack_require__(/*! morgan */ "morgan"));
const express_handlebars_1 = tslib_1.__importDefault(__webpack_require__(/*! express-handlebars */ "express-handlebars"));
const Log_1 = __webpack_require__(/*! ../helpers/Log */ "./src/helpers/Log.ts");
const IService_1 = __webpack_require__(/*! ./IService */ "./src/services/IService.ts");
const warehouses_1 = __webpack_require__(/*! ./warehouses */ "./src/services/warehouses/index.ts");
const users_1 = __webpack_require__(/*! ./users */ "./src/services/users/index.ts");
const env_1 = __webpack_require__(/*! ../env */ "./src/env.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const bluebird_1 = tslib_1.__importDefault(__webpack_require__(/*! bluebird */ "bluebird"));
const admins_1 = __webpack_require__(/*! ./admins */ "./src/services/admins/index.ts");
const ipstack = __webpack_require__(/*! ipstack */ "ipstack");
const requestIp = __webpack_require__(/*! request-ip */ "request-ip");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
const utils_1 = __webpack_require__(/*! @modules/server.common/utils */ "./node_modules/@ever-platform/common/src/utils.ts");
const Admin_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Admin */ "./node_modules/@ever-platform/common/src/entities/Admin.ts"));
const Device_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Device */ "./node_modules/@ever-platform/common/src/entities/Device.ts"));
const Carrier_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Carrier */ "./node_modules/@ever-platform/common/src/entities/Carrier.ts"));
const Invite_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Invite */ "./node_modules/@ever-platform/common/src/entities/Invite.ts"));
const InviteRequest_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/InviteRequest */ "./node_modules/@ever-platform/common/src/entities/InviteRequest.ts"));
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
const Product_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Product */ "./node_modules/@ever-platform/common/src/entities/Product.ts"));
const ProductsCategory_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/ProductsCategory */ "./node_modules/@ever-platform/common/src/entities/ProductsCategory.ts"));
const User_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/User */ "./node_modules/@ever-platform/common/src/entities/User.ts"));
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const config_service_1 = __webpack_require__(/*! ../config/config.service */ "./src/config/config.service.ts");
const INTERNAL_IPS = ['127.0.0.1', '::1'];
let ServicesApp = ServicesApp_1 = class ServicesApp {
    constructor(services, routersManager, warehousesService, socialStrategiesService, _adminsService, _configService) {
        this.services = services;
        this.routersManager = routersManager;
        this.warehousesService = warehousesService;
        this.socialStrategiesService = socialStrategiesService;
        this._adminsService = _adminsService;
        this.db_server = process.env.DB_ENV || 'primary';
        this.log = Log_1.createEverLogger({ name: 'main' });
        const maxSockets = _configService.Env.MAX_SOCKETS;
        http_1.default.globalAgent.maxSockets = maxSockets;
        https_1.default.globalAgent.maxSockets = maxSockets;
        process
            .on('SIGINT', this._gracefulExit)
            .on('SIGTERM', this._gracefulExit);
    }
    start(callback) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this.callback = callback;
            yield this._connectDB();
        });
    }
    static getEntities() {
        const entities = [
            Admin_1.default,
            Carrier_1.default,
            Device_1.default,
            Invite_1.default,
            InviteRequest_1.default,
            Order_1.default,
            Product_1.default,
            ProductsCategory_1.default,
            User_1.default,
            Warehouse_1.default,
        ];
        return entities;
    }
    static CreateTypeORMConnection() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const typeORMLog = Log_1.createEverLogger({ name: 'TypeORM' });
            const entities = ServicesApp_1.getEntities();
            const conn = yield typeorm_1.createConnection({
                name: 'typeorm',
                type: 'mongodb',
                url: env_1.env.DB_URI,
                entities,
                synchronize: true,
                useNewUrlParser: true,
                autoReconnect: true,
                reconnectTries: Number.MAX_VALUE,
                poolSize: ServicesApp_1._poolSize,
                connectTimeoutMS: ServicesApp_1._connectTimeoutMS,
                logging: true,
                useUnifiedTopology: true,
            });
            console.log(`TypeORM DB connection created. DB connected: ${conn.isConnected}`);
            typeORMLog.info(`TypeORM DB connection created. DB connected: ${conn.isConnected}`);
            return conn;
        });
    }
    _gracefulExit() {
        try {
            if (this.db != null) {
                this.db.close(() => {
                    this.log.info('Mongoose default connection with DB :' +
                        this.db_server +
                        ' is disconnected through app termination');
                    process.exit(0);
                });
            }
        }
        catch (err) {
            process.exit(0);
        }
    }
    _connectDB() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            try {
                const connectionOptions = {
                    useCreateIndex: true,
                    useNewUrlParser: true,
                    autoReconnect: true,
                    useFindAndModify: false,
                    reconnectTries: Number.MAX_VALUE,
                    poolSize: ServicesApp_1._poolSize,
                    connectTimeoutMS: ServicesApp_1._connectTimeoutMS,
                    useUnifiedTopology: true,
                };
                const mongoConnect = yield mongoose_1.default.connect(env_1.env.DB_URI, connectionOptions);
                this.db = mongoConnect.connection;
                this._configDBEvents();
                this._onDBConnect();
            }
            catch (err) {
                this.log.error(err, 'Sever initialization failed! Cannot connect to DB');
            }
        });
    }
    _configDBEvents() {
        this.db.on('error', (err) => this.log.error(err));
        this.db.on('disconnected', () => {
            this.log.warn('Mongoose default connection to DB :' +
                this.db_server +
                ' disconnected');
        });
        this.db.on('connected', () => {
            this.log.info('Mongoose default connection to DB :' +
                this.db_server +
                ' connected');
        });
    }
    _onDBConnect() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            console.log('Connected to DB');
            this.log.info({ db: this.db_server }, 'Connected to DB');
            yield this._registerModels();
            yield this._registerEntityAdministrator();
            this._passportSetup();
            yield this._startExpress();
            yield this._startSocketIO();
            yield this.callback();
            yield this.reportMemoryUsage();
        });
    }
    reportMemoryUsage() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            console.log('Memory usage: ');
            console.log(process.memoryUsage());
        });
    }
    _registerEntityAdministrator() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const adminEmail = 'admin@ever.co';
            const adminPassword = 'admin';
            const adminCollectionCount = yield this._adminsService.count({
                email: adminEmail,
            });
            if (adminCollectionCount === 0) {
                this._adminsService.register({
                    admin: {
                        email: adminEmail,
                        name: 'Admin',
                        hash: null,
                        pictureUrl: utils_1.getDummyImage(300, 300, 'A'),
                    },
                    password: adminPassword,
                });
            }
        });
    }
    _getBaseUrl(url) {
        if (url) {
            return url.slice(0, url.lastIndexOf('/') + 1).toString();
        }
    }
    _passportSetup() {
        passport_1.default.serializeUser((user, done) => {
            done(null, user);
        });
        passport_1.default.deserializeUser((id, done) => {
        });
        const googleStrategy = this.socialStrategiesService.getGoogleStrategy();
        if (googleStrategy != null) {
            passport_1.default.use(googleStrategy);
        }
        const facebookStrategy = this.socialStrategiesService.getFacebookStrategy();
        if (facebookStrategy != null) {
            passport_1.default.use(facebookStrategy);
        }
    }
    _registerModels() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield bluebird_1.default.map(this.services, (service) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                if (service.DBObject != null) {
                    yield db_server_1.getModel(service.DBObject).createIndexes();
                }
            }));
        });
    }
    _startExpress() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this.expressApp = express_1.default();
            const hbs = express_handlebars_1.default.create({
                extname: '.hbs',
                defaultLayout: 'main',
                layoutsDir: path_1.default.join('res', 'views', 'layouts'),
                partialsDir: path_1.default.join('res', 'templates'),
            });
            this.expressApp.engine('.hbs', hbs.engine);
            this.expressApp.set('views', path_1.default.join('res', 'views'));
            this.expressApp.set('view engine', '.hbs');
            this.expressApp.set('view cache', false);
            const httpsCertPath = env_1.env.HTTPS_CERT_PATH;
            const httpsKeyPath = env_1.env.HTTPS_KEY_PATH;
            const hasHttpsCert = fs_1.default.existsSync(httpsCertPath);
            const hasHttpsKey = fs_1.default.existsSync(httpsKeyPath);
            let hasDefaultHttpsCert = false;
            if (!hasHttpsCert || !hasHttpsKey) {
                hasDefaultHttpsCert = yield this._getCertificates(httpsCertPath, httpsKeyPath);
            }
            if ((hasHttpsCert && hasHttpsKey) || hasDefaultHttpsCert) {
                this.httpsServer = https_1.default.createServer({
                    cert: fs_1.default.readFileSync(httpsCertPath),
                    key: fs_1.default.readFileSync(httpsKeyPath),
                }, this.expressApp);
            }
            this.httpServer = http_1.default.createServer(this.expressApp);
            const timeout = 30 * 60 * 1000;
            if (this.httpsServer) {
                this.httpsServer.setTimeout(timeout);
            }
            this.httpServer.setTimeout(timeout);
            this.expressApp.set('httpsPort', env_1.env.HTTPSPORT);
            this.expressApp.set('httpPort', env_1.env.HTTPPORT);
            this.expressApp.set('environment', env_1.env.NODE_ENV);
            this.expressApp.use(cors_1.default({
                origin: true,
                credentials: true,
            }));
            this.expressApp.use(body_parser_1.default.urlencoded({ extended: false }));
            this.expressApp.use(body_parser_1.default.json());
            this.expressApp.use(body_parser_1.default.json({ type: 'application/vnd.api+json' }));
            const mo = method_override_1.default;
            this.expressApp.use(mo('X-HTTP-Method'));
            this.expressApp.use(mo('X-HTTP-Method-Override'));
            this.expressApp.use(mo('X-Method-Override'));
            this.expressApp.use(morgan_1.default('dev'));
            this.expressApp.use(passport_1.default.initialize());
            this.expressApp.use(requestIp.mw());
            if (this.expressApp.get('environment') === 'development') {
                const eh = errorhandler_1.default;
                this.expressApp.use(eh());
            }
            this.expressApp.get('/', function (req, res) {
                res.render('index');
            });
            this.expressApp.get('/getLocationByIP', (req, res) => {
                const ipStackKey = env_1.env.IP_STACK_API_KEY;
                if (ipStackKey) {
                    const clientIp = req['clientIp'];
                    if (!INTERNAL_IPS.includes(clientIp)) {
                        ipstack(clientIp, ipStackKey, (err, response) => {
                            res.json({
                                latitude: response.latitude,
                                longitude: response.longitude,
                            });
                        });
                    }
                    else {
                        this.log.info(`Can't use ipstack with internal ip address ${clientIp}`);
                        res.status(204).end();
                    }
                }
                else {
                    this.log.error('Not provided Key for IpStack');
                    res.status(500).end();
                }
            });
            this.expressApp.post('/warehouse/create', (req, res) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const warehouseCreateObject = JSON.parse(req.body.warehouse);
                const warehouse = yield this.warehousesService.create(warehouseCreateObject);
                res.json(warehouse);
            }));
            this._setupAuthRoutes();
            this._setupStaticRoutes();
            const httpsPort = this.expressApp.get('httpsPort');
            const httpPort = this.expressApp.get('httpPort');
            const conf = __webpack_require__(/*! dotenv */ "dotenv").config();
            const environment = this.expressApp.get('environment');
            this.log.info({
                httpsPort,
                httpPort,
                environment,
                'process.env': process.env,
                dotenv: conf,
            }, 'Express server prepare to listen');
            if (httpsPort && httpsPort > 0 && this.httpsServer) {
                this.httpsServer.listen(httpsPort, () => {
                    this.log.info({ port: httpsPort }, 'Express https server listening');
                    console.log(`Express https server listening on port ${httpsPort}`);
                });
            }
            else {
                this.log.warn(`No SSL Certificate exists, HTTPS endpoint will be disabled`);
            }
            if (httpPort && httpPort > 0) {
                this.httpServer.listen(httpPort, () => {
                    this.log.info({ port: httpPort }, 'Express http server listening');
                    console.log(`Express http server listening on port ${httpPort}`);
                });
            }
        });
    }
    _getCertificates(httpsCertPath, httpsKeyPath) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            try {
                this.log.info('Generating SSL Certificates for HTTPS');
                const { success } = yield this._createCertificateAsync(httpsCertPath, httpsKeyPath);
                this.log.info('Certificates were generated');
                return success;
            }
            catch (error) {
                this.log.warn(`Certificates were not generated due to error: ${error.message}`);
                return false;
            }
        });
    }
    _createCertificateAsync(httpsCertPath, httpsKeyPath) {
        return new Promise((resolve, reject) => {
            try {
                pem_1.default.createCertificate({
                    days: 365,
                    selfSigned: true,
                }, (err, keys) => {
                    if (err) {
                        reject({ success: false, message: err.message });
                        return;
                    }
                    const httpsCertDirPath = path_1.default.dirname(httpsCertPath);
                    const httpsKeyDirPath = path_1.default.dirname(httpsKeyPath);
                    if (!fs_1.default.existsSync(httpsCertDirPath)) {
                        fs_1.default.mkdirSync(httpsCertDirPath, {
                            recursive: true,
                        });
                    }
                    if (!fs_1.default.existsSync(httpsKeyDirPath)) {
                        fs_1.default.mkdirSync(httpsKeyDirPath, {
                            recursive: true,
                        });
                    }
                    fs_1.default.writeFileSync(httpsCertPath, keys.certificate);
                    fs_1.default.writeFileSync(httpsKeyPath, keys.serviceKey);
                    resolve({ success: true });
                });
            }
            catch (err) {
                reject({ success: false, message: err.message });
            }
        });
    }
    _startSocketIO() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const so = socket_io_1.default;
            const ioHttps = so(this.httpsServer);
            const ioHttp = so(this.httpServer);
            yield this.routersManager.startListening(ioHttps);
            yield this.routersManager.startListening(ioHttp);
        });
    }
    _setupStaticRoutes() {
        this.expressApp.get('/en/about', function (req, res) {
            res.render('about_us_en');
        });
        this.expressApp.get('/he/about', function (req, res) {
            res.render('about_us_he');
        });
        this.expressApp.get('/ru/about', function (req, res) {
            res.render('about_us_ru');
        });
        this.expressApp.get('/en/privacy', function (req, res) {
            res.render('privacy_en');
        });
        this.expressApp.get('/he/privacy', function (req, res) {
            res.render('privacy_he');
        });
        this.expressApp.get('/ru/privacy', function (req, res) {
            res.render('privacy_ru');
        });
        this.expressApp.get('/en/terms', function (req, res) {
            res.render('terms_of_use_en');
        });
        this.expressApp.get('/he/terms', function (req, res) {
            res.render('terms_of_use_he');
        });
        this.expressApp.get('/ru/terms', function (req, res) {
            res.render('terms_of_use_ru');
        });
        this.expressApp.get('/bg/terms', function (req, res) {
            res.render('terms_of_use_bg');
        });
    }
    _setupAuthRoutes() {
        this.expressApp.get('/auth/facebook', (req, res, next) => {
            passport_1.default['_strategies'].session.base_redirect_url = this._getBaseUrl(req.headers.referer);
            next();
        }, passport_1.default.authenticate('facebook', {
            scope: ['email', 'public_profile'],
        }));
        this.expressApp.get('/auth/facebook/callback', passport_1.default.authenticate('facebook', { failureRedirect: '/login' }), (req, res) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            const baseRedirectUr = passport_1.default['_strategies'].session.base_redirect_url;
            if (req.user) {
                res.redirect(baseRedirectUr + req.user.redirectUrl);
            }
            else {
                res.redirect(baseRedirectUr || '');
            }
            passport_1.default['_strategies'].session.base_redirect_url = '';
        }));
        this.expressApp.get('/auth/google', (req, res, next) => {
            passport_1.default['_strategies'].session.base_redirect_url = this._getBaseUrl(req.headers.referer);
            next();
        }, passport_1.default.authenticate('google', { scope: ['profile', 'email'] }));
        this.expressApp.get('/auth/google/callback', passport_1.default.authenticate('google', { failureRedirect: '/login' }), (req, res) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            const baseRedirectUr = passport_1.default['_strategies'].session.base_redirect_url;
            if (req.user) {
                res.redirect(baseRedirectUr + req.user.redirectUrl);
            }
            else {
                res.redirect(baseRedirectUr || '');
            }
            passport_1.default['_strategies'].session.base_redirect_url = '';
        }));
    }
};
ServicesApp._poolSize = 50;
ServicesApp._connectTimeoutMS = 40000;
ServicesApp = ServicesApp_1 = tslib_1.__decorate([
    inversify_1.injectable(),
    tslib_1.__param(0, inversify_1.multiInject(IService_1.ServiceSymbol)),
    tslib_1.__param(1, inversify_1.inject('RoutersManager')),
    tslib_1.__param(2, inversify_1.inject(warehouses_1.WarehousesService)),
    tslib_1.__param(3, inversify_1.inject(users_1.SocialStrategiesService)),
    tslib_1.__param(4, inversify_1.inject(admins_1.AdminsService)),
    tslib_1.__param(5, inversify_1.inject(config_service_1.ConfigService)),
    tslib_1.__metadata("design:paramtypes", [Array, Object, warehouses_1.WarehousesService,
        users_1.SocialStrategiesService,
        admins_1.AdminsService,
        config_service_1.ConfigService])
], ServicesApp);
exports.ServicesApp = ServicesApp;


/***/ }),

/***/ "./src/services/services.module.ts":
/*!*****************************************!*\
  !*** ./src/services/services.module.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const IService_1 = __webpack_require__(/*! ./IService */ "./src/services/IService.ts");
const inversify_config_1 = __webpack_require__(/*! ./inversify.config */ "./src/services/inversify.config.ts");
function getServices() {
    return inversify_config_1.servicesContainer.getAll(IService_1.ServiceSymbol).map((service) => {
        return {
            provide: service.constructor,
            useValue: service,
        };
    });
}
const services = getServices();
let ServicesModule = class ServicesModule {
    constructor() { }
};
ServicesModule = tslib_1.__decorate([
    common_1.Global(),
    common_1.Module({
        providers: services,
        exports: services,
    }),
    tslib_1.__metadata("design:paramtypes", [])
], ServicesModule);
exports.ServicesModule = ServicesModule;


/***/ }),

/***/ "./src/services/users/SocialRegisterService.ts":
/*!*****************************************************!*\
  !*** ./src/services/users/SocialRegisterService.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const UsersService_1 = __webpack_require__(/*! ./UsersService */ "./src/services/users/UsersService.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
let SocialRegisterService = class SocialRegisterService {
    constructor(usersService) {
        this.usersService = usersService;
    }
    register(profileInfo) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const socialId = profileInfo['id'];
            const currentUser = yield this.usersService.getSocial(socialId);
            let redirectUrl = '';
            if (currentUser) {
                currentUser.isRegistrationCompleted
                    ? (redirectUrl = 'login/socie/' + currentUser['_id'])
                    : (redirectUrl = 'login/byLocation/' + currentUser['_id']);
            }
            else {
                const [firstname, lastname] = profileInfo['displayName'].split(' ');
                const email = profileInfo['emails'][0]['value'];
                const socialIdOnProfile = profileInfo['id'];
                const newUser = yield this.usersService.initUser({
                    firstName: firstname,
                    lastName: lastname,
                    email,
                    socialIds: [socialIdOnProfile],
                    isRegistrationCompleted: false,
                });
                redirectUrl = 'login/byLocation/' + newUser['_id'];
            }
            return { redirectUrl };
        });
    }
};
SocialRegisterService = tslib_1.__decorate([
    io_1.routerName('social-register-service'),
    inversify_1.injectable(),
    tslib_1.__param(0, inversify_1.inject(UsersService_1.UsersService)),
    tslib_1.__metadata("design:paramtypes", [UsersService_1.UsersService])
], SocialRegisterService);
exports.SocialRegisterService = SocialRegisterService;


/***/ }),

/***/ "./src/services/users/SocialStrategiesService.ts":
/*!*******************************************************!*\
  !*** ./src/services/users/SocialStrategiesService.ts ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const passport_google_oauth20_1 = tslib_1.__importDefault(__webpack_require__(/*! passport-google-oauth20 */ "passport-google-oauth20"));
const passport_facebook_1 = tslib_1.__importDefault(__webpack_require__(/*! passport-facebook */ "passport-facebook"));
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const SocialRegisterService_1 = __webpack_require__(/*! ./SocialRegisterService */ "./src/services/users/SocialRegisterService.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
let SocialStrategiesService = class SocialStrategiesService {
    constructor(socialRegister) {
        this.socialRegister = socialRegister;
    }
    getGoogleStrategy() {
        if (env_1.env.GOOGLE_APP_ID !== '' && env_1.env.GOOGLE_APP_SECRET !== '') {
            return new passport_google_oauth20_1.default({
                clientID: env_1.env.GOOGLE_APP_ID,
                clientSecret: env_1.env.GOOGLE_APP_SECRET,
                callbackURL: '/auth/google/callback',
            }, (accessToken, refreshToken, profile, done) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const { redirectUrl } = yield this.socialRegister.register(profile);
                done(null, { redirectUrl });
            }));
        }
        console.log(`Warning: Google OAuth disabled because no details provided in the settings/environment`);
        return null;
    }
    getFacebookStrategy() {
        if (env_1.env.FACEBOOK_APP_ID !== '' && env_1.env.FACEBOOK_APP_SECRET !== '') {
            return new passport_facebook_1.default({
                clientID: env_1.env.FACEBOOK_APP_ID,
                clientSecret: env_1.env.FACEBOOK_APP_SECRET,
                callbackURL: '/auth/facebook/callback',
                profileFields: [
                    'id',
                    'displayName',
                    'picture',
                    'email',
                    'gender',
                ],
            }, (accessToken, refreshToken, profile, done) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const { redirectUrl } = yield this.socialRegister.register(profile);
                done(null, { redirectUrl });
            }));
        }
        console.log(`Warning: Facebook OAuth disabled because no details provided in the settings/environment`);
        return null;
    }
};
SocialStrategiesService = tslib_1.__decorate([
    io_1.routerName('social-strategies-service'),
    inversify_1.injectable(),
    tslib_1.__param(0, inversify_1.inject(SocialRegisterService_1.SocialRegisterService)),
    tslib_1.__metadata("design:paramtypes", [SocialRegisterService_1.SocialRegisterService])
], SocialStrategiesService);
exports.SocialStrategiesService = SocialStrategiesService;


/***/ }),

/***/ "./src/services/users/UserCommandService.ts":
/*!**************************************************!*\
  !*** ./src/services/users/UserCommandService.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const cqrs_1 = __webpack_require__(/*! @nestjs/cqrs */ "@nestjs/cqrs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const UsersService_1 = __webpack_require__(/*! ./UsersService */ "./src/services/users/UsersService.ts");
class GetAboutUsCommand {
    constructor(userId, deviceId) {
        this.userId = userId;
        this.deviceId = deviceId;
    }
}
exports.GetAboutUsCommand = GetAboutUsCommand;
let UserCommandService = class UserCommandService {
    constructor(_commandBus) {
        this._commandBus = _commandBus;
    }
    exec(userId, deviceId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._commandBus.execute(new GetAboutUsCommand(userId, deviceId));
        });
    }
};
UserCommandService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('userCommandService'),
    tslib_1.__param(0, inversify_1.optional()),
    tslib_1.__metadata("design:paramtypes", [cqrs_1.CommandBus])
], UserCommandService);
exports.UserCommandService = UserCommandService;
let GetAboutUsHandler = class GetAboutUsHandler {
    constructor(_userService) {
        this._userService = _userService;
    }
    execute(command) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const { userId, deviceId } = command;
            console.log('COMMAND PARAM 1:', userId);
            console.log('COMMAND PARAM 2:', deviceId);
            const result = this._userService.getAboutUs(userId, deviceId);
            return result;
        });
    }
};
GetAboutUsHandler = tslib_1.__decorate([
    cqrs_1.CommandHandler(GetAboutUsCommand),
    tslib_1.__metadata("design:paramtypes", [UsersService_1.UsersService])
], GetAboutUsHandler);
exports.GetAboutUsHandler = GetAboutUsHandler;


/***/ }),

/***/ "./src/services/users/UsersAuthService.ts":
/*!************************************************!*\
  !*** ./src/services/users/UsersAuthService.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var UsersAuthService_1;
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const User_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/User */ "./node_modules/@ever-platform/common/src/entities/User.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const entity_service_1 = __webpack_require__(/*! @pyro/db-server/entity-service */ "./src/@pyro/db-server/entity-service.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const UsersService_1 = __webpack_require__(/*! ./UsersService */ "./src/services/users/UsersService.ts");
const NotInvitedError_1 = __webpack_require__(/*! @modules/server.common/errors/NotInvitedError */ "./node_modules/@ever-platform/common/src/errors/NotInvitedError.ts");
const invites_1 = __webpack_require__(/*! ../invites */ "./src/services/invites/index.ts");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
let UsersAuthService = UsersAuthService_1 = class UsersAuthService extends entity_service_1.EntityService {
    constructor(usersService, invitesService, authServiceFactory) {
        super();
        this.usersService = usersService;
        this.invitesService = invitesService;
        this.authServiceFactory = authServiceFactory;
        this.DBObject = User_1.default;
        this.log = Log_1.createEverLogger({
            name: 'userAuthService',
        });
        this.authService = this.authServiceFactory({
            role: 'user',
            Entity: User_1.default,
            saltRounds: env_1.env.USER_PASSWORD_BCRYPT_SALT_ROUNDS,
        });
    }
    register(input) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (UsersAuthService_1.IS_INVITES_SYSTEM_ON &&
                !(yield this._isInvited(input.user))) {
                throw new NotInvitedError_1.NotInvitedError();
            }
            if (input.user.firstName === '') {
                delete input.user.firstName;
            }
            if (input.user.lastName === '') {
                delete input.user.lastName;
            }
            if (input.user.email === '') {
                delete input.user.email;
            }
            const user = yield this.usersService.create(Object.assign(Object.assign({}, input.user), (input.password
                ? {
                    hash: yield this.authService.getPasswordHash(input.password),
                }
                : {})));
            return user;
        });
    }
    updatePassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.usersService.throwIfNotExists(id);
            yield this.authService.updatePassword(id, password);
        });
    }
    addRegistrationInfo(id, { email, password, firstName, lastName, phone }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.usersService.throwIfNotExists(id);
            const user = yield this.usersService.getCurrent(id);
            if (user.email == null && email) {
                throw new Error('To add password user must have email');
            }
            yield this.authService.addPassword(id, password);
            yield this.usersService.update(id, Object.assign(Object.assign(Object.assign(Object.assign({}, (email ? { email } : {})), (firstName ? { firstName } : {})), (lastName ? { lastName } : {})), (phone ? { phone } : {})));
        });
    }
    login(email, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const res = yield this.authService.login({ email }, password);
            if (!res || res.entity.isDeleted) {
                return null;
            }
            return {
                user: res.entity,
                token: res.token,
            };
        });
    }
    getRegistrationsSettings() {
        return new Promise((resolve, reject) => {
            resolve({
                registrationRequiredOnStart: env_1.env.SETTINGS_REGISTRATIONS_REQUIRED_ON_START,
            });
        });
    }
    _isInvited(userCreateObject) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const inviteFindObject = {
                'geoLocation.countryId': userCreateObject.geoLocation.countryId,
                'geoLocation.city': userCreateObject.geoLocation.city,
                'geoLocation.streetAddress': userCreateObject.geoLocation.streetAddress,
                'geoLocation.house': userCreateObject.geoLocation.house,
                apartment: userCreateObject.apartment,
            };
            if (userCreateObject.geoLocation.postcode) {
                inviteFindObject['geoLocation.postcode'] =
                    userCreateObject.geoLocation.postcode;
            }
            const invite = yield this.invitesService.findOne(inviteFindObject);
            return invite != null;
        });
    }
};
UsersAuthService.IS_INVITES_SYSTEM_ON = false;
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersAuthService.prototype, "register", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersAuthService.prototype, "updatePassword", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersAuthService.prototype, "addRegistrationInfo", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersAuthService.prototype, "login", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], UsersAuthService.prototype, "getRegistrationsSettings", null);
UsersAuthService = UsersAuthService_1 = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('user-auth'),
    tslib_1.__param(2, inversify_1.inject('Factory<AuthService>')),
    tslib_1.__metadata("design:paramtypes", [UsersService_1.UsersService,
        invites_1.InvitesService, Function])
], UsersAuthService);
exports.UsersAuthService = UsersAuthService;


/***/ }),

/***/ "./src/services/users/UsersOrdersService.ts":
/*!**************************************************!*\
  !*** ./src/services/users/UsersOrdersService.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const orders_1 = __webpack_require__(/*! ../orders */ "./src/services/orders/index.ts");
const UsersService_1 = __webpack_require__(/*! ./UsersService */ "./src/services/users/UsersService.ts");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const mongoose = __webpack_require__(/*! mongoose */ "mongoose");
const OrderCarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderCarrierStatus */ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts"));
const OrderWarehouseStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderWarehouseStatus */ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts"));
let UsersOrdersService = class UsersOrdersService {
    constructor(ordersService, usersService) {
        this.ordersService = ordersService;
        this.usersService = usersService;
        this.log = Log_1.createEverLogger({
            name: 'usersOrdersService',
        });
    }
    get(userId) {
        return rxjs_1.concat(rxjs_1.of(null), this.ordersService.existence.pipe(operators_1.filter((e) => this._shouldPull(userId, e)), operators_1.share())).pipe(operators_1.exhaustMap(() => this.getCurrent(userId)));
    }
    getCurrent(userId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const orders = yield this.ordersService.find({
                'user._id': new mongoose.Types.ObjectId(userId),
                isDeleted: { $eq: false },
            });
            return lodash_1.default.orderBy(orders, [(order) => order.createdAt, (order) => order.orderNumber], ['desc', 'desc']);
        });
    }
    getCustomerMetrics(id) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const completedUserOrders = yield this.ordersService.Model.find({
                $and: [
                    { 'user._id': id },
                    {
                        $or: [
                            { carrierStatus: OrderCarrierStatus_1.default.DeliveryCompleted },
                            {
                                warehouseStatus: OrderWarehouseStatus_1.default.GivenToCustomer,
                            },
                        ],
                    },
                    { isCancelled: false },
                ],
            }).select({ products: 1 });
            const completedOrdersTotalSum = completedUserOrders
                .map((o) => {
                return o.products
                    .map((p) => {
                    return p.price * p.count;
                })
                    .reduce((a, b) => a + b, 0);
            })
                .reduce((a, b) => a + b, 0);
            const totalOrders = yield this.ordersService.Model.find({
                'user._id': id,
            })
                .countDocuments()
                .exec();
            const canceledOrders = yield this.ordersService.Model.find({
                $and: [{ 'user._id': id }, { isCancelled: true }],
            })
                .countDocuments()
                .exec();
            return {
                totalOrders,
                canceledOrders,
                completedOrdersTotalSum,
            };
        });
    }
    _shouldPull(userId, event) {
        switch (event.type) {
            case db_server_1.ExistenceEventType.Created:
                return event.value != null && event.value.user.id === userId;
            case db_server_1.ExistenceEventType.Updated:
                return ((event.value != null && event.value.user.id === userId) ||
                    (event.lastValue != null &&
                        event.lastValue.user.id === userId));
            case db_server_1.ExistenceEventType.Removed:
                return (event.lastValue != null &&
                    event.lastValue.user.id === userId);
        }
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], UsersOrdersService.prototype, "get", null);
UsersOrdersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('user-orders'),
    tslib_1.__param(0, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => orders_1.OrdersService))),
    tslib_1.__param(1, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => UsersService_1.UsersService))),
    tslib_1.__metadata("design:paramtypes", [orders_1.OrdersService,
        UsersService_1.UsersService])
], UsersOrdersService);
exports.UsersOrdersService = UsersOrdersService;


/***/ }),

/***/ "./src/services/users/UsersProductsService.ts":
/*!****************************************************!*\
  !*** ./src/services/users/UsersProductsService.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(__dirname) {
var UsersProductsService_1;
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const handlebars_1 = tslib_1.__importDefault(__webpack_require__(/*! handlebars */ "handlebars"));
const utils_1 = __webpack_require__(/*! ../../utils */ "./src/utils.ts");
const DevicesService_1 = __webpack_require__(/*! ../devices/DevicesService */ "./src/services/devices/DevicesService.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
let UsersProductsService = UsersProductsService_1 = class UsersProductsService {
    constructor(devicesService) {
        this.devicesService = devicesService;
        this._placeholderTemplateFileName = UsersProductsService_1.templatesDirPath + `user_products_placeholder.hbs`;
        this._placeholderTranslationsFileName = UsersProductsService_1.templatesDirPath +
            `user_products_placeholder.json`;
        this._placeholderTemplateString = utils_1.observeFile(this._placeholderTemplateFileName).pipe(operators_1.distinctUntilChanged(), operators_1.publishReplay(1), operators_1.refCount());
        this._placeholderTranslationsJSON = utils_1.observeFile(this._placeholderTranslationsFileName).pipe(operators_1.distinctUntilChanged(), operators_1.publishReplay(1), operators_1.refCount());
    }
    getPlaceholder(userId, deviceId) {
        return this.devicesService.get(deviceId).pipe(operators_1.exhaustMap((device) => {
            if (device === null) {
                return rxjs_1.throwError(new Error(`User with the id ${userId} doesn't exist`));
            }
            else {
                return rxjs_1.of(device);
            }
        }), operators_1.distinctUntilChanged((oldDevice, newDevice) => oldDevice.language !== newDevice.language), operators_1.switchMap((device) => rxjs_1.combineLatest(this._placeholderTemplateString, this._placeholderTranslationsJSON, (templateString, translationsJSON) => {
            const translations = JSON.parse(translationsJSON);
            const template = handlebars_1.default.compile(templateString);
            const language = Object.keys(JSON.parse(translationsJSON)).filter((k) => k
                .toLowerCase()
                .includes(device.language.toLowerCase()))[0];
            return template(translations[language]);
        })), operators_1.share());
    }
};
UsersProductsService.templatesDirPath = `${__dirname}/../../../res/templates/`;
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], UsersProductsService.prototype, "getPlaceholder", null);
UsersProductsService = UsersProductsService_1 = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('user-products'),
    tslib_1.__metadata("design:paramtypes", [DevicesService_1.DevicesService])
], UsersProductsService);
exports.UsersProductsService = UsersProductsService;

/* WEBPACK VAR INJECTION */}.call(this, "/"))

/***/ }),

/***/ "./src/services/users/UsersService.ts":
/*!********************************************!*\
  !*** ./src/services/users/UsersService.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(__dirname) {
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const User_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/User */ "./node_modules/@ever-platform/common/src/entities/User.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const invites_1 = __webpack_require__(/*! ../invites */ "./src/services/invites/index.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const utils_1 = __webpack_require__(/*! ../../utils */ "./src/utils.ts");
const GeoLocation_1 = tslib_1.__importStar(__webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const devices_1 = __webpack_require__(/*! ../devices */ "./src/services/devices/index.ts");
const uuid_1 = __webpack_require__(/*! uuid */ "uuid");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const of_1 = __webpack_require__(/*! rxjs/observable/of */ "rxjs/observable/of");
const throw_1 = __webpack_require__(/*! rxjs/observable/throw */ "rxjs/observable/throw");
const _ = __webpack_require__(/*! lodash */ "lodash");
const faker_1 = tslib_1.__importDefault(__webpack_require__(/*! faker */ "faker"));
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const Stripe = __webpack_require__(/*! stripe */ "stripe");
let UsersService = class UsersService extends db_server_1.DBService {
    constructor(invitesService, devicesService, _storesService) {
        super();
        this.invitesService = invitesService;
        this.devicesService = devicesService;
        this._storesService = _storesService;
        this.DBObject = User_1.default;
        this.stripe = new Stripe(env_1.env.STRIPE_SECRET_KEY);
        this.log = Log_1.createEverLogger({
            name: 'usersService',
        });
        this.watchedFiles = _.zipObject(['aboutUs', 'privacy', 'termsOfUse'], _.map(['about_us', 'privacy', 'terms_of_use'], (folder) => _.zipObject(['en-US', 'he-IL', 'ru-RU', 'bg-BG'], _.map(['en-US', 'he-IL', 'ru-RU', 'bg-BG'], (language) => utils_1.observeFile(`${__dirname}/../../../res/templates/${folder}/${language}.hbs`).pipe(operators_1.tap({ error: (err) => this.log.error(err) }), operators_1.publishReplay(1), operators_1.refCount())))));
    }
    isUserEmailExists(email) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return (yield this.count({ email })) > 0;
        });
    }
    getSocial(socialId) {
        const _super = Object.create(null, {
            findOne: { get: () => super.findOne }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.findOne.call(this, {
                socialIds: { $in: [socialId] },
                isDeleted: { $eq: false },
            });
        });
    }
    initUser(userInitializeObject) {
        const _super = Object.create(null, {
            create: { get: () => super.create }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.create.call(this, userInitializeObject);
        });
    }
    getUsers(findInput, pagingOptions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const sortObj = {};
            if (pagingOptions.sort) {
                sortObj[pagingOptions.sort.field] = pagingOptions.sort.sortBy;
            }
            return this.Model.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false } }))
                .sort(sortObj)
                .skip(pagingOptions.skip)
                .limit(pagingOptions.limit)
                .lean()
                .exec();
        });
    }
    updateUser(id, userCreateObject) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return _super.update.call(this, id, userCreateObject);
        });
    }
    get(customerId) {
        return super.get(customerId).pipe(operators_1.map((user) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(customerId);
            return user;
        })), operators_1.switchMap((user) => user));
    }
    getCards(userId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(userId);
            const user = yield this.get(userId).pipe(operators_1.first()).toPromise();
            if (user != null) {
                if (user.stripeCustomerId != null) {
                    return (yield this.stripe.customers.listSources(user.stripeCustomerId, {
                        object: 'card',
                    })).data;
                }
                else {
                    return [];
                }
            }
            else {
                throw new Error(`User with the id ${userId} doesn't exist`);
            }
        });
    }
    addPaymentMethod(userId, tokenId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(userId);
            const callId = uuid_1.v1();
            this.log.info({ callId, userId, tokenId }, '.addPaymentMethod(userId, tokenId) called');
            let card;
            try {
                let user = yield this.get(userId).pipe(operators_1.first()).toPromise();
                if (user != null) {
                    if (user.stripeCustomerId == null) {
                        const customer = yield this.stripe.customers.create({
                            email: user.email,
                            description: 'User id: ' + user.id,
                            metadata: {
                                userId: user.id,
                            },
                        });
                        user = yield this.update(userId, {
                            stripeCustomerId: customer.id,
                        });
                    }
                    card = (yield this.stripe.customers.createSource(user.stripeCustomerId, {
                        source: tokenId,
                    }));
                }
                else {
                    throw new Error(`User with the id ${userId} doesn't exist`);
                }
            }
            catch (err) {
                this.log.error({ callId, userId, tokenId, err }, '.addPaymentMethod(userId, tokenId) thrown error!');
                throw err;
            }
            this.log.info({ callId, userId, tokenId, card }, '.addPaymentMethod(userId, tokenId) added payment method');
            return card.id;
        });
    }
    updateEmail(userId, email) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(userId);
            return this.update(userId, { email });
        });
    }
    updateGeoLocation(userId, geoLocation) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(userId);
            return this.update(userId, { geoLocation });
        });
    }
    getAboutUs(userId, deviceId) {
        return this.devicesService.get(deviceId).pipe(operators_1.exhaustMap((device) => {
            if (device === null) {
                return throw_1._throw(new Error(`User with the id ${userId} doesn't exist`));
            }
            else {
                return of_1.of(device);
            }
        }), operators_1.distinctUntilChanged((oldDevice, newDevice) => oldDevice.language !== newDevice.language), operators_1.switchMap((device) => this.watchedFiles.aboutUs[device.language]));
    }
    getTermsOfUse(userId, deviceId) {
        return this.devicesService.get(deviceId).pipe(operators_1.exhaustMap((device) => {
            if (device === null) {
                return throw_1._throw(new Error(`Device with the id ${deviceId} doesn't exist`));
            }
            else {
                return of_1.of(device);
            }
        }), operators_1.distinctUntilChanged((oldDevice, newDevice) => oldDevice.language !== newDevice.language), operators_1.switchMap((device) => this.watchedFiles.termsOfUse[device.language]));
    }
    getPrivacy(userId, deviceId) {
        return this.devicesService.get(deviceId).pipe(operators_1.exhaustMap((device) => {
            if (device === null) {
                return throw_1._throw(new Error(`User with the id ${userId} doesn't exist`));
            }
            else {
                return of_1.of(device);
            }
        }), operators_1.distinctUntilChanged((oldDevice, newDevice) => oldDevice.language !== newDevice.language), operators_1.switchMap((device) => this.watchedFiles.privacy[device.language]));
    }
    generate1000Customers(defaultLng, defaultLat) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const existingEmails = _.map(yield this.Model.find({}).select({ email: 1 }).lean().exec(), (u) => u.email);
            const customersToCreate = [];
            const customerCreatedFrom = new Date(2015, 1);
            const customerCreatedTo = new Date();
            let customerCount = 1;
            while (customerCount <= 1000) {
                const firstName = faker_1.default.name.firstName();
                const lastName = faker_1.default.name.lastName();
                const email = faker_1.default.internet.email(firstName, lastName);
                const isBanned = Math.random() < 0.02;
                const geoLocation = {
                    countryId: faker_1.default.random.number(GeoLocation_1.Country.ZW),
                    city: faker_1.default.address.city(),
                    house: `${customerCount}`,
                    loc: {
                        type: 'Point',
                        coordinates: [defaultLng, defaultLat],
                    },
                    streetAddress: faker_1.default.address.streetAddress(),
                };
                if (!existingEmails.includes(email)) {
                    existingEmails.push(email);
                    customersToCreate.push({
                        firstName: faker_1.default.name.firstName(),
                        lastName: faker_1.default.name.lastName(),
                        geoLocation,
                        apartment: `${customerCount}`,
                        email,
                        isBanned,
                        image: faker_1.default.image.avatar(),
                        phone: faker_1.default.phone.phoneNumber(),
                        _createdAt: faker_1.default.date.between(customerCreatedFrom, customerCreatedTo),
                    });
                    customerCount += 1;
                }
            }
            return this.Model.insertMany(customersToCreate);
        });
    }
    banUser(id) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return this.update(id, { isBanned: true });
        });
    }
    unbanUser(id) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return this.update(id, { isBanned: false });
        });
    }
    throwIfNotExists(userId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const user = yield _super.get.call(this, userId).pipe(operators_1.first()).toPromise();
            if (!user || user.isDeleted) {
                throw Error(`Customer with id '${userId}' does not exists!`);
            }
        });
    }
};
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersService.prototype, "updateUser", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], UsersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersService.prototype, "getCards", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersService.prototype, "addPaymentMethod", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersService.prototype, "updateEmail", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__param(1, io_1.serialization((g) => new GeoLocation_1.default(g))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, GeoLocation_1.default]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersService.prototype, "updateGeoLocation", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], UsersService.prototype, "getAboutUs", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], UsersService.prototype, "getTermsOfUse", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], UsersService.prototype, "getPrivacy", null);
UsersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('user'),
    tslib_1.__param(0, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => invites_1.InvitesService))),
    tslib_1.__param(1, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => devices_1.DevicesService))),
    tslib_1.__param(2, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => warehouses_1.WarehousesService))),
    tslib_1.__metadata("design:paramtypes", [invites_1.InvitesService,
        devices_1.DevicesService,
        warehouses_1.WarehousesService])
], UsersService);
exports.UsersService = UsersService;

/* WEBPACK VAR INJECTION */}.call(this, "/"))

/***/ }),

/***/ "./src/services/users/index.ts":
/*!*************************************!*\
  !*** ./src/services/users/index.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./UsersService */ "./src/services/users/UsersService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./SocialStrategiesService */ "./src/services/users/SocialStrategiesService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./SocialRegisterService */ "./src/services/users/SocialRegisterService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./UsersOrdersService */ "./src/services/users/UsersOrdersService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./UsersProductsService */ "./src/services/users/UsersProductsService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./UserCommandService */ "./src/services/users/UserCommandService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./UsersAuthService */ "./src/services/users/UsersAuthService.ts"), exports);


/***/ }),

/***/ "./src/services/warehouses/WarehousesCarriersService.ts":
/*!**************************************************************!*\
  !*** ./src/services/warehouses/WarehousesCarriersService.ts ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Carrier_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Carrier */ "./node_modules/@ever-platform/common/src/entities/Carrier.ts"));
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const carriers_1 = __webpack_require__(/*! ../carriers */ "./src/services/carriers/index.ts");
const WarehousesService_1 = __webpack_require__(/*! ./WarehousesService */ "./src/services/warehouses/WarehousesService.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
class NoWarehouseRestrictedCarriersError extends Error {
    constructor() {
        super("Warehouse doesn't have carriers restricted to himself");
    }
}
let WarehousesCarriersService = class WarehousesCarriersService {
    constructor(carriersService, warehousesService, authServiceFactory) {
        this.carriersService = carriersService;
        this.warehousesService = warehousesService;
        this.authServiceFactory = authServiceFactory;
        this.authService = this.authServiceFactory({
            role: 'carrier',
            Entity: Carrier_1.default,
            saltRounds: env_1.env.CARRIER_PASSWORD_BCRYPT_SALT_ROUNDS,
        });
    }
    get(warehouseId) {
        return this.warehousesService.get(warehouseId).pipe(operators_1.map((warehouse) => {
            if (!warehouse.hasRestrictedCarriers) {
                throw new NoWarehouseRestrictedCarriersError();
            }
            return warehouse.usedCarriersIds;
        }), operators_1.distinctUntilChanged((carrierIds1, carrierIds2) => {
            return lodash_1.default.isEqual(carrierIds1.sort(), carrierIds2.sort());
        }), operators_1.exhaustMap((carrierIds) => {
            return this.carriersService.getMultipleByIds(carrierIds);
        }), operators_1.switchMap((carriers) => carriers), operators_1.catchError((err) => {
            if (!(err instanceof NoWarehouseRestrictedCarriersError)) {
                throw err;
            }
            return rxjs_1.of(null);
        }));
    }
    updatePassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(id);
            yield this.authService._savePassword(id, password);
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesCarriersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, String]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesCarriersService.prototype, "updatePassword", null);
WarehousesCarriersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('warehouse-carriers'),
    tslib_1.__param(0, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => carriers_1.CarriersService))),
    tslib_1.__param(1, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => WarehousesService_1.WarehousesService))),
    tslib_1.__param(2, inversify_1.inject('Factory<AuthService>')),
    tslib_1.__metadata("design:paramtypes", [carriers_1.CarriersService,
        WarehousesService_1.WarehousesService, Function])
], WarehousesCarriersService);
exports.WarehousesCarriersService = WarehousesCarriersService;


/***/ }),

/***/ "./src/services/warehouses/WarehousesOrdersService.ts":
/*!************************************************************!*\
  !*** ./src/services/warehouses/WarehousesOrdersService.ts ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const moment_1 = tslib_1.__importDefault(__webpack_require__(/*! moment */ "moment"));
const bluebird_1 = tslib_1.__importDefault(__webpack_require__(/*! bluebird */ "bluebird"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
const WarehousesService_1 = __webpack_require__(/*! ./WarehousesService */ "./src/services/warehouses/WarehousesService.ts");
const products_1 = __webpack_require__(/*! ../products */ "./src/services/products/index.ts");
const orders_1 = __webpack_require__(/*! ../orders */ "./src/services/orders/index.ts");
const WarehousesProductsService_1 = __webpack_require__(/*! ./WarehousesProductsService */ "./src/services/warehouses/WarehousesProductsService.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const users_1 = __webpack_require__(/*! ../users */ "./src/services/users/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const _ = __webpack_require__(/*! lodash */ "lodash");
const OrderWarehouseStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderWarehouseStatus */ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts"));
const OrderCarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderCarrierStatus */ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts"));
const DeliveryType_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/DeliveryType */ "./node_modules/@ever-platform/common/src/enums/DeliveryType.ts"));
let WarehousesOrdersService = class WarehousesOrdersService {
    constructor(warehousesService, productsService, warehousesProductsService, ordersService, usersService) {
        this.warehousesService = warehousesService;
        this.productsService = productsService;
        this.warehousesProductsService = warehousesProductsService;
        this.ordersService = ordersService;
        this.usersService = usersService;
        this.log = Log_1.createEverLogger({
            name: 'warehousesOrdersService',
        });
    }
    getExistence(warehouseId) {
        return this.ordersService.existence.pipe(operators_1.filter((existenceEvent) => {
            switch (existenceEvent.type) {
                case db_server_1.ExistenceEventType.Created:
                    return (existenceEvent.value != null &&
                        existenceEvent.value.warehouseId === warehouseId);
                case db_server_1.ExistenceEventType.Updated:
                    return ((existenceEvent.value != null &&
                        existenceEvent.value.warehouseId ===
                            warehouseId) ||
                        (existenceEvent.lastValue != null &&
                            existenceEvent.lastValue.warehouseId ===
                                warehouseId));
                case db_server_1.ExistenceEventType.Removed:
                    return (existenceEvent.lastValue != null &&
                        existenceEvent.lastValue.warehouseId === warehouseId);
            }
        }), operators_1.share());
    }
    get(warehouseId, options = {}) {
        return rxjs_1.concat(rxjs_1.of(null), this.getExistence(warehouseId)).pipe(operators_1.map((res) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.warehousesService.throwIfNotExists(warehouseId);
            return res;
        })), operators_1.switchMap((res) => res), operators_1.exhaustMap(() => this._get(warehouseId, {
            populateWarehouse: !!options.populateWarehouse,
            populateCarrier: !!options.populateCarrier,
            onlyAvailableToCarrier: false,
        })));
    }
    getNextOrderNumber(warehouseId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.warehousesService.throwIfNotExists(warehouseId);
            const orderDocument = (yield this.ordersService.Model.findOne({
                warehouse: warehouseId,
                isDeleted: { $eq: false },
                _createdAt: {
                    $gte: moment_1.default().startOf('day').toDate(),
                },
            })
                .select('orderNumber')
                .sort({ orderNumber: -1 })
                .exec());
            if (orderDocument == null) {
                return 1;
            }
            else {
                return orderDocument.orderNumber + 1;
            }
        });
    }
    create({ warehouseId, userId, products, orderType, options, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!options) {
                options = {};
            }
            options = {
                autoConfirm: !!options.autoConfirm,
            };
            const user = yield this.usersService
                .get(userId)
                .pipe(operators_1.first())
                .toPromise();
            const warehouse = (yield this.warehousesService
                .get(warehouseId, true)
                .pipe(operators_1.first())
                .toPromise());
            const warehouseProducts = _.keyBy(warehouse.products, 'productId');
            if (user == null) {
                throw new Error(`There is no user with the id ${userId}`);
            }
            this.log.info({
                user,
                warehouseId,
                products,
            }, 'Order create call');
            const orderProducts = yield _.map(products, (args) => {
                const wProduct = warehouseProducts[args.productId];
                if (!wProduct) {
                    throw new Error(`WarehouseOrdersService got call to create(userId, orderProducts) - But there is no product with the id ${args.productId}!`);
                }
                return {
                    count: args.count,
                    price: wProduct.price,
                    initialPrice: wProduct.initialPrice,
                    deliveryTimeMin: wProduct.deliveryTimeMin,
                    deliveryTimeMax: wProduct.deliveryTimeMax,
                    product: wProduct.product,
                    isManufacturing: wProduct.isManufacturing,
                    isCarrierRequired: wProduct.isCarrierRequired,
                    isDeliveryRequired: wProduct.isDeliveryRequired,
                    isTakeaway: wProduct.isTakeaway,
                };
            });
            const order = yield this.ordersService.create(Object.assign({ user, products: orderProducts, warehouse: warehouseId, orderNumber: yield this.getNextOrderNumber(warehouseId), orderType }, (options.autoConfirm ? { isConfirmed: true } : {})));
            yield bluebird_1.default.map(order.products, (orderProduct) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const productId = orderProduct.product.id;
                this.log.info({
                    warehouseId,
                    productId,
                    count: orderProduct.count,
                }, 'Order create remove products call');
                yield this.warehousesProductsService.decreaseCount(warehouseId, productId, orderProduct.count);
                yield this.warehousesProductsService.increaseSoldCount(warehouseId, productId, orderProduct.count);
                this.log.info({
                    warehouseId,
                    productId,
                    count: orderProduct.count,
                }, 'Order create remove products call succeed');
            }));
            return order;
        });
    }
    createByProductType(userId, warehouseId, productId, orderType) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.usersService.throwIfNotExists(userId);
            yield this.warehousesService.throwIfNotExists(warehouseId);
            yield this.productsService.throwIfNotExists(productId);
            return this.create({
                userId,
                warehouseId,
                orderType,
                products: [
                    {
                        productId,
                        count: 1,
                    },
                ],
            });
        });
    }
    cancel(orderId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            let order = yield this.ordersService
                .get(orderId)
                .pipe(operators_1.first())
                .toPromise();
            if (order == null) {
                throw new Error(`There is no order with the id ${orderId} to cancel`);
            }
            if (order.isCancelled) {
                this.log.warn(`Order with id ${orderId} is already cancelled!`);
                return;
            }
            order = yield this.ordersService.cancel(orderId);
            if (order.isConfirmed) {
            }
            this.log.info({
                warehouseId: order.warehouseId,
                products: order.products,
            }, 'Order cancel add products back call');
            yield this.warehousesProductsService.add(order.warehouseId, _.map(order.products, (orderProduct) => {
                return {
                    product: orderProduct.product.id,
                    count: orderProduct.count,
                    price: orderProduct.price,
                    initialPrice: orderProduct.initialPrice,
                    deliveryTimeMin: orderProduct.deliveryTimeMin,
                    deliveryTimeMax: orderProduct.deliveryTimeMax,
                };
            }));
            yield bluebird_1.default.map(order.products, (orderProduct) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const productId = orderProduct.product.id;
                yield this.warehousesProductsService.decreaseSoldCount(order.warehouseId, productId, orderProduct.count);
            }));
            this.log.info({
                warehouseId: order.warehouseId,
                products: order.products,
            }, 'Order cancel add products back call succeed');
            return order;
        });
    }
    getStoreOrders(storeId, pagingOptions, status) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const sortObj = {};
            const findObj = getStoreOrdersFingObj(storeId, status);
            if (pagingOptions.sort) {
                sortObj[pagingOptions.sort.field] = pagingOptions.sort.sortBy;
            }
            return this.ordersService.Model.find(findObj)
                .sort(sortObj)
                .skip(pagingOptions.skip)
                .limit(pagingOptions.limit)
                .lean()
                .exec();
        });
    }
    _get(warehouseId, options = {}) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.warehousesService.throwIfNotExists(warehouseId);
            const findObj = { warehouse: warehouseId };
            if (options.onlyAvailableToCarrier) {
                _.extend(findObj, {
                    carrierStatus: 0,
                    $or: [
                        {
                            carrier: { $exists: false },
                        },
                        {
                            carrier: null,
                        },
                    ],
                    warehouseStatus: { $gte: 2, $lt: 200 },
                }, orders_1.OrdersService.FindObjects.isCompleted);
            }
            let toPopulate = '';
            if (options.populateCarrier) {
                toPopulate += 'carrier ';
            }
            if (options.populateWarehouse) {
                toPopulate += 'warehouse ';
            }
            const orders = _.map((yield this.ordersService.Model.find(Object.assign(Object.assign({}, findObj), { isDeleted: { $eq: false } }))
                .populate(toPopulate)
                .sort({
                _createdAt: -1,
            })
                .lean()
                .exec()), (order) => new Order_1.default(order));
            this.log.info({
                warehouseId,
                orders,
            }, 'orders by warehouse (in getByWarehouse)');
            return orders;
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesOrdersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesOrdersService.prototype, "create", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String, String, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesOrdersService.prototype, "createByProductType", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesOrdersService.prototype, "cancel", null);
WarehousesOrdersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('warehouse-orders'),
    tslib_1.__param(0, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => WarehousesService_1.WarehousesService))),
    tslib_1.__param(1, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => products_1.ProductsService))),
    tslib_1.__param(2, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => WarehousesProductsService_1.WarehousesProductsService))),
    tslib_1.__param(3, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => orders_1.OrdersService))),
    tslib_1.__param(4, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => users_1.UsersService))),
    tslib_1.__metadata("design:paramtypes", [WarehousesService_1.WarehousesService,
        products_1.ProductsService,
        WarehousesProductsService_1.WarehousesProductsService,
        orders_1.OrdersService,
        users_1.UsersService])
], WarehousesOrdersService);
exports.WarehousesOrdersService = WarehousesOrdersService;
function getStoreOrdersFingObj(storeId, status) {
    const findObj = {
        isDeleted: { $eq: false },
        warehouse: storeId,
    };
    switch (status) {
        case 'confirmed':
            findObj['$and'] = [
                {
                    warehouseStatus: {
                        $gt: OrderWarehouseStatus_1.default.NoStatus,
                    },
                },
                {
                    warehouseStatus: {
                        $lt: OrderWarehouseStatus_1.default.GivenToCustomer,
                    },
                },
                {
                    carrierStatus: {
                        $lte: OrderCarrierStatus_1.default.CarrierSelectedOrder,
                    },
                },
            ];
            findObj['isCancelled'] = false;
            break;
        case 'in_delivery':
            findObj['$and'] = [
                {
                    carrierStatus: {
                        $gte: OrderCarrierStatus_1.default.CarrierPickedUpOrder,
                    },
                },
                {
                    warehouseStatus: {
                        $lt: OrderWarehouseStatus_1.default.AllocationFailed,
                    },
                },
                {
                    carrierStatus: {
                        $lt: OrderCarrierStatus_1.default.DeliveryCompleted,
                    },
                },
            ];
            findObj['isCancelled'] = false;
            break;
        case 'not_confirmed':
            findObj['warehouseStatus'] = OrderWarehouseStatus_1.default.NoStatus;
            findObj['isCancelled'] = false;
            break;
        case 'not_paid':
            findObj['isPaid'] = false;
            break;
        case 'cancelled':
            findObj['isCancelled'] = true;
            break;
        case 'relevant':
            findObj['$and'] = [
                {
                    warehouseStatus: {
                        $gte: OrderWarehouseStatus_1.default.NoStatus,
                    },
                },
                {
                    warehouseStatus: {
                        $lt: OrderWarehouseStatus_1.default.GivenToCustomer,
                    },
                },
                {
                    carrierStatus: {
                        $lte: OrderCarrierStatus_1.default.CarrierSelectedOrder,
                    },
                },
            ];
            findObj['isCancelled'] = false;
            break;
        default:
            break;
    }
    return findObj;
}
exports.getStoreOrdersFingObj = getStoreOrdersFingObj;


/***/ }),

/***/ "./src/services/warehouses/WarehousesProductsService.ts":
/*!**************************************************************!*\
  !*** ./src/services/warehouses/WarehousesProductsService.ts ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const WarehouseProduct_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/WarehouseProduct */ "./node_modules/@ever-platform/common/src/entities/WarehouseProduct.ts"));
const WarehousesService_1 = __webpack_require__(/*! ./WarehousesService */ "./src/services/warehouses/WarehousesService.ts");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const of_1 = __webpack_require__(/*! rxjs/observable/of */ "rxjs/observable/of");
const throw_1 = __webpack_require__(/*! rxjs/observable/throw */ "rxjs/observable/throw");
const mongoose = __webpack_require__(/*! mongoose */ "mongoose");
const noGetProductTypeMessage = `There should be true at least one of the two - "isCarrierRequired" or "isTakeaway"!`;
let WarehousesProductsService = class WarehousesProductsService {
    constructor(warehousesService) {
        this.warehousesService = warehousesService;
        this.log = Log_1.createEverLogger({
            name: 'warehouseProductsService',
        });
    }
    get(warehouseId, fullProducts = true) {
        return this.warehousesService.get(warehouseId, fullProducts).pipe(operators_1.exhaustMap((warehouse) => {
            if (warehouse === null) {
                return throw_1._throw(new Error(`Warehouse with the id ${warehouseId} doesn't exist`));
            }
            else {
                return of_1.of(warehouse);
            }
        }), operators_1.map((warehouse) => warehouse.products));
    }
    getProductsWithPagination(id, pagingOptions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const allProducts = yield this.get(id).pipe(operators_1.first()).toPromise();
            const products = [...allProducts];
            if (pagingOptions.limit && pagingOptions.skip) {
                return products
                    .slice(pagingOptions.skip)
                    .slice(0, pagingOptions.limit)
                    .sort((a, b) => b.soldCount - a.soldCount);
            }
            else if (pagingOptions.limit) {
                return products
                    .slice(0, pagingOptions.limit)
                    .sort((a, b) => b.soldCount - a.soldCount);
            }
            else if (pagingOptions.skip) {
                return products
                    .slice(pagingOptions.skip)
                    .sort((a, b) => b.soldCount - a.soldCount);
            }
            return products.sort((a, b) => b.soldCount - a.soldCount);
        });
    }
    getProductsCount(id) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const allProducts = yield this.get(id).pipe(operators_1.first()).toPromise();
            return allProducts.length;
        });
    }
    getAvailable(warehouseId) {
        return this.get(warehouseId).pipe(operators_1.map((warehouseProducts) => lodash_1.default.filter(warehouseProducts, (warehouseProduct) => warehouseProduct.count > 0)));
    }
    remove(warehouseId, productsIds) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this.log.info('Removing products ' + productsIds);
            const warehouse = yield this.warehousesService
                .get(warehouseId, true)
                .pipe(operators_1.first())
                .toPromise();
            if (warehouse == null) {
                throw new Error(`There is no warehouse with the id ${warehouse}!`);
            }
            warehouse.products = warehouse.products.filter((p) => {
                if (!p.product['_id']) {
                    return false;
                }
                const productId = p.product['id'];
                return !productsIds.includes(productId);
            });
            yield this.warehousesService.save(warehouse);
            return warehouse.products;
        });
    }
    add(warehouseId, products, triggerChange = true) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this.log.info('Adding products ' + JSON.stringify(products));
            let warehouse = yield this.warehousesService
                .get(warehouseId, false)
                .pipe(operators_1.first())
                .toPromise();
            if (warehouse == null) {
                throw new Error(`There is no warehouse with the id ${warehouse}!`);
            }
            const notUpdatedWarehouse = lodash_1.default.clone(warehouse);
            let newProds;
            if (warehouse.products && warehouse.products.length > 0) {
                newProds = lodash_1.default.clone(warehouse.products);
                lodash_1.default.each(products, (product) => {
                    if (!product.isDeliveryRequired && !product.isTakeaway) {
                        product.isDeliveryRequired = true;
                    }
                    const existed = lodash_1.default.find(newProds, (newProd) => newProd.product ===
                        product.product);
                    if (typeof existed === 'undefined' ||
                        existed === undefined ||
                        existed == null) {
                        newProds.push(product);
                    }
                    else {
                        if (existed.count && product.count) {
                            existed.count += product.count;
                        }
                        else {
                            existed.count = product.count;
                        }
                    }
                });
            }
            else {
                newProds = products;
            }
            try {
                warehouse = new Warehouse_1.default((yield this.warehousesService.Model.findByIdAndUpdate(warehouseId, {
                    $set: { products: newProds },
                }, { new: true })
                    .populate('products.product')
                    .lean()
                    .exec()));
            }
            catch (error) {
                this.log.error(error);
                throw error;
            }
            if (triggerChange) {
                this.warehousesService.existence.next({
                    id: warehouse.id,
                    value: warehouse,
                    lastValue: notUpdatedWarehouse,
                    type: db_server_1.ExistenceEventType.Updated,
                });
            }
            const newProdsIds = lodash_1.default.map(newProds, (warehouseProduct) => {
                if (typeof warehouseProduct.product === 'string') {
                    return warehouseProduct.product;
                }
                else {
                    return warehouseProduct.product._id.toString();
                }
            });
            return lodash_1.default.filter(warehouse.products, (warehouseProduct) => {
                return lodash_1.default.includes(newProdsIds, warehouseProduct.productId);
            });
        });
    }
    increaseCount(warehouseId, productId, count) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = yield this.warehousesService
                .get(warehouseId)
                .pipe(operators_1.first())
                .toPromise();
            if (warehouse) {
                const existedProduct = lodash_1.default.find(warehouse.products, (warehouseProduct) => warehouseProduct.productId === productId);
                if (existedProduct) {
                    existedProduct.count += count;
                    return this.saveUpdated(warehouseId, existedProduct);
                }
                else {
                    const errMsg = 'Cannot find product';
                    this.log.error(new Error(errMsg));
                    throw new Error(errMsg);
                }
            }
            else {
                const errMsg = 'Cannot find warehouse';
                this.log.error(new Error(errMsg));
                throw new Error(errMsg);
            }
        });
    }
    increaseSoldCount(warehouseId, productId, count) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = yield this.warehousesService
                .get(warehouseId)
                .pipe(operators_1.first())
                .toPromise();
            if (warehouse) {
                const existedProduct = lodash_1.default.find(warehouse.products, (warehouseProduct) => warehouseProduct.productId === productId);
                if (existedProduct) {
                    existedProduct.soldCount += count;
                    return this.saveUpdated(warehouseId, existedProduct);
                }
                else {
                    const errMsg = 'Cannot find product';
                    this.log.error(new Error(errMsg));
                    throw new Error(errMsg);
                }
            }
            else {
                const errMsg = 'Cannot find warehouse';
                this.log.error(new Error(errMsg));
                throw new Error(errMsg);
            }
        });
    }
    saveUpdated(warehouseId, _updatedWarehouseProduct) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.warehousesService.throwIfNotExists(warehouseId);
            if (!_updatedWarehouseProduct.isDeliveryRequired &&
                !_updatedWarehouseProduct.isTakeaway) {
                throw new Error(noGetProductTypeMessage);
            }
            const updatedWarehouseProduct = lodash_1.default.clone(_updatedWarehouseProduct);
            updatedWarehouseProduct.product = updatedWarehouseProduct.productId;
            const updatedWarehouse = (yield this.warehousesService.updateMultiple({
                _id: new mongoose.Types.ObjectId(warehouseId),
                'products._id': updatedWarehouseProduct._id,
            }, {
                'products.$': updatedWarehouseProduct,
            }))[0];
            return lodash_1.default.find(updatedWarehouse.products, (warehouseProduct) => warehouseProduct.productId === updatedWarehouseProduct.productId);
        });
    }
    changePrice(warehouseId, productId, price) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = yield this.warehousesService
                .get(warehouseId, false)
                .pipe(operators_1.first())
                .toPromise();
            if (warehouse == null) {
                throw new Error(`There is no such an warehouse with the id ${warehouseId}`);
            }
            this.log.info('Change product price requested in warehouse: ' +
                JSON.stringify(warehouse) +
                ' for product id: ' +
                productId);
            const product = lodash_1.default.find(warehouse.products, (p) => p.productId === productId);
            if (product != null) {
                this.log.info(`Product price before: ${product.price} and we want to change it to: ${price}`);
                product.price = price;
                return this.saveUpdated(warehouseId, product);
            }
            else {
                throw new Error(`There is no such an product with the id ${productId} in the warehouse with the id ${warehouseId}`);
            }
        });
    }
    decreaseCount(warehouseId, productId, count) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = yield this.warehousesService
                .get(warehouseId)
                .pipe(operators_1.first())
                .toPromise();
            if (warehouse == null) {
                throw new Error(`Cannot find warehouse: ${warehouseId}`);
            }
            this.log.info(`Remove requested in warehouse: ${JSON.stringify(warehouse)} for product id: ${productId}`);
            const product = lodash_1.default.find(warehouse.products, (p) => p.productId === productId);
            if (product != null) {
                this.log.info(`Product count before remove: ${product.count} and we want to remove ${count} products`);
                if (product.count >= count) {
                    product.count -= count;
                    return this.saveUpdated(warehouseId, product);
                }
                else {
                    const errorMsg = 'Request to remove more products than available';
                    this.log.error({
                        err: new Error(errorMsg),
                        product,
                        count,
                    });
                    throw new Error(errorMsg);
                }
            }
            else {
                throw new Error(`There is no such an product with the id ${productId} in the warehouse with the id ${warehouseId}`);
            }
        });
    }
    decreaseSoldCount(warehouseId, productId, count) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = yield this.warehousesService
                .get(warehouseId)
                .pipe(operators_1.first())
                .toPromise();
            if (warehouse == null) {
                throw new Error(`Cannot find warehouse: ${warehouseId}`);
            }
            this.log.info(`Remove requested in warehouse: ${JSON.stringify(warehouse)} for product id: ${productId}`);
            const product = lodash_1.default.find(warehouse.products, (p) => p.productId === productId);
            if (product != null) {
                this.log.info(`Product sold count before decrease: ${product.soldCount} and we want to decrease ${count} products`);
                if (product.soldCount >= count) {
                    product.soldCount -= count;
                    return this.saveUpdated(warehouseId, product);
                }
                else {
                    const errorMsg = 'Request to decrease count of more products than available';
                    this.log.error({
                        err: new Error(errorMsg),
                        product,
                        count,
                    });
                    throw new Error(errorMsg);
                }
            }
            else {
                throw new Error(`There is no such an product with the id ${productId} in the warehouse with the id ${warehouseId}`);
            }
        });
    }
    getTopProducts(warehouseId, quantity) {
        return this.get(warehouseId).pipe(operators_1.map((warehouseProducts) => {
            let topProducts = lodash_1.default.filter(warehouseProducts, (warehouseProduct) => warehouseProduct.soldCount > 0);
            topProducts = lodash_1.default.orderBy(topProducts, ['soldCount'], ['desc']);
            return lodash_1.default.take(topProducts, quantity);
        }));
    }
    getProduct(warehouseId, warehouseProductId) {
        return this.warehousesService.get(warehouseId, true).pipe(operators_1.exhaustMap((warehouse) => {
            if (warehouse === null) {
                return throw_1._throw(new Error(`Warehouse with the id ${warehouseId} doesn't exist`));
            }
            else {
                return of_1.of(warehouse);
            }
        }), operators_1.map((warehouse) => warehouse.products.find((p) => p.id === warehouseProductId)));
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Boolean]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesProductsService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "getProductsWithPagination", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "getProductsCount", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesProductsService.prototype, "getAvailable", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Array]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "remove", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Array, Boolean]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "add", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "increaseCount", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "increaseSoldCount", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__param(1, io_1.serialization((u) => new WarehouseProduct_1.default(u))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, WarehouseProduct_1.default]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "saveUpdated", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "changePrice", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "decreaseCount", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "decreaseSoldCount", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Number]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesProductsService.prototype, "getTopProducts", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesProductsService.prototype, "getProduct", null);
WarehousesProductsService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('warehouse-products'),
    tslib_1.__metadata("design:paramtypes", [WarehousesService_1.WarehousesService])
], WarehousesProductsService);
exports.WarehousesProductsService = WarehousesProductsService;


/***/ }),

/***/ "./src/services/warehouses/WarehousesService.ts":
/*!******************************************************!*\
  !*** ./src/services/warehouses/WarehousesService.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const products_1 = __webpack_require__(/*! ../products */ "./src/services/products/index.ts");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const of_1 = __webpack_require__(/*! rxjs/observable/of */ "rxjs/observable/of");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const uuid_1 = __webpack_require__(/*! uuid */ "uuid");
let WarehousesService = class WarehousesService extends db_server_1.DBService {
    constructor(productsService, authServiceFactory) {
        super();
        this.productsService = productsService;
        this.authServiceFactory = authServiceFactory;
        this.DBObject = Warehouse_1.default;
        this.log = Log_1.createEverLogger({ name: 'warehousesService' });
        this.authService = this.authServiceFactory({
            role: 'warehouse',
            Entity: Warehouse_1.default,
            saltRounds: env_1.env.USER_PASSWORD_BCRYPT_SALT_ROUNDS,
        });
    }
    getMerchants(findInput, pagingOptions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const sortObj = {};
            if (pagingOptions.sort) {
                sortObj[pagingOptions.sort.field] = pagingOptions.sort.sortBy;
            }
            return this.Model.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false } }))
                .sort(sortObj)
                .skip(pagingOptions.skip)
                .limit(pagingOptions.limit)
                .lean()
                .exec();
        });
    }
    getAllActive(fullProducts = false) {
        const callId = uuid_1.v1();
        this.log.info({ callId, fullProducts }, '.getAllActive(fullProducts) called');
        return of_1.of(null).pipe(operators_1.concat(this.existence), operators_1.exhaustMap(() => this._getAllCurrentActive(fullProducts)), operators_1.tap({
            next: (warehouses) => {
                this.log.info({ callId, fullProducts, warehouses }, '.getAllActive(fullProducts) emitted next value');
            },
            error: (err) => {
                this.log.error({ callId, fullProducts, err }, '.getAllActive(fullProducts) thrown error!');
            },
        }));
    }
    register(input) {
        const _super = Object.create(null, {
            create: { get: () => super.create }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = yield _super.create.call(this, Object.assign(Object.assign({}, input.warehouse), (input.password
                ? {
                    hash: yield this.authService.getPasswordHash(input.password),
                }
                : {})));
            return warehouse;
        });
    }
    updatePassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            yield this.authService.updatePassword(id, password);
        });
    }
    login(username, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const res = yield this.authService.login({ username }, password);
            if (!res || res.entity.isDeleted) {
                return null;
            }
            return {
                warehouse: res.entity,
                token: res.token,
            };
        });
    }
    get(id, fullProducts = true) {
        if (!fullProducts) {
            return super.get(id).pipe(operators_1.map((warehouse) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                yield this.throwIfNotExists(id);
                return warehouse;
            })), operators_1.switchMap((warehouse) => warehouse));
        }
        else {
            return super
                .get(id)
                .pipe(operators_1.map((warehouse) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                yield this.throwIfNotExists(id);
                return warehouse;
            })), operators_1.switchMap((warehouse) => warehouse))
                .pipe(operators_1.exhaustMap(() => this._get(id, true)));
        }
    }
    updateGeoLocation(warehouseId, geoLocation) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(warehouseId);
            return this.update(warehouseId, { geoLocation });
        });
    }
    updateAvailability(warehouseId, isAvailable) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(warehouseId);
            return this.update(warehouseId, { isActive: isAvailable });
        });
    }
    save(warehouse) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(warehouse.id);
            warehouse = lodash_1.default.clone(warehouse);
            lodash_1.default.each(warehouse.products, (warehouseProduct) => {
                warehouseProduct.product = warehouseProduct.productId;
            });
            return this.update(warehouse.id, warehouse);
        });
    }
    throwIfNotExists(storeId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const store = yield _super.get.call(this, storeId).pipe(operators_1.first()).toPromise();
            if (!store || store.isDeleted) {
                throw Error(`Store with id '${storeId}' does not exists!`);
            }
        });
    }
    _get(id, fullProducts = false) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const _warehouse = (yield this.Model.findById(id)
                .populate(fullProducts ? 'products.product' : '')
                .lean()
                .exec());
            return new Warehouse_1.default(_warehouse);
        });
    }
    _getAllCurrentActive(fullProducts = false) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return lodash_1.default.map((yield this.Model.find({
                isActive: true,
                isDeleted: { $eq: false },
            })
                .populate(fullProducts ? 'products.product' : '')
                .lean()
                .exec()), (warehouse) => new Warehouse_1.default(warehouse));
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Boolean]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesService.prototype, "getAllActive", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesService.prototype, "register", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesService.prototype, "updatePassword", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesService.prototype, "login", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesService.prototype, "updateGeoLocation", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Boolean]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesService.prototype, "updateAvailability", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__param(0, io_1.serialization((w) => new Warehouse_1.default(w))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Warehouse_1.default]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesService.prototype, "save", null);
WarehousesService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('warehouse'),
    tslib_1.__param(0, inversify_1.inject(products_1.ProductsService)),
    tslib_1.__param(1, inversify_1.inject('Factory<AuthService>')),
    tslib_1.__metadata("design:paramtypes", [products_1.ProductsService, Function])
], WarehousesService);
exports.WarehousesService = WarehousesService;


/***/ }),

/***/ "./src/services/warehouses/WarehousesUsersService.ts":
/*!***********************************************************!*\
  !*** ./src/services/warehouses/WarehousesUsersService.ts ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const User_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/User */ "./node_modules/@ever-platform/common/src/entities/User.ts"));
const orders_1 = __webpack_require__(/*! ../orders */ "./src/services/orders/index.ts");
const WarehousesOrdersService_1 = __webpack_require__(/*! ./WarehousesOrdersService */ "./src/services/warehouses/WarehousesOrdersService.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const WarehousesService_1 = __webpack_require__(/*! ./WarehousesService */ "./src/services/warehouses/WarehousesService.ts");
let WarehousesUsersService = class WarehousesUsersService {
    constructor(warehousesOrdersService, ordersService, _warehousesService) {
        this.warehousesOrdersService = warehousesOrdersService;
        this.ordersService = ordersService;
        this._warehousesService = _warehousesService;
        this.log = Log_1.createEverLogger({
            name: 'warehousesUsersService',
        });
    }
    get(warehouseId) {
        return rxjs_1.concat(null, this.warehousesOrdersService.getExistence(warehouseId)).pipe(operators_1.exhaustMap(() => {
            return this.ordersService.Model.distinct('user._id', {
                warehouse: warehouseId,
                isDeleted: { $eq: false },
            })
                .lean()
                .exec();
        }), operators_1.map((users) => {
            return users.map((u) => new User_1.default(u));
        }));
    }
    getPromise(warehouseId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._warehousesService.throwIfNotExists(warehouseId);
            return this.get(warehouseId).pipe(operators_1.first()).toPromise();
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesUsersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesUsersService.prototype, "getPromise", null);
WarehousesUsersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('warehouse-users'),
    tslib_1.__param(0, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => WarehousesOrdersService_1.WarehousesOrdersService))),
    tslib_1.__param(1, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => orders_1.OrdersService))),
    tslib_1.__param(2, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => WarehousesService_1.WarehousesService))),
    tslib_1.__metadata("design:paramtypes", [WarehousesOrdersService_1.WarehousesOrdersService,
        orders_1.OrdersService,
        WarehousesService_1.WarehousesService])
], WarehousesUsersService);
exports.WarehousesUsersService = WarehousesUsersService;


/***/ }),

/***/ "./src/services/warehouses/index.ts":
/*!******************************************!*\
  !*** ./src/services/warehouses/index.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./WarehousesService */ "./src/services/warehouses/WarehousesService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./WarehousesOrdersService */ "./src/services/warehouses/WarehousesOrdersService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./WarehousesProductsService */ "./src/services/warehouses/WarehousesProductsService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./WarehousesUsersService */ "./src/services/warehouses/WarehousesUsersService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./WarehousesCarriersService */ "./src/services/warehouses/WarehousesCarriersService.ts"), exports);


/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const fs_1 = tslib_1.__importDefault(__webpack_require__(/*! fs */ "fs"));
function observeFile(fileName) {
    return rxjs_1.Observable.create((observer) => {
        const fetchTranslations = () => {
            fs_1.default.readFile(fileName, 'utf-8', (err, content) => {
                observer.next(content);
                if (err) {
                    observer.error(err);
                }
            });
        };
        fetchTranslations();
        fs_1.default.watchFile(fileName, fetchTranslations);
        return () => {
            fs_1.default.unwatchFile(fileName, fetchTranslations);
        };
    });
}
exports.observeFile = observeFile;
function randomCoordinatesNear([longitude, latitude], radius) {
    const r = 100 / 111300;
    const y0 = longitude;
    const x0 = latitude;
    const u = Math.random();
    const v = Math.random();
    const w = r * Math.sqrt(u);
    const t = 2 * Math.PI * v;
    const x = w * Math.cos(t);
    const y1 = w * Math.sin(t);
    const x1 = x / Math.cos(y0);
    return [y0 + y1, x0 + x1];
}
exports.randomCoordinatesNear = randomCoordinatesNear;


/***/ }),

/***/ 0:
/*!**********************************************************!*\
  !*** multi webpack/hot/poll?100 ./src/nest-bootstrap.ts ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! webpack/hot/poll?100 */"webpack/hot/poll?100");
module.exports = __webpack_require__(/*! ./src/nest-bootstrap.ts */"./src/nest-bootstrap.ts");


/***/ }),

/***/ "@captemulation/get-parameter-names":
/*!*****************************************************!*\
  !*** external "@captemulation/get-parameter-names" ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@captemulation/get-parameter-names");

/***/ }),

/***/ "@nestjs/common":
/*!*********************************!*\
  !*** external "@nestjs/common" ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/common");

/***/ }),

/***/ "@nestjs/core":
/*!*******************************!*\
  !*** external "@nestjs/core" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/core");

/***/ }),

/***/ "@nestjs/cqrs":
/*!*******************************!*\
  !*** external "@nestjs/cqrs" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/cqrs");

/***/ }),

/***/ "@nestjs/graphql":
/*!**********************************!*\
  !*** external "@nestjs/graphql" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/graphql");

/***/ }),

/***/ "@nestjs/passport":
/*!***********************************!*\
  !*** external "@nestjs/passport" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/passport");

/***/ }),

/***/ "@nestjs/swagger":
/*!**********************************!*\
  !*** external "@nestjs/swagger" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/swagger");

/***/ }),

/***/ "@nestjs/typeorm":
/*!**********************************!*\
  !*** external "@nestjs/typeorm" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/typeorm");

/***/ }),

/***/ "apollo-server-express":
/*!****************************************!*\
  !*** external "apollo-server-express" ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("apollo-server-express");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("axios");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("bcrypt");

/***/ }),

/***/ "bluebird":
/*!***************************!*\
  !*** external "bluebird" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("bluebird");

/***/ }),

/***/ "body-parser":
/*!******************************!*\
  !*** external "body-parser" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("body-parser");

/***/ }),

/***/ "bson":
/*!***********************!*\
  !*** external "bson" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("bson");

/***/ }),

/***/ "bunyan":
/*!*************************!*\
  !*** external "bunyan" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("bunyan");

/***/ }),

/***/ "bunyan-cloudwatch":
/*!************************************!*\
  !*** external "bunyan-cloudwatch" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("bunyan-cloudwatch");

/***/ }),

/***/ "bunyan-prettystream":
/*!**************************************!*\
  !*** external "bunyan-prettystream" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("bunyan-prettystream");

/***/ }),

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("cors");

/***/ }),

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("dotenv");

/***/ }),

/***/ "envalid":
/*!**************************!*\
  !*** external "envalid" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("envalid");

/***/ }),

/***/ "errorhandler":
/*!*******************************!*\
  !*** external "errorhandler" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("errorhandler");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("express");

/***/ }),

/***/ "express-handlebars":
/*!*************************************!*\
  !*** external "express-handlebars" ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("express-handlebars");

/***/ }),

/***/ "faker":
/*!************************!*\
  !*** external "faker" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("faker");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("fs");

/***/ }),

/***/ "graphql":
/*!**************************!*\
  !*** external "graphql" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("graphql");

/***/ }),

/***/ "graphql-subscriptions":
/*!****************************************!*\
  !*** external "graphql-subscriptions" ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("graphql-subscriptions");

/***/ }),

/***/ "handlebars":
/*!*****************************!*\
  !*** external "handlebars" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("handlebars");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("https");

/***/ }),

/***/ "inversify":
/*!****************************!*\
  !*** external "inversify" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("inversify");

/***/ }),

/***/ "ipstack":
/*!**************************!*\
  !*** external "ipstack" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("ipstack");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "lodash":
/*!*************************!*\
  !*** external "lodash" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("lodash");

/***/ }),

/***/ "merge-graphql-schemas":
/*!****************************************!*\
  !*** external "merge-graphql-schemas" ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("merge-graphql-schemas");

/***/ }),

/***/ "method-override":
/*!**********************************!*\
  !*** external "method-override" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("method-override");

/***/ }),

/***/ "mkdirp":
/*!*************************!*\
  !*** external "mkdirp" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("mkdirp");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("moment");

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("mongodb");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("mongoose");

/***/ }),

/***/ "morgan":
/*!*************************!*\
  !*** external "morgan" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("morgan");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("os");

/***/ }),

/***/ "passport":
/*!***************************!*\
  !*** external "passport" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("passport");

/***/ }),

/***/ "passport-facebook":
/*!************************************!*\
  !*** external "passport-facebook" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("passport-facebook");

/***/ }),

/***/ "passport-google-oauth20":
/*!******************************************!*\
  !*** external "passport-google-oauth20" ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("passport-google-oauth20");

/***/ }),

/***/ "passport-jwt":
/*!*******************************!*\
  !*** external "passport-jwt" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("passport-jwt");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("path");

/***/ }),

/***/ "pem":
/*!**********************!*\
  !*** external "pem" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("pem");

/***/ }),

/***/ "reflect-metadata":
/*!***********************************!*\
  !*** external "reflect-metadata" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("reflect-metadata");

/***/ }),

/***/ "request-ip":
/*!*****************************!*\
  !*** external "request-ip" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("request-ip");

/***/ }),

/***/ "request-promise":
/*!**********************************!*\
  !*** external "request-promise" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("request-promise");

/***/ }),

/***/ "rxjs":
/*!***********************!*\
  !*** external "rxjs" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("rxjs");

/***/ }),

/***/ "rxjs/Subscription":
/*!************************************!*\
  !*** external "rxjs/Subscription" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("rxjs/Subscription");

/***/ }),

/***/ "rxjs/observable/from":
/*!***************************************!*\
  !*** external "rxjs/observable/from" ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("rxjs/observable/from");

/***/ }),

/***/ "rxjs/observable/of":
/*!*************************************!*\
  !*** external "rxjs/observable/of" ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("rxjs/observable/of");

/***/ }),

/***/ "rxjs/observable/throw":
/*!****************************************!*\
  !*** external "rxjs/observable/throw" ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("rxjs/observable/throw");

/***/ }),

/***/ "rxjs/operators":
/*!*********************************!*\
  !*** external "rxjs/operators" ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("rxjs/operators");

/***/ }),

/***/ "socket.io":
/*!****************************!*\
  !*** external "socket.io" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("socket.io");

/***/ }),

/***/ "stripe":
/*!*************************!*\
  !*** external "stripe" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("stripe");

/***/ }),

/***/ "subscriptions-transport-ws":
/*!*********************************************!*\
  !*** external "subscriptions-transport-ws" ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("subscriptions-transport-ws");

/***/ }),

/***/ "tslib":
/*!************************!*\
  !*** external "tslib" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("tslib");

/***/ }),

/***/ "typeorm":
/*!**************************!*\
  !*** external "typeorm" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("typeorm");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("util");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("uuid");

/***/ }),

/***/ "webpack/hot/poll?100":
/*!***************************************!*\
  !*** external "webpack/hot/poll?100" ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("webpack/hot/poll?100");

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvQHB5cm8vZGIvZGItb2JqZWN0LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL0BweXJvL2RiL2luZGV4LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL0BweXJvL2RiL21vZGVsLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL0BweXJvL2RiL3NjaGVtYS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9AcHlyby9kYi90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9kYXRhL2FiYnJldmlhdGlvbi10by1jb3VudHJ5LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL0FkbWluLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL0NhcnJpZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvZW50aXRpZXMvQ3VycmVuY3kudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvZW50aXRpZXMvRGV2aWNlLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL0dlb0xvY2F0aW9uLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL0ludml0ZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9lbnRpdGllcy9JbnZpdGVSZXF1ZXN0LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL09yZGVyLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL09yZGVyUHJvZHVjdC50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9lbnRpdGllcy9QYXltZW50R2F0ZXdheS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9lbnRpdGllcy9Qcm9kdWN0LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL1Byb2R1Y3RJbmZvLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL1Byb2R1Y3RzQ2F0ZWdvcnkudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvZW50aXRpZXMvVXNlci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9lbnRpdGllcy9Vc2VyT3JkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvZW50aXRpZXMvV2FyZWhvdXNlLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL1dhcmVob3VzZVByb2R1Y3QudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvZW51bXMvQ2FycmllclN0YXR1cy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9lbnVtcy9EZWxpdmVyeVR5cGUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvZW51bXMvT3JkZXJCYXJjb2RlVHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvZW51bXMvT3JkZXJDYXJyaWVyU3RhdHVzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudW1zL09yZGVyU3RhdHVzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudW1zL09yZGVyV2FyZWhvdXNlU3RhdHVzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudW1zL1BheW1lbnRHYXRld2F5cy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9lcnJvcnMvTm90SW52aXRlZEVycm9yLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2Vycm9ycy9Xcm9uZ1Bhc3N3b3JkRXJyb3IudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvbm90aWZpY2F0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vZGItc2VydmVyL2RiLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0BweXJvL2RiLXNlcnZlci9lbnRpdHktc2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vZGItc2VydmVyL2V4aXN0ZW5jZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vZGItc2VydmVyL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9AcHlyby9kYi1zZXJ2ZXIvbW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0BweXJvL2lvL2Nvbm5lY3Rpb24taGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vaW8vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0BweXJvL2lvL2xpc3RlbmVyL2FzeW5jLnRzIiwid2VicGFjazovLy8uL3NyYy9AcHlyby9pby9saXN0ZW5lci9oYW5kbGVyL2FzeW5jLnRzIiwid2VicGFjazovLy8uL3NyYy9AcHlyby9pby9saXN0ZW5lci9oYW5kbGVyL2Jhc2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0BweXJvL2lvL2xpc3RlbmVyL2hhbmRsZXIvb2JzZXJ2YWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vaW8vbGlzdGVuZXIvbGlzdGVuZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0BweXJvL2lvL2xpc3RlbmVyL21ldGFkYXRhLnRzIiwid2VicGFjazovLy8uL3NyYy9AcHlyby9pby9saXN0ZW5lci9vYnNlcnZhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy9AcHlyby9pby9saXN0ZW5lci9zZXJpYWxpemF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9AcHlyby9pby9saXN0ZW5lci90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vaW8vcm91dGVyL2hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0BweXJvL2lvL3JvdXRlci9tZXRhZGF0YS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vaW8vcm91dGVyL3JvdXRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vaW8vcm91dGVycy1tYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9hdXRoL2F1dGgubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9hdXRoL2p3dC5zdHJhdGVneS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2NvbmZpZy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9jb25maWcuc2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvcHJvZHVjdC9Qcm9kdWN0c0R0by50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvcHJvZHVjdC9wcm9kdWN0LmNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL3Byb2R1Y3QvcHJvZHVjdC5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL3Rlc3QuY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW52LnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL2FkbWluL2FkbWluLnJlc29sdmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL2FkbWluL2FkbWlucy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvY2FycmllcnMtb3JkZXJzL2NhcnJpZXJzLW9yZGVycy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvY2FycmllcnMtb3JkZXJzL2NhcnJpZXJzLW9yZGVycy5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9jYXJyaWVycy9jYXJyaWVyLnJlc29sdmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL2NhcnJpZXJzL2NhcnJpZXJzLm1vZHVsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9jdXJyZW5jeS9jdXJyZW5jeS5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvY3VycmVuY3kvY3VycmVuY3kucmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvZGF0YS9kYXRhLm1vZHVsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9kYXRhL2RhdGEucmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvZGV2aWNlcy9kZXZpY2UucmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvZGV2aWNlcy9kZXZpY2VzLm1vZHVsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9nZW8tbG9jYXRpb25zL2dlby1sb2NhdGlvbi5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9nZW8tbG9jYXRpb25zL2dlby1sb2NhdGlvbnMubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL2dlby1sb2NhdGlvbnMvbWVyY2hhbnRzL2dlby1sb2NhdGlvbi1tZXJjaGFudHMubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL2dlby1sb2NhdGlvbnMvbWVyY2hhbnRzL2dlby1sb2NhdGlvbi1tZXJjaGFudHMucmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvZ2VvLWxvY2F0aW9ucy9vcmRlcnMvZ2VvLWxvY2F0aW9uLW9yZGVycy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvZ2VvLWxvY2F0aW9ucy9vcmRlcnMvZ2VvLWxvY2F0aW9uLW9yZGVycy5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9pbnZpdGVzLXJlcXVlc3RzL2ludml0ZXMtcmVxdWVzdHMubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL2ludml0ZXMtcmVxdWVzdHMvaW52aXRlcy1yZXF1ZXN0cy5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9pbnZpdGVzL2ludml0ZS5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9pbnZpdGVzL2ludml0ZXMubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL29yZGVycy9vcmRlci5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9vcmRlcnMvb3JkZXJzLm1vZHVsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9wcm9kdWN0cy9jYXRlZ29yaWVzL3Byb2R1Y3RzLWNhdGVnb3JpZXMubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3Byb2R1Y3RzL2NhdGVnb3JpZXMvcHJvZHVjdHMtY2F0ZWdvcnkucmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvcHJvZHVjdHMvcHJvZHVjdC5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9wcm9kdWN0cy9wcm9kdWN0cy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvc2NhbGFycy9kYXRlLnR5cGUuZ3JhcGhxbCIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9zY2FsYXJzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3NjYWxhcnMvc2NhbGFycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9zdWJzY3JpcHRpb25zL3N1YnNjcmlwdGlvbi5jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvc3Vic2NyaXB0aW9ucy9zdWJzY3JpcHRpb24ucHJvdmlkZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3N1YnNjcmlwdGlvbnMvc3Vic2NyaXB0aW9ucy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvc3Vic2NyaXB0aW9ucy9zdWJzY3JpcHRpb25zLnNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvdXNlcnMvdXNlci5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC91c2Vycy91c2Vycy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvd2FyZWhvdXNlcy1jYXJyaWVycy93YXJlaG91c2VzLWNhcnJpZXJzLm1vZHVsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC93YXJlaG91c2VzLWNhcnJpZXJzL3dhcmVob3VzZXMtY2FycmllcnMucmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvd2FyZWhvdXNlcy1vcmRlcnMvd2FyZWhvdXNlcy1vcmRlcnMubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3dhcmVob3VzZXMtb3JkZXJzL3dhcmVob3VzZXMtb3JkZXJzLnJlc29sdmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3dhcmVob3VzZXMtcHJvZHVjdHMvd2FyZWhvdXNlLXByb2R1Y3RzLnJlc29sdmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3dhcmVob3VzZXMtcHJvZHVjdHMvd2FyZWhvdXNlcy1wcm9kdWN0cy5tb2R1bGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3dhcmVob3VzZXMvd2FyZWhvdXNlLnJlc29sdmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3dhcmVob3VzZXMvd2FyZWhvdXNlcy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMvTG9nLnRzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL05lc3RKU0xvZ2dlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbmVzdC1ib290c3RyYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL0lTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hZG1pbnMvQWRtaW5zU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvYWRtaW5zL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hdXRoL0F1dGhTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hdXRoL0F1dGhlbnRpY2F0aW9uU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvYXV0aC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvY2FycmllcnMvQ2FycmllcnNPcmRlcnNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9jYXJyaWVycy9DYXJyaWVyc1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2NhcnJpZXJzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9jdXJyZW5jeS9DdXJyZW5jeVNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2RldmljZXMvRGV2aWNlc1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2RldmljZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2Zha2UtZGF0YS9GYWtlT3JkZXJzU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvZ2VvLWxvY2F0aW9ucy9HZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9nZW8tbG9jYXRpb25zL0dlb0xvY2F0aW9uc1Byb2R1Y3RzU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvZ2VvLWxvY2F0aW9ucy9HZW9Mb2NhdGlvbnNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9nZW8tbG9jYXRpb25zL0dlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9nZW8tbG9jYXRpb25zL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9pbnZlcnNpZnkuY29uZmlnLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9pbnZpdGVzL0ludml0ZXNSZXF1ZXN0c1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2ludml0ZXMvSW52aXRlc1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2ludml0ZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL29yZGVycy9PcmRlcnNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9vcmRlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3Byb2R1Y3RzL1Byb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3Byb2R1Y3RzL1Byb2R1Y3RzU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvcHJvZHVjdHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3NlcnZpY2VzLmFwcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvc2VydmljZXMubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy91c2Vycy9Tb2NpYWxSZWdpc3RlclNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3VzZXJzL1NvY2lhbFN0cmF0ZWdpZXNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy91c2Vycy9Vc2VyQ29tbWFuZFNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3VzZXJzL1VzZXJzQXV0aFNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3VzZXJzL1VzZXJzT3JkZXJzU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvdXNlcnMvVXNlcnNQcm9kdWN0c1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3VzZXJzL1VzZXJzU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvdXNlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3dhcmVob3VzZXMvV2FyZWhvdXNlc0NhcnJpZXJzU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvd2FyZWhvdXNlcy9XYXJlaG91c2VzT3JkZXJzU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvd2FyZWhvdXNlcy9XYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy93YXJlaG91c2VzL1dhcmVob3VzZXNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy93YXJlaG91c2VzL1dhcmVob3VzZXNVc2Vyc1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3dhcmVob3VzZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBjYXB0ZW11bGF0aW9uL2dldC1wYXJhbWV0ZXItbmFtZXNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAbmVzdGpzL2NvbW1vblwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBuZXN0anMvY29yZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBuZXN0anMvY3Fyc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBuZXN0anMvZ3JhcGhxbFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBuZXN0anMvcGFzc3BvcnRcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAbmVzdGpzL3N3YWdnZXJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAbmVzdGpzL3R5cGVvcm1cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhcG9sbG8tc2VydmVyLWV4cHJlc3NcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJheGlvc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcImJjcnlwdFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImJsdWViaXJkXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYm9keS1wYXJzZXJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJic29uXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYnVueWFuXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYnVueWFuLWNsb3Vkd2F0Y2hcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJidW55YW4tcHJldHR5c3RyZWFtXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiY29yc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcImRvdGVudlwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImVudmFsaWRcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJlcnJvcmhhbmRsZXJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZXhwcmVzcy1oYW5kbGViYXJzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZmFrZXJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcImdyYXBocWxcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJncmFwaHFsLXN1YnNjcmlwdGlvbnNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJoYW5kbGViYXJzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiaHR0cFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImh0dHBzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiaW52ZXJzaWZ5XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiaXBzdGFja1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcImpzb253ZWJ0b2tlblwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImxvZGFzaFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1lcmdlLWdyYXBocWwtc2NoZW1hc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1ldGhvZC1vdmVycmlkZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1rZGlycFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1vbWVudFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1vbmdvZGJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1vcmdhblwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm9zXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicGFzc3BvcnRcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXNzcG9ydC1mYWNlYm9va1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInBhc3Nwb3J0LWdvb2dsZS1vYXV0aDIwXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicGFzc3BvcnQtand0XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicGF0aFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInBlbVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlZmxlY3QtbWV0YWRhdGFcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZXF1ZXN0LWlwXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVxdWVzdC1wcm9taXNlXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicnhqc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJ4anMvU3Vic2NyaXB0aW9uXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicnhqcy9vYnNlcnZhYmxlL2Zyb21cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyeGpzL29ic2VydmFibGUvb2ZcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyeGpzL29ic2VydmFibGUvdGhyb3dcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyeGpzL29wZXJhdG9yc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInNvY2tldC5pb1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInN0cmlwZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInN1YnNjcmlwdGlvbnMtdHJhbnNwb3J0LXdzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwidHNsaWJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ0eXBlb3JtXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwidXRpbFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInV1aWRcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3ZWJwYWNrL2hvdC9wb2xsIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsSUFBSTtRQUNKO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsTUFBTTtRQUNOO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLE1BQU07UUFDTjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsS0FBSzs7UUFFTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQSw2QkFBNkI7UUFDN0IsNkJBQTZCO1FBQzdCO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHFCQUFxQixnQkFBZ0I7UUFDckM7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQSxxQkFBcUIsZ0JBQWdCO1FBQ3JDO1FBQ0E7UUFDQSxLQUFLO1FBQ0w7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0EsS0FBSztRQUNMO1FBQ0E7UUFDQTtRQUNBLEtBQUs7O1FBRUw7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsS0FBSztRQUNMO1FBQ0E7UUFDQSxLQUFLO1FBQ0w7UUFDQTtRQUNBO1FBQ0EsS0FBSzs7UUFFTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0Esa0JBQWtCLDhCQUE4QjtRQUNoRDtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsSUFBSTtRQUNKOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsSUFBSTtRQUNKO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsTUFBTTtRQUNOO1FBQ0E7UUFDQTtRQUNBLE9BQU87UUFDUDtRQUNBO1FBQ0E7UUFDQTtRQUNBLElBQUk7UUFDSjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0Esb0JBQW9CLDJCQUEyQjtRQUMvQztRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsT0FBTztRQUNQO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQSxtQkFBbUIsY0FBYztRQUNqQztRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsZ0JBQWdCLEtBQUs7UUFDckI7UUFDQTtRQUNBO1FBQ0EsTUFBTTtRQUNOO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxnQkFBZ0IsWUFBWTtRQUM1QjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFD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Q0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lB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O0lBRTVCLE9BQU8sQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztBQUMzQixDQUFDO0FBaEJELHNEQWdCQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pERCwrRDs7Ozs7Ozs7Ozs7QUNBQSwyQzs7Ozs7Ozs7Ozs7QUNBQSx5Qzs7Ozs7Ozs7Ozs7QUNBQSx5Qzs7Ozs7Ozs7Ozs7QUNBQSw0Qzs7Ozs7Ozs7Ozs7QUNBQSw2Qzs7Ozs7Ozs7Ozs7QUNBQSw0Qzs7Ozs7Ozs7Ozs7QUNBQSw0Qzs7Ozs7Ozs7Ozs7QUNBQSxrRDs7Ozs7Ozs7Ozs7QUNBQSxrQzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSxxQzs7Ozs7Ozs7Ozs7QUNBQSx3Qzs7Ozs7Ozs7Ozs7QUNBQSxpQzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSw4Qzs7Ozs7Ozs7Ozs7QUNBQSxnRDs7Ozs7Ozs7Ozs7QUNBQSxpQzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSxvQzs7Ozs7Ozs7Ozs7QUNBQSx5Qzs7Ozs7Ozs7Ozs7QUNBQSxvQzs7Ozs7Ozs7Ozs7QUNBQSwrQzs7Ozs7Ozs7Ozs7QUNBQSxrQzs7Ozs7Ozs7Ozs7QUNBQSwrQjs7Ozs7Ozs7Ozs7QUNBQSxvQzs7Ozs7Ozs7Ozs7QUNBQSxrRDs7Ozs7Ozs7Ozs7QUNBQSx1Qzs7Ozs7Ozs7Ozs7QUNBQSxpQzs7Ozs7Ozs7Ozs7QUNBQSxrQzs7Ozs7Ozs7Ozs7QUNBQSxzQzs7Ozs7Ozs7Ozs7QUNBQSxvQzs7Ozs7Ozs7Ozs7QUNBQSx5Qzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSxrRDs7Ozs7Ozs7Ozs7QUNBQSw0Qzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSxvQzs7Ozs7Ozs7Ozs7QUNBQSxxQzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSwrQjs7Ozs7Ozs7Ozs7QUNBQSxxQzs7Ozs7Ozs7Ozs7QUNBQSw4Qzs7Ozs7Ozs7Ozs7QUNBQSxvRDs7Ozs7Ozs7Ozs7QUNBQSx5Qzs7Ozs7Ozs7Ozs7QUNBQSxpQzs7Ozs7Ozs7Ozs7QUNBQSxnQzs7Ozs7Ozs7Ozs7QUNBQSw2Qzs7Ozs7Ozs7Ozs7QUNBQSx1Qzs7Ozs7Ozs7Ozs7QUNBQSw0Qzs7Ozs7Ozs7Ozs7QUNBQSxpQzs7Ozs7Ozs7Ozs7QUNBQSw4Qzs7Ozs7Ozs7Ozs7QUNBQSxpRDs7Ozs7Ozs7Ozs7QUNBQSwrQzs7Ozs7Ozs7Ozs7QUNBQSxrRDs7Ozs7Ozs7Ozs7QUNBQSwyQzs7Ozs7Ozs7Ozs7QUNBQSxzQzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSx1RDs7Ozs7Ozs7Ozs7QUNBQSxrQzs7Ozs7Ozs7Ozs7QUNBQSxvQzs7Ozs7Ozs7Ozs7QUNBQSxpQzs7Ozs7Ozs7Ozs7QUNBQSxpQzs7Ozs7Ozs7Ozs7QUNBQSxpRCIsImZpbGUiOiJzZXJ2ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHR2YXIgY2h1bmsgPSByZXF1aXJlKFwiLi9cIiArIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNcIik7XG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rLmlkLCBjaHVuay5tb2R1bGVzKTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KCkge1xuIFx0XHR0cnkge1xuIFx0XHRcdHZhciB1cGRhdGUgPSByZXF1aXJlKFwiLi9cIiArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiKTtcbiBcdFx0fSBjYXRjaCAoZSkge1xuIFx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiBcdFx0fVxuIFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVwZGF0ZSk7XG4gXHR9XG5cbiBcdC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRkZWxldGUgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0fVxuXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiYWViOTcwNDIxNmM1ZjQ4NWY5MWFcIjtcbiBcdHZhciBob3RSZXF1ZXN0VGltZW91dCA9IDEwMDAwO1xuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XG4gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdGlmICghbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gXHRcdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcbiBcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG4gXHRcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArXG4gXHRcdFx0XHRcdFx0cmVxdWVzdCArXG4gXHRcdFx0XHRcdFx0XCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICtcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0KTtcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xuIFx0XHR9O1xuIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XG4gXHRcdFx0XHR9LFxuIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fTtcbiBcdFx0Zm9yICh2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcImVcIiAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJ0XCJcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKSBob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xuIFx0XHRcdFx0dGhyb3cgZXJyO1xuIFx0XHRcdH0pO1xuXG4gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xuIFx0XHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcbiBcdFx0XHRcdFx0aWYgKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcbiBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH07XG4gXHRcdGZuLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRcdGlmIChtb2RlICYgMSkgdmFsdWUgPSBmbih2YWx1ZSk7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18udCh2YWx1ZSwgbW9kZSAmIH4xKTtcbiBcdFx0fTtcbiBcdFx0cmV0dXJuIGZuO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgaG90ID0ge1xuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXG4gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXG5cbiBcdFx0XHQvLyBNb2R1bGUgQVBJXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpIGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcbiBcdFx0XHRjaGVjazogaG90Q2hlY2ssXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxuIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aWYgKCFsKSByZXR1cm4gaG90U3RhdHVzO1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90U3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxuIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxuIFx0XHR9O1xuIFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSB1bmRlZmluZWQ7XG4gXHRcdHJldHVybiBob3Q7XG4gXHR9XG5cbiBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xuXG4gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcbiBcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XG4gXHR9XG5cbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcbiBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdEF2YWlsYWJsZUZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90RGVmZXJyZWQ7XG5cbiBcdC8vIFRoZSB1cGRhdGUgaW5mb1xuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xuIFx0XHR2YXIgaXNOdW1iZXIgPSAraWQgKyBcIlwiID09PSBpZDtcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB7XG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XG4gXHRcdH1cbiBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoaG90UmVxdWVzdFRpbWVvdXQpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XG4gXHRcdFx0aWYgKCF1cGRhdGUpIHtcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdFx0XHRyZXR1cm4gbnVsbDtcbiBcdFx0XHR9XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RBdmFpbGFibGVGaWxlc01hcCA9IHVwZGF0ZS5jO1xuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcblxuIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRcdGhvdERlZmVycmVkID0ge1xuIFx0XHRcdFx0XHRyZXNvbHZlOiByZXNvbHZlLFxuIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcbiBcdFx0XHR2YXIgY2h1bmtJZCA9IFwibWFpblwiO1xuIFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdHtcbiBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmXG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nID09PSAwICYmXG4gXHRcdFx0XHRob3RXYWl0aW5nRmlsZXMgPT09IDBcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxuIFx0XHRcdHJldHVybjtcbiBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcbiBcdFx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmICgtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xuIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XG4gXHRcdHZhciBkZWZlcnJlZCA9IGhvdERlZmVycmVkO1xuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XG4gXHRcdGlmICghZGVmZXJyZWQpIHJldHVybjtcbiBcdFx0aWYgKGhvdEFwcGx5T25VcGRhdGUpIHtcbiBcdFx0XHQvLyBXcmFwIGRlZmVycmVkIG9iamVjdCBpbiBQcm9taXNlIHRvIG1hcmsgaXQgYXMgYSB3ZWxsLWhhbmRsZWQgUHJvbWlzZSB0b1xuIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxuIFx0XHRcdC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NjU2NjZcbiBcdFx0XHRQcm9taXNlLnJlc29sdmUoKVxuIFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBob3RBcHBseShob3RBcHBseU9uVXBkYXRlKTtcbiBcdFx0XHRcdH0pXG4gXHRcdFx0XHQudGhlbihcbiBcdFx0XHRcdFx0ZnVuY3Rpb24ocmVzdWx0KSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuIFx0XHRcdFx0XHR9LFxuIFx0XHRcdFx0XHRmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0KTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKVxuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcbiBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiBcdFx0dmFyIGNiO1xuIFx0XHR2YXIgaTtcbiBcdFx0dmFyIGo7XG4gXHRcdHZhciBtb2R1bGU7XG4gXHRcdHZhciBtb2R1bGVJZDtcblxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG5cbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMubWFwKGZ1bmN0aW9uKGlkKSB7XG4gXHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcbiBcdFx0XHRcdFx0aWQ6IGlkXG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XG4gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmICghbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZCkgY29udGludWU7XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX21haW4pIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdFx0Y29udGludWU7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG5cbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcbiBcdFx0XHR9O1xuIFx0XHR9XG5cbiBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuIFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuIFx0XHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcbiBcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuIFx0XHRcdCk7XG4gXHRcdH07XG5cbiBcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcbiBcdFx0XHRcdC8qKiBAdHlwZSB7VE9ET30gKi9cbiBcdFx0XHRcdHZhciByZXN1bHQ7XG4gXHRcdFx0XHRpZiAoaG90VXBkYXRlW2lkXSkge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHQvKiogQHR5cGUge0Vycm9yfGZhbHNlfSAqL1xuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0FwcGx5ID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcbiBcdFx0XHRcdGlmIChyZXN1bHQuY2hhaW4pIHtcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c3dpdGNoIChyZXN1bHQudHlwZSkge1xuIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRcIiBpbiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnBhcmVudElkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25VbmFjY2VwdGVkKSBvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkFjY2VwdGVkKSBvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EaXNwb3NlZCkgb3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGFib3J0RXJyb3IpIHtcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0FwcGx5KSB7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRcdFx0XHRpZiAoXG4gXHRcdFx0XHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcyxcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdFx0XHRcdClcbiBcdFx0XHRcdFx0XHQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KFxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF1cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9EaXNwb3NlKSB7XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZCAmJlxuIFx0XHRcdFx0Ly8gcmVtb3ZlZCBzZWxmLWFjY2VwdGVkIG1vZHVsZXMgc2hvdWxkIG5vdCBiZSByZXF1aXJlZFxuIFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gIT09IHdhcm5VbmV4cGVjdGVkUmVxdWlyZVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xuIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXG4gXHRcdFx0XHR9KTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcbiBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSA9PT0gZmFsc2UpIHtcbiBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdH0pO1xuXG4gXHRcdHZhciBpZHg7XG4gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xuIFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XG4gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0aWYgKCFtb2R1bGUpIGNvbnRpbnVlO1xuXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcblxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XG4gXHRcdFx0XHRjYihkYXRhKTtcbiBcdFx0XHR9XG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcblxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcblxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHdoZW4gZGlzcG9zaW5nIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBkaXNwb3NlIGhhbmRsZXJcbiBcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XG4gXHRcdFx0XHRpZiAoIWNoaWxkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIHtcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxuIFx0XHR2YXIgZGVwZW5kZW5jeTtcbiBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xuIFx0XHRcdFx0XHRcdGlmIChpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTm93IGluIFwiYXBwbHlcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcblxuIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXG4gXHRcdGZvciAobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcbiBcdFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xuIFx0XHRcdFx0XHRcdGlmIChjYikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrcy5pbmRleE9mKGNiKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XG4gXHRcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcbiBcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZXJyMikge1xuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuIFx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbEVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnIyO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXG4gXHRcdGlmIChlcnJvcikge1xuIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiBcdFx0fVxuXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gXHRcdFx0cmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuIFx0XHRcdHBhcmVudHM6IChob3RDdXJyZW50UGFyZW50c1RlbXAgPSBob3RDdXJyZW50UGFyZW50cywgaG90Q3VycmVudFBhcmVudHMgPSBbXSwgaG90Q3VycmVudFBhcmVudHNUZW1wKSxcbiBcdFx0XHRjaGlsZHJlbjogW11cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSgwKShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCB7IGdldFByZVNjaGVtYSB9IGZyb20gJy4vc2NoZW1hJztcbmltcG9ydCB7IERCUmF3T2JqZWN0IH0gZnJvbSAnLi9kYi1yYXctb2JqZWN0JztcbmltcG9ydCB7IERCQ3JlYXRlT2JqZWN0IH0gZnJvbSAnLi9kYi1jcmVhdGUtb2JqZWN0JztcbmltcG9ydCB7IFB5cm9PYmplY3RJZCB9IGZyb20gJy4vb2JqZWN0LWlkJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgeyB0b0RhdGUgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgQ29sdW1uLCBQcmltYXJ5Q29sdW1uIH0gZnJvbSAndHlwZW9ybSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgREJPYmplY3RDbGFzcyBleHRlbmRzIEZ1bmN0aW9uIHtcblx0bW9kZWxOYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgREJPYmplY3Q8XG5cdFJhd09iamVjdCBleHRlbmRzIENyZWF0ZU9iamVjdCAmIERCUmF3T2JqZWN0LFxuXHRDcmVhdGVPYmplY3QgZXh0ZW5kcyBEQkNyZWF0ZU9iamVjdFxuPiBpbXBsZW1lbnRzIERCUmF3T2JqZWN0IHtcblx0Ly8gdG8gYWxsb3cgaW5mZXJyaW5nIHRoZSBnZW5lcmljIGFyZ3MgdHlwZXNcblx0cmVhZG9ubHkgQ3JlYXRlT2JqZWN0VFlQRTogQ3JlYXRlT2JqZWN0O1xuXG5cdC8vIHRvIGFsbG93IGluZmVycmluZyB0aGUgZ2VuZXJpYyBhcmdzIHR5cGVzXG5cdHJlYWRvbmx5IFJhd09iamVjdFRZUEU6IFJhd09iamVjdDtcblxuXHRzdGF0aWMgbW9kZWxOYW1lID0gJyc7XG5cblx0Y29uc3RydWN0b3Iob2JqOiBSYXdPYmplY3QpIHtcblx0XHRfLmFzc2lnbih0aGlzLCBvYmopO1xuXG5cdFx0aWYgKFxuXHRcdFx0bW9uZ29vc2UgIT0gbnVsbCAmJlxuXHRcdFx0bW9uZ29vc2UuVHlwZXMgIT0gbnVsbCAmJlxuXHRcdFx0bW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQgIT0gbnVsbFxuXHRcdCkge1xuXHRcdFx0aWYgKG9iaiAmJiBvYmpbJ19pZCddKSB7XG5cdFx0XHRcdHRoaXNbJ19pZCddID0gbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQuY3JlYXRlRnJvbUhleFN0cmluZyhcblx0XHRcdFx0XHRvYmpbJ19pZCddLnRvU3RyaW5nKClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRAUHJpbWFyeUNvbHVtbigpXG5cdF9pZDogUHlyb09iamVjdElkO1xuXG5cdC8qKlxuXHQgKiBUaW1lIHdoZW4gZW50aXR5IHdhcyBjcmVhdGVkXG5cdCAqIE5vdGU6IGNhbiBiZSBzdHJpbmcgdG9vIGJlY2F1c2Ugc2VuZCBpbiBzb2NrZXQgaW8uXG5cdCAqXG5cdCAqIEB0eXBlIHsoRGF0ZSB8IHN0cmluZyl9XG5cdCAqIEBtZW1iZXJvZiBEQk9iamVjdFxuXHQgKi9cblx0QENvbHVtbigpXG5cdF9jcmVhdGVkQXQ6IERhdGUgfCBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFRpbWUgd2hlbiBlbnRpdHkgd2FzIHVwZGF0ZWQgbGFzdCB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHsoRGF0ZSB8IHN0cmluZyl9XG5cdCAqIEBtZW1iZXJvZiBEQk9iamVjdFxuXHQgKi9cblx0QENvbHVtbigpXG5cdF91cGRhdGVkQXQ6IERhdGUgfCBzdHJpbmc7XG5cblx0Z2V0IGNyZWF0ZWRBdCgpOiBEYXRlIHtcblx0XHRyZXR1cm4gdGhpcy5fY3JlYXRlZEF0ICE9IG51bGwgPyB0b0RhdGUodGhpcy5fY3JlYXRlZEF0KSA6IG51bGw7XG5cdH1cblxuXHRnZXQgdXBkYXRlZEF0KCk6IERhdGUge1xuXHRcdHJldHVybiB0aGlzLl91cGRhdGVkQXQgIT0gbnVsbCA/IHRvRGF0ZSh0aGlzLl91cGRhdGVkQXQpIDogbnVsbDtcblx0fVxuXG5cdGdldCBpZCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9pZC50b1N0cmluZygpO1xuXHR9XG5cblx0aXNFcXVhbChwOiB0aGlzKSB7XG5cdFx0Zm9yIChjb25zdCBwcm9wIGluIGdldFByZVNjaGVtYSh0aGlzLmNvbnN0cnVjdG9yIGFzIGFueSkpIHtcblx0XHRcdGlmICh0aGlzW3Byb3BdICE9PSBwW3Byb3BdKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufVxuIiwiZXhwb3J0IHsgREJDcmVhdGVPYmplY3QgfSBmcm9tICcuL2RiLWNyZWF0ZS1vYmplY3QnO1xuZXhwb3J0IHsgREJPYmplY3QgfSBmcm9tICcuL2RiLW9iamVjdCc7XG5leHBvcnQgeyBEQlJhd09iamVjdCB9IGZyb20gJy4vZGItcmF3LW9iamVjdCc7XG5leHBvcnQgeyBNb2RlbE5hbWUgfSBmcm9tICcuL21vZGVsJztcbmV4cG9ydCB7IFB5cm9PYmplY3RJZCB9IGZyb20gJy4vb2JqZWN0LWlkJztcbmV4cG9ydCB7IFNjaGVtYSwgZ2V0U2NoZW1hLCBnZXRQcmVTY2hlbWEsIEluZGV4IH0gZnJvbSAnLi9zY2hlbWEnO1xuZXhwb3J0IHsgVHlwZXMgfSBmcm9tICcuL3R5cGVzJztcbiIsImltcG9ydCB7IERCT2JqZWN0Q2xhc3MgfSBmcm9tICcuL2RiLW9iamVjdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RlbE5hbWUobmFtZTogc3RyaW5nKTogQ2xhc3NEZWNvcmF0b3Ige1xuXHRyZXR1cm4gKHRhcmdldDogREJPYmplY3RDbGFzcykgPT4ge1xuXHRcdHRhcmdldC5tb2RlbE5hbWUgPSBuYW1lO1xuXHR9O1xufVxuIiwiaW1wb3J0IHsgREJPYmplY3QsIERCT2JqZWN0Q2xhc3MgfSBmcm9tICcuL2RiLW9iamVjdCc7XG5pbXBvcnQgJ3JlZmxlY3QtbWV0YWRhdGEnO1xuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgU2NoZW1hIGFzIE1vbmdvb3NlU2NoZW1hLCBTY2hlbWFEZWZpbml0aW9uIH0gZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBtb25nb29zZVNjaGVtYXNLZXk6IHN0cmluZyA9ICdtb25nb29zZVNjaGVtYXMnO1xuY29uc3QgbW9uZ29vc2VJbmRleGVzS2V5OiBzdHJpbmcgPSAnbW9uZ29vc2VJbmRleGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIFNjaGVtYShzY2hlbWE6IGFueSk6IFByb3BlcnR5RGVjb3JhdG9yIHtcblx0cmV0dXJuICh0YXJnZXQ6IG9iamVjdCwgcHJvcGVydHlLZXk6IHN0cmluZyB8IHN5bWJvbCkgPT4ge1xuXHRcdGxldCBtb25nb29zZVNjaGVtYXMgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFxuXHRcdFx0bW9uZ29vc2VTY2hlbWFzS2V5LFxuXHRcdFx0dGFyZ2V0LmNvbnN0cnVjdG9yXG5cdFx0KTtcblxuXHRcdGlmICh0eXBlb2YgbW9uZ29vc2VTY2hlbWFzID09PSAndW5kZWZpbmVkJyB8fCBtb25nb29zZVNjaGVtYXMgPT0gbnVsbCkge1xuXHRcdFx0bW9uZ29vc2VTY2hlbWFzID0ge307XG5cdFx0fVxuXG5cdFx0bW9uZ29vc2VTY2hlbWFzW3Byb3BlcnR5S2V5XSA9IHNjaGVtYTtcblxuXHRcdFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXG5cdFx0XHRtb25nb29zZVNjaGVtYXNLZXksXG5cdFx0XHRtb25nb29zZVNjaGVtYXMsXG5cdFx0XHR0YXJnZXQuY29uc3RydWN0b3Jcblx0XHQpO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW5kZXgodmFsdWU6IHN0cmluZyB8IG51bWJlcik6IFByb3BlcnR5RGVjb3JhdG9yIHtcblx0cmV0dXJuICh0YXJnZXQ6IG9iamVjdCwgcHJvcGVydHlLZXk6IHN0cmluZyB8IHN5bWJvbCkgPT4ge1xuXHRcdGxldCBpbmRleGVzT2JqID0gUmVmbGVjdC5nZXRNZXRhZGF0YShcblx0XHRcdG1vbmdvb3NlSW5kZXhlc0tleSxcblx0XHRcdHRhcmdldC5jb25zdHJ1Y3RvclxuXHRcdCk7XG5cblx0XHRpZiAodHlwZW9mIGluZGV4ZXNPYmogPT09ICd1bmRlZmluZWQnIHx8IGluZGV4ZXNPYmogPT0gbnVsbCkge1xuXHRcdFx0aW5kZXhlc09iaiA9IHt9O1xuXHRcdH1cblxuXHRcdGluZGV4ZXNPYmpbcHJvcGVydHlLZXldID0gdmFsdWU7XG5cblx0XHRSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFxuXHRcdFx0bW9uZ29vc2VJbmRleGVzS2V5LFxuXHRcdFx0aW5kZXhlc09iaixcblx0XHRcdHRhcmdldC5jb25zdHJ1Y3RvclxuXHRcdCk7XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcmVTY2hlbWEoREJPYmo6IERCT2JqZWN0Q2xhc3MpOiBTY2hlbWFEZWZpbml0aW9uIHtcblx0Y29uc3QgbW9uZ29vc2VTY2hlbWFzID0gUmVmbGVjdC5nZXRNZXRhZGF0YShtb25nb29zZVNjaGVtYXNLZXksIERCT2JqKTtcblxuXHRpZiAobW9uZ29vc2VTY2hlbWFzICE9IG51bGwpIHtcblx0XHRyZXR1cm4gbW9uZ29vc2VTY2hlbWFzO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiB7fTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NoZW1hKERCT2JqOiBEQk9iamVjdENsYXNzKTogTW9uZ29vc2VTY2hlbWEge1xuXHRjb25zdCBwcmVTY2hlbWEgPSBnZXRQcmVTY2hlbWEoREJPYmopO1xuXG5cdGNvbnN0IHNjaGVtYSA9IG5ldyBNb25nb29zZVNjaGVtYShwcmVTY2hlbWEsIHtcblx0XHR0aW1lc3RhbXBzOiB7XG5cdFx0XHRjcmVhdGVkQXQ6ICdfY3JlYXRlZEF0Jyxcblx0XHRcdHVwZGF0ZWRBdDogJ191cGRhdGVkQXQnLFxuXHRcdH0sXG5cdH0pO1xuXG5cdGNvbnN0IG1vbmdvb3NlSW5kZXhlcyA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEobW9uZ29vc2VJbmRleGVzS2V5LCBEQk9iaik7XG5cblx0aWYgKG1vbmdvb3NlSW5kZXhlcyAhPSBudWxsKSB7XG5cdFx0c2NoZW1hLmluZGV4KG1vbmdvb3NlSW5kZXhlcyk7XG5cdH1cblxuXHRfLmVhY2gocHJlU2NoZW1hLCAoU3ViVHlwZTogYW55LCBwcm9wZXJ0eSkgPT4ge1xuXHRcdGlmIChTdWJUeXBlLnByb3RvdHlwZSBpbnN0YW5jZW9mIERCT2JqZWN0KSB7XG5cdFx0XHQvLyBjaGVjayBpZiBTdWJUeXBlIGV4dGVuZHMgREJPYmplY3Rcblx0XHRcdF8uZWFjaChnZXRTY2hlbWEoU3ViVHlwZSkuaW5kZXhlcygpLCAoaW5kZXg6IGFueSkgPT4ge1xuXHRcdFx0XHRfLmVhY2goaW5kZXgsIChpbmRleFZhbHVlOiBhbnksIGluZGV4UHJvcGVydHk6IHN0cmluZykgPT4ge1xuXHRcdFx0XHRcdHNjaGVtYS5pbmRleCh7XG5cdFx0XHRcdFx0XHRbcHJvcGVydHkgKyAnLicgKyBpbmRleFByb3BlcnR5XTogaW5kZXhWYWx1ZSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiBzY2hlbWE7XG59XG4iLCJpbXBvcnQgeyBTY2hlbWEgfSBmcm9tICcuL3NjaGVtYSc7XG5cbmV4cG9ydCBjb25zdCBUeXBlcyA9IHtcblx0U3RyaW5nOiAocz86IHN0cmluZykgPT4ge1xuXHRcdGlmIChzID09IG51bGwpIHtcblx0XHRcdHJldHVybiBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gU2NoZW1hKHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBzIH0pO1xuXHRcdH1cblx0fSxcblxuXHROdW1iZXI6IChuPzogbnVtYmVyKSA9PiB7XG5cdFx0aWYgKG4gPT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIFNjaGVtYSh7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBTY2hlbWEoeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IG4gfSk7XG5cdFx0fVxuXHR9LFxuXG5cdEJvb2xlYW46IChiPzogYm9vbGVhbikgPT4ge1xuXHRcdGlmIChiID09IG51bGwpIHtcblx0XHRcdHJldHVybiBTY2hlbWEoeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSB9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIFNjaGVtYSh7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGIgfSk7XG5cdFx0fVxuXHR9LFxuXG5cdERhdGU6IChkPzogbnVtYmVyIHwgKChuOiBudW1iZXIpID0+IHZvaWQpKSA9PiB7XG5cdFx0aWYgKGQgPT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIFNjaGVtYSh7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiB0cnVlIH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gU2NoZW1hKHsgdHlwZTogRGF0ZSwgZGVmYXVsdDogZCB9KTtcblx0XHR9XG5cdH0sXG5cblx0UmVmKFR5cGU6IGFueSwgb3B0aW9uczogYW55ID0ge30pOiBQcm9wZXJ0eURlY29yYXRvciB7XG5cdFx0cmV0dXJuICh0YXJnZXQ6IG9iamVjdCwgcHJvcGVydHlLZXk6IHN0cmluZyB8IHN5bWJvbCkgPT4ge1xuXHRcdFx0Y29uc3QgbXVsdGkgPSBBcnJheS5pc0FycmF5KFR5cGUpO1xuXG5cdFx0XHRjb25zdCBvcCA9IHsgLi4ub3B0aW9ucyB9O1xuXHRcdFx0b3AudHlwZSA9IFN0cmluZztcblx0XHRcdG9wLnJlZiA9IChtdWx0aSA/IFR5cGVbMF0gOiBUeXBlKS5tb2RlbE5hbWU7XG5cblx0XHRcdFNjaGVtYShtdWx0aSA/IFtvcF0gOiBvcCkodGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG5cdFx0fTtcblx0fSxcbn07XG4iLCJleHBvcnQgY29uc3QgY291bnRyaWVzID0ge1xuXHRBRDogJ0FuZG9ycmEnLFxuXHRBRTogJ1VuaXRlZCBBcmFiIEVtaXJhdGVzJyxcblx0QUY6ICdBZmdoYW5pc3RhbicsXG5cdEFHOiAnQW50aWd1YSBhbmQgQmFyYnVkYScsXG5cdEFJOiAnQW5ndWlsbGEnLFxuXHRBTDogJ0FsYmFuaWEnLFxuXHRBTTogJ0FybWVuaWEnLFxuXHRBTzogJ0FuZ29sYScsXG5cdEFROiAnQW50YXJjdGljYScsXG5cdEFSOiAnQXJnZW50aW5hJyxcblx0QVM6ICdBbWVyaWNhbiBTYW1vYScsXG5cdEFUOiAnQXVzdHJpYScsXG5cdEFVOiAnQXVzdHJhbGlhJyxcblx0QVc6ICdBcnViYScsXG5cdEFYOiAnw4VsYW5kJyxcblx0QVo6ICdBemVyYmFpamFuJyxcblx0QkE6ICdCb3NuaWEgYW5kIEhlcnplZ292aW5hJyxcblx0QkI6ICdCYXJiYWRvcycsXG5cdEJEOiAnQmFuZ2xhZGVzaCcsXG5cdEJFOiAnQmVsZ2l1bScsXG5cdEJGOiAnQnVya2luYSBGYXNvJyxcblx0Qkc6ICdCdWxnYXJpYScsXG5cdEJIOiAnQmFocmFpbicsXG5cdEJJOiAnQnVydW5kaScsXG5cdEJKOiAnQmVuaW4nLFxuXHRCTDogJ1NhaW50IEJhcnRow6lsZW15Jyxcblx0Qk06ICdCZXJtdWRhJyxcblx0Qk46ICdCcnVuZWknLFxuXHRCTzogJ0JvbGl2aWEnLFxuXHRCUTogJ0JvbmFpcmUnLFxuXHRCUjogJ0JyYXppbCcsXG5cdEJTOiAnQmFoYW1hcycsXG5cdEJUOiAnQmh1dGFuJyxcblx0QlY6ICdCb3V2ZXQgSXNsYW5kJyxcblx0Qlc6ICdCb3Rzd2FuYScsXG5cdEJZOiAnQmVsYXJ1cycsXG5cdEJaOiAnQmVsaXplJyxcblx0Q0E6ICdDYW5hZGEnLFxuXHRDQzogJ0NvY29zIFtLZWVsaW5nXSBJc2xhbmRzJyxcblx0Q0Q6ICdEZW1vY3JhdGljIFJlcHVibGljIG9mIHRoZSBDb25nbycsXG5cdENGOiAnQ2VudHJhbCBBZnJpY2FuIFJlcHVibGljJyxcblx0Q0c6ICdSZXB1YmxpYyBvZiB0aGUgQ29uZ28nLFxuXHRDSDogJ1N3aXR6ZXJsYW5kJyxcblx0Q0k6ICdJdm9yeSBDb2FzdCcsXG5cdENLOiAnQ29vayBJc2xhbmRzJyxcblx0Q0w6ICdDaGlsZScsXG5cdENNOiAnQ2FtZXJvb24nLFxuXHRDTjogJ0NoaW5hJyxcblx0Q086ICdDb2xvbWJpYScsXG5cdENSOiAnQ29zdGEgUmljYScsXG5cdENVOiAnQ3ViYScsXG5cdENWOiAnQ2FwZSBWZXJkZScsXG5cdENXOiAnQ3VyYWNhbycsXG5cdENYOiAnQ2hyaXN0bWFzIElzbGFuZCcsXG5cdENZOiAnQ3lwcnVzJyxcblx0Q1o6ICdDemVjaCBSZXB1YmxpYycsXG5cdERFOiAnR2VybWFueScsXG5cdERKOiAnRGppYm91dGknLFxuXHRESzogJ0Rlbm1hcmsnLFxuXHRETTogJ0RvbWluaWNhJyxcblx0RE86ICdEb21pbmljYW4gUmVwdWJsaWMnLFxuXHREWjogJ0FsZ2VyaWEnLFxuXHRFQzogJ0VjdWFkb3InLFxuXHRFRTogJ0VzdG9uaWEnLFxuXHRFRzogJ0VneXB0Jyxcblx0RUg6ICdXZXN0ZXJuIFNhaGFyYScsXG5cdEVSOiAnRXJpdHJlYScsXG5cdEVTOiAnU3BhaW4nLFxuXHRFVDogJ0V0aGlvcGlhJyxcblx0Rkk6ICdGaW5sYW5kJyxcblx0Rko6ICdGaWppJyxcblx0Rks6ICdGYWxrbGFuZCBJc2xhbmRzJyxcblx0Rk06ICdNaWNyb25lc2lhJyxcblx0Rk86ICdGYXJvZSBJc2xhbmRzJyxcblx0RlI6ICdGcmFuY2UnLFxuXHRHQTogJ0dhYm9uJyxcblx0R0I6ICdVbml0ZWQgS2luZ2RvbScsXG5cdEdEOiAnR3JlbmFkYScsXG5cdEdFOiAnR2VvcmdpYScsXG5cdEdGOiAnRnJlbmNoIEd1aWFuYScsXG5cdEdHOiAnR3Vlcm5zZXknLFxuXHRHSDogJ0doYW5hJyxcblx0R0k6ICdHaWJyYWx0YXInLFxuXHRHTDogJ0dyZWVubGFuZCcsXG5cdEdNOiAnR2FtYmlhJyxcblx0R046ICdHdWluZWEnLFxuXHRHUDogJ0d1YWRlbG91cGUnLFxuXHRHUTogJ0VxdWF0b3JpYWwgR3VpbmVhJyxcblx0R1I6ICdHcmVlY2UnLFxuXHRHUzogJ1NvdXRoIEdlb3JnaWEgYW5kIHRoZSBTb3V0aCBTYW5kd2ljaCBJc2xhbmRzJyxcblx0R1Q6ICdHdWF0ZW1hbGEnLFxuXHRHVTogJ0d1YW0nLFxuXHRHVzogJ0d1aW5lYS1CaXNzYXUnLFxuXHRHWTogJ0d1eWFuYScsXG5cdEhLOiAnSG9uZyBLb25nJyxcblx0SE06ICdIZWFyZCBJc2xhbmQgYW5kIE1jRG9uYWxkIElzbGFuZHMnLFxuXHRITjogJ0hvbmR1cmFzJyxcblx0SFI6ICdDcm9hdGlhJyxcblx0SFQ6ICdIYWl0aScsXG5cdEhVOiAnSHVuZ2FyeScsXG5cdElEOiAnSW5kb25lc2lhJyxcblx0SUU6ICdJcmVsYW5kJyxcblx0SUw6ICdJc3JhZWwnLFxuXHRJTTogJ0lzbGUgb2YgTWFuJyxcblx0SU46ICdJbmRpYScsXG5cdElPOiAnQnJpdGlzaCBJbmRpYW4gT2NlYW4gVGVycml0b3J5Jyxcblx0SVE6ICdJcmFxJyxcblx0SVI6ICdJcmFuJyxcblx0SVM6ICdJY2VsYW5kJyxcblx0SVQ6ICdJdGFseScsXG5cdEpFOiAnSmVyc2V5Jyxcblx0Sk06ICdKYW1haWNhJyxcblx0Sk86ICdKb3JkYW4nLFxuXHRKUDogJ0phcGFuJyxcblx0S0U6ICdLZW55YScsXG5cdEtHOiAnS3lyZ3l6c3RhbicsXG5cdEtIOiAnQ2FtYm9kaWEnLFxuXHRLSTogJ0tpcmliYXRpJyxcblx0S006ICdDb21vcm9zJyxcblx0S046ICdTYWludCBLaXR0cyBhbmQgTmV2aXMnLFxuXHRLUDogJ05vcnRoIEtvcmVhJyxcblx0S1I6ICdTb3V0aCBLb3JlYScsXG5cdEtXOiAnS3V3YWl0Jyxcblx0S1k6ICdDYXltYW4gSXNsYW5kcycsXG5cdEtaOiAnS2F6YWtoc3RhbicsXG5cdExBOiAnTGFvcycsXG5cdExCOiAnTGViYW5vbicsXG5cdExDOiAnU2FpbnQgTHVjaWEnLFxuXHRMSTogJ0xpZWNodGVuc3RlaW4nLFxuXHRMSzogJ1NyaSBMYW5rYScsXG5cdExSOiAnTGliZXJpYScsXG5cdExTOiAnTGVzb3RobycsXG5cdExUOiAnTGl0aHVhbmlhJyxcblx0TFU6ICdMdXhlbWJvdXJnJyxcblx0TFY6ICdMYXR2aWEnLFxuXHRMWTogJ0xpYnlhJyxcblx0TUE6ICdNb3JvY2NvJyxcblx0TUM6ICdNb25hY28nLFxuXHRNRDogJ01vbGRvdmEnLFxuXHRNRTogJ01vbnRlbmVncm8nLFxuXHRNRjogJ1NhaW50IE1hcnRpbicsXG5cdE1HOiAnTWFkYWdhc2NhcicsXG5cdE1IOiAnTWFyc2hhbGwgSXNsYW5kcycsXG5cdE1LOiAnTWFjZWRvbmlhJyxcblx0TUw6ICdNYWxpJyxcblx0TU06ICdNeWFubWFyIFtCdXJtYV0nLFxuXHRNTjogJ01vbmdvbGlhJyxcblx0TU86ICdNYWNhbycsXG5cdE1QOiAnTm9ydGhlcm4gTWFyaWFuYSBJc2xhbmRzJyxcblx0TVE6ICdNYXJ0aW5pcXVlJyxcblx0TVI6ICdNYXVyaXRhbmlhJyxcblx0TVM6ICdNb250c2VycmF0Jyxcblx0TVQ6ICdNYWx0YScsXG5cdE1VOiAnTWF1cml0aXVzJyxcblx0TVY6ICdNYWxkaXZlcycsXG5cdE1XOiAnTWFsYXdpJyxcblx0TVg6ICdNZXhpY28nLFxuXHRNWTogJ01hbGF5c2lhJyxcblx0TVo6ICdNb3phbWJpcXVlJyxcblx0TkE6ICdOYW1pYmlhJyxcblx0TkM6ICdOZXcgQ2FsZWRvbmlhJyxcblx0TkU6ICdOaWdlcicsXG5cdE5GOiAnTm9yZm9sayBJc2xhbmQnLFxuXHRORzogJ05pZ2VyaWEnLFxuXHROSTogJ05pY2FyYWd1YScsXG5cdE5MOiAnTmV0aGVybGFuZHMnLFxuXHROTzogJ05vcndheScsXG5cdE5QOiAnTmVwYWwnLFxuXHROUjogJ05hdXJ1Jyxcblx0TlU6ICdOaXVlJyxcblx0Tlo6ICdOZXcgWmVhbGFuZCcsXG5cdE9NOiAnT21hbicsXG5cdFBBOiAnUGFuYW1hJyxcblx0UEU6ICdQZXJ1Jyxcblx0UEY6ICdGcmVuY2ggUG9seW5lc2lhJyxcblx0UEc6ICdQYXB1YSBOZXcgR3VpbmVhJyxcblx0UEg6ICdQaGlsaXBwaW5lcycsXG5cdFBLOiAnUGFraXN0YW4nLFxuXHRQTDogJ1BvbGFuZCcsXG5cdFBNOiAnU2FpbnQgUGllcnJlIGFuZCBNaXF1ZWxvbicsXG5cdFBOOiAnUGl0Y2Fpcm4gSXNsYW5kcycsXG5cdFBSOiAnUHVlcnRvIFJpY28nLFxuXHRQUzogJ1BhbGVzdGluZScsXG5cdFBUOiAnUG9ydHVnYWwnLFxuXHRQVzogJ1BhbGF1Jyxcblx0UFk6ICdQYXJhZ3VheScsXG5cdFFBOiAnUWF0YXInLFxuXHRSRTogJ1LDqXVuaW9uJyxcblx0Uk86ICdSb21hbmlhJyxcblx0UlM6ICdTZXJiaWEnLFxuXHRSVTogJ1J1c3NpYScsXG5cdFJXOiAnUndhbmRhJyxcblx0U0E6ICdTYXVkaSBBcmFiaWEnLFxuXHRTQjogJ1NvbG9tb24gSXNsYW5kcycsXG5cdFNDOiAnU2V5Y2hlbGxlcycsXG5cdFNEOiAnU3VkYW4nLFxuXHRTRTogJ1N3ZWRlbicsXG5cdFNHOiAnU2luZ2Fwb3JlJyxcblx0U0g6ICdTYWludCBIZWxlbmEnLFxuXHRTSTogJ1Nsb3ZlbmlhJyxcblx0U0o6ICdTdmFsYmFyZCBhbmQgSmFuIE1heWVuJyxcblx0U0s6ICdTbG92YWtpYScsXG5cdFNMOiAnU2llcnJhIExlb25lJyxcblx0U006ICdTYW4gTWFyaW5vJyxcblx0U046ICdTZW5lZ2FsJyxcblx0U086ICdTb21hbGlhJyxcblx0U1I6ICdTdXJpbmFtZScsXG5cdFNTOiAnU291dGggU3VkYW4nLFxuXHRTVDogJ1PDo28gVG9tw6kgYW5kIFByw61uY2lwZScsXG5cdFNWOiAnRWwgU2FsdmFkb3InLFxuXHRTWDogJ1NpbnQgTWFhcnRlbicsXG5cdFNZOiAnU3lyaWEnLFxuXHRTWjogJ1N3YXppbGFuZCcsXG5cdFRDOiAnVHVya3MgYW5kIENhaWNvcyBJc2xhbmRzJyxcblx0VEQ6ICdDaGFkJyxcblx0VEY6ICdGcmVuY2ggU291dGhlcm4gVGVycml0b3JpZXMnLFxuXHRURzogJ1RvZ28nLFxuXHRUSDogJ1RoYWlsYW5kJyxcblx0VEo6ICdUYWppa2lzdGFuJyxcblx0VEs6ICdUb2tlbGF1Jyxcblx0VEw6ICdFYXN0IFRpbW9yJyxcblx0VE06ICdUdXJrbWVuaXN0YW4nLFxuXHRUTjogJ1R1bmlzaWEnLFxuXHRUTzogJ1RvbmdhJyxcblx0VFI6ICdUdXJrZXknLFxuXHRUVDogJ1RyaW5pZGFkIGFuZCBUb2JhZ28nLFxuXHRUVjogJ1R1dmFsdScsXG5cdFRXOiAnVGFpd2FuJyxcblx0VFo6ICdUYW56YW5pYScsXG5cdFVBOiAnVWtyYWluZScsXG5cdFVHOiAnVWdhbmRhJyxcblx0VU06ICdVLlMuIE1pbm9yIE91dGx5aW5nIElzbGFuZHMnLFxuXHRVUzogJ1VuaXRlZCBTdGF0ZXMnLFxuXHRVWTogJ1VydWd1YXknLFxuXHRVWjogJ1V6YmVraXN0YW4nLFxuXHRWQTogJ1ZhdGljYW4gQ2l0eScsXG5cdFZDOiAnU2FpbnQgVmluY2VudCBhbmQgdGhlIEdyZW5hZGluZXMnLFxuXHRWRTogJ1ZlbmV6dWVsYScsXG5cdFZHOiAnQnJpdGlzaCBWaXJnaW4gSXNsYW5kcycsXG5cdFZJOiAnVS5TLiBWaXJnaW4gSXNsYW5kcycsXG5cdFZOOiAnVmlldG5hbScsXG5cdFZVOiAnVmFudWF0dScsXG5cdFdGOiAnV2FsbGlzIGFuZCBGdXR1bmEnLFxuXHRXUzogJ1NhbW9hJyxcblx0WEs6ICdLb3Nvdm8nLFxuXHRZRTogJ1llbWVuJyxcblx0WVQ6ICdNYXlvdHRlJyxcblx0WkE6ICdTb3V0aCBBZnJpY2EnLFxuXHRaTTogJ1phbWJpYScsXG5cdFpXOiAnWmltYmFid2UnLFxufTtcbiIsImltcG9ydCB7IERCT2JqZWN0LCBNb2RlbE5hbWUgfSBmcm9tICcuLi9AcHlyby9kYic7XG5pbXBvcnQgSUFkbWluLCB7IElBZG1pbkNyZWF0ZU9iamVjdCB9IGZyb20gJy4uL2ludGVyZmFjZXMvSUFkbWluJztcbmltcG9ydCB7IFNjaGVtYSwgVHlwZXMgfSBmcm9tICdAcHlyby9kYic7XG5pbXBvcnQgeyBFbnRpdHksIENvbHVtbiB9IGZyb20gJ3R5cGVvcm0nO1xuXG4vKipcbiAqIFJlZ2lzdGVyZWQgQWRtaW4gVXNlcnMgKGUuZy4gQWRtaW5pc3RyYXRvcnMpXG4gKiBUT0RPOiB3aWxsIGJlIHJlbmFtZWQgdG8gXCJVc2Vyc1wiIChhZnRlciB3ZSByZW5hbWUgXCJVc2Vyc1wiIHRvIFwiQ3VzdG9tZXJzXCIpXG4gKiBOb3RlOiBub3QgcmVsYXRlZCB0byBDdXN0b21lcnMhXG4gKlxuICogQGNsYXNzIEFkbWluXG4gKiBAZXh0ZW5kcyB7REJPYmplY3Q8SUFkbWluLCBJQWRtaW5DcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lBZG1pbn1cbiAqL1xuQE1vZGVsTmFtZSgnQWRtaW4nKVxuQEVudGl0eSh7IG5hbWU6ICdhZG1pbnMnIH0pXG5jbGFzcyBBZG1pbiBleHRlbmRzIERCT2JqZWN0PElBZG1pbiwgSUFkbWluQ3JlYXRlT2JqZWN0PiBpbXBsZW1lbnRzIElBZG1pbiB7XG5cdC8qKlxuXHQgKiBVc2VyIEVtYWlsXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBBZG1pblxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgdW5pcXVlOiB0cnVlIH0pXG5cdEBUeXBlcy5TdHJpbmcoKVxuXHRAQ29sdW1uKClcblx0ZW1haWw6IHN0cmluZztcblxuXHQvKipcblx0ICogVXNlcm5hbWVcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIEFkbWluXG5cdCAqL1xuXHRAVHlwZXMuU3RyaW5nKClcblx0QENvbHVtbigpXG5cdG5hbWU6IHN0cmluZztcblxuXHQvKipcblx0ICogUGFzc3dvcmQgaGFzaFxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgQWRtaW5cblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHNlbGVjdDogZmFsc2UgfSlcblx0QFR5cGVzLlN0cmluZygpXG5cdEBDb2x1bW4oKVxuXHRoYXNoOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFVzZXIgUGljdHVyZSAoQXZhdGFyKSBVcmxcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIEFkbWluXG5cdCAqL1xuXHRAVHlwZXMuU3RyaW5nKClcblx0QENvbHVtbigpXG5cdHBpY3R1cmVVcmw6IHN0cmluZztcblxuXHQvKipcblx0ICogSXMgVXNlciBSZW1vdmVkIChEZWxldGVkKVxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIEFkbWluXG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGlzRGVsZXRlZDogYm9vbGVhbjtcblxuXHQvKipcblx0ICogVXNlciBGaXJzdCBOYW1lXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBBZG1pblxuXHQgKi9cblx0QFNjaGVtYSh7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiBmYWxzZSxcblx0XHR2YWxpZGF0ZTogbmV3IFJlZ0V4cChgXlthLXogLC4nLV0rJGAsICdpJyksXG5cdH0pXG5cdEBDb2x1bW4oKVxuXHRmaXJzdE5hbWU/OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFVzZXIgTGFzdCBOYW1lXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBBZG1pblxuXHQgKi9cblx0QFNjaGVtYSh7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiBmYWxzZSxcblx0XHR2YWxpZGF0ZTogbmV3IFJlZ0V4cChgXlthLXogLC4nLV0rJGAsICdpJyksXG5cdH0pXG5cdEBDb2x1bW4oKVxuXHRsYXN0TmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgQWRtaW47XG4iLCJpbXBvcnQgQ2FycmllclN0YXR1cyBmcm9tICcuLi9lbnVtcy9DYXJyaWVyU3RhdHVzJztcbmltcG9ydCBHZW9Mb2NhdGlvbiBmcm9tICcuL0dlb0xvY2F0aW9uJztcbmltcG9ydCB7IERCT2JqZWN0LCBnZXRTY2hlbWEsIE1vZGVsTmFtZSwgU2NoZW1hLCBUeXBlcyB9IGZyb20gJy4uL0BweXJvL2RiJztcbmltcG9ydCBJQ2FycmllciwgeyBJQ2FycmllckNyZWF0ZU9iamVjdCB9IGZyb20gJy4uL2ludGVyZmFjZXMvSUNhcnJpZXInO1xuaW1wb3J0IHsgRW50aXR5LCBDb2x1bW4gfSBmcm9tICd0eXBlb3JtJztcblxuLyoqXG4gKiBDYXJyaWVycyAoRHJpdmVycywgcGVvcGxlIG9yIG9yZ2FuaXphdGlvbnMgd2hpY2ggZGVsaXZlciBwcm9kdWN0cyB0byBjdXN0b21lcnMpXG4gKlxuICogQGNsYXNzIENhcnJpZXJcbiAqIEBleHRlbmRzIHtEQk9iamVjdDxJQ2FycmllciwgSUNhcnJpZXJDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lDYXJyaWVyfVxuICovXG5ATW9kZWxOYW1lKCdDYXJyaWVyJylcbkBFbnRpdHkoeyBuYW1lOiAnY2FycmllcnMnIH0pXG5jbGFzcyBDYXJyaWVyIGV4dGVuZHMgREJPYmplY3Q8SUNhcnJpZXIsIElDYXJyaWVyQ3JlYXRlT2JqZWN0PlxuXHRpbXBsZW1lbnRzIElDYXJyaWVyIHtcblx0Y29uc3RydWN0b3IoY2FycmllcjogSUNhcnJpZXIpIHtcblx0XHRzdXBlcihjYXJyaWVyKTtcblxuXHRcdGlmIChjYXJyaWVyICYmIGNhcnJpZXIuZ2VvTG9jYXRpb24pIHtcblx0XHRcdHRoaXMuZ2VvTG9jYXRpb24gPSBuZXcgR2VvTG9jYXRpb24oY2Fycmllci5nZW9Mb2NhdGlvbik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEZpcnN0IE5hbWUgKHJlcXVpcmVkKVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKi9cblx0QFNjaGVtYSh7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiB0cnVlLFxuXHRcdHZhbGlkYXRlOiBuZXcgUmVnRXhwKGBeW2EteiAsLictXSskYCwgJ2knKSxcblx0fSlcblx0QENvbHVtbigpXG5cdGZpcnN0TmFtZTogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBMYXN0IE5hbWUgKHJlcXVpcmVkKVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKi9cblx0QFNjaGVtYSh7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiB0cnVlLFxuXHRcdHZhbGlkYXRlOiBuZXcgUmVnRXhwKGBeW2EteiAsLictXSskYCwgJ2knKSxcblx0fSlcblx0QENvbHVtbigpXG5cdGxhc3ROYW1lOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIEhvdyBtYW55IGRlbGl2ZXJpZXMgdG90YWxseSB0aGlzIGNhcnJpZXIgbWFkZVxuXHQgKlxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKi9cblx0QFR5cGVzLk51bWJlcigwKVxuXHRAQ29sdW1uKClcblx0bnVtYmVyT2ZEZWxpdmVyaWVzOiBudW1iZXI7XG5cblx0LyoqXG5cdCAqIEN1cnJlbnQgbG9jYXRpb24gb2YgdGhlIENhcnJpZXIgKHVwZGF0ZWQgcGVyaW9kaWNhbGx5IGR1cmluZyBjYXJyaWVyIG1vdmVtZW50cylcblx0ICpcblx0ICogQHR5cGUge0dlb0xvY2F0aW9ufVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKi9cblx0QFNjaGVtYShnZXRTY2hlbWEoR2VvTG9jYXRpb24pKVxuXHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb247XG5cblx0LyoqXG5cdCAqIEN1cnJlbnQgQXBhcnRtZW50IChpZiBjYXJyaWVyIGxvY2F0ZWQgaW4gc29tZSBhcHBhcnRtZW50IGF0IHRoZSBtb21lbnQpXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBDYXJyaWVyXG5cdCAqL1xuXHRAU2NoZW1hKFN0cmluZylcblx0QENvbHVtbigpXG5cdGFwYXJ0bWVudD86IHN0cmluZztcblxuXHQvKipcblx0ICogSXMgQ2FycmllciBBY3RpdmUgYXQgdGhlIG1vbWVudCBpbiB0aGUgc3lzdGVtXG5cdCAqIFZhbHVlICdUcnVlJyBtZWFucyBjYXJyaWVyIGVuYWJsZWQgaW4gc3lzdGVtLFxuXHQgKiBWYWx1ZSAnRmFsc2UnIG1lYW5zIGNhcnJpZXIgY29tcGxldGVseSBkaXNhYmxlZCBpbiB0aGUgc3lzdGVtIChlLmcuIHdhcyBmaXJlZClcblx0ICogVGhpcyBzZXR0aW5nIGlzIHNldCBieSBBZG1pbixcblx0ICogbm90IGJ5IGNhcnJpZXIgaXRzZWxmIChoZS9zaGUgc2V0ICdzdGF0dXMnIGZpZWxkIGluc3RlYWQgaW4gdGhlIGNhcnJpZXIgbW9iaWxlIGFwcClcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBDYXJyaWVyXG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbih0cnVlKVxuXHRAQ29sdW1uKClcblx0aXNBY3RpdmU6IGJvb2xlYW47XG5cblx0LyoqXG5cdCAqIElzIENhcnJpZXIgcmVtb3ZlZCBjb21wbGV0ZWx5IGZyb20gdGhlIHN5c3RlbVxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIENhcnJpZXJcblx0ICovXG5cdEBUeXBlcy5Cb29sZWFuKGZhbHNlKVxuXHRAQ29sdW1uKClcblx0aXNEZWxldGVkOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBDdXJyZW50IGNhcnJpZXIgc3RhdHVzIChzZXQgdmlhIGhpcyBtb2JpbGUgYXBwKSwgZS5nLiBPbmxpbmUgb3IgT2ZmbGluZVxuXHQgKlxuXHQgKiBAdHlwZSB7Q2FycmllclN0YXR1c31cblx0ICogQG1lbWJlcm9mIENhcnJpZXJcblx0ICovXG5cdEBUeXBlcy5OdW1iZXIoQ2FycmllclN0YXR1cy5PZmZsaW5lKVxuXHRAQ29sdW1uKClcblx0c3RhdHVzOiBDYXJyaWVyU3RhdHVzO1xuXG5cdC8qKlxuXHQgKiBVbmlxdWUgQ2FycmllciB1c2VybmFtZSwgd2hpY2ggdXNlZCBmb3IgQXV0aGVudGljYXRpb24gb2YgdGhlIENhcnJpZXIgaW4gdGhlIGFwcFxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgdW5pcXVlOiB0cnVlLCByZXF1aXJlZDogdHJ1ZSB9KVxuXHRAQ29sdW1uKClcblx0dXNlcm5hbWU6IHN0cmluZztcblxuXHQvKipcblx0ICogU2hvd3MgaWYgY2FycmllciBpcyBzaGFyZWQgb3IgYXNzaWduZWQgdG8gc29tZSBzdG9yZVxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIENhcnJpZXJcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdHNoYXJlZDogYm9vbGVhbjtcblxuXHQvKipcblx0ICogSGFzaGVkIHBhc3N3b3JkXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBDYXJyaWVyXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UsIHNlbGVjdDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdGhhc2g/OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIENhcnJpZXIgUGhvbmUgbnVtYmVyICh1c3VhbGx5IG1vYmlsZSBwaG9uZSlcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIENhcnJpZXJcblx0ICovXG5cdEBUeXBlcy5TdHJpbmcoKVxuXHRAQ29sdW1uKClcblx0cGhvbmU6IHN0cmluZztcblxuXHQvKipcblx0ICogVVJMIGZvciBMb2dvIChicmFuZCBpbWFnZSkgb3IgQXZhdGFyIG9mIHRoZSBDYXJyaWVyXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBDYXJyaWVyXG5cdCAqL1xuXHRAU2NoZW1hKHtcblx0XHR0eXBlOiBTdHJpbmcsXG5cdFx0cmVxdWlyZWQ6IHRydWUsXG5cdFx0dmFsaWRhdGU6IG5ldyBSZWdFeHAoXG5cdFx0XHRgKGh0dHAocz8pOilzPzo/KFxcL1xcL1teXCInXSpcXC4oPzpwbmd8anBnfGpwZWd8Z2lmfHBuZ3xzdmcpKWBcblx0XHQpLFxuXHR9KVxuXHRAQ29sdW1uKClcblx0bG9nbzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBDYXJyaWVyIGVtYWlsIChvcHRpb25hbClcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIENhcnJpZXJcblx0ICovXG5cdEBTY2hlbWEoe1xuXHRcdHR5cGU6IFN0cmluZyxcblx0XHRyZXF1aXJlZDogZmFsc2UsXG5cdFx0c3BhcnNlOiB0cnVlLFxuXHRcdHVuaXF1ZTogdHJ1ZSxcblx0fSlcblx0QENvbHVtbigpXG5cdGVtYWlsOiBzdHJpbmc7XG5cblx0QFNjaGVtYShbU3RyaW5nXSlcblx0QENvbHVtbigpXG5cdHNraXBwZWRPcmRlcklkczogc3RyaW5nW107XG5cblx0LyoqXG5cdCAqIEhvdyBtYW55IGRlbGl2ZXJpZXMgY2FycmllciBtYWRlIHRvZGF5XG5cdCAqIFRPRE86IGltcGxlbWVudCBjYWxjdWxhdGlvbiwgdXNlZnVsIGZvciBzdGF0c1xuXHQgKlxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKi9cblx0QFR5cGVzLk51bWJlcigwKVxuXHRAQ29sdW1uKClcblx0ZGVsaXZlcmllc0NvdW50VG9kYXk6IG51bWJlcjtcblxuXHQvKipcblx0ICogSG93IG11Y2gga20gKG9yIG1pbGVzKSBDYXJyaWVyIG1hZGUgdG9kYXkgZHVyaW5nIGRlbGl2ZXJpZXNcblx0ICogVE9ETzogaW1wbGVtZW50IGNhbGN1bGF0aW9uLCB1c2VmdWwgZm9yIHN0YXRzXG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqIEBtZW1iZXJvZiBDYXJyaWVyXG5cdCAqL1xuXHRAVHlwZXMuTnVtYmVyKDApXG5cdEBDb2x1bW4oKVxuXHR0b3RhbERpc3RhbmNlVG9kYXk6IG51bWJlcjtcblxuXHQvKipcblx0ICogSURzIG9mIENhcnJpZXIgZGV2aWNlcyAobW9iaWxlcylcblx0ICogVXNlZCB0byBzZW5kIFB1c2ggTm90aWZpY2F0aW9ucyB0byBDYXJyaWVyIGRldmljZXNcblx0ICpcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ1tdfVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKi9cblx0QFNjaGVtYShbU3RyaW5nXSlcblx0ZGV2aWNlc0lkczogc3RyaW5nW107XG5cblx0LyoqXG5cdCAqIElzIHNoYXJlZCB0aGUgY2FycmllciwgaS5lIGlmIG5vdCB0aGVuIG9ubHkgbWVyY2hhbnQgd2hpY2ggYWxyZWFkeSBoYXMgc3VjaCBjYXJyaWVyIGFzc2lnbmVkXG5cdCAqIChpbnNpZGUgXCJjYXJyaWVyc0lkc1wiIGFycmF5IG9uIE1lcmNoYW50KSBjYW4gdXNlIHN1Y2ggY2FycmllciBhbmQgbm8gb25lIGVsc2Vcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBDYXJyaWVyXG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGlzU2hhcmVkQ2FycmllcjogYm9vbGVhbjtcblxuXHQvKipcblx0ICogRnVsbCBuYW1lIG9mIHRoZSBDYXJyaWVyXG5cdCAqXG5cdCAqIEByZWFkb25seVxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKiBAcmV0dXJucyBmdWxsIG5hbWUgb2YgdGhlIGNhcnJpZXJcblx0ICovXG5cdGdldCBmdWxsTmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBgJHt0aGlzLmZpcnN0TmFtZX0gJHt0aGlzLmxhc3ROYW1lfWA7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FycmllcjtcbiIsImltcG9ydCB7IE1vZGVsTmFtZSwgREJPYmplY3QsIFR5cGVzLCBTY2hlbWEgfSBmcm9tICdAcHlyby9kYic7XG5pbXBvcnQgeyBFbnRpdHksIENvbHVtbiB9IGZyb20gJ3R5cGVvcm0nO1xuaW1wb3J0IElDdXJyZW5jeSwgeyBJQ3VycmVuY3lDcmVhdGVPYmplY3QgfSBmcm9tICcuLi9pbnRlcmZhY2VzL0lDdXJyZW5jeSc7XG5cbi8qKlxuICogQGNsYXNzIEN1cnJlbmN5XG4gKiBAZXh0ZW5kcyB7REJPYmplY3Q8SUN1cnJlbmN5LCBJQ3VycmVuY3lDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lDdXJyZW5jeX1cbiAqL1xuQE1vZGVsTmFtZSgnQ3VycmVuY3knKVxuQEVudGl0eSh7IG5hbWU6ICdjdXJyZW5jaWVzJyB9KVxuY2xhc3MgQ3VycmVuY3kgZXh0ZW5kcyBEQk9iamVjdDxJQ3VycmVuY3ksIElDdXJyZW5jeUNyZWF0ZU9iamVjdD5cblx0aW1wbGVtZW50cyBJQ3VycmVuY3kge1xuXHQvKipcblx0ICogQ3VycmVuY3kgQ29kZVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgQ3VycmVuY3lcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHVuaXF1ZTogdHJ1ZSB9KVxuXHRAQ29sdW1uKClcblx0Y3VycmVuY3lDb2RlOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIElzIEN1cnJlbmN5IHJlbW92ZWQgY29tcGxldGVseSBmcm9tIHRoZSBzeXN0ZW1cblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBDdXJyZW5jeVxuXHQgKi9cblx0QFR5cGVzLkJvb2xlYW4oZmFsc2UpXG5cdEBDb2x1bW4oKVxuXHRpc0RlbGV0ZWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IEN1cnJlbmN5O1xuXG5leHBvcnQgY29uc3QgY291bnRyaWVzRGVmYXVsdEN1cnJlbmNpZXMgPSB7XG5cdElMOiAnSUxTJyxcblx0UlU6ICdSVUInLFxuXHRVUzogJ1VTRCcsXG5cdEJHOiAnQkdOJyxcbn07XG4iLCJpbXBvcnQgeyBNb2RlbE5hbWUsIERCT2JqZWN0LCBTY2hlbWEsIFR5cGVzIH0gZnJvbSAnLi4vQHB5cm8vZGInO1xuaW1wb3J0IHsgSURldmljZVJhd09iamVjdCwgSURldmljZUNyZWF0ZU9iamVjdCB9IGZyb20gJy4uL2ludGVyZmFjZXMvSURldmljZSc7XG5pbXBvcnQgSVBsYXRmb3JtIGZyb20gJy4uL2ludGVyZmFjZXMvSVBsYXRmb3JtJztcbmltcG9ydCBJTGFuZ3VhZ2UgZnJvbSAnLi4vaW50ZXJmYWNlcy9JTGFuZ3VhZ2UnO1xuaW1wb3J0IHsgRW50aXR5LCBDb2x1bW4gfSBmcm9tICd0eXBlb3JtJztcblxuLyoqXG4gKiBSZXByZXNlbnQgRGV2aWNlIChlLmcuIFRhYmxlIG9yIEJyb3dzZXIsIHVzZWQgYnkgc29tZW9uZSB0byBhY2Nlc3Mgb25lIG9mIG91ciBhcHBzKVxuICpcbiAqIEBjbGFzcyBEZXZpY2VcbiAqIEBleHRlbmRzIHtEQk9iamVjdDxJRGV2aWNlUmF3T2JqZWN0LCBJRGV2aWNlQ3JlYXRlT2JqZWN0Pn1cbiAqIEBpbXBsZW1lbnRzIHtJRGV2aWNlUmF3T2JqZWN0fVxuICovXG5ATW9kZWxOYW1lKCdEZXZpY2UnKVxuQEVudGl0eSh7IG5hbWU6ICdkZXZpY2VzJyB9KVxuY2xhc3MgRGV2aWNlIGV4dGVuZHMgREJPYmplY3Q8SURldmljZVJhd09iamVjdCwgSURldmljZUNyZWF0ZU9iamVjdD5cblx0aW1wbGVtZW50cyBJRGV2aWNlUmF3T2JqZWN0IHtcblx0LyoqXG5cdCAqIENoYW5uZWxJRCB1c2VkIGZvciBwdXNoIG5vdGlmaWNhdGlvbnNcblx0ICpcblx0ICogQHR5cGUgeyhzdHJpbmcgfCBudWxsKX1cblx0ICogQG1lbWJlcm9mIERldmljZVxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRjaGFubmVsSWQ6IHN0cmluZyB8IG51bGw7XG5cblx0LyoqXG5cdCAqIFBsYXRmb3JtIG9mIHRoZSBkZXZpY2UgKGJyb3NlciwgaW9zLCBhbmRyb2lkLCBldGMpXG5cdCAqXG5cdCAqIEB0eXBlIHtJUGxhdGZvcm19XG5cdCAqIEBtZW1iZXJvZiBEZXZpY2Vcblx0ICovXG5cdEBUeXBlcy5TdHJpbmcoKVxuXHRAQ29sdW1uKClcblx0dHlwZTogSVBsYXRmb3JtO1xuXG5cdC8qKlxuXHQgKiBMYW5ndWFnZSBzZXR0aW5nIG9uIHRoZSBkZXZpY2Vcblx0ICpcblx0ICogQHR5cGUge0lMYW5ndWFnZX1cblx0ICogQG1lbWJlcm9mIERldmljZVxuXHQgKi9cblx0QFR5cGVzLlN0cmluZygnZW4tVVMnKVxuXHRAQ29sdW1uKClcblx0bGFuZ3VhZ2U6IElMYW5ndWFnZTtcblxuXHQvKipcblx0ICogVW5pcXVlIGRldmljZSBJZFxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgRGV2aWNlXG5cdCAqL1xuXHRAVHlwZXMuU3RyaW5nKClcblx0QENvbHVtbigpXG5cdHV1aWQ6IHN0cmluZztcblxuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGlzRGVsZXRlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRGV2aWNlO1xuIiwiaW1wb3J0IHsgREJPYmplY3QsIEluZGV4LCBNb2RlbE5hbWUsIFNjaGVtYSB9IGZyb20gJy4uL0BweXJvL2RiJztcbmltcG9ydCB7XG5cdGRlZmF1bHQgYXMgSUdlb0xvY2F0aW9uLFxuXHRJR2VvTG9jYXRpb25DcmVhdGVPYmplY3QsXG5cdElMb2NhdGlvbixcbn0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JR2VvTG9jYXRpb24nO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGNvdW50cmllcyB9IGZyb20gJy4uL2RhdGEvYWJicmV2aWF0aW9uLXRvLWNvdW50cnknO1xuaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSAndHlwZW9ybSc7XG5cbmV4cG9ydCBjb25zdCBsb2NhdGlvblByZVNjaGVtYSA9IHtcblx0dHlwZTogeyB0eXBlOiBTdHJpbmcgfSxcblx0Y29vcmRpbmF0ZXM6IFtOdW1iZXJdLFxufTtcblxuLyoqXG4gKiBTdG9yZXMgR2VvIExvY2F0aW9uIChBZGRyZXNzKSBvZiBzb21lIHBoeXNpY2FsIGVudGl0eSAoQ3VzdG9tZXIsIFdhcmVob3VzZSwgQ2FycmllciwgZXRjKVxuICpcbiAqIEBjbGFzcyBHZW9Mb2NhdGlvblxuICogQGV4dGVuZHMge0RCT2JqZWN0PElHZW9Mb2NhdGlvbiwgSUdlb0xvY2F0aW9uQ3JlYXRlT2JqZWN0Pn1cbiAqIEBpbXBsZW1lbnRzIHtJR2VvTG9jYXRpb259XG4gKi9cbkBNb2RlbE5hbWUoJ0dlb0xvY2F0aW9uJylcbmNsYXNzIEdlb0xvY2F0aW9uIGV4dGVuZHMgREJPYmplY3Q8SUdlb0xvY2F0aW9uLCBJR2VvTG9jYXRpb25DcmVhdGVPYmplY3Q+XG5cdGltcGxlbWVudHMgSUdlb0xvY2F0aW9uIHtcblx0QFNjaGVtYSh7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRjb3VudHJ5SWQ6IENvdW50cnkgfCBudWxsO1xuXG5cdEBTY2hlbWEoeyByZXF1aXJlZDogZmFsc2UsIHR5cGU6IFN0cmluZyB9KVxuXHRAQ29sdW1uKClcblx0cG9zdGNvZGU/OiBzdHJpbmcgfCBudWxsO1xuXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0YXBhcnRtZW50Pzogc3RyaW5nIHwgbnVsbDtcblxuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdGNpdHk6IHN0cmluZyB8IG51bGw7XG5cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRzdHJlZXRBZGRyZXNzOiBzdHJpbmcgfCBudWxsO1xuXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0aG91c2U6IHN0cmluZyB8IG51bGw7XG5cblx0QEluZGV4KCcyZHNwaGVyZScpXG5cdEBTY2hlbWEobG9jYXRpb25QcmVTY2hlbWEpXG5cdGxvYzogSUxvY2F0aW9uO1xuXG5cdGdldCBjb3VudHJ5TmFtZSgpOiBDb3VudHJ5TmFtZSB7XG5cdFx0cmV0dXJuIGdldENvdW50cnlOYW1lKHRoaXMuY291bnRyeUlkKTtcblx0fVxuXG5cdGdldCBpc0xvY1ZhbGlkKCk6IGFueSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHRoaXMubG9jLnR5cGUgPT09ICdQb2ludCcgJiZcblx0XHRcdHR5cGVvZiBfLmlzQXJyYXkodGhpcy5sb2MuY29vcmRpbmF0ZXMpICYmXG5cdFx0XHR0aGlzLmxvYy5jb29yZGluYXRlcy5sZW5ndGggPT09IDIgJiZcblx0XHRcdF8uZXZlcnkodGhpcy5sb2MuY29vcmRpbmF0ZXMsIChjKSA9PiBfLmlzRmluaXRlKGMpKVxuXHRcdCk7XG5cdH1cblxuXHRnZXQgaXNWYWxpZCgpOiBhbnkge1xuXHRcdGNvbnN0IG5vdEVtcHR5U3RyaW5nID0gKHM6IHN0cmluZykgPT4gXy5pc1N0cmluZyhzKSAmJiAhXy5pc0VtcHR5KHMpO1xuXHRcdHJldHVybiBfLmV2ZXJ5KFxuXHRcdFx0W3RoaXMuY2l0eSwgdGhpcy5zdHJlZXRBZGRyZXNzLCB0aGlzLmhvdXNlXSxcblx0XHRcdG5vdEVtcHR5U3RyaW5nXG5cdFx0KTtcblx0fVxuXG5cdGdldCBjb29yZGluYXRlcygpOiB7IGxuZzogbnVtYmVyOyBsYXQ6IG51bWJlciB9IHtcblx0XHQvLyBJbiBcIk1vbmdvREJcIiBnZW9qc29uIHN0YW5kYXJkIGNvb3JkaW5hdGVzIGxpc3QgdGhlIGxvbmdpdHVkZSBmaXJzdCBhbmQgdGhlbiBsYXRpdHVkZTpcblx0XHRyZXR1cm4ge1xuXHRcdFx0bG5nOiB0aGlzLmxvYy5jb29yZGluYXRlc1swXSxcblx0XHRcdGxhdDogdGhpcy5sb2MuY29vcmRpbmF0ZXNbMV0sXG5cdFx0fTtcblx0fVxuXG5cdHNldCBjb29yZGluYXRlcyhjb29yZHM6IHsgbG5nOiBudW1iZXI7IGxhdDogbnVtYmVyIH0pIHtcblx0XHR0aGlzLmxvYy5jb29yZGluYXRlcyA9IFtjb29yZHMubG5nLCBjb29yZHMubGF0XTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBHZW9Mb2NhdGlvbjtcblxuZXhwb3J0IGVudW0gQ291bnRyeSB7XG5cdC8vIElmIHlvdSB3b25kZXIgd2hhdCBhYmJyZXZpYXRpb24gbXVzdCBoYXZlIHRvIHVzZSBmb3Jcblx0Ly8gc3BlY2lmaWMgY291bnRyeSBzZWUgXCJldmVyXFxzaGFyZWRcXGNvcmVcXGRhdGFcXGFiYnJldmlhdGlvbi10by1jb3VudHJ5Lmpzb25cIlxuXHRBRCxcblx0QUUsXG5cdEFGLFxuXHRBRyxcblx0QUksXG5cdEFMLFxuXHRBTSxcblx0QU8sXG5cdEFRLFxuXHRBUixcblx0QVMsXG5cdEFULFxuXHRBVSxcblx0QVcsXG5cdEFYLFxuXHRBWixcblx0QkEsXG5cdEJCLFxuXHRCRCxcblx0QkUsXG5cdEJGLFxuXHRCRyxcblx0QkgsXG5cdEJJLFxuXHRCSixcblx0QkwsXG5cdEJNLFxuXHRCTixcblx0Qk8sXG5cdEJRLFxuXHRCUixcblx0QlMsXG5cdEJULFxuXHRCVixcblx0QlcsXG5cdEJZLFxuXHRCWixcblx0Q0EsXG5cdENDLFxuXHRDRCxcblx0Q0YsXG5cdENHLFxuXHRDSCxcblx0Q0ksXG5cdENLLFxuXHRDTCxcblx0Q00sXG5cdENOLFxuXHRDTyxcblx0Q1IsXG5cdENVLFxuXHRDVixcblx0Q1csXG5cdENYLFxuXHRDWSxcblx0Q1osXG5cdERFLFxuXHRESixcblx0REssXG5cdERNLFxuXHRETyxcblx0RFosXG5cdEVDLFxuXHRFRSxcblx0RUcsXG5cdEVILFxuXHRFUixcblx0RVMsXG5cdEVULFxuXHRGSSxcblx0RkosXG5cdEZLLFxuXHRGTSxcblx0Rk8sXG5cdEZSLFxuXHRHQSxcblx0R0IsXG5cdEdELFxuXHRHRSxcblx0R0YsXG5cdEdHLFxuXHRHSCxcblx0R0ksXG5cdEdMLFxuXHRHTSxcblx0R04sXG5cdEdQLFxuXHRHUSxcblx0R1IsXG5cdEdTLFxuXHRHVCxcblx0R1UsXG5cdEdXLFxuXHRHWSxcblx0SEssXG5cdEhNLFxuXHRITixcblx0SFIsXG5cdEhULFxuXHRIVSxcblx0SUQsXG5cdElFLFxuXHRJTCxcblx0SU0sXG5cdElOLFxuXHRJTyxcblx0SVEsXG5cdElSLFxuXHRJUyxcblx0SVQsXG5cdEpFLFxuXHRKTSxcblx0Sk8sXG5cdEpQLFxuXHRLRSxcblx0S0csXG5cdEtILFxuXHRLSSxcblx0S00sXG5cdEtOLFxuXHRLUCxcblx0S1IsXG5cdEtXLFxuXHRLWSxcblx0S1osXG5cdExBLFxuXHRMQixcblx0TEMsXG5cdExJLFxuXHRMSyxcblx0TFIsXG5cdExTLFxuXHRMVCxcblx0TFUsXG5cdExWLFxuXHRMWSxcblx0TUEsXG5cdE1DLFxuXHRNRCxcblx0TUUsXG5cdE1GLFxuXHRNRyxcblx0TUgsXG5cdE1LLFxuXHRNTCxcblx0TU0sXG5cdE1OLFxuXHRNTyxcblx0TVAsXG5cdE1RLFxuXHRNUixcblx0TVMsXG5cdE1ULFxuXHRNVSxcblx0TVYsXG5cdE1XLFxuXHRNWCxcblx0TVksXG5cdE1aLFxuXHROQSxcblx0TkMsXG5cdE5FLFxuXHRORixcblx0TkcsXG5cdE5JLFxuXHROTCxcblx0Tk8sXG5cdE5QLFxuXHROUixcblx0TlUsXG5cdE5aLFxuXHRPTSxcblx0UEEsXG5cdFBFLFxuXHRQRixcblx0UEcsXG5cdFBILFxuXHRQSyxcblx0UEwsXG5cdFBNLFxuXHRQTixcblx0UFIsXG5cdFBTLFxuXHRQVCxcblx0UFcsXG5cdFBZLFxuXHRRQSxcblx0UkUsXG5cdFJPLFxuXHRSUyxcblx0UlUsXG5cdFJXLFxuXHRTQSxcblx0U0IsXG5cdFNDLFxuXHRTRCxcblx0U0UsXG5cdFNHLFxuXHRTSCxcblx0U0ksXG5cdFNKLFxuXHRTSyxcblx0U0wsXG5cdFNNLFxuXHRTTixcblx0U08sXG5cdFNSLFxuXHRTUyxcblx0U1QsXG5cdFNWLFxuXHRTWCxcblx0U1ksXG5cdFNaLFxuXHRUQyxcblx0VEQsXG5cdFRGLFxuXHRURyxcblx0VEgsXG5cdFRKLFxuXHRUSyxcblx0VEwsXG5cdFRNLFxuXHRUTixcblx0VE8sXG5cdFRSLFxuXHRUVCxcblx0VFYsXG5cdFRXLFxuXHRUWixcblx0VUEsXG5cdFVHLFxuXHRVTSxcblx0VVMsXG5cdFVZLFxuXHRVWixcblx0VkEsXG5cdFZDLFxuXHRWRSxcblx0VkcsXG5cdFZJLFxuXHRWTixcblx0VlUsXG5cdFdGLFxuXHRXUyxcblx0WEssXG5cdFlFLFxuXHRZVCxcblx0WkEsXG5cdFpNLFxuXHRaVyxcbn1cblxuZXhwb3J0IHR5cGUgQ291bnRyeU5hbWUgPVxuXHR8ICdBbmRvcnJhJ1xuXHR8ICdVbml0ZWQgQXJhYiBFbWlyYXRlcydcblx0fCAnQWZnaGFuaXN0YW4nXG5cdHwgJ0FudGlndWEgYW5kIEJhcmJ1ZGEnXG5cdHwgJ0FuZ3VpbGxhJ1xuXHR8ICdBbGJhbmlhJ1xuXHR8ICdBcm1lbmlhJ1xuXHR8ICdBbmdvbGEnXG5cdHwgJ0FudGFyY3RpY2EnXG5cdHwgJ0FyZ2VudGluYSdcblx0fCAnQW1lcmljYW4gU2Ftb2EnXG5cdHwgJ0F1c3RyaWEnXG5cdHwgJ0F1c3RyYWxpYSdcblx0fCAnQXJ1YmEnXG5cdHwgJ8OFbGFuZCdcblx0fCAnQXplcmJhaWphbidcblx0fCAnQm9zbmlhIGFuZCBIZXJ6ZWdvdmluYSdcblx0fCAnQmFyYmFkb3MnXG5cdHwgJ0JhbmdsYWRlc2gnXG5cdHwgJ0JlbGdpdW0nXG5cdHwgJ0J1cmtpbmEgRmFzbydcblx0fCAnQnVsZ2FyaWEnXG5cdHwgJ0JhaHJhaW4nXG5cdHwgJ0J1cnVuZGknXG5cdHwgJ0JlbmluJ1xuXHR8ICdTYWludCBCYXJ0aMOpbGVteSdcblx0fCAnQmVybXVkYSdcblx0fCAnQnJ1bmVpJ1xuXHR8ICdCb2xpdmlhJ1xuXHR8ICdCb25haXJlJ1xuXHR8ICdCcmF6aWwnXG5cdHwgJ0JhaGFtYXMnXG5cdHwgJ0JodXRhbidcblx0fCAnQm91dmV0IElzbGFuZCdcblx0fCAnQm90c3dhbmEnXG5cdHwgJ0JlbGFydXMnXG5cdHwgJ0JlbGl6ZSdcblx0fCAnQ2FuYWRhJ1xuXHR8ICdDb2NvcyBbS2VlbGluZ10gSXNsYW5kcydcblx0fCAnRGVtb2NyYXRpYyBSZXB1YmxpYyBvZiB0aGUgQ29uZ28nXG5cdHwgJ0NlbnRyYWwgQWZyaWNhbiBSZXB1YmxpYydcblx0fCAnUmVwdWJsaWMgb2YgdGhlIENvbmdvJ1xuXHR8ICdTd2l0emVybGFuZCdcblx0fCAnSXZvcnkgQ29hc3QnXG5cdHwgJ0Nvb2sgSXNsYW5kcydcblx0fCAnQ2hpbGUnXG5cdHwgJ0NhbWVyb29uJ1xuXHR8ICdDaGluYSdcblx0fCAnQ29sb21iaWEnXG5cdHwgJ0Nvc3RhIFJpY2EnXG5cdHwgJ0N1YmEnXG5cdHwgJ0NhcGUgVmVyZGUnXG5cdHwgJ0N1cmFjYW8nXG5cdHwgJ0NocmlzdG1hcyBJc2xhbmQnXG5cdHwgJ0N5cHJ1cydcblx0fCAnQ3plY2ggUmVwdWJsaWMnXG5cdHwgJ0dlcm1hbnknXG5cdHwgJ0RqaWJvdXRpJ1xuXHR8ICdEZW5tYXJrJ1xuXHR8ICdEb21pbmljYSdcblx0fCAnRG9taW5pY2FuIFJlcHVibGljJ1xuXHR8ICdBbGdlcmlhJ1xuXHR8ICdFY3VhZG9yJ1xuXHR8ICdFc3RvbmlhJ1xuXHR8ICdFZ3lwdCdcblx0fCAnV2VzdGVybiBTYWhhcmEnXG5cdHwgJ0VyaXRyZWEnXG5cdHwgJ1NwYWluJ1xuXHR8ICdFdGhpb3BpYSdcblx0fCAnRmlubGFuZCdcblx0fCAnRmlqaSdcblx0fCAnRmFsa2xhbmQgSXNsYW5kcydcblx0fCAnTWljcm9uZXNpYSdcblx0fCAnRmFyb2UgSXNsYW5kcydcblx0fCAnRnJhbmNlJ1xuXHR8ICdHYWJvbidcblx0fCAnVW5pdGVkIEtpbmdkb20nXG5cdHwgJ0dyZW5hZGEnXG5cdHwgJ0dlb3JnaWEnXG5cdHwgJ0ZyZW5jaCBHdWlhbmEnXG5cdHwgJ0d1ZXJuc2V5J1xuXHR8ICdHaGFuYSdcblx0fCAnR2licmFsdGFyJ1xuXHR8ICdHcmVlbmxhbmQnXG5cdHwgJ0dhbWJpYSdcblx0fCAnR3VpbmVhJ1xuXHR8ICdHdWFkZWxvdXBlJ1xuXHR8ICdFcXVhdG9yaWFsIEd1aW5lYSdcblx0fCAnR3JlZWNlJ1xuXHR8ICdTb3V0aCBHZW9yZ2lhIGFuZCB0aGUgU291dGggU2FuZHdpY2ggSXNsYW5kcydcblx0fCAnR3VhdGVtYWxhJ1xuXHR8ICdHdWFtJ1xuXHR8ICdHdWluZWEtQmlzc2F1J1xuXHR8ICdHdXlhbmEnXG5cdHwgJ0hvbmcgS29uZydcblx0fCAnSGVhcmQgSXNsYW5kIGFuZCBNY0RvbmFsZCBJc2xhbmRzJ1xuXHR8ICdIb25kdXJhcydcblx0fCAnQ3JvYXRpYSdcblx0fCAnSGFpdGknXG5cdHwgJ0h1bmdhcnknXG5cdHwgJ0luZG9uZXNpYSdcblx0fCAnSXJlbGFuZCdcblx0fCAnSXNyYWVsJ1xuXHR8ICdJc2xlIG9mIE1hbidcblx0fCAnSW5kaWEnXG5cdHwgJ0JyaXRpc2ggSW5kaWFuIE9jZWFuIFRlcnJpdG9yeSdcblx0fCAnSXJhcSdcblx0fCAnSXJhbidcblx0fCAnSWNlbGFuZCdcblx0fCAnSXRhbHknXG5cdHwgJ0plcnNleSdcblx0fCAnSmFtYWljYSdcblx0fCAnSm9yZGFuJ1xuXHR8ICdKYXBhbidcblx0fCAnS2VueWEnXG5cdHwgJ0t5cmd5enN0YW4nXG5cdHwgJ0NhbWJvZGlhJ1xuXHR8ICdLaXJpYmF0aSdcblx0fCAnQ29tb3Jvcydcblx0fCAnU2FpbnQgS2l0dHMgYW5kIE5ldmlzJ1xuXHR8ICdOb3J0aCBLb3JlYSdcblx0fCAnU291dGggS29yZWEnXG5cdHwgJ0t1d2FpdCdcblx0fCAnQ2F5bWFuIElzbGFuZHMnXG5cdHwgJ0themFraHN0YW4nXG5cdHwgJ0xhb3MnXG5cdHwgJ0xlYmFub24nXG5cdHwgJ1NhaW50IEx1Y2lhJ1xuXHR8ICdMaWVjaHRlbnN0ZWluJ1xuXHR8ICdTcmkgTGFua2EnXG5cdHwgJ0xpYmVyaWEnXG5cdHwgJ0xlc290aG8nXG5cdHwgJ0xpdGh1YW5pYSdcblx0fCAnTHV4ZW1ib3VyZydcblx0fCAnTGF0dmlhJ1xuXHR8ICdMaWJ5YSdcblx0fCAnTW9yb2Njbydcblx0fCAnTW9uYWNvJ1xuXHR8ICdNb2xkb3ZhJ1xuXHR8ICdNb250ZW5lZ3JvJ1xuXHR8ICdTYWludCBNYXJ0aW4nXG5cdHwgJ01hZGFnYXNjYXInXG5cdHwgJ01hcnNoYWxsIElzbGFuZHMnXG5cdHwgJ01hY2Vkb25pYSdcblx0fCAnTWFsaSdcblx0fCAnTXlhbm1hciBbQnVybWFdJ1xuXHR8ICdNb25nb2xpYSdcblx0fCAnTWFjYW8nXG5cdHwgJ05vcnRoZXJuIE1hcmlhbmEgSXNsYW5kcydcblx0fCAnTWFydGluaXF1ZSdcblx0fCAnTWF1cml0YW5pYSdcblx0fCAnTW9udHNlcnJhdCdcblx0fCAnTWFsdGEnXG5cdHwgJ01hdXJpdGl1cydcblx0fCAnTWFsZGl2ZXMnXG5cdHwgJ01hbGF3aSdcblx0fCAnTWV4aWNvJ1xuXHR8ICdNYWxheXNpYSdcblx0fCAnTW96YW1iaXF1ZSdcblx0fCAnTmFtaWJpYSdcblx0fCAnTmV3IENhbGVkb25pYSdcblx0fCAnTmlnZXInXG5cdHwgJ05vcmZvbGsgSXNsYW5kJ1xuXHR8ICdOaWdlcmlhJ1xuXHR8ICdOaWNhcmFndWEnXG5cdHwgJ05ldGhlcmxhbmRzJ1xuXHR8ICdOb3J3YXknXG5cdHwgJ05lcGFsJ1xuXHR8ICdOYXVydSdcblx0fCAnTml1ZSdcblx0fCAnTmV3IFplYWxhbmQnXG5cdHwgJ09tYW4nXG5cdHwgJ1BhbmFtYSdcblx0fCAnUGVydSdcblx0fCAnRnJlbmNoIFBvbHluZXNpYSdcblx0fCAnUGFwdWEgTmV3IEd1aW5lYSdcblx0fCAnUGhpbGlwcGluZXMnXG5cdHwgJ1Bha2lzdGFuJ1xuXHR8ICdQb2xhbmQnXG5cdHwgJ1NhaW50IFBpZXJyZSBhbmQgTWlxdWVsb24nXG5cdHwgJ1BpdGNhaXJuIElzbGFuZHMnXG5cdHwgJ1B1ZXJ0byBSaWNvJ1xuXHR8ICdQYWxlc3RpbmUnXG5cdHwgJ1BvcnR1Z2FsJ1xuXHR8ICdQYWxhdSdcblx0fCAnUGFyYWd1YXknXG5cdHwgJ1FhdGFyJ1xuXHR8ICdSw6l1bmlvbidcblx0fCAnUm9tYW5pYSdcblx0fCAnU2VyYmlhJ1xuXHR8ICdSdXNzaWEnXG5cdHwgJ1J3YW5kYSdcblx0fCAnU2F1ZGkgQXJhYmlhJ1xuXHR8ICdTb2xvbW9uIElzbGFuZHMnXG5cdHwgJ1NleWNoZWxsZXMnXG5cdHwgJ1N1ZGFuJ1xuXHR8ICdTd2VkZW4nXG5cdHwgJ1NpbmdhcG9yZSdcblx0fCAnU2FpbnQgSGVsZW5hJ1xuXHR8ICdTbG92ZW5pYSdcblx0fCAnU3ZhbGJhcmQgYW5kIEphbiBNYXllbidcblx0fCAnU2xvdmFraWEnXG5cdHwgJ1NpZXJyYSBMZW9uZSdcblx0fCAnU2FuIE1hcmlubydcblx0fCAnU2VuZWdhbCdcblx0fCAnU29tYWxpYSdcblx0fCAnU3VyaW5hbWUnXG5cdHwgJ1NvdXRoIFN1ZGFuJ1xuXHR8ICdTw6NvIFRvbcOpIGFuZCBQcsOtbmNpcGUnXG5cdHwgJ0VsIFNhbHZhZG9yJ1xuXHR8ICdTaW50IE1hYXJ0ZW4nXG5cdHwgJ1N5cmlhJ1xuXHR8ICdTd2F6aWxhbmQnXG5cdHwgJ1R1cmtzIGFuZCBDYWljb3MgSXNsYW5kcydcblx0fCAnQ2hhZCdcblx0fCAnRnJlbmNoIFNvdXRoZXJuIFRlcnJpdG9yaWVzJ1xuXHR8ICdUb2dvJ1xuXHR8ICdUaGFpbGFuZCdcblx0fCAnVGFqaWtpc3Rhbidcblx0fCAnVG9rZWxhdSdcblx0fCAnRWFzdCBUaW1vcidcblx0fCAnVHVya21lbmlzdGFuJ1xuXHR8ICdUdW5pc2lhJ1xuXHR8ICdUb25nYSdcblx0fCAnVHVya2V5J1xuXHR8ICdUcmluaWRhZCBhbmQgVG9iYWdvJ1xuXHR8ICdUdXZhbHUnXG5cdHwgJ1RhaXdhbidcblx0fCAnVGFuemFuaWEnXG5cdHwgJ1VrcmFpbmUnXG5cdHwgJ1VnYW5kYSdcblx0fCAnVS5TLiBNaW5vciBPdXRseWluZyBJc2xhbmRzJ1xuXHR8ICdVbml0ZWQgU3RhdGVzJ1xuXHR8ICdVcnVndWF5J1xuXHR8ICdVemJla2lzdGFuJ1xuXHR8ICdWYXRpY2FuIENpdHknXG5cdHwgJ1NhaW50IFZpbmNlbnQgYW5kIHRoZSBHcmVuYWRpbmVzJ1xuXHR8ICdWZW5lenVlbGEnXG5cdHwgJ0JyaXRpc2ggVmlyZ2luIElzbGFuZHMnXG5cdHwgJ1UuUy4gVmlyZ2luIElzbGFuZHMnXG5cdHwgJ1ZpZXRuYW0nXG5cdHwgJ1ZhbnVhdHUnXG5cdHwgJ1dhbGxpcyBhbmQgRnV0dW5hJ1xuXHR8ICdTYW1vYSdcblx0fCAnS29zb3ZvJ1xuXHR8ICdZZW1lbidcblx0fCAnTWF5b3R0ZSdcblx0fCAnU291dGggQWZyaWNhJ1xuXHR8ICdaYW1iaWEnXG5cdHwgJ1ppbWJhYndlJ1xuXHR8IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3VudHJ5TmFtZShjb3VudHJ5OiBudWxsKTogbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3VudHJ5TmFtZShjb3VudHJ5OiBDb3VudHJ5KTogQ291bnRyeU5hbWU7XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q291bnRyeU5hbWUoY291bnRyeTogQ291bnRyeSB8IG51bGwpOiBDb3VudHJ5TmFtZSB8IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q291bnRyeU5hbWUoY291bnRyeTogQ291bnRyeSB8IG51bGwpOiBDb3VudHJ5TmFtZSB8IG51bGwge1xuXHRyZXR1cm4gY291bnRyaWVzW0NvdW50cnlbY291bnRyeV1dIHx8IG51bGw7XG59XG5cbmV4cG9ydCBjb25zdCBjb3VudHJpZXNJZHNUb05hbWVzQXJyYXk6IEFycmF5PHtcblx0aWQ6IENvdW50cnk7XG5cdG5hbWU6IENvdW50cnlOYW1lO1xufT4gPSBPYmplY3Qua2V5cyhjb3VudHJpZXMpLm1hcCgoYWJicikgPT4ge1xuXHRyZXR1cm4geyBpZDogQ291bnRyeVthYmJyXSwgbmFtZTogZ2V0Q291bnRyeU5hbWUoK0NvdW50cnlbYWJicl0pIH07XG59KTtcbiIsImltcG9ydCBHZW9Mb2NhdGlvbiBmcm9tICcuL0dlb0xvY2F0aW9uJztcbmltcG9ydCB7IERCT2JqZWN0LCBTY2hlbWEsIE1vZGVsTmFtZSwgVHlwZXMsIGdldFNjaGVtYSB9IGZyb20gJy4uL0BweXJvL2RiJztcbmltcG9ydCBJSW52aXRlIGZyb20gJy4uL2ludGVyZmFjZXMvSUludml0ZSc7XG5pbXBvcnQgeyBJSW52aXRlQ3JlYXRlT2JqZWN0IH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JSW52aXRlJztcbmltcG9ydCB7IEVudGl0eSwgQ29sdW1uIH0gZnJvbSAndHlwZW9ybSc7XG5cbi8qKlxuICogSW52aXRlIGZvciBwb3RlbnRpYWwgQ3VzdG9tZXJcbiAqIENyZWF0ZWQgYXMgcmVzdWx0IG9mIGFwcm92YWwgb2YgdGhlIEludml0ZSBSZXF1ZXN0XG4gKlxuICogQGNsYXNzIEludml0ZVxuICogQGV4dGVuZHMge0RCT2JqZWN0PElJbnZpdGUsIElJbnZpdGVDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lJbnZpdGV9XG4gKi9cbkBNb2RlbE5hbWUoJ0ludml0ZScpXG5ARW50aXR5KHsgbmFtZTogJ2ludml0ZXMnIH0pXG5jbGFzcyBJbnZpdGUgZXh0ZW5kcyBEQk9iamVjdDxJSW52aXRlLCBJSW52aXRlQ3JlYXRlT2JqZWN0PiBpbXBsZW1lbnRzIElJbnZpdGUge1xuXHRjb25zdHJ1Y3RvcihpbnZpdGU6IElJbnZpdGUpIHtcblx0XHRzdXBlcihpbnZpdGUpO1xuXG5cdFx0aWYgKGludml0ZSAmJiBpbnZpdGUuZ2VvTG9jYXRpb24pIHtcblx0XHRcdHRoaXMuZ2VvTG9jYXRpb24gPSBuZXcgR2VvTG9jYXRpb24oaW52aXRlLmdlb0xvY2F0aW9uKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSW52aXRlIGNvZGUgKHVzdWFsbHkganVzdCA0IGRpZ2l0IG51bWJlciksIHdoaWNoIEN1c3RvbWVyIGNhbiB1c2UgdG8gY29udGludWUgcmVnaXN0cmF0aW9uXG5cdCAqIE5vdGU6IGludml0ZSBjb2RlIHdvcmtzIG9ubHkgd2l0aGluIHNwZWNpZmljIHJhZGl1cyBsb2NhdGlvbiBhcm91bmQgY3VzdG9tZXIgYWRkcmVzcyFcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIEludml0ZVxuXHQgKi9cblx0QFR5cGVzLlN0cmluZygpXG5cdEBDb2x1bW4oKVxuXHRjb2RlOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIEFwYXJ0bWVudCAob3B0aW9uYWwpIGZvciB3aGljaCBpbnZpdGUgd2lsbCB3b3JrXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBJbnZpdGVcblx0ICovXG5cdEBUeXBlcy5TdHJpbmcoKVxuXHRAQ29sdW1uKClcblx0YXBhcnRtZW50OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIExvY2F0aW9uIChBZGRyZXNzKSBvZiBpbnZpdGVkIEN1c3RvbWVyXG5cdCAqXG5cdCAqIEB0eXBlIHtHZW9Mb2NhdGlvbn1cblx0ICogQG1lbWJlcm9mIEludml0ZVxuXHQgKi9cblx0QFNjaGVtYShnZXRTY2hlbWEoR2VvTG9jYXRpb24pKVxuXHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb247XG5cblx0QFR5cGVzLkJvb2xlYW4oZmFsc2UpXG5cdEBDb2x1bW4oKVxuXHRpc0RlbGV0ZWQ6IGJvb2xlYW47XG5cblx0dG9JbnZpdGVSZXF1ZXN0RmluZE9iamVjdCgpOiB7XG5cdFx0Z2VvTG9jYXRpb246IEdlb0xvY2F0aW9uO1xuXHRcdGFwYXJ0bWVudDogc3RyaW5nO1xuXHR9IHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Z2VvTG9jYXRpb246IHRoaXMuZ2VvTG9jYXRpb24sXG5cdFx0XHRhcGFydG1lbnQ6IHRoaXMuYXBhcnRtZW50LFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW52aXRlO1xuIiwiaW1wb3J0IHsgREJPYmplY3QsIFNjaGVtYSwgTW9kZWxOYW1lLCBUeXBlcywgZ2V0U2NoZW1hIH0gZnJvbSAnLi4vQHB5cm8vZGInO1xuaW1wb3J0IHtcblx0SUludml0ZVJlcXVlc3RDcmVhdGVPYmplY3QsXG5cdElJbnZpdGVSZXF1ZXN0UmF3T2JqZWN0LFxufSBmcm9tICcuLi9pbnRlcmZhY2VzL0lJbnZpdGVSZXF1ZXN0JztcbmltcG9ydCB7IGRlZmF1bHQgYXMgR2VvTG9jYXRpb24gfSBmcm9tICcuL0dlb0xvY2F0aW9uJztcbmltcG9ydCBJRW50ZXJCeUxvY2F0aW9uIGZyb20gJy4uL2ludGVyZmFjZXMvSUVudGVyQnlMb2NhdGlvbic7XG5pbXBvcnQgeyBFbnRpdHksIENvbHVtbiB9IGZyb20gJ3R5cGVvcm0nO1xuXG4vKipcbiAqIFJlcXVlc3RzIGZvciBpbnZpdGUgZnJvbSBwb3RlbnRpYWwgQ3VzdG9tZXJzXG4gKiBDdXN0b21lcnMgYXNrIHRvIGJlIGludml0ZWQgKG9wdGlvbmFsbHksIGlmIGludml0ZXMgc3lzdGVtIGVuYWJsZWQpIGZvciBnaXZlbiBsb2NhdGlvbiAoYWRkcmVzcykuXG4gKiBMYXRlciwgU3RvcmUgb3duZXIgZGVjaWRlIGlmIGhlIHdhbnRzIHRvIGFwcHJvdmUgaW52aXRlIHJlcXVlc3QgKGJ5IGdlbmVyYXRpbmcgaW52aXRlIHJlY29yZCkuXG4gKlxuICogQGNsYXNzIEludml0ZVJlcXVlc3RcbiAqIEBleHRlbmRzIHtEQk9iamVjdDxJSW52aXRlUmVxdWVzdFJhd09iamVjdCwgSUludml0ZVJlcXVlc3RDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lJbnZpdGVSZXF1ZXN0UmF3T2JqZWN0fVxuICovXG5ATW9kZWxOYW1lKCdJbnZpdGVSZXF1ZXN0JylcbkBFbnRpdHkoeyBuYW1lOiAnaW52aXRlcmVxdWVzdHMnIH0pXG5jbGFzcyBJbnZpdGVSZXF1ZXN0XG5cdGV4dGVuZHMgREJPYmplY3Q8SUludml0ZVJlcXVlc3RSYXdPYmplY3QsIElJbnZpdGVSZXF1ZXN0Q3JlYXRlT2JqZWN0PlxuXHRpbXBsZW1lbnRzIElJbnZpdGVSZXF1ZXN0UmF3T2JqZWN0IHtcblx0Y29uc3RydWN0b3IoaW52aXRlUmVxdWVzdDogSUludml0ZVJlcXVlc3RSYXdPYmplY3QpIHtcblx0XHRzdXBlcihpbnZpdGVSZXF1ZXN0KTtcblxuXHRcdGlmIChpbnZpdGVSZXF1ZXN0ICYmIGludml0ZVJlcXVlc3QuZ2VvTG9jYXRpb24pIHtcblx0XHRcdHRoaXMuZ2VvTG9jYXRpb24gPSBuZXcgR2VvTG9jYXRpb24oaW52aXRlUmVxdWVzdC5nZW9Mb2NhdGlvbik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEN1cnJlbnQgbG9jYXRpb24gKGFkZHJlc3MpIG9mIHBlcnNvbiB3aG8gcmVxdWVzdCBpbnZpdGVcblx0ICpcblx0ICogQHR5cGUge0dlb0xvY2F0aW9ufVxuXHQgKiBAbWVtYmVyb2YgSW52aXRlUmVxdWVzdFxuXHQgKi9cblx0QFNjaGVtYShnZXRTY2hlbWEoR2VvTG9jYXRpb24pKVxuXHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb247XG5cblx0LyoqXG5cdCAqIElEIG9mIHBvdGVudGlhbCBjdXN0b21lciBkZXZpY2Vcblx0ICogTm90ZTogdXNlZCB0byBzZW5kIHB1c2ggbm90aWZpY2F0aW9uIHRvIGN1c3RvbWVyIHdoZW4gc3RvcmUgb3duZXIgZGVjaWRlIHRvIGludml0ZSBoZXIvaGltXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBJbnZpdGVSZXF1ZXN0XG5cdCAqL1xuXHRAU2NoZW1hKHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBTdHJpbmcgfSlcblx0QENvbHVtbigpXG5cdGRldmljZUlkPzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBBcGFydG1lbnQgb2YgcG90ZW50aWFsIEN1c3RvbWVyIChvcHRpb25hbGx5KVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgSW52aXRlUmVxdWVzdFxuXHQgKi9cblx0QFR5cGVzLlN0cmluZygpXG5cdEBDb2x1bW4oKVxuXHRhcGFydG1lbnQ6IHN0cmluZztcblxuXHRAU2NoZW1hKHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0aXNNYW51YWw/OiBib29sZWFuO1xuXG5cdEBUeXBlcy5Cb29sZWFuKGZhbHNlKVxuXHRAQ29sdW1uKClcblx0aXNEZWxldGVkOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJZiB0aGlzIHJlcXVpcmUgaW52aXRlIGFwcHJvdmVkLCBpc0ludml0ZWQgZmllbGQgc2V0IHRvIHRydWVcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBJbnZpdGVSZXF1ZXN0XG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGlzSW52aXRlZDogYm9vbGVhbjtcblxuXHQvKipcblx0ICogVGhlIGRhdGUgd2hlbiBpbnZpdGUgd2FzIHNlbnQgdG8gdGhlIHBvdGVudGlhbCBjdXN0b21lclxuXHQgKlxuXHQgKiBAdHlwZSB7RGF0ZX1cblx0ICogQG1lbWJlcm9mIEludml0ZVJlcXVlc3Rcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBEYXRlLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdGludml0ZWREYXRlOiBEYXRlO1xuXG5cdHRvQWRkcmVzc1N0cmluZygpOiBzdHJpbmcgfCBudWxsIHtcblx0XHRpZiAoIXRoaXMuZ2VvTG9jYXRpb24pIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdGxldCBhZGRyZXNzID0gYCR7dGhpcy5nZW9Mb2NhdGlvbi5zdHJlZXRBZGRyZXNzfSAke3RoaXMuZ2VvTG9jYXRpb24uaG91c2V9YDtcblxuXHRcdGlmICh0aGlzLmFwYXJ0bWVudCkge1xuXHRcdFx0YWRkcmVzcyArPSBgLyR7dGhpcy5hcGFydG1lbnR9YDtcblx0XHR9XG5cblx0XHRhZGRyZXNzICs9IGAsICR7dGhpcy5nZW9Mb2NhdGlvbi5jaXR5fWA7XG5cblx0XHRyZXR1cm4gYWRkcmVzcztcblx0fVxuXG5cdHRvRW50ZXJCeUxvY2F0aW9uVG9rZW4oKTogSUVudGVyQnlMb2NhdGlvbiB7XG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5nZW9Mb2NhdGlvbi5ob3VzZSAhPSBudWxsICYmXG5cdFx0XHR0aGlzLmdlb0xvY2F0aW9uLnN0cmVldEFkZHJlc3MgIT0gbnVsbCAmJlxuXHRcdFx0dGhpcy5nZW9Mb2NhdGlvbi5jaXR5ICE9IG51bGwgJiZcblx0XHRcdHRoaXMuZ2VvTG9jYXRpb24uY291bnRyeUlkICE9IG51bGxcblx0XHQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGFwYXJ0bWVudDogdGhpcy5hcGFydG1lbnQsXG5cdFx0XHRcdGhvdXNlOiB0aGlzLmdlb0xvY2F0aW9uLmhvdXNlLFxuXHRcdFx0XHRzdHJlZXRBZGRyZXNzOiB0aGlzLmdlb0xvY2F0aW9uLnN0cmVldEFkZHJlc3MsXG5cdFx0XHRcdGNpdHk6IHRoaXMuZ2VvTG9jYXRpb24uY2l0eSxcblx0XHRcdFx0cG9zdGNvZGU6IHRoaXMuZ2VvTG9jYXRpb24ucG9zdGNvZGUsXG5cdFx0XHRcdGNvdW50cnlJZDogdGhpcy5nZW9Mb2NhdGlvbi5jb3VudHJ5SWQsXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0dlb0xvY2F0aW9uIGlzIG5vdCBmdWxsIScpO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnZpdGVSZXF1ZXN0O1xuIiwiaW1wb3J0IFVzZXJPcmRlciBmcm9tICcuL1VzZXJPcmRlcic7XG5pbXBvcnQgV2FyZWhvdXNlIGZyb20gJy4vV2FyZWhvdXNlJztcbmltcG9ydCBPcmRlclByb2R1Y3QgZnJvbSAnLi9PcmRlclByb2R1Y3QnO1xuaW1wb3J0IENhcnJpZXIgZnJvbSAnLi9DYXJyaWVyJztcbmltcG9ydCB7XG5cdERCT2JqZWN0LFxuXHRTY2hlbWEsXG5cdEluZGV4LFxuXHRNb2RlbE5hbWUsXG5cdFR5cGVzLFxuXHRnZXRTY2hlbWEsXG59IGZyb20gJy4uL0BweXJvL2RiJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCBPcmRlcldhcmVob3VzZVN0YXR1cywge1xuXHR3YXJlaG91c2VTdGF0dXNUb1N0cmluZyxcbn0gZnJvbSAnLi4vZW51bXMvT3JkZXJXYXJlaG91c2VTdGF0dXMnO1xuaW1wb3J0IE9yZGVyQ2FycmllclN0YXR1cywge1xuXHRjYXJyaWVyU3RhdHVzVG9TdHJpbmcsXG59IGZyb20gJy4uL2VudW1zL09yZGVyQ2FycmllclN0YXR1cyc7XG5pbXBvcnQgSU9yZGVyLCB7IElPcmRlckNyZWF0ZU9iamVjdCB9IGZyb20gJy4uL2ludGVyZmFjZXMvSU9yZGVyJztcbmltcG9ydCBJV2FyZWhvdXNlIGZyb20gJy4uL2ludGVyZmFjZXMvSVdhcmVob3VzZSc7XG5pbXBvcnQgSUNhcnJpZXIgZnJvbSAnLi4vaW50ZXJmYWNlcy9JQ2Fycmllcic7XG5pbXBvcnQgT3JkZXJTdGF0dXMgZnJvbSAnLi4vZW51bXMvT3JkZXJTdGF0dXMnO1xuaW1wb3J0IElMYW5ndWFnZSBmcm9tICcuLi9pbnRlcmZhY2VzL0lMYW5ndWFnZSc7XG5pbXBvcnQgeyBFbnRpdHksIENvbHVtbiB9IGZyb20gJ3R5cGVvcm0nO1xuaW1wb3J0IElPcmRlclByb2R1Y3QgZnJvbSAnLi4vaW50ZXJmYWNlcy9JT3JkZXJQcm9kdWN0JztcbmltcG9ydCBEZWxpdmVyeVR5cGUgZnJvbSAnLi4vZW51bXMvRGVsaXZlcnlUeXBlJztcblxuLyoqXG4gKiBDdXN0b21lciBPcmRlciAoZm9yIHNvbWUgcHJvZHVjdHMgb3Igc2VydmljZXMpXG4gKlxuICogQGNsYXNzIE9yZGVyXG4gKiBAZXh0ZW5kcyB7REJPYmplY3Q8SU9yZGVyLCBJT3JkZXJDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lPcmRlcn1cbiAqL1xuQE1vZGVsTmFtZSgnT3JkZXInKVxuQEVudGl0eSh7IG5hbWU6ICdvcmRlcnMnIH0pXG5jbGFzcyBPcmRlciBleHRlbmRzIERCT2JqZWN0PElPcmRlciwgSU9yZGVyQ3JlYXRlT2JqZWN0PiBpbXBsZW1lbnRzIElPcmRlciB7XG5cdGNvbnN0cnVjdG9yKG9yZGVyOiBJT3JkZXIpIHtcblx0XHRzdXBlcihvcmRlcik7XG5cblx0XHRpZiAob3JkZXIpIHtcblx0XHRcdGlmIChvcmRlci51c2VyKSB7XG5cdFx0XHRcdHRoaXMudXNlciA9IG5ldyBVc2VyT3JkZXIob3JkZXIudXNlcik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcblx0XHRcdFx0b3JkZXIud2FyZWhvdXNlICYmXG5cdFx0XHRcdG9yZGVyLndhcmVob3VzZSAhPSBudWxsICYmXG5cdFx0XHRcdHR5cGVvZiBvcmRlci53YXJlaG91c2UgIT09ICdzdHJpbmcnXG5cdFx0XHQpIHtcblx0XHRcdFx0dGhpcy53YXJlaG91c2UgPSBuZXcgV2FyZWhvdXNlKG9yZGVyLndhcmVob3VzZSBhcyBJV2FyZWhvdXNlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFxuXHRcdFx0XHRvcmRlci5jYXJyaWVyICYmXG5cdFx0XHRcdG9yZGVyLmNhcnJpZXIgIT0gbnVsbCAmJlxuXHRcdFx0XHR0eXBlb2Ygb3JkZXIuY2FycmllciAhPT0gJ3N0cmluZydcblx0XHRcdCkge1xuXHRcdFx0XHR0aGlzLmNhcnJpZXIgPSBuZXcgQ2FycmllcihvcmRlci5jYXJyaWVyIGFzIElDYXJyaWVyKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG9yZGVyLnByb2R1Y3RzICYmIG9yZGVyLnByb2R1Y3RzICE9IG51bGwpIHtcblx0XHRcdFx0dGhpcy5wcm9kdWN0cyA9IF8ubWFwKFxuXHRcdFx0XHRcdG9yZGVyLnByb2R1Y3RzLFxuXHRcdFx0XHRcdChvcmRlclByb2R1Y3Q6IElPcmRlclByb2R1Y3QpID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiBuZXcgT3JkZXJQcm9kdWN0KG9yZGVyUHJvZHVjdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBVc2VyIHdobyBtYWtlIG9yZGVyLiBOb3RlOiB0aGlzIGlzIG5vdCBhIHJlZmVyZW5jZSxcblx0ICogYnV0IGluZm8gd2UgcHV0IGhlcmUgaW4gdGhlIG1vbWVudCB3aGVuIE9yZGVyIGlzIGNyZWF0aW5nLlxuXHQgKiBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHdlIHdhbnQgdG8gbm90IGFsbG93IHVzZXIgdG8gY2hhbmdlXG5cdCAqIHRoaXMgZGF0YSBpbiBoaXMgcHJvZmlsZSBsYXRlciBzbyBpdCBlZmZlY3RzIGhpcyBvcmRlcnNcblx0ICpcblx0ICogQHR5cGUge1VzZXJPcmRlcn1cblx0ICogQG1lbWJlcm9mIE9yZGVyXG5cdCAqL1xuXHRASW5kZXgoMSlcblx0QFNjaGVtYShnZXRTY2hlbWEoVXNlck9yZGVyKSlcblx0dXNlcjogVXNlck9yZGVyO1xuXG5cdC8qKlxuXHQgKiBFdmVyeSBvcmRlciBnbyB0byBzaW5nbGUgbWVyY2hhbnQgb25seS5cblx0ICogQ3VycmVudGx5LCBpdCBpcyBub3QgcG9zc2libGUgdG8gaW5jbHVkZSBpdGVtcyBpbiB0aGUgb3JkZXIgZnJvbSBkaWZmZXJlbnQgbWVyY2hhbnRzIVxuXHQgKlxuXHQgKiBAdHlwZSB7KFdhcmVob3VzZSB8IHN0cmluZyl9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0QEluZGV4KDEpXG5cdEBUeXBlcy5SZWYoV2FyZWhvdXNlKVxuXHR3YXJlaG91c2U6IFdhcmVob3VzZSB8IHN0cmluZztcblxuXHRnZXQgd2FyZWhvdXNlSWQoKTogc3RyaW5nIHtcblx0XHRpZiAodHlwZW9mIHRoaXMud2FyZWhvdXNlID09PSAnc3RyaW5nJykge1xuXHRcdFx0cmV0dXJuIHRoaXMud2FyZWhvdXNlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy53YXJlaG91c2UuaWQ7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNhbWUgYXMgZm9yIGN1c3RvbWVyLCBpdCdzIG5vdCBhIHJlZmVyZW5jZSBidXQgY29weSBvZiBkYXRhIGFib3V0IHByb2R1Y3RzXG5cdCAqXG5cdCAqIEB0eXBlIHtPcmRlclByb2R1Y3RbXX1cblx0ICogQG1lbWJlcm9mIE9yZGVyXG5cdCAqL1xuXHRAU2NoZW1hKFtnZXRTY2hlbWEoT3JkZXJQcm9kdWN0KV0pXG5cdHByb2R1Y3RzOiBPcmRlclByb2R1Y3RbXTtcblxuXHQvKipcblx0ICogQ2xpZW50IGNhbiBjb25maXJtIG9yZGVyIG9yIG9yZGVyIGNhbiBiZSBhdXRvLWNvbmZpcm1lZFxuXHQgKiBGb3IgZXhhbXBsZSwgY2xpZW50IG1ha2UgYW4gb3JkZXIgZnJvbSBtb2JpbGUgYXBwIChwcmVzcyBidXR0b24gXCJCdXlcIikuXG5cdCAqIE5leHQsIHdoZW4gaGUgcGF5IGJ5IENDIG1vYmlsZSBhcHAgc2VuZCBhbm90aGVyIHJlcXVlc3QgdG8gc2VydmVyIGFuZCBzZXQgdGhpcyBmaWVsZCB0byB0cnVlIChjb25maXJtIG9yZGVyKVxuXHQgKiBBbHRlcm5hdGl2ZSwgY291bGQgYmUgdG8gYXNrIGN1c3RvbWVyIGFnYWluIGxpa2UgXCJQbGVhc2UgY29uZmlybSB5b3VyIG9yZGVyXCIuXG5cdCAqIFNvbWUgc3RvcmVzIGhvd2V2ZXIsIG1heSB3YW50IG9yZGVycyB0byBiZSBhdXRvbWF0aWNhbGx5IGNvbmZpcm1lZCwgZS5nLiB3aGVuIHVzZXIgY2xpY2sgXCJCdXlcIiBidXR0b24uXG5cdCAqIFRoZXkgc3RpbGwgd2lsbCBzZXQgc2VwYXJhdGUgcmVxdWVzdCB0byBzZXQgdGhpcyBmaWVsZCB0byBcInRydWVcIiBpbiBzdWNoIGNhc2VzLCBidXQgZG8gbm90IGFzayBjdXN0b21lclxuXHQgKiB0byBleHBsaWNpdGx5IGNvbmZpcm0gb3JkZXJcblx0ICpcblx0ICogTm90ZTogdGhpcyBmaWVsZCBoYXZlIG5vdGhpbmcgdG8gZG8gd2l0aCBXYXJlaG91c2UgXCJSZWFkeUZvclByb2Nlc3NpbmdcIlxuXHQgKiB3aGljaCBpcyBzZXQgd2hlbiB3YXJlaG91c2UgQ29uZmlybXMgYW4gb3JkZXIsIG5vdCB3aGVuIGNsaWVudCAoY3VzdG9tZXIpIGNvbmZpcm1zIGl0XG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgT3JkZXJcblx0ICovXG5cdEBUeXBlcy5Cb29sZWFuKGZhbHNlKVxuXHRAQ29sdW1uKClcblx0aXNDb25maXJtZWQ6IGJvb2xlYW47XG5cblx0LyoqXG5cdCAqIElzIE9yZGVyIENhbmNlbGxlZFxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIE9yZGVyXG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGlzQ2FuY2VsbGVkOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJcyBPcmRlciBQYWlkIGJ5IEN1c3RvbWVyXG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgT3JkZXJcblx0ICovXG5cdEBUeXBlcy5Cb29sZWFuKGZhbHNlKVxuXHRAQ29sdW1uKClcblx0aXNQYWlkOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBDb21wbGV0ZWQgbWF5IG1lYW4gaXQncyBwYWlkIGFuZCBjdXN0b21lciBnZXQgaXRcblx0ICogT1IgY3VzdG9tZXIgZG9uJ3QgdGFrZSBvcmRlciBhbmQgaXQgZ2V0IGJhY2sgdG8gd2FyZWhvdXNlLiBJdCdzIEZJTkFMIGluIHRoZSBmbG93LlxuXHQgKlxuXHQgKiBAcmVhZG9ubHlcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0Z2V0IGlzQ29tcGxldGVkKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiAoXG5cdFx0XHQodGhpcy5pc1BhaWQgJiYgdGhpcy5zdGF0dXMgPT09IE9yZGVyU3RhdHVzLkRlbGl2ZXJlZCkgfHxcblx0XHRcdHRoaXMuaXNDYW5jZWxsZWRcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlbGl2ZXIgdGltZSBmb3Igb3JkZXIgKERhdGVUaW1lIHdoZW4gb3JkZXIgd2FzIGFjdHVhbGx5IGRlbGl2ZXJlZCB0byBjdXN0b21lcilcblx0ICpcblx0ICogQHR5cGUge0RhdGV9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0ZGVsaXZlcnlUaW1lPzogRGF0ZTtcblxuXHQvKipcblx0ICogVGltZSB3aGVuIG9yZGVyIHByb2Nlc3NpbmcgaXMgZmluaXNoZWRcblx0ICogaS5lIG9yZGVyIGJlY29tZSBjYW5jZWxlZCBmcm9tIGN1c3RvbWVyIG9yIGdldCBmYWlsZWQgZHVyaW5nIFN0b3JlIHByZXBhcmluZyBldGMuXG5cdCAqXG5cdCAqIEB0eXBlIHtEYXRlfVxuXHQgKiBAbWVtYmVyb2YgT3JkZXJcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBEYXRlLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdGZpbmlzaGVkUHJvY2Vzc2luZ1RpbWU/OiBEYXRlO1xuXG5cdC8qKlxuXHQgKiBUaGUgdGltZSB3aGVuIHNvbWUgY2FycmllciBzdGFydCBkZWxpdmVyeSB0aGUgb3JkZXJcblx0ICpcblx0ICogQHR5cGUge0RhdGV9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0c3RhcnREZWxpdmVyeVRpbWU/OiBEYXRlO1xuXG5cdC8qKlxuXHQgKiBIb3cgbWFueSBzZWNvbmRzIG1vcmUgaXQgc2hvdWxkIHRha2UgdG8gZGVsaXZlcnkgb3JkZXIgdG8gY3VzdG9tZXJcblx0ICogKHJlc2V0IHRvIDAgd2hlbiBvcmRlciBpcyBkZWxpdmVyZWQgb3Igd2hlbiBjYXJyaWVyIGlzIG5vdCBkZWxpdmVyIGFueSBvcmRlciB0byB0aGUgY3VzdG9tZXIpXG5cdCAqXG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0QFR5cGVzLk51bWJlcigwKVxuXHRAQ29sdW1uKClcblx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IG51bWJlcjtcblxuXHQvKipcblx0ICogQ3VycmVudCBXYXJlaG91c2Ugc3RhdHVzIG9mIHRoZSBvcmRlclxuXHQgKlxuXHQgKiBAdHlwZSB7T3JkZXJXYXJlaG91c2VTdGF0dXN9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0QFR5cGVzLk51bWJlcihPcmRlcldhcmVob3VzZVN0YXR1cy5Ob1N0YXR1cylcblx0QENvbHVtbigpXG5cdHdhcmVob3VzZVN0YXR1czogT3JkZXJXYXJlaG91c2VTdGF0dXM7XG5cblx0LyoqXG5cdCAqIEN1cnJlbnQgQ2FycmllciBzdGF0dXMgb2YgdGhlIG9yZGVyXG5cdCAqXG5cdCAqIEB0eXBlIHtPcmRlckNhcnJpZXJTdGF0dXN9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0QFR5cGVzLk51bWJlcihPcmRlckNhcnJpZXJTdGF0dXMuTm9DYXJyaWVyKVxuXHRAQ29sdW1uKClcblx0Y2FycmllclN0YXR1czogT3JkZXJDYXJyaWVyU3RhdHVzO1xuXG5cdC8qKlxuXHQgKiBTb21lIGNhcnJpZXIgd2hpY2ggcmVzcG9uc2libGUgdG8gZGVsaXZlciBvcmRlciB0byB0aGUgY2xpZW50XG5cdCAqIChjYW4gYmUgZW1wdHkgaWYgb3JkZXIgaXMgbm90IHBsYW5lZCBmb3IgZGVsaXZlcnkgeWV0KVxuXHQgKlxuXHQgKiBAdHlwZSB7KENhcnJpZXIgfCBzdHJpbmcgfCBudWxsKX1cblx0ICogQG1lbWJlcm9mIE9yZGVyXG5cdCAqL1xuXHRAVHlwZXMuUmVmKENhcnJpZXIsIHsgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdGNhcnJpZXI/OiBDYXJyaWVyIHwgc3RyaW5nIHwgbnVsbDtcblxuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGlzRGVsZXRlZDogYm9vbGVhbjtcblxuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdHN0cmlwZUNoYXJnZUlkPzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBIdW1hbiByZWFkYWJsZSBPcmRlciBOdW1iZXIgaW4gdGhlIFN0b3JlIChzaG9ydCBpZCBvZiBvcmRlciwgdW5pcXVlIGluIHRoZSBnaXZlbiBzdG9yZSBvbmx5KVxuXHQgKlxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKiBAbWVtYmVyb2YgT3JkZXJcblx0ICovXG5cdEBUeXBlcy5OdW1iZXIoKVxuXHRAQ29sdW1uKClcblx0b3JkZXJOdW1iZXI6IG51bWJlcjtcblxuXHQvKipcblx0ICogVHlwZSBvZiB0aGUgb3JkZXI6IERlbGl2ZXJ5IG9yIFRha2Vhd2F5XG5cdCAqXG5cdCAqIEB0eXBlIHtEZWxpdmVyeVR5cGV9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0QFR5cGVzLk51bWJlcihEZWxpdmVyeVR5cGUuRGVsaXZlcnkpXG5cdEBDb2x1bW4oKVxuXHRvcmRlclR5cGU6IERlbGl2ZXJ5VHlwZTtcblxuXHRnZXQgY2FycmllcklkKCk6IHN0cmluZyB8IG51bGwge1xuXHRcdGlmICh0aGlzLmNhcnJpZXIgPT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgdGhpcy5jYXJyaWVyID09PSAnc3RyaW5nJykge1xuXHRcdFx0cmV0dXJuIHRoaXMuY2Fycmllcjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMuY2Fycmllci5pZDtcblx0XHR9XG5cdH1cblxuXHRnZXQgd2FyZWhvdXNlU3RhdHVzVGV4dCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB3YXJlaG91c2VTdGF0dXNUb1N0cmluZyh0aGlzLndhcmVob3VzZVN0YXR1cyk7XG5cdH1cblxuXHRnZXQgY2FycmllclN0YXR1c1RleHQoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gY2FycmllclN0YXR1c1RvU3RyaW5nKHRoaXMuY2FycmllclN0YXR1cyk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IFRvdGFsIFByaWNlIGZvciBhbiBvcmRlclxuXHQgKlxuXHQgKiBAcmVhZG9ubHlcblx0ICogQHR5cGUge251bWJlcn1cblx0ICogQG1lbWJlcm9mIE9yZGVyXG5cdCAqL1xuXHRnZXQgdG90YWxQcmljZSgpOiBudW1iZXIge1xuXHRcdHJldHVybiBfLnN1bShcblx0XHRcdF8ubWFwKFxuXHRcdFx0XHR0aGlzLnByb2R1Y3RzLFxuXHRcdFx0XHQocHJvZHVjdDogT3JkZXJQcm9kdWN0KSA9PiBwcm9kdWN0LmNvdW50ICogcHJvZHVjdC5wcmljZVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogVE9ETzogd2Ugc2hvdWxkIHJlZmFjdG9yIGFuZCBhZGQgc3VwcG9ydCBmb3IgYWxsIGxvY2FsZXNcblx0ICpcblx0ICogQHBhcmFtIHtJTGFuZ3VhZ2V9IGxhbmd1YWdlXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0Z2V0U3RhdHVzVGV4dChsYW5ndWFnZTogSUxhbmd1YWdlKTogc3RyaW5nIHtcblx0XHRzd2l0Y2ggKGxhbmd1YWdlKSB7XG5cdFx0XHRjYXNlICdlbi1VUyc6XG5cdFx0XHRcdHJldHVybiB0aGlzLl9nZXRTdGF0dXNUZXh0RW5nbGlzaCgpO1xuXHRcdFx0Y2FzZSAnaGUtSUwnOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0U3RhdHVzVGV4dEhlYnJldygpO1xuXHRcdFx0Y2FzZSAncnUtUlUnOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0U3RhdHVzVGV4dFJ1c3NpYW4oKTtcblx0XHRcdGNhc2UgJ2JnLUJHJzpcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2dldFN0YXR1c1RleHRCdWxnYXJpYW4oKTtcblx0XHRcdGNhc2UgJ2VzLUVTJzpcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2dldFN0YXR1c1RleHRTcGFuaXNoKCk7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gJ0JBRF9TVEFUVVMnO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBPcmRlciBTdGF0dXMgYmFzZWQgb24gV2FyZWhvdXNlIGFuZCBDYXJyaWVyIFN0YXR1c2VzIHRvZ2V0aGVyXG5cdCAqXG5cdCAqIEByZWFkb25seVxuXHQgKiBAdHlwZSB7T3JkZXJTdGF0dXN9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0Z2V0IHN0YXR1cygpOiBPcmRlclN0YXR1cyB7XG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5jYXJyaWVyID09IG51bGwgfHxcblx0XHRcdHRoaXMuY2FycmllclN0YXR1cyA8PSBPcmRlckNhcnJpZXJTdGF0dXMuQ2FycmllclBpY2tlZFVwT3JkZXJcblx0XHQpIHtcblx0XHRcdGlmICh0aGlzLndhcmVob3VzZVN0YXR1cyA+PSAyMDApIHtcblx0XHRcdFx0cmV0dXJuIE9yZGVyU3RhdHVzLldhcmVob3VzZUlzc3VlO1xuXHRcdFx0fSBlbHNlIGlmICh0aGlzLmlzQ2FuY2VsbGVkKSB7XG5cdFx0XHRcdHJldHVybiBPcmRlclN0YXR1cy5DYW5jZWxlZFdoaWxlV2FyZWhvdXNlUHJlcGFyYXRpb247XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gT3JkZXJTdGF0dXMuV2FyZWhvdXNlUHJlcGFyYXRpb247XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh0aGlzLmNhcnJpZXJTdGF0dXMgPj0gMjAwKSB7XG5cdFx0XHRcdHJldHVybiBPcmRlclN0YXR1cy5DYXJyaWVySXNzdWU7XG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMuaXNDYW5jZWxsZWQpIHtcblx0XHRcdFx0cmV0dXJuIE9yZGVyU3RhdHVzLkNhbmNlbGVkV2hpbGVJbkRlbGl2ZXJ5O1xuXHRcdFx0fSBlbHNlIGlmIChcblx0XHRcdFx0dGhpcy5pc1BhaWQgJiZcblx0XHRcdFx0dGhpcy5jYXJyaWVyU3RhdHVzID09PSBPcmRlckNhcnJpZXJTdGF0dXMuRGVsaXZlcnlDb21wbGV0ZWRcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm4gT3JkZXJTdGF0dXMuRGVsaXZlcmVkO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIE9yZGVyU3RhdHVzLkluRGVsaXZlcnk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0U3RhdHVzVGV4dEVuZ2xpc2goKTogc3RyaW5nIHtcblx0XHRzd2l0Y2ggKHRoaXMuc3RhdHVzKSB7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLldhcmVob3VzZVByZXBhcmF0aW9uOlxuXHRcdFx0XHRyZXR1cm4gJ1ByZXBhcmF0aW9uJztcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuSW5EZWxpdmVyeTpcblx0XHRcdFx0cmV0dXJuICdJbiBEZWxpdmVyeSc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkRlbGl2ZXJlZDpcblx0XHRcdFx0cmV0dXJuICdEZWxpdmVyZWQnO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5DYW5jZWxlZFdoaWxlV2FyZWhvdXNlUHJlcGFyYXRpb246XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkNhbmNlbGVkV2hpbGVJbkRlbGl2ZXJ5OlxuXHRcdFx0XHRyZXR1cm4gJ0NhbmNlbGxlZCc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLldhcmVob3VzZUlzc3VlOlxuXHRcdFx0XHRyZXR1cm4gJ1ByZXBhcmF0aW9uIElzc3VlJztcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuQ2Fycmllcklzc3VlOlxuXHRcdFx0XHRyZXR1cm4gJ0RlbGl2ZXJ5IElzc3VlJztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiAnQkFEX1NUQVRVUyc7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0U3RhdHVzVGV4dEJ1bGdhcmlhbigpOiBzdHJpbmcge1xuXHRcdHN3aXRjaCAodGhpcy5zdGF0dXMpIHtcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuV2FyZWhvdXNlUHJlcGFyYXRpb246XG5cdFx0XHRcdHJldHVybiAn0J/QvtC00LPQvtGC0L7QstC60LAnO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5JbkRlbGl2ZXJ5OlxuXHRcdFx0XHRyZXR1cm4gJ9CU0L7RgdGC0LDQstGPINGB0LUnO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5EZWxpdmVyZWQ6XG5cdFx0XHRcdHJldHVybiAn0JTQvtGB0YLQsNCy0LXQvdC+Jztcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuQ2FuY2VsZWRXaGlsZVdhcmVob3VzZVByZXBhcmF0aW9uOlxuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5DYW5jZWxlZFdoaWxlSW5EZWxpdmVyeTpcblx0XHRcdFx0cmV0dXJuICfQntGC0LrQsNC30LDQvdCwJztcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuV2FyZWhvdXNlSXNzdWU6XG5cdFx0XHRcdHJldHVybiAn0J/RgNC+0LHQu9C10Lwg0L/RgNC4INC/0L7QtNCz0L7RgtC+0LLQutCw0YLQsCc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkNhcnJpZXJJc3N1ZTpcblx0XHRcdFx0cmV0dXJuICfQn9GA0L7QsdC70LXQvCDQv9GA0Lgg0LTQvtGB0YLQsNCy0LrQsNGC0LAnO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuICfQn9GA0L7QsdC70LXQvCDRgSDQv9C+0YDRitGH0LrQsNGC0LAnO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgX2dldFN0YXR1c1RleHRIZWJyZXcoKTogc3RyaW5nIHtcblx0XHRzd2l0Y2ggKHRoaXMuc3RhdHVzKSB7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLldhcmVob3VzZVByZXBhcmF0aW9uOlxuXHRcdFx0XHRyZXR1cm4gJ9eR15TXm9eg15QnO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5JbkRlbGl2ZXJ5OlxuXHRcdFx0XHRyZXR1cm4gJ9eR157Xqdec15XXlyc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkRlbGl2ZXJlZDpcblx0XHRcdFx0cmV0dXJuICfXlNeh16rXmdeZ150g15HXptec15fXlCc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkNhbmNlbGVkV2hpbGVXYXJlaG91c2VQcmVwYXJhdGlvbjpcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuQ2FuY2VsZWRXaGlsZUluRGVsaXZlcnk6XG5cdFx0XHRcdHJldHVybiAn15TXqteR15jXnCc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLldhcmVob3VzZUlzc3VlOlxuXHRcdFx0XHRyZXR1cm4gJ9eR16LXmdeZ15Qg15HXlNeb16DXlCc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkNhcnJpZXJJc3N1ZTpcblx0XHRcdFx0cmV0dXJuICfXkdei15nXmdeUINeR157Xqdec15XXlyc7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gJ0JBRF9TVEFUVVMnO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgX2dldFN0YXR1c1RleHRSdXNzaWFuKCk6IHN0cmluZyB7XG5cdFx0c3dpdGNoICh0aGlzLnN0YXR1cykge1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5XYXJlaG91c2VQcmVwYXJhdGlvbjpcblx0XHRcdFx0cmV0dXJuICfQkiDQv9C+0LTQs9C+0YLQvtCy0LrQtSc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkluRGVsaXZlcnk6XG5cdFx0XHRcdHJldHVybiAn0JIg0LTQvtGB0YLQsNCy0LrQuCc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkRlbGl2ZXJlZDpcblx0XHRcdFx0cmV0dXJuICfQlNC+0YHRgtCw0LLQu9C10L3Qvic7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkNhbmNlbGVkV2hpbGVXYXJlaG91c2VQcmVwYXJhdGlvbjpcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuQ2FuY2VsZWRXaGlsZUluRGVsaXZlcnk6XG5cdFx0XHRcdHJldHVybiAn0J7RgtC80LXQvdC10L3Qvic7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLldhcmVob3VzZUlzc3VlOlxuXHRcdFx0XHRyZXR1cm4gJ9Cf0YDQvtCx0LvQtdC80LAg0YEg0L/QvtC00LPQvtGC0L7QstC60L7QuSc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkNhcnJpZXJJc3N1ZTpcblx0XHRcdFx0cmV0dXJuICfQn9GA0L7QsdC70LXQvNCwINGBINC00L7RgdGC0LDQstC60L7QuSc7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gJ0JBRF9TVEFUVVMnO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgX2dldFN0YXR1c1RleHRTcGFuaXNoKCkge1xuXHRcdHN3aXRjaCAodGhpcy5zdGF0dXMpIHtcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuV2FyZWhvdXNlUHJlcGFyYXRpb246XG5cdFx0XHRcdHJldHVybiAnUHJlcGFyYWNpw7NuJztcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuSW5EZWxpdmVyeTpcblx0XHRcdFx0cmV0dXJuICdFbiBsYSBlbnRyZWdhJztcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuRGVsaXZlcmVkOlxuXHRcdFx0XHRyZXR1cm4gJ0VudHJlZ2Fkbyc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkNhbmNlbGVkV2hpbGVXYXJlaG91c2VQcmVwYXJhdGlvbjpcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuQ2FuY2VsZWRXaGlsZUluRGVsaXZlcnk6XG5cdFx0XHRcdHJldHVybiAnQ2FuY2VsYWRvJztcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuV2FyZWhvdXNlSXNzdWU6XG5cdFx0XHRcdHJldHVybiAnUHJvYmxlbWEgZGUgcHJlcGFyYWNpw7NuJztcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuQ2Fycmllcklzc3VlOlxuXHRcdFx0XHRyZXR1cm4gJ1Byb2JsZW1hIGRlIGVudmlvJztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiAnQkFEX1NUQVRVUyc7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9yZGVyO1xuIiwiaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0JztcbmltcG9ydCB7IFNjaGVtYSwgREJPYmplY3QsIE1vZGVsTmFtZSwgZ2V0U2NoZW1hLCBUeXBlcyB9IGZyb20gJy4uL0BweXJvL2RiJztcbmltcG9ydCBJT3JkZXJQcm9kdWN0IGZyb20gJy4uL2ludGVyZmFjZXMvSU9yZGVyUHJvZHVjdCc7XG5pbXBvcnQgeyBJT3JkZXJQcm9kdWN0Q3JlYXRlT2JqZWN0IH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JT3JkZXJQcm9kdWN0JztcbmltcG9ydCB7IENvbHVtbiB9IGZyb20gJ3R5cGVvcm0nO1xuXG4vKipcbiAqIFN0b3JlIFByb2R1Y3QgaW5mb3JtYXRpb24gaW5zaWRlIE9yZGVyIChzaW1pbGFyIHRvIE9yZGVyTGluZUl0ZW0gY29uY2VwdClcbiAqXG4gKiBAY2xhc3MgT3JkZXJQcm9kdWN0XG4gKiBAZXh0ZW5kcyB7REJPYmplY3Q8SU9yZGVyUHJvZHVjdCwgSU9yZGVyUHJvZHVjdENyZWF0ZU9iamVjdD59XG4gKiBAaW1wbGVtZW50cyB7SU9yZGVyUHJvZHVjdH1cbiAqL1xuQE1vZGVsTmFtZSgnT3JkZXJQcm9kdWN0JylcbmNsYXNzIE9yZGVyUHJvZHVjdCBleHRlbmRzIERCT2JqZWN0PElPcmRlclByb2R1Y3QsIElPcmRlclByb2R1Y3RDcmVhdGVPYmplY3Q+XG5cdGltcGxlbWVudHMgSU9yZGVyUHJvZHVjdCB7XG5cdGNvbnN0cnVjdG9yKG9yZGVyUHJvZHVjdDogSU9yZGVyUHJvZHVjdCkge1xuXHRcdHN1cGVyKG9yZGVyUHJvZHVjdCk7XG5cblx0XHRpZiAob3JkZXJQcm9kdWN0ICYmIG9yZGVyUHJvZHVjdC5wcm9kdWN0KSB7XG5cdFx0XHR0aGlzLnByb2R1Y3QgPSBuZXcgUHJvZHVjdChvcmRlclByb2R1Y3QucHJvZHVjdCk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gY3VycmVudCBwcmljZSBvZiB0aGUgUHJvZHVjdCAoY291bGQgYmUgbG93ZXIgb3IgaGlnaGVyIGNvbXBhcmVkIHRvIGluaXRpYWwgcHJpY2UpXG5cdEBUeXBlcy5OdW1iZXIoKVxuXHRAQ29sdW1uKClcblx0cHJpY2U6IG51bWJlcjtcblxuXHQvLyBpbml0aWFsIHByaWNlIG9mIHRoZSBQcm9kdWN0XG5cdEBUeXBlcy5OdW1iZXIoKVxuXHRAQ29sdW1uKClcblx0aW5pdGlhbFByaWNlOiBudW1iZXI7XG5cblx0LyoqXG5cdCAqIFF0eSBvZiBwdXJjaGFzZWQgcHJvZHVjdHNcblx0ICpcblx0ICogQHR5cGUge251bWJlcn1cblx0ICogQG1lbWJlcm9mIE9yZGVyUHJvZHVjdFxuXHQgKi9cblx0QFR5cGVzLk51bWJlcigwKVxuXHRAQ29sdW1uKClcblx0Y291bnQ6IG51bWJlcjtcblxuXHQvKipcblx0ICogUHJvZHVjdCAobm90IHJlZilcblx0ICpcblx0ICogQHR5cGUge1Byb2R1Y3R9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclByb2R1Y3Rcblx0ICovXG5cdEBTY2hlbWEoZ2V0U2NoZW1hKFByb2R1Y3QpKVxuXHRwcm9kdWN0OiBQcm9kdWN0O1xuXG5cdC8qKlxuXHQgKiBJcyBwcm9kdWN0KHMpIHJlcXVpcmUgbWFudWZhY3R1cmluZ1xuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIE9yZGVyUHJvZHVjdFxuXHQgKi9cblx0QFR5cGVzLkJvb2xlYW4odHJ1ZSlcblx0QENvbHVtbigpXG5cdGlzTWFudWZhY3R1cmluZzogYm9vbGVhbjtcblxuXHQvKipcblx0ICogSXMgcHJvZHVjdChzKSBiZWNvbWVzIGF2YWlsYWJsZSBmb3IgcHVyY2hhc2Ugb25seSB3aGVuIGNhcnJpZXIgZm91bmRcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBPcmRlclByb2R1Y3Rcblx0ICovXG5cdEBUeXBlcy5Cb29sZWFuKHRydWUpXG5cdEBDb2x1bW4oKVxuXHRpc0NhcnJpZXJSZXF1aXJlZDogYm9vbGVhbjtcblxuXHQvKipcblx0ICogU2hvdWxkIHByb2R1Y3QgYmUgZGVsaXZlcmVkIGJ5IGNhcnJpZXIgb3IgaXQncyBwaWNrdXAgKHRha2Vhd2F5KVxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIE9yZGVyUHJvZHVjdFxuXHQgKi9cblx0QFR5cGVzLkJvb2xlYW4odHJ1ZSlcblx0QENvbHVtbigpXG5cdGlzRGVsaXZlcnlSZXF1aXJlZDogYm9vbGVhbjtcblxuXHQvKipcblx0ICogSXMgaXQgVGFrZWF3YXkgb3JkZXIgKGluY2x1ZGluZyBpbi1zdG9yZSBwdXJjaGFzZSlcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBPcmRlclByb2R1Y3Rcblx0ICovXG5cdEBTY2hlbWEoeyByZXF1aXJlZDogZmFsc2UsIHR5cGU6IEJvb2xlYW4gfSlcblx0QENvbHVtbigpXG5cdGlzVGFrZWF3YXk/OiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBNaW4gZGVsaXZlcnkgdGltZSAoaW4gbWludXRlcylcblx0ICpcblx0ICogQHR5cGUge251bWJlcn1cblx0ICogQG1lbWJlcm9mIE9yZGVyUHJvZHVjdFxuXHQgKi9cblx0QFNjaGVtYSh7IHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogTnVtYmVyIH0pXG5cdEBDb2x1bW4oKVxuXHRkZWxpdmVyeVRpbWVNaW4/OiBudW1iZXI7XG5cblx0LyoqXG5cdCAqIE1heCBkZWxpdmVyeSB0aW1lIChpbiBtaW51dGVzKVxuXHQgKlxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKiBAbWVtYmVyb2YgT3JkZXJQcm9kdWN0XG5cdCAqL1xuXHRAU2NoZW1hKHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBOdW1iZXIgfSlcblx0QENvbHVtbigpXG5cdGRlbGl2ZXJ5VGltZU1heD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgT3JkZXJQcm9kdWN0O1xuIiwiaW1wb3J0IHsgTW9kZWxOYW1lLCBEQk9iamVjdCwgVHlwZXMsIFNjaGVtYSB9IGZyb20gJ0BweXJvL2RiJztcbmltcG9ydCBJUGF5bWVudEdhdGV3YXlDcmVhdGVPYmplY3QsIHtcblx0SVBheW1lbnRHYXRld2F5LFxufSBmcm9tICcuLi9pbnRlcmZhY2VzL0lQYXltZW50R2F0ZXdheSc7XG5pbXBvcnQgUGF5bWVudEdhdGV3YXlzIGZyb20gJy4uL2VudW1zL1BheW1lbnRHYXRld2F5cyc7XG5pbXBvcnQgeyBDb2x1bW4gfSBmcm9tICd0eXBlb3JtJztcblxuLyoqXG4gKiBTdG9yZXMgdHlwZSBvZiBwYXltZW50IGdhdGV3YXkgYW5kIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBzdWNoIHBheW1lbnQgZ2F0ZXdheVxuICpcbiAqIEBjbGFzcyBQYXltZW50R2F0ZXdheVxuICogQGV4dGVuZHMge0RCT2JqZWN0PElQYXltZW50R2F0ZXdheSwgSVBheW1lbnRHYXRld2F5Q3JlYXRlT2JqZWN0Pn1cbiAqIEBpbXBsZW1lbnRzIHtJUGF5bWVudEdhdGV3YXl9XG4gKi9cbkBNb2RlbE5hbWUoJ1BheW1lbnRHYXRld2F5JylcbmNsYXNzIFBheW1lbnRHYXRld2F5XG5cdGV4dGVuZHMgREJPYmplY3Q8SVBheW1lbnRHYXRld2F5LCBJUGF5bWVudEdhdGV3YXlDcmVhdGVPYmplY3Q+XG5cdGltcGxlbWVudHMgSVBheW1lbnRHYXRld2F5IHtcblx0LyoqXG5cdCAqIFR5cGUgb2YgdGhlIHBheW1lbnQgZ2F0ZXdheVxuXHQgKlxuXHQgKiBAdHlwZSB7UGF5bWVudEdhdGV3YXlzfVxuXHQgKiBAbWVtYmVyb2YgUGF5bWVudEdhdGV3YXlcblx0ICovXG5cdEBUeXBlcy5OdW1iZXIoKVxuXHRAQ29sdW1uKClcblx0cGF5bWVudEdhdGV3YXk6IFBheW1lbnRHYXRld2F5cztcblxuXHQvKipcblx0ICogQ29uZmlndXJhdGlvbiBvYmplY3QgZm9yIHN1Y2ggcGF5bWVudCBnYXRld2F5LlxuXHQgKlxuXHQgKiBOb3RlOiB0aGlzIGZpZWxkIGhhcyBubyBjb25jcmV0ZSB0eXBlLCBiZWNhdXNlIGRpZmZlcmVudCBwYXltZW50IGdhdGV3YXlzXG5cdCAqIG1heSBoYXZlIGRpZmZlcmVudCBmaWVsZHMgaW4gdGhlIGNvbmZpZ3VyZSBvYmplY3Rcblx0ICpcblx0ICogQHR5cGUge2FueX1cblx0ICogQG1lbWJlcm9mIFBheW1lbnRHYXRld2F5XG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogT2JqZWN0IH0pXG5cdEBDb2x1bW4oKVxuXHRjb25maWd1cmVPYmplY3Q6IGFueTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUGF5bWVudEdhdGV3YXk7XG4iLCJpbXBvcnQgeyBEQk9iamVjdCwgTW9kZWxOYW1lLCBTY2hlbWEsIFR5cGVzIH0gZnJvbSAnLi4vQHB5cm8vZGInO1xuaW1wb3J0IElQcm9kdWN0LCB7XG5cdElQcm9kdWN0Q3JlYXRlT2JqZWN0LFxuXHRJUHJvZHVjdERlc2NyaXB0aW9uLFxuXHRJUHJvZHVjdERlc2NyaXB0aW9uSFRNTCxcblx0SVByb2R1Y3REZXRhaWxzLFxuXHRJUHJvZHVjdERldGFpbHNIVE1MLFxuXHRJUHJvZHVjdEltYWdlLFxuXHRJUHJvZHVjdFRpdGxlLFxufSBmcm9tICcuLi9pbnRlcmZhY2VzL0lQcm9kdWN0JztcbmltcG9ydCBQcm9kdWN0c0NhdGVnb3J5IGZyb20gJy4vUHJvZHVjdHNDYXRlZ29yeSc7XG5pbXBvcnQgeyBJUHJvZHVjdHNDYXRlZ29yeSB9IGZyb20gJy4uL2ludGVyZmFjZXMvSVByb2R1Y3RzQ2F0ZWdvcnknO1xuaW1wb3J0IHsgRW50aXR5LCBDb2x1bW4gfSBmcm9tICd0eXBlb3JtJztcblxuLyoqXG4gKiBQcm9kdWN0IEluZm9ybWF0aW9uIChvcmdhbml6ZWQgYXMgYSBnbG9iYWwgUHJvZHVjdHMgQ2F0YWxvZylcbiAqXG4gKiBOb3RlOiBQcm9kdWN0cyBpbiBzcGVjaWZpYyB3YXJlaG91c2UgYXJlIHN0b3JlZCBhcyBhIFdhcmVob3VzZVByb2R1Y3QgcmVjb3JkcyBpbnN0ZWFkXG4gKiAoaW4gTW9uZ29EQiBhcyBzdWItZG9jdW1lbnRzIG9mIHRoZSBXYXJlaG91c2UgZG9jdW1lbnQpXG4gKlxuICogQGNsYXNzIFByb2R1Y3RcbiAqIEBleHRlbmRzIHtEQk9iamVjdDxJUHJvZHVjdCwgSVByb2R1Y3RDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lQcm9kdWN0fVxuICovXG5ATW9kZWxOYW1lKCdQcm9kdWN0JylcbkBFbnRpdHkoeyBuYW1lOiAncHJvZHVjdHMnIH0pXG5jbGFzcyBQcm9kdWN0IGV4dGVuZHMgREJPYmplY3Q8SVByb2R1Y3QsIElQcm9kdWN0Q3JlYXRlT2JqZWN0PlxuXHRpbXBsZW1lbnRzIElQcm9kdWN0IHtcblx0LyoqXG5cdCAqIFRpdGxlIG9mIFByb2R1Y3QgKG5vcm1hbGx5IHNob3J0IGFuZCBkaXNwbGF5IGFzIGEgYm9sZCB0ZXh0KVxuXHQgKlxuXHQgKiBAdHlwZSB7SVByb2R1Y3RUaXRsZVtdfVxuXHQgKiBAbWVtYmVyb2YgUHJvZHVjdFxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IEFycmF5IH0pXG5cdHRpdGxlOiBJUHJvZHVjdFRpdGxlW107XG5cblx0LyoqXG5cdCAqIFNob3J0IGRlc2NyaXB0aW9uIG9mIHRoZSBwcm9kdWN0IChub3JtYWxseSBsb25nZXIgdGhhbiB0aXRsZSlcblx0ICpcblx0ICogQHR5cGUge0lQcm9kdWN0RGVzY3JpcHRpb25bXX1cblx0ICogQG1lbWJlcm9mIFByb2R1Y3Rcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBBcnJheSB9KVxuXHRkZXNjcmlwdGlvbjogSVByb2R1Y3REZXNjcmlwdGlvbltdO1xuXG5cdC8qKlxuXHQgKiBIVE1MIGNvbnRlbnQgZm9yIFNob3J0IGRlc2NyaXB0aW9uIG9mIHRoZSBwcm9kdWN0IChub3JtYWxseSBsb25nZXIgdGhhbiB0aXRsZSlcblx0ICpcblx0ICogQHR5cGUge0lQcm9kdWN0RGVzY3JpcHRpb25IVE1MW119XG5cdCAqIEBtZW1iZXJvZiBQcm9kdWN0XG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogQXJyYXkgfSlcblx0ZGVzY3JpcHRpb25IVE1MOiBJUHJvZHVjdERlc2NyaXB0aW9uSFRNTFtdO1xuXG5cdC8qKlxuXHQgKiBMb25nIGRlc2NyaXB0aW9uIG9mIHRoZSBwcm9kdWN0IChub3JtYWxseSBsb25nZXIgdGhhbiBwcm9kdWN0IGRlc2NyaXB0aW9uKVxuXHQgKlxuXHQgKiBAdHlwZSB7SVByb2R1Y3REZXRhaWxzW119XG5cdCAqIEBtZW1iZXJvZiBQcm9kdWN0XG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogQXJyYXkgfSlcblx0ZGV0YWlsczogSVByb2R1Y3REZXRhaWxzW107XG5cblx0LyoqXG5cdCAqIEhUTUwgY29udGVudCBmb3IgTG9uZyBkZXNjcmlwdGlvbiBvZiB0aGUgcHJvZHVjdCAobm9ybWFsbHkgbG9uZ2VyIHRoYW4gcHJvZHVjdCBkZXNjcmlwdGlvbilcblx0ICpcblx0ICogQHR5cGUge0lQcm9kdWN0RGV0YWlsc0hUTUxbXX1cblx0ICogQG1lbWJlcm9mIFByb2R1Y3Rcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBBcnJheSB9KVxuXHRkZXRhaWxzSFRNTDogSVByb2R1Y3REZXRhaWxzSFRNTFtdO1xuXG5cdC8qKlxuXHQgKiBQcm9kdWN0IEltYWdlc1xuXHQgKlxuXHQgKiBAdHlwZSB7SVByb2R1Y3RJbWFnZVtdfVxuXHQgKiBAbWVtYmVyb2YgUHJvZHVjdFxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IEFycmF5IH0pXG5cdGltYWdlczogSVByb2R1Y3RJbWFnZVtdO1xuXG5cdC8qKlxuXHQgKiBDYXRlZ29yaWVzIHRvIHdoaWNoIHByb2R1Y3QgYmVsb25nXG5cdCAqXG5cdCAqIEB0eXBlIHtJUHJvZHVjdHNDYXRlZ29yeVtdfVxuXHQgKiBAbWVtYmVyb2YgUHJvZHVjdFxuXHQgKi9cblx0QFR5cGVzLlJlZihbUHJvZHVjdHNDYXRlZ29yeV0pXG5cdGNhdGVnb3JpZXM6IElQcm9kdWN0c0NhdGVnb3J5W107XG5cblx0QFR5cGVzLkJvb2xlYW4oZmFsc2UpXG5cdEBDb2x1bW4oKVxuXHRpc0RlbGV0ZWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3Q7XG4iLCJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IElQcm9kdWN0SW5mbyBmcm9tICcuLi9pbnRlcmZhY2VzL0lQcm9kdWN0SW5mbyc7XG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuL1Byb2R1Y3QnO1xuaW1wb3J0IHsgSU9yZGVyUHJvZHVjdENyZWF0ZU9iamVjdCB9IGZyb20gJy4uL2ludGVyZmFjZXMvSU9yZGVyUHJvZHVjdCc7XG5pbXBvcnQgV2FyZWhvdXNlUHJvZHVjdCBmcm9tICcuL1dhcmVob3VzZVByb2R1Y3QnO1xuXG4vKipcbiAqIFByb2R1Y3QgSW5mb3JtYXRpb25cbiAqIE5vdGU6IFRoYXQgZW50aXR5IGRvZXNuJ3QgaGF2ZSBzY2hlbWEsIHNvIGl0cyBub3Qgc3RvcmVkIGluIGRiXG4gKlxuICogQGNsYXNzIFByb2R1Y3RJbmZvXG4gKiBAaW1wbGVtZW50cyB7SVByb2R1Y3RJbmZvfVxuICovXG5jbGFzcyBQcm9kdWN0SW5mbyBpbXBsZW1lbnRzIElQcm9kdWN0SW5mbyB7XG5cdGNvbnN0cnVjdG9yKHByb2R1Y3RJbmZvOiBJUHJvZHVjdEluZm8pIHtcblx0XHRpZiAocHJvZHVjdEluZm8pIHtcblx0XHRcdF8uYXNzaWduKHRoaXMsIHByb2R1Y3RJbmZvKTtcblxuXHRcdFx0aWYgKHByb2R1Y3RJbmZvLndhcmVob3VzZVByb2R1Y3QpIHtcblx0XHRcdFx0dGhpcy53YXJlaG91c2VQcm9kdWN0ID0gbmV3IFdhcmVob3VzZVByb2R1Y3QoXG5cdFx0XHRcdFx0cHJvZHVjdEluZm8ud2FyZWhvdXNlUHJvZHVjdFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBQcm9kdWN0IGZpZWxkIGlzIHBvcHVsYXRlZCBpbnNpZGUgdGhpcyBwcm9wZXJ0eVxuXHQgKlxuXHQgKiBAdHlwZSB7V2FyZWhvdXNlUHJvZHVjdH1cblx0ICogQG1lbWJlcm9mIFByb2R1Y3RJbmZvXG5cdCAqL1xuXHR3YXJlaG91c2VQcm9kdWN0OiBXYXJlaG91c2VQcm9kdWN0O1xuXG5cdC8qKlxuXHQgKiBJZCBvZiBtZXJjaGFudC9zdG9yZS93YXJlaG91c2Ugd2hlcmUgcHJvZHVjdCBpcyBhdmFpbGFibGVcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFByb2R1Y3RJbmZvXG5cdCAqL1xuXHR3YXJlaG91c2VJZDogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBVcmwgb2YgaW1hZ2UgZm9yIG1lcmNoYW50L3N0b3JlL3dhcmVob3VzZVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgUHJvZHVjdEluZm9cblx0ICovXG5cdHdhcmVob3VzZUxvZ286IHN0cmluZztcblxuXHRkaXN0YW5jZTogbnVtYmVyO1xuXG5cdGdldCBwcm9kdWN0KCk6IFByb2R1Y3Qge1xuXHRcdHJldHVybiB0aGlzLndhcmVob3VzZVByb2R1Y3QucHJvZHVjdCBhcyBQcm9kdWN0O1xuXHR9XG5cblx0Z2V0T3JkZXJQcm9kdWN0Q3JlYXRlT2JqZWN0KGNvdW50OiBudW1iZXIpOiBJT3JkZXJQcm9kdWN0Q3JlYXRlT2JqZWN0IHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aW5pdGlhbFByaWNlOiB0aGlzLndhcmVob3VzZVByb2R1Y3QuaW5pdGlhbFByaWNlLFxuXHRcdFx0cHJpY2U6IHRoaXMud2FyZWhvdXNlUHJvZHVjdC5wcmljZSxcblx0XHRcdGRlbGl2ZXJ5VGltZU1pbjogdGhpcy53YXJlaG91c2VQcm9kdWN0LmRlbGl2ZXJ5VGltZU1pbixcblx0XHRcdGRlbGl2ZXJ5VGltZU1heDogdGhpcy53YXJlaG91c2VQcm9kdWN0LmRlbGl2ZXJ5VGltZU1heCxcblx0XHRcdGNvdW50LFxuXHRcdFx0cHJvZHVjdDogdGhpcy53YXJlaG91c2VQcm9kdWN0LnByb2R1Y3QgYXMgUHJvZHVjdCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3RJbmZvO1xuIiwiaW1wb3J0IHsgREJPYmplY3QsIE1vZGVsTmFtZSwgU2NoZW1hLCBUeXBlcyB9IGZyb20gJy4uL0BweXJvL2RiJztcbmltcG9ydCB7XG5cdElQcm9kdWN0c0NhdGVnb3J5LFxuXHRJUHJvZHVjdHNDYXRlZ29yeUNyZWF0ZU9iamVjdCxcblx0SVByb2R1Y3RzQ2F0ZWdvcnlOYW1lLFxufSBmcm9tICcuLi9pbnRlcmZhY2VzL0lQcm9kdWN0c0NhdGVnb3J5JztcbmltcG9ydCB7IEVudGl0eSwgQ29sdW1uIH0gZnJvbSAndHlwZW9ybSc7XG5cbi8qKlxuICogUHJvZHVjdCBDYXRlZ29yeVxuICpcbiAqIEBjbGFzcyBQcm9kdWN0c0NhdGVnb3J5XG4gKiBAZXh0ZW5kcyB7REJPYmplY3Q8SVByb2R1Y3RzQ2F0ZWdvcnksIElQcm9kdWN0c0NhdGVnb3J5Q3JlYXRlT2JqZWN0Pn1cbiAqIEBpbXBsZW1lbnRzIHtJUHJvZHVjdHNDYXRlZ29yeX1cbiAqL1xuQE1vZGVsTmFtZSgnUHJvZHVjdENhdGVnb3J5JylcbkBFbnRpdHkoeyBuYW1lOiAncHJvZHVjdGNhdGVnb3JpZXMnIH0pXG5jbGFzcyBQcm9kdWN0c0NhdGVnb3J5XG5cdGV4dGVuZHMgREJPYmplY3Q8SVByb2R1Y3RzQ2F0ZWdvcnksIElQcm9kdWN0c0NhdGVnb3J5Q3JlYXRlT2JqZWN0PlxuXHRpbXBsZW1lbnRzIElQcm9kdWN0c0NhdGVnb3J5IHtcblx0LyoqXG5cdCAqIFByb2R1Y3QgQ2F0ZWdvcnkgTmFtZVxuXHQgKlxuXHQgKiBAdHlwZSB7SVByb2R1Y3RzQ2F0ZWdvcnlOYW1lW119XG5cdCAqIEBtZW1iZXJvZiBQcm9kdWN0c0NhdGVnb3J5XG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogQXJyYXkgfSlcblx0bmFtZTogSVByb2R1Y3RzQ2F0ZWdvcnlOYW1lW107XG5cblx0LyoqXG5cdCAqIFByb2R1Y3QgQ2F0ZWdvcnkgSW1hZ2UgVVJMIChvcHRpb25hbClcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFByb2R1Y3RzQ2F0ZWdvcnlcblx0ICovXG5cdEBTY2hlbWEoe1xuXHRcdHR5cGU6IFN0cmluZyxcblx0XHRyZXF1aXJlZDogZmFsc2UsXG5cdH0pXG5cdEBDb2x1bW4oKVxuXHRpbWFnZTogc3RyaW5nO1xuXG5cdEBUeXBlcy5Cb29sZWFuKGZhbHNlKVxuXHRAQ29sdW1uKClcblx0aXNEZWxldGVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0c0NhdGVnb3J5O1xuIiwiaW1wb3J0IEdlb0xvY2F0aW9uIGZyb20gJy4vR2VvTG9jYXRpb24nO1xuaW1wb3J0IHsgREJPYmplY3QsIGdldFNjaGVtYSwgTW9kZWxOYW1lLCBTY2hlbWEsIFR5cGVzIH0gZnJvbSAnLi4vQHB5cm8vZGInO1xuaW1wb3J0IElVc2VyLCB7IElVc2VyQ3JlYXRlT2JqZWN0IH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JVXNlcic7XG5pbXBvcnQgeyBFbnRpdHksIENvbHVtbiB9IGZyb20gJ3R5cGVvcm0nO1xuXG4vKipcbiAqIEN1c3RvbWVyIHdobyBtYWtlIG9yZGVyc1xuICogVE9ETzogaGlzdG9yaWNhbGx5IGNhbGxlZCAnVXNlcicsIGJ1dCB3ZSB3aWxsIHJlbmFtZSB0byAnQ3VzdG9tZXInXG4gKlxuICogQGNsYXNzIFVzZXJcbiAqIEBleHRlbmRzIHtEQk9iamVjdDxJVXNlciwgSVVzZXJDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lVc2VyfVxuICovXG5ATW9kZWxOYW1lKCdVc2VyJylcbkBFbnRpdHkoeyBuYW1lOiAndXNlcnMnIH0pXG5jbGFzcyBVc2VyIGV4dGVuZHMgREJPYmplY3Q8SVVzZXIsIElVc2VyQ3JlYXRlT2JqZWN0PiBpbXBsZW1lbnRzIElVc2VyIHtcblx0Y29uc3RydWN0b3IodXNlcjogSVVzZXIpIHtcblx0XHRzdXBlcih1c2VyKTtcblxuXHRcdGlmICh1c2VyICYmIHVzZXIuZ2VvTG9jYXRpb24pIHtcblx0XHRcdHRoaXMuZ2VvTG9jYXRpb24gPSBuZXcgR2VvTG9jYXRpb24odXNlci5nZW9Mb2NhdGlvbik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEZpcnN0IE5hbWVcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFVzZXJcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0Zmlyc3ROYW1lPzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBMYXN0IE5hbWVcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFVzZXJcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0bGFzdE5hbWU/OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIEN1c3RvbWVyIEltYWdlIChQaG90by9BdmF0YXIpIFVSTFxuXHQgKiAob3B0aW9uYWwpXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBVc2VyXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdGltYWdlOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFByaW1hcnkgRW1haWwgQWRkcmVzc1xuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgVXNlck9yZGVyXG5cdCAqL1xuXHRAU2NoZW1hKHtcblx0XHR0eXBlOiBTdHJpbmcsXG5cdFx0cmVxdWlyZWQ6IGZhbHNlLFxuXHRcdHNwYXJzZTogdHJ1ZSxcblx0XHR1bmlxdWU6IHRydWUsXG5cdH0pXG5cdEBDb2x1bW4oKVxuXHRlbWFpbD86IHN0cmluZztcblxuXHQvKipcblx0ICogUGFzc3dvcmQgaGFzaFxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgVXNlclxuXHQgKi9cblx0QFNjaGVtYSh7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiBmYWxzZSxcblx0XHRzZWxlY3Q6IGZhbHNlLFxuXHR9KVxuXHRAQ29sdW1uKClcblx0aGFzaD86IHN0cmluZztcblxuXHQvKipcblx0ICogQ3VycmVudCBjdXN0b21lciBsb2NhdGlvbiAoY3VzdG9tZXIgYWRkcmVzcywgbGFzdCBrbm93biBsb2NhdGlvbiBvZiB0aGUgY3VzdG9tZXIpXG5cdCAqXG5cdCAqIEB0eXBlIHtHZW9Mb2NhdGlvbn1cblx0ICogQG1lbWJlcm9mIFVzZXJcblx0ICovXG5cdEBTY2hlbWEoZ2V0U2NoZW1hKEdlb0xvY2F0aW9uKSlcblx0Z2VvTG9jYXRpb246IEdlb0xvY2F0aW9uO1xuXG5cdC8qKlxuXHQgKiBBcGFydG1lbnQgKHN0b3JlZCBzZXBhcmF0ZWx5IGZyb20gZ2VvbG9jYXRpb24vYWRkcmVzcyBmb3IgZWZmaWNpZW5jeSlcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFVzZXJcblx0ICovXG5cdEBTY2hlbWEoU3RyaW5nKVxuXHRAQ29sdW1uKClcblx0YXBhcnRtZW50OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIEN1c3RvbWVySWQgaW4gdGhlIFN0cmlwZSBwYXltZW50IGdhdGV3YXkgKGlmIGN1c3RvbWVyIGFkZGVkIHRvIFN0cmlwZSwgb3B0aW9uYWwpXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBVc2VyXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdHN0cmlwZUN1c3RvbWVySWQ/OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIElEcyBvZiBjdXN0b21lciBtb2JpbGUgZGV2aWNlcyAvIGJyb3dzZXIgKHNlZSBEZXZpY2UgZW50aXR5KVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nW119XG5cdCAqIEBtZW1iZXJvZiBVc2VyXG5cdCAqL1xuXHRAU2NoZW1hKFtTdHJpbmddKVxuXHRkZXZpY2VzSWRzOiBzdHJpbmdbXTtcblxuXHQvKipcblx0ICogSURzIG9mIGN1c3RvbWVyIGluIHNvY2lhbCBuZXR3b3JrcyAvIE9BdXRoIHByb3ZpZGVyc1xuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nW119XG5cdCAqIEBtZW1iZXJvZiBVc2VyXG5cdCAqL1xuXHRAU2NoZW1hKFtTdHJpbmddKVxuXHRzb2NpYWxJZHM6IHN0cmluZ1tdO1xuXG5cdC8qKlxuXHQgKiBDdXN0b21lciBQcmltYXJ5IFBob25lIE51bWJlclxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgVXNlclxuXHQgKi9cblx0QFNjaGVtYShTdHJpbmcpXG5cdEBDb2x1bW4oKVxuXHRwaG9uZT86IHN0cmluZztcblxuXHQvKipcblx0ICogSXMgY3VzdG9tZXIgY29tcGxldGVkIHJlZ2lzdHJhdGlvblxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIFVzZXJcblx0ICovXG5cdEBTY2hlbWEoQm9vbGVhbilcblx0QENvbHVtbigpXG5cdGlzUmVnaXN0cmF0aW9uQ29tcGxldGVkOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJcyBjdXN0b21lciBiYW5uZWRcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBVc2VyXG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGlzQmFubmVkOiBib29sZWFuO1xuXG5cdEBUeXBlcy5Cb29sZWFuKGZhbHNlKVxuXHRAQ29sdW1uKClcblx0aXNEZWxldGVkOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBHZXQgZnVsbCBhZGRyZXNzIG9mIGN1c3RvbWVyIChpbmNsdWRpbmcgYXBhcnRtZW50KVxuXHQgKiBOb3RlOiBkb2VzIG5vdCBpbmNsdWRlIGNvdW50cnlcblx0ICpcblx0ICogQHJlYWRvbmx5XG5cdCAqIEBtZW1iZXJvZiBVc2VyXG5cdCAqL1xuXHRnZXQgZnVsbEFkZHJlc3MoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0YCR7dGhpcy5nZW9Mb2NhdGlvbi5jaXR5fSwgJHt0aGlzLmdlb0xvY2F0aW9uLnN0cmVldEFkZHJlc3N9IGAgK1xuXHRcdFx0YCR7dGhpcy5hcGFydG1lbnR9LyR7dGhpcy5nZW9Mb2NhdGlvbi5ob3VzZX1gXG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBVc2VyO1xuIiwiaW1wb3J0IEdlb0xvY2F0aW9uIGZyb20gJy4vR2VvTG9jYXRpb24nO1xuaW1wb3J0IHsgREJPYmplY3QsIGdldFNjaGVtYSwgTW9kZWxOYW1lLCBTY2hlbWEgfSBmcm9tICcuLi9AcHlyby9kYic7XG5pbXBvcnQgSVVzZXJPcmRlciwgeyBJVXNlck9yZGVyQ3JlYXRlT2JqZWN0IH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JVXNlck9yZGVyJztcbmltcG9ydCB7IENvbHVtbiB9IGZyb20gJ3R5cGVvcm0nO1xuXG4vKipcbiAqIFN0b3JlIGluZm9ybWF0aW9uIGFib3V0IEN1c3RvbWVyIGluc2lkZSAoZW1iZWRlZCBpbnRvKSBPcmRlclxuICogVGhlIGRhdGEgaXMgdXN1YWxseSBjb3BpZWQgZnJvbSB0aGUgQ3VzdG9tZXIgcmVjb3JkIGluIERCIHJpZ2h0IGFmdGVyIG9yZGVyIGNyZWF0ZWRcbiAqIFRPRE86IHJlbmFtZSB0byBDdXN0b21lck9yZGVyXG4gKlxuICogQGNsYXNzIFVzZXJPcmRlclxuICogQGV4dGVuZHMge0RCT2JqZWN0PElVc2VyT3JkZXIsIElVc2VyT3JkZXJDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lVc2VyT3JkZXJ9XG4gKi9cbkBNb2RlbE5hbWUoJ1VzZXJPcmRlcicpXG5jbGFzcyBVc2VyT3JkZXIgZXh0ZW5kcyBEQk9iamVjdDxJVXNlck9yZGVyLCBJVXNlck9yZGVyQ3JlYXRlT2JqZWN0PlxuXHRpbXBsZW1lbnRzIElVc2VyT3JkZXIge1xuXHRjb25zdHJ1Y3Rvcih1c2VyT3JkZXI6IElVc2VyT3JkZXIpIHtcblx0XHRzdXBlcih1c2VyT3JkZXIpO1xuXG5cdFx0aWYgKHVzZXJPcmRlciAmJiB1c2VyT3JkZXIuZ2VvTG9jYXRpb24pIHtcblx0XHRcdHRoaXMuZ2VvTG9jYXRpb24gPSBuZXcgR2VvTG9jYXRpb24odXNlck9yZGVyLmdlb0xvY2F0aW9uKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogRmlyc3QgTmFtZVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgVXNlck9yZGVyXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdGZpcnN0TmFtZT86IHN0cmluZztcblxuXHQvKipcblx0ICogTGFzdCBOYW1lXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBVc2VyT3JkZXJcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0bGFzdE5hbWU/OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIEN1c3RvbWVyIEltYWdlIChQaG90by9BdmF0YXIpIFVSTFxuXHQgKiAob3B0aW9uYWwpXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBVc2VyT3JkZXJcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0aW1hZ2U6IHN0cmluZztcblxuXHQvKipcblx0ICogUHJpbWFyeSBFbWFpbCBBZGRyZXNzXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBVc2VyT3JkZXJcblx0ICovXG5cdEBTY2hlbWEoe1xuXHRcdHR5cGU6IFN0cmluZyxcblx0XHRyZXF1aXJlZDogZmFsc2UsXG5cdFx0c3BhcnNlOiB0cnVlLFxuXHR9KVxuXHRAQ29sdW1uKClcblx0ZW1haWw/OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFBhc3N3b3JkIEhhc2hcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFVzZXJPcmRlclxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlLCBzZWxlY3Q6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRoYXNoPzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBDdXJyZW50IGN1c3RvbWVyIGxvY2F0aW9uIChjdXN0b21lciBhZGRyZXNzLCBsYXN0IGtub3duIGxvY2F0aW9uIG9mIHRoZSBjdXN0b21lcilcblx0ICpcblx0ICogQHR5cGUge0dlb0xvY2F0aW9ufVxuXHQgKiBAbWVtYmVyb2YgVXNlck9yZGVyXG5cdCAqL1xuXHRAU2NoZW1hKGdldFNjaGVtYShHZW9Mb2NhdGlvbikpXG5cdGdlb0xvY2F0aW9uOiBHZW9Mb2NhdGlvbjtcblxuXHQvKipcblx0ICogQXBhcnRtZW50IChzdG9yZWQgc2VwYXJhdGVseSBmcm9tIGdlb2xvY2F0aW9uL2FkZHJlc3MgZm9yIGVmZmljaWVuY3kpXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBVc2VyT3JkZXJcblx0ICovXG5cdEBTY2hlbWEoU3RyaW5nKVxuXHRAQ29sdW1uKClcblx0YXBhcnRtZW50OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIEN1c3RvbWVySWQgaW4gdGhlIFN0cmlwZSBwYXltZW50IGdhdGV3YXkgKGlmIGN1c3RvbWVyIGFkZGVkIHRvIFN0cmlwZSwgb3B0aW9uYWwpXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBVc2VyT3JkZXJcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0c3RyaXBlQ3VzdG9tZXJJZD86IHN0cmluZztcblxuXHQvKipcblx0ICogSURzIG9mIGN1c3RvbWVyIG1vYmlsZSBkZXZpY2VzIC8gYnJvd3NlclxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nW119XG5cdCAqIEBtZW1iZXJvZiBVc2VyT3JkZXJcblx0ICovXG5cdEBTY2hlbWEoW1N0cmluZ10pXG5cdGRldmljZXNJZHM6IHN0cmluZ1tdO1xuXG5cdC8qKlxuXHQgKiBJRHMgb2YgY3VzdG9tZXIgaW4gc29jaWFsIG5ldHdvcmtzIC8gT0F1dGggcHJvdmlkZXJzXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmdbXX1cblx0ICogQG1lbWJlcm9mIFVzZXJPcmRlclxuXHQgKi9cblx0QFNjaGVtYShbU3RyaW5nXSlcblx0c29jaWFsSWRzOiBzdHJpbmdbXTtcblxuXHQvKipcblx0ICogQ3VzdG9tZXIgUHJpbWFyeSBQaG9uZSBOdW1iZXJcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFVzZXJPcmRlclxuXHQgKi9cblx0QFNjaGVtYShTdHJpbmcpXG5cdEBDb2x1bW4oKVxuXHRwaG9uZT86IHN0cmluZztcblxuXHQvKipcblx0ICogSXMgY3VzdG9tZXIgY29tcGxldGVkIHJlZ2lzdHJhdGlvblxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIFVzZXJPcmRlclxuXHQgKi9cblx0QFNjaGVtYShCb29sZWFuKVxuXHRAQ29sdW1uKClcblx0aXNSZWdpc3RyYXRpb25Db21wbGV0ZWQ6IGJvb2xlYW47XG5cblx0LyoqXG5cdCAqIEdldCBmdWxsIGFkZHJlc3Mgb2YgY3VzdG9tZXIgKGluY2x1ZGluZyBhcGFydG1lbnQpXG5cdCAqIE5vdGU6IGRvZXMgbm90IGluY2x1ZGUgY291bnRyeVxuXHQgKlxuXHQgKiBAcmVhZG9ubHlcblx0ICogQG1lbWJlcm9mIFVzZXJPcmRlclxuXHQgKi9cblx0Z2V0IGZ1bGxBZGRyZXNzKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIChcblx0XHRcdGAke3RoaXMuZ2VvTG9jYXRpb24uY2l0eX0sICR7dGhpcy5nZW9Mb2NhdGlvbi5zdHJlZXRBZGRyZXNzfSBgICtcblx0XHRcdGAke3RoaXMuYXBhcnRtZW50fS8ke3RoaXMuZ2VvTG9jYXRpb24uaG91c2V9YFxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlck9yZGVyO1xuIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IERCT2JqZWN0LCBnZXRTY2hlbWEsIE1vZGVsTmFtZSwgU2NoZW1hLCBUeXBlcyB9IGZyb20gJy4uL0BweXJvL2RiJztcbmltcG9ydCBHZW9Mb2NhdGlvbiBmcm9tICcuL0dlb0xvY2F0aW9uJztcbmltcG9ydCBXYXJlaG91c2VQcm9kdWN0LCB7IFdpdGhQb3B1bGF0ZWRQcm9kdWN0IH0gZnJvbSAnLi9XYXJlaG91c2VQcm9kdWN0JztcbmltcG9ydCBJV2FyZWhvdXNlLCB7IElXYXJlaG91c2VDcmVhdGVPYmplY3QgfSBmcm9tICcuLi9pbnRlcmZhY2VzL0lXYXJlaG91c2UnO1xuaW1wb3J0IEZvcndhcmRPcmRlcnNNZXRob2QgZnJvbSAnLi4vZW51bXMvRm9yd2FyZE9yZGVyc01ldGhvZCc7XG5pbXBvcnQgeyBFbnRpdHksIENvbHVtbiB9IGZyb20gJ3R5cGVvcm0nO1xuaW1wb3J0IElXYXJlaG91c2VQcm9kdWN0IGZyb20gJy4uL2ludGVyZmFjZXMvSVdhcmVob3VzZVByb2R1Y3QnO1xuaW1wb3J0IE9yZGVyQmFyY29kZVR5cGVzIGZyb20gJy4uL2VudW1zL09yZGVyQmFyY29kZVR5cGVzJztcbmltcG9ydCBQYXltZW50R2F0ZXdheSBmcm9tICcuL1BheW1lbnRHYXRld2F5JztcblxuLyoqXG4gKiBXYXJlaG91c2UgLyBNZXJjaGFudCAvIFN0b3JlXG4gKiBXZSBhcmUgdXNpbmcgYWxsIG9mIGFib3ZlIGFzIHN5bm9ueW1zIHRvZGF5LCBob3dldmVyIGF0IHNvbWUgcG9pbnQgd2Ugd2lsbCBoYXZlXG4gKiBtdWx0aXBsZSB3YXJlaG91c2VzIHBlciBlYWNoIHN0b3JlIE9SIG11bHRpcGxlIHN0b3JlcyB1c2luZyBzYW1lIHdhcmVob3VzZS5cbiAqIFNvLCB3aGlsZSB3ZSB0aGluayBNZXJjaGFudCBhbmQgU3RvcmUgYXJlIGludGVyY2hhbmdhYmxlLFxuICogaW4gdGhlIGZ1dHVyZSB2ZXJzaW9ucyBvZiBFdmVyIFBsYXRmb3JtLCB3ZSB3aWxsIGhhdmUgTWVyY2hhbnRzIGFuZCBXYXJlaG91c2VzIGFzIHNlcGFyYXRlZCBlbnRpdGllc1xuICpcbiAqIEBjbGFzcyBXYXJlaG91c2VcbiAqIEBleHRlbmRzIHtEQk9iamVjdDxJV2FyZWhvdXNlLCBJV2FyZWhvdXNlQ3JlYXRlT2JqZWN0Pn1cbiAqIEBpbXBsZW1lbnRzIHtJV2FyZWhvdXNlfVxuICovXG5ATW9kZWxOYW1lKCdXYXJlaG91c2UnKVxuQEVudGl0eSh7IG5hbWU6ICd3YXJlaG91c2VzJyB9KVxuY2xhc3MgV2FyZWhvdXNlIGV4dGVuZHMgREJPYmplY3Q8SVdhcmVob3VzZSwgSVdhcmVob3VzZUNyZWF0ZU9iamVjdD5cblx0aW1wbGVtZW50cyBJV2FyZWhvdXNlIHtcblx0Y29uc3RydWN0b3Iod2FyZWhvdXNlOiBJV2FyZWhvdXNlKSB7XG5cdFx0c3VwZXIod2FyZWhvdXNlKTtcblxuXHRcdGlmICh3YXJlaG91c2UpIHtcblx0XHRcdGlmICh3YXJlaG91c2UuZ2VvTG9jYXRpb24pIHtcblx0XHRcdFx0dGhpcy5nZW9Mb2NhdGlvbiA9IG5ldyBHZW9Mb2NhdGlvbih3YXJlaG91c2UuZ2VvTG9jYXRpb24pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAod2FyZWhvdXNlLnByb2R1Y3RzKSB7XG5cdFx0XHRcdHRoaXMucHJvZHVjdHMgPSBfLm1hcChcblx0XHRcdFx0XHR3YXJlaG91c2UucHJvZHVjdHMsXG5cdFx0XHRcdFx0KHdhcmVob3VzZVByb2R1Y3Q6IElXYXJlaG91c2VQcm9kdWN0KSA9PiB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbmV3IFdhcmVob3VzZVByb2R1Y3Qod2FyZWhvdXNlUHJvZHVjdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXdhcmVob3VzZS5iYXJjb2RlRGF0YSkge1xuXHRcdFx0XHR0aGlzLmJhcmNvZGVEYXRhID0gd2FyZWhvdXNlLl9pZC50b1N0cmluZygpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBJcyBXYXJlaG91c2Ugd29ya2luZyByaWdodCBub3dcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBUeXBlcy5Cb29sZWFuKGZhbHNlKVxuXHRAQ29sdW1uKClcblx0aXNBY3RpdmU6IGJvb2xlYW47XG5cblx0LyoqXG5cdCAqIElzIG9ubGluZSBwYXltZW50IGVuYWJsZWQ/XG5cdCAqIElmIGRpc2FibGVkLCBzYWxlcyBvbmx5IHBvc3NpYmxlIHVzaW5nIGNhc2ggb24gZGVsaXZlcnkgb3IgdGFrZWF3YXkgYW5kIG5vIG9ubGluZSBwYXltZW50cyBhbGxvd2VkXG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbih0cnVlKVxuXHRAQ29sdW1uKClcblx0aXNQYXltZW50RW5hYmxlZDogYm9vbGVhbjtcblxuXHQvKipcblx0ICogV2FyZWhvdXNlIGN1cnJlbnQgbG9jYXRpb24gKGFkZHJlc3MpXG5cdCAqIE5vdGU6IHdlIGRvIHN1cHBvcnQgXCJtb3ZpbmdcIiB3YXJlaG91c2VzIChlLmcuIGNhciB3aXRoIHByb2R1Y3RzKVxuXHQgKlxuXHQgKiBAdHlwZSB7R2VvTG9jYXRpb259XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBTY2hlbWEoZ2V0U2NoZW1hKEdlb0xvY2F0aW9uKSlcblx0Z2VvTG9jYXRpb246IEdlb0xvY2F0aW9uO1xuXG5cdC8qKlxuXHQgKiBXYXJlaG91c2UgZGVsaXZlcnkgYXJlYXMgaW4gR2VvSlNPTiBmb3JtYXRcblx0ICpcblx0ICogQHR5cGUge09iamVjdH1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IE9iamVjdCB9KVxuXHRkZWxpdmVyeUFyZWFzOiBvYmplY3Q7XG5cblx0LyoqXG5cdCAqIFByb2R1Y3RzIGF2YWlsYWJsZSBhdCB0aGlzIHdhcmVob3VzZSBmb3IgY3VzdG9tZXIgdG8gcHVyY2hhc2Vcblx0ICpcblx0ICogQHR5cGUge1dhcmVob3VzZVByb2R1Y3RbXX1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFNjaGVtYShbZ2V0U2NoZW1hKFdhcmVob3VzZVByb2R1Y3QpXSlcblx0cHJvZHVjdHM6IFdhcmVob3VzZVByb2R1Y3RbXTtcblxuXHQvKipcblx0ICogVGhlIG5hbWUgb2YgU3RvcmUvTWVyY2hhbnRcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFR5cGVzLlN0cmluZygpXG5cdEBDb2x1bW4oKVxuXHRuYW1lOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFRoZSBVUkwgb2Ygc3RvcmUgYnJhbmQgbG9nb1xuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdGxvZ286IHN0cmluZztcblxuXHQvKipcblx0ICogRGVmYXVsdCBhZG1pbmlzdHJhdG9yIHVzZXIgZm9yIHRoZSBzdG9yZVxuXHQgKiAodXNlZCBmb3IgYXV0aGVudGljYXRpb24gZHVyaW5nIGxvZ2luIGludG8gTWVyY2hhbnQgYXBwIHRvZ2V0aGVyIHdpdGggaGFzaGVkIHBhc3N3b3JkKVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCB1bmlxdWU6IHRydWUgfSlcblx0QENvbHVtbigpXG5cdHVzZXJuYW1lOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIEhhc2hlZCBwYXNzd29yZCBvZiBkZWZhdWx0IHN0b3JlIGFkbWluaXN0cmF0b3Jcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlLCBzZWxlY3Q6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRoYXNoPzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBQcmltYXJ5IGNvbnRhY3QgZW1haWwgZm9yIHRoZSBzdG9yZVxuXHQgKlxuXHQgKiBAdHlwZSB7KHN0cmluZyB8IG51bGwpfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdGNvbnRhY3RFbWFpbDogc3RyaW5nIHwgbnVsbDtcblxuXHQvKipcblx0ICogUHJpbWFyeSBjb250YWN0IHBob25lIGZvciB0aGUgc3RvcmVcblx0ICpcblx0ICogQHR5cGUgeyhzdHJpbmcgfCBudWxsKX1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRjb250YWN0UGhvbmU6IHN0cmluZyB8IG51bGw7XG5cblx0LyoqXG5cdCAqIFBob25lIG51bWJlciwgd2hpY2ggc2hvdWxkIGJlIHVzZWQgdG8gYWNjZXB0IG9yZGVycyBieSBwaG9uZSBjYWxsc1xuXHQgKiBJZiBudWxsLCBTdG9yZSBkaWQgbm90IGFjY2VwdCBvcmRlcnMgYnkgcGhvbmUgY2FsbHNcblx0ICpcblx0ICogQHR5cGUgeyhzdHJpbmcgfCBudWxsKX1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRvcmRlcnNQaG9uZTogc3RyaW5nIHwgbnVsbDtcblxuXHQvKipcblx0ICogRW1haWwgYWRkcmVzcywgd2hpY2ggc2hvdWxkIGJlIHVzZWQgdG8gYWNjZXB0IG9yZGVycyBieSBpbmNvbWluZyBlbWFpbHNcblx0ICogSWYgbnVsbCwgU3RvcmUgZGlkIG5vdCBhY2NlcHQgb3JkZXJzIGJ5IGluY29taW5nIGVtYWlsc1xuXHQgKlxuXHQgKiBAdHlwZSB7KHN0cmluZyB8IG51bGwpfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdG9yZGVyc0VtYWlsOiBzdHJpbmcgfCBudWxsO1xuXG5cdC8qKlxuXHQgKiBQcmVmZXJhYmxlIHdheSB0byBmb3J3YXJkIG9yZGVycyB0byB0aGUgU3RvcmUgKGVtYWlsLCBwaG9uZSwgZXRjKVxuXHQgKlxuXHQgKiBAdHlwZSB7Rm9yd2FyZE9yZGVyc01ldGhvZH1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFNjaGVtYShbTnVtYmVyXSlcblx0QENvbHVtbigpXG5cdGZvcndhcmRPcmRlcnNVc2luZzogRm9yd2FyZE9yZGVyc01ldGhvZFtdO1xuXG5cdC8qKlxuXHQgKiBJcyBXYXJlaG91c2UgcHJvZHVjdHMgYnkgZGVmYXVsdCByZXF1aXJlIG1hbnVmYWN0dXJpbmdcblx0ICogKGUuZy4gcGl6emEgcmVxdWlyZXMgbWFudWZhY3R1cmluZywgYnV0IGJvdHRsZSBvZiBiZWVyIHVzdWFsbHkgZG9uJ3QpXG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbih0cnVlKVxuXHRAQ29sdW1uKClcblx0aXNNYW51ZmFjdHVyaW5nOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJcyB3YXJlaG91c2UgcHJvZHVjdHMgYnkgZGVmYXVsdCBiZWNvbWUgYXZhaWxhYmxlIG9ubHkgd2hlbiBjYXJyaWVyIGZvdW5kXG5cdCAqIChTaG91bGQgd2Ugc2VhcmNoIGZvciBjYXJyaWVyIGJlZm9yZSBvciBhZnRlciBjdXN0b21lciBwdXJjaGFzZXMgcHJvZHVjdClcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBUeXBlcy5Cb29sZWFuKHRydWUpXG5cdEBDb2x1bW4oKVxuXHRpc0NhcnJpZXJSZXF1aXJlZDogYm9vbGVhbjtcblxuXHQvKipcblx0ICogSURzIG9mIGRldmljZXMgdXNlZCB0byBhY2Nlc3MgV2FyZWhvdXNlIGFwcCAod2hlcmUgYXBwIGluc3RhbGxlZCBvciBydW5uaW5nKVxuXHQgKiBOb3RlOiB1c2VkIHRvIHNlbmQgcHVzaCBub3RpZmljYXRpb25zXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmdbXX1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFNjaGVtYShbU3RyaW5nXSlcblx0ZGV2aWNlc0lkczogc3RyaW5nW107XG5cblx0LyoqXG5cdCAqIElEcyBvZiBjYXJyaWVycyB3aGljaCB1c2VkIGJ5IFN0b3JlXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmdbXX1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFNjaGVtYShbU3RyaW5nXSlcblx0dXNlZENhcnJpZXJzSWRzOiBzdHJpbmdbXTtcblxuXHQvKipcblx0ICogaWYgdHJ1ZSwgaGFzIHNvbWUgY2FycmllcnMgYXNzaWduZWQgdG8gdGhlIFN0b3JlXG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGhhc1Jlc3RyaWN0ZWRDYXJyaWVyczogYm9vbGVhbjtcblxuXHQvKipcblx0ICogSURzIG9mIGNhcnJpZXJzIHdoaWNoIGFyZSBcImNvbm5lY3RlZFwiIChhc3NpZ25lZCkgdG8gdGhlIFN0b3JlIChcIm93biBjYXJyaWVyc1wiKS5cblx0ICpcblx0ICogQHR5cGUge3N0cmluZ1tdfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKFtTdHJpbmddKVxuXHRjYXJyaWVyc0lkczogc3RyaW5nW107XG5cblx0QFR5cGVzLkJvb2xlYW4oZmFsc2UpXG5cdEBDb2x1bW4oKVxuXHRpc0RlbGV0ZWQ6IGJvb2xlYW47XG5cblx0LyoqXG5cdCAqIElzIFN0b3JlIGFsbG93cyBkZWxpdmVyaWVzIGZvciBwdXJjaGFzZXNcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdHByb2R1Y3RzRGVsaXZlcnk/OiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJcyBTdG9yZSBhbGxvd3MgdGFrZWF3YXkgcHVyY2hhc2VzXG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRwcm9kdWN0c1Rha2Vhd2F5PzogYm9vbGVhbjtcblxuXHQvKipcblx0ICogVGhlIHR5cGUgb2Ygb3JkZXIgYmFyY29kZVxuXHQgKlxuXHQgKiBAdHlwZSB7TnVtYmVyfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdG9yZGVyQmFyY29kZVR5cGU/OiBPcmRlckJhcmNvZGVUeXBlcztcblxuXHQvKipcblx0ICogVW5pcXVlIGRhdGEgZm9yIGdlbmVyYXRlIG9uIGJhcmNvZGVcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgdW5pcXVlOiB0cnVlLCBzcGFyc2U6IHRydWUgfSlcblx0QENvbHVtbigpXG5cdGJhcmNvZGVEYXRhOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFBheW1lbnQgZ2F0ZXdheXNcblx0ICpcblx0ICogQHR5cGUge1BheW1lbnRHYXRld2F5W119XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBTY2hlbWEoW2dldFNjaGVtYShQYXltZW50R2F0ZXdheSldKVxuXHRwYXltZW50R2F0ZXdheXM/OiBQYXltZW50R2F0ZXdheVtdO1xuXG5cdC8qKlxuXHQgKiBpZiB0cnVlLCBvbmx5IGFzc2lnbmVkIGNhcnJpZXJzIChpbiBjYXJyaWVyc0lkcykgY2FuIGJlIHVzZWQgZm9yIGRlbGl2ZXJ5XG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHR1c2VPbmx5UmVzdHJpY3RlZENhcnJpZXJzRm9yRGVsaXZlcnk/OiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBpZiB0cnVlLCBhc3NpZ25lZCBjYXJyaWVycyAoaW4gY2FycmllcnNJZHMpIHdpbGwgYmUgcHJlZmVyIGZvciBkZWxpdmVyeVxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IEJvb2xlYW4sIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0cHJlZmVyUmVzdHJpY3RlZENhcnJpZXJzRm9yRGVsaXZlcnk/OiBib29sZWFuO1xufVxuXG5leHBvcnQgdHlwZSBXaXRoRnVsbFByb2R1Y3RzID0gV2FyZWhvdXNlICYge1xuXHRwcm9kdWN0czogV2l0aFBvcHVsYXRlZFByb2R1Y3RbXTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFdhcmVob3VzZTtcbiIsImltcG9ydCBQcm9kdWN0IGZyb20gJy4vUHJvZHVjdCc7XG5pbXBvcnQgeyBEQk9iamVjdCwgTW9kZWxOYW1lLCBTY2hlbWEsIFR5cGVzIH0gZnJvbSAnLi4vQHB5cm8vZGInO1xuaW1wb3J0IElXYXJlaG91c2VQcm9kdWN0LCB7XG5cdElXYXJlaG91c2VQcm9kdWN0Q3JlYXRlT2JqZWN0LFxufSBmcm9tICcuLi9pbnRlcmZhY2VzL0lXYXJlaG91c2VQcm9kdWN0JztcbmltcG9ydCBJUHJvZHVjdCBmcm9tICcuLi9pbnRlcmZhY2VzL0lQcm9kdWN0JztcbmltcG9ydCB7IENvbHVtbiB9IGZyb20gJ3R5cGVvcm0nO1xuXG4vKipcbiAqIFJlcHJlc2VudCBXYXJlaG91c2UgKE1lcmNoYW50KSBpbnZlbnRvcnkgaXRlbSAoc29tZSBwcm9kdWN0IC8gc2VydmljZSkgZm9yIHNhbGVcbiAqIEVhY2ggd2FyZWhvdXNlIG1heSBoYXZlIHNvbWUgcXR5IG9mIGl0ZW1zIG9mIHNvbWUgcHJvZHVjdCBhbmQgcHJpY2UgY2FuIGNoYW5nZSBmb3IgYWxsIG9mXG4gKiB0aGVtIG9ubHkgKGkuZS4gc2F5IHByaWNlIGRlY3JlYXNlIGV2ZXJ5IDEgbWluIGZvciAxJCBidXQgZm9yIGFsbCA0IHByb2R1Y3RzIGluIHdhcmVob3VzZSlcbiAqIEluIE1vbmdvREIgc3RvcmVkIGFzIHN1Yi1kb2N1bWVudHMgaW5zaWRlIFdhcmVob3VzZSBkb2N1bWVudCAobm90IGFzIGEgc2VwYXJhdGUgY29sbGVjdGlvbilcbiAqXG4gKiBAY2xhc3MgV2FyZWhvdXNlUHJvZHVjdFxuICogQGV4dGVuZHMge0RCT2JqZWN0PElXYXJlaG91c2VQcm9kdWN0LCBJV2FyZWhvdXNlUHJvZHVjdENyZWF0ZU9iamVjdD59XG4gKiBAaW1wbGVtZW50cyB7SVdhcmVob3VzZVByb2R1Y3R9XG4gKi9cbkBNb2RlbE5hbWUoJ1dhcmVob3VzZVByb2R1Y3QnKVxuY2xhc3MgV2FyZWhvdXNlUHJvZHVjdFxuXHRleHRlbmRzIERCT2JqZWN0PElXYXJlaG91c2VQcm9kdWN0LCBJV2FyZWhvdXNlUHJvZHVjdENyZWF0ZU9iamVjdD5cblx0aW1wbGVtZW50cyBJV2FyZWhvdXNlUHJvZHVjdCB7XG5cdGNvbnN0cnVjdG9yKHdhcmVob3VzZVByb2R1Y3Q6IElXYXJlaG91c2VQcm9kdWN0KSB7XG5cdFx0c3VwZXIod2FyZWhvdXNlUHJvZHVjdCk7XG5cblx0XHRpZiAodHlwZW9mIHdhcmVob3VzZVByb2R1Y3QucHJvZHVjdCAhPT0gJ3N0cmluZycpIHtcblx0XHRcdHRoaXMucHJvZHVjdCA9IG5ldyBQcm9kdWN0KHdhcmVob3VzZVByb2R1Y3QucHJvZHVjdCBhcyBJUHJvZHVjdCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEN1cnJlbnQgUHJpY2Ugb2YgcHJvZHVjdCAocmVhbC10aW1lKVxuXHQgKiBOb3RlOiBzb21lIHdhcmVob3VzZXMgbWF5IGhhdmUgZGlmZmVyZW50IHByaWNlcyBmb3IgdGhlIHNhbWUgcHJvZHVjdFxuXHQgKiBjb21wYXJlZCB0byBvdGhlciB3YXJlaG91c2VzLiAgSXQgaXMgZXNwZWNpYWxseSB0cnVlLCB3aGVuIHByaWNlcyBnbyBkb3duL3VwIGluIHNvbWVcblx0ICogd2FyZWhvdXNlcyBtb3JlIHF1aWNrbHkgY29tcGFyZWQgdG8gb3RoZXJzIGV0Y1xuXHQgKlxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlUHJvZHVjdFxuXHQgKi9cblx0QFR5cGVzLk51bWJlcigpXG5cdEBDb2x1bW4oKVxuXHRwcmljZTogbnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBTdGFydCBwcmljZSBmb3IgcHJvZHVjdC5cblx0ICogSW5pdGlhbGx5IGVxdWFscyB0byB0aGUgdmFsdWUgZnJvbSBwcmljZSBmaWVsZCwgYnV0IG92ZXIgdGhlIHRpbWUgcHJpY2UgY2FuIGdvIGRvd24vdXAsXG5cdCAqIHdoaWxlIGluaXRpYWxQcmljZSB3aWxsIGFsd2F5cyByZW1haW4gdGhlIHNhbWUuXG5cdCAqIFdlIGNhbGN1bGF0ZSAlIG9mIGRpc2NvdW50IHVzaW5nIHByaWNlIGFuZCBpbml0aWFsUHJpY2UgdmFsdWVzXG5cdCAqXG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VQcm9kdWN0XG5cdCAqL1xuXHRAVHlwZXMuTnVtYmVyKClcblx0QENvbHVtbigpXG5cdGluaXRpYWxQcmljZTogbnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBIb3cgbWFueSBwcm9kdWN0cyBhdmFpbGFibGUgY3VycmVudGx5IGZvciBwdXJjaGFzZVxuXHQgKlxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlUHJvZHVjdFxuXHQgKi9cblx0QFR5cGVzLk51bWJlcigwKVxuXHRAQ29sdW1uKClcblx0Y291bnQ6IG51bWJlcjtcblxuXHQvKipcblx0ICogSG93IG1hbnkgcHJvZHVjdHMgYXJlIHNvbGRcblx0ICpcblx0ICogQHR5cGUge251bWJlcn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVByb2R1Y3Rcblx0ICovXG5cdEBUeXBlcy5OdW1iZXIoMClcblx0QENvbHVtbigpXG5cdHNvbGRDb3VudDogbnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBSZWYgdG8gUHJvZHVjdFxuXHQgKlxuXHQgKiBAdHlwZSB7KFByb2R1Y3QgfCBzdHJpbmcpfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlUHJvZHVjdFxuXHQgKi9cblx0QFR5cGVzLlJlZihQcm9kdWN0KVxuXHRwcm9kdWN0OiBQcm9kdWN0IHwgc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBJcyBwcm9kdWN0KHMpIHJlcXVpcmUgbWFudWZhY3R1cmluZ1xuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVByb2R1Y3Rcblx0ICovXG5cdEBDb2x1bW4oKVxuXHRAVHlwZXMuQm9vbGVhbih0cnVlKVxuXHRpc01hbnVmYWN0dXJpbmc6IGJvb2xlYW47XG5cblx0LyoqXG5cdCAqIElzIHByb2R1Y3QocykgYmVjb21lIGF2YWlsYWJsZSBvbmx5IHdoZW4gY2FycmllciBmb3VuZFxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVByb2R1Y3Rcblx0ICovXG5cdEBDb2x1bW4oKVxuXHRAVHlwZXMuQm9vbGVhbih0cnVlKVxuXHRpc0NhcnJpZXJSZXF1aXJlZDogYm9vbGVhbjtcblxuXHQvKipcblx0ICogSXMgcHJvZHVjdChzKSByZXF1aXJlIGRlbGl2ZXJ5IHRvIGN1c3RvbWVyIG9yIGF2YWlsYWJsZSBmb3IgcGlja3VwXG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlUHJvZHVjdFxuXHQgKi9cblx0QENvbHVtbigpXG5cdEBUeXBlcy5Cb29sZWFuKHRydWUpXG5cdGlzRGVsaXZlcnlSZXF1aXJlZDogYm9vbGVhbjtcblxuXHRAU2NoZW1hKHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBCb29sZWFuIH0pXG5cdEBDb2x1bW4oKVxuXHRpc1Rha2Vhd2F5PzogYm9vbGVhbjtcblxuXHQvKipcblx0ICogTWluIGRlbGl2ZXJ5IHRpbWUgKGluIG1pbnV0ZXMpXG5cdCAqXG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VQcm9kdWN0XG5cdCAqL1xuXHRAU2NoZW1hKHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBOdW1iZXIgfSlcblx0QENvbHVtbigpXG5cdGRlbGl2ZXJ5VGltZU1pbj86IG51bWJlcjtcblxuXHQvKipcblx0ICogTWF4IGRlbGl2ZXJ5IHRpbWUgKGluIG1pbnV0ZXMpXG5cdCAqXG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VQcm9kdWN0XG5cdCAqL1xuXHRAU2NoZW1hKHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBOdW1iZXIgfSlcblx0QENvbHVtbigpXG5cdGRlbGl2ZXJ5VGltZU1heD86IG51bWJlcjtcblxuXHQvKipcblx0ICogR2V0IFByb2R1Y3RJZFxuXHQgKlxuXHQgKiBAcmVhZG9ubHlcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVByb2R1Y3Rcblx0ICovXG5cdGdldCBwcm9kdWN0SWQoKTogc3RyaW5nIHtcblx0XHRpZiAodHlwZW9mIHRoaXMucHJvZHVjdCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHJldHVybiB0aGlzLnByb2R1Y3QgYXMgc3RyaW5nO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gKHRoaXMucHJvZHVjdCBhcyBQcm9kdWN0KS5pZDtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IHR5cGUgV2l0aFBvcHVsYXRlZFByb2R1Y3QgPSBXYXJlaG91c2VQcm9kdWN0ICYgeyBwcm9kdWN0OiBQcm9kdWN0IH07XG5cbmV4cG9ydCBkZWZhdWx0IFdhcmVob3VzZVByb2R1Y3Q7XG4iLCIvKipcbiAqIEN1cnJlbnQgQ2FycmllciBzdGF0dXNcbiAqIFRoaXMgc3RhdHVzIGlzIHNldCBieSBjYXJyaWVyIGl0c2VsZiBpbiBoaXMgbW9iaWxlIGFwcCB0byBpbmRpY2F0ZSBpZiBoZSB3b3JraW5nIG5vdyBvciBjYW4ndCB3b3JrIG5vd1xuICpcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmVudW0gQ2FycmllclN0YXR1cyB7XG5cdC8qKlxuXHQgKiBDYXJyaWVyIG9ubGluZSBhbmQgcmVhZHkgdG8gYWNjZXB0IG5ldyBqb2JzIG9yIGFscmVhZHkgcHJvY2Vzc2luZyB0aGVtXG5cdCAqIChjaGVjayBvcmRlcnMgY29sbGVjdGlvbiBmb3IgY2FycmllciB0byBrbm93IHdoYXQgam9icyBoZSBwcm9jZXNzaW5nIGlmIGFueSlcblx0ICovXG5cdE9ubGluZSA9IDAsXG5cblx0LyoqXG5cdCAqIENhcnJpZXIgb2ZmbGluZSBhbmQgZGlkIG5vdCBhY2NlcHQgam9icyByaWdodCBub3cgKG5vdCB3b3JraW5nIGF0IHRoZSBtb21lbnQsIGUuZy4gc2xlZXApXG5cdCAqL1xuXHRPZmZsaW5lID0gMSxcblxuXHQvKipcblx0ICogQ2FycmllciBpcyBibG9ja2VkICh0ZW1wb3Jhcnkgb3IgcGVybWFuZW50bHkgZnJvbSB3b3JrKSwgZS5nLiBiYW5uZWQgZnJvbSBvdXIgcGxhdGZvcm1cblx0ICovXG5cdEJsb2NrZWQgPSAyLFxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJyaWVyU3RhdHVzO1xuIiwiLyoqXG4gKiBTdXBwb3J0ZWQgUHVyY2hhc2UgdHlwZXM6IERlbGl2ZXJ5IG9yIFRha2Vhd2F5XG4gKiBUT0RPOiByZW5hbWUgdG8gc29tZXRoaW5nIGxpa2UgXCJQdXJjaGFzZVR5cGVcIlxuICpcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmVudW0gRGVsaXZlcnlUeXBlIHtcblx0RGVsaXZlcnkgPSAwLFxuXHRUYWtlYXdheSA9IDEsXG59XG5cbmV4cG9ydCBkZWZhdWx0IERlbGl2ZXJ5VHlwZTtcbiIsIi8qKlxuICogT3JkZXIgQmFyY29kZSBUeXBlc1xuICpcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmVudW0gT3JkZXJCYXJjb2RlVHlwZXMge1xuXHRRUiA9IDAsXG5cdENPREUxMjggPSAxLFxuXHRDT0RFMzkgPSAyLFxuXHRwaGFybWFjb2RlID0gMyxcblx0TVNJID0gNCxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9yZGVyQmFyY29kZVR5cGVzVG9TdHJpbmcoc3RhdHVzOiBPcmRlckJhcmNvZGVUeXBlcyk6IHN0cmluZyB7XG5cdHN3aXRjaCAoc3RhdHVzKSB7XG5cdFx0Y2FzZSBPcmRlckJhcmNvZGVUeXBlcy5RUjpcblx0XHRcdHJldHVybiAnUVIgY29kZSc7XG5cdFx0Y2FzZSBPcmRlckJhcmNvZGVUeXBlcy5DT0RFMTI4OlxuXHRcdFx0cmV0dXJuICdDT0RFMTI4Jztcblx0XHRjYXNlIE9yZGVyQmFyY29kZVR5cGVzLkNPREUzOTpcblx0XHRcdHJldHVybiAnQ09ERTM5Jztcblx0XHRjYXNlIE9yZGVyQmFyY29kZVR5cGVzLnBoYXJtYWNvZGU6XG5cdFx0XHRyZXR1cm4gJ3BoYXJtYWNvZGUnO1xuXHRcdGNhc2UgT3JkZXJCYXJjb2RlVHlwZXMuTVNJOlxuXHRcdFx0cmV0dXJuICdNU0knO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gJ0JBRF9TVEFUVVMnO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9yZGVyQmFyY29kZVR5cGVzO1xuIiwiLyoqXG4gKiBTdGF0dXMgb2YgQ2FycmllciBhc3NpZ25lZCB0byBhbiBPcmRlclxuICpcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmVudW0gT3JkZXJDYXJyaWVyU3RhdHVzIHtcblx0LyoqXG5cdCAqIE5vIFN0YXR1c1xuXHQgKiBTaGlwcGluZyB3YXMgbm90IHBsYW5lZCBvciBzdGFydGVkIHlldCBmb3IgdGhpcyBPcmRlciBieSBhbnkgY2FycmllciwgaS5lLiBubyBjYXJyaWVyIGFzc2lnbmVkIHRvIGFuIG9yZGVyXG5cdCAqL1xuXHROb0NhcnJpZXIgPSAwLFxuXG5cdC8qKlxuXHQgKiBTb21lIGNhcnJpZXIgZGVjaWRlIHRvIHBpY2sgdXAgdGhpcyBvcmRlciBhbmQgd2lsbCBzdGFydCBtb3ZpbmcgdG8gd2FyZWhvdXNlIHNvb24uXG5cdCAqIENhcnJpZXIgY2hhbmdlIG9yZGVyIHN0YXR1cyB0byB0aGlzIHdoZW4gc2VlIHBhY2thZ2VkIG9yZGVyIGlzIHdhaXRpbmcgaGltIGluIHdhcmVob3VzZVxuXHQgKi9cblx0Q2FycmllclNlbGVjdGVkT3JkZXIgPSAxLFxuXG5cdC8qKlxuXHQgKiBTb21lIGNhcnJpZXIgYXJyaXZlZCB0byBXYXJlaG91c2UgYW5kIHBpY2tlZCB1cCBhbiBvcmRlciBwcm9kdWN0cyBmb3IgZGVsaXZlcnlcblx0ICogKGNhcnJpZXIgY2hhbmdlIG9yZGVyIHN0YXR1cyB0byB0aGlzKVxuXHQgKi9cblx0Q2FycmllclBpY2tlZFVwT3JkZXIgPSAyLFxuXG5cdC8qKlxuXHQgKiBTb21lIGNhcnJpZXIgc3RhcnQgZGVsaXZlcnkgb2Ygb3JkZXIgcHJvZHVjdHMgdG8gY3VzdG9tZXJcblx0ICovXG5cdENhcnJpZXJTdGFydERlbGl2ZXJ5ID0gMyxcblxuXHQvKipcblx0ICogU29tZSBjYXJyaWVyIGFycml2ZWQgdG8gY3VzdG9tZXIgbG9jYXRpb25cblx0ICovXG5cdENhcnJpZXJBcnJpdmVkVG9DdXN0b21lciA9IDQsXG5cblx0LyoqXG5cdCAqIE9yZGVyIGlzIGdpdmVuIHRvIHRoZSBjbGllbnQgKGRlbGl2ZXJ5IGNvbXBsZXRlZClcblx0ICovXG5cdERlbGl2ZXJ5Q29tcGxldGVkID0gNSxcblxuXHQvKipcblx0ICogQ2FycmllciBoYXZlIGlzc3VlcyBkdXJpbmcgZGVsaXZlcnkgKGUuZy4gaW5jaWRlbnQgaGFwcGVucyBvciBjYXJyaWVyIGNhbid0IGZvdW5kIGFkZHJlc3MsIGV0Yylcblx0ICovXG5cdElzc3Vlc0R1cmluZ0RlbGl2ZXJ5ID0gMjA0LFxuXG5cdC8qKlxuXHQgKiBDYXJyaWVyIGFycml2ZXMgdG8gY3VzdG9tZXIgbG9jYXRpb24gYW5kIGNsaWVudCByZWZ1c2UgdG8gdGFrZSBvcmRlclxuXHQgKi9cblx0Q2xpZW50UmVmdXNlVGFraW5nT3JkZXIgPSAyMDUsXG59XG5cbi8vIFRPRE86IHRoaXMgc2hvdWxkIGJlIHRyYW5zbGF0ZWRcbmV4cG9ydCBmdW5jdGlvbiBjYXJyaWVyU3RhdHVzVG9TdHJpbmcoc3RhdHVzOiBPcmRlckNhcnJpZXJTdGF0dXMpOiBzdHJpbmcge1xuXHRzd2l0Y2ggKHN0YXR1cykge1xuXHRcdGNhc2UgT3JkZXJDYXJyaWVyU3RhdHVzLk5vQ2Fycmllcjpcblx0XHRcdHJldHVybiAnTm8gQ2Fycmllcic7XG5cblx0XHRjYXNlIE9yZGVyQ2FycmllclN0YXR1cy5DYXJyaWVyU2VsZWN0ZWRPcmRlcjpcblx0XHRcdHJldHVybiAnT3JkZXIgU2VsZWN0ZWQgRm9yIERlbGl2ZXJ5JztcblxuXHRcdGNhc2UgT3JkZXJDYXJyaWVyU3RhdHVzLkNhcnJpZXJQaWNrZWRVcE9yZGVyOlxuXHRcdFx0cmV0dXJuICdPcmRlciBQaWNrZWQgVXAnO1xuXG5cdFx0Y2FzZSBPcmRlckNhcnJpZXJTdGF0dXMuQ2FycmllclN0YXJ0RGVsaXZlcnk6XG5cdFx0XHRyZXR1cm4gJ09yZGVyIEluIERlbGl2ZXJ5JztcblxuXHRcdGNhc2UgT3JkZXJDYXJyaWVyU3RhdHVzLkNhcnJpZXJBcnJpdmVkVG9DdXN0b21lcjpcblx0XHRcdHJldHVybiAnQXJyaXZlZCBUbyBDbGllbnQnO1xuXG5cdFx0Y2FzZSBPcmRlckNhcnJpZXJTdGF0dXMuRGVsaXZlcnlDb21wbGV0ZWQ6XG5cdFx0XHRyZXR1cm4gJ0RlbGl2ZXJlZCc7XG5cblx0XHRjYXNlIE9yZGVyQ2FycmllclN0YXR1cy5Jc3N1ZXNEdXJpbmdEZWxpdmVyeTpcblx0XHRcdHJldHVybiAnRGVsaXZlcnkgSXNzdWVzJztcblxuXHRcdGNhc2UgT3JkZXJDYXJyaWVyU3RhdHVzLkNsaWVudFJlZnVzZVRha2luZ09yZGVyOlxuXHRcdFx0cmV0dXJuICdDbGllbnQgUmVmdXNlIHRvIFRha2UgT3JkZXInO1xuXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiAnQkFEX1NUQVRVUyc7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgT3JkZXJDYXJyaWVyU3RhdHVzO1xuIiwiLyoqXG4gKiBTdGF0dXMgb2YgT3JkZXJcbiAqICh1c2VkIHVzdWFsbHkgYXMgY29tYmluZWQgdmFsdWUgZnJvbSBDYXJyaWVyIHN0YXR1cyBhbmQgV2FyZWhvdXNlIHN0YXR1cylcbiAqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5lbnVtIE9yZGVyU3RhdHVzIHtcblx0V2FyZWhvdXNlUHJlcGFyYXRpb24gPSAwLFxuXHRJbkRlbGl2ZXJ5ID0gMSxcblx0RGVsaXZlcmVkID0gMixcblx0Q2FuY2VsZWRXaGlsZVdhcmVob3VzZVByZXBhcmF0aW9uID0gMjAwLFxuXHRDYW5jZWxlZFdoaWxlSW5EZWxpdmVyeSA9IDIwMSxcblx0V2FyZWhvdXNlSXNzdWUgPSAyMDIsXG5cdENhcnJpZXJJc3N1ZSA9IDIwMyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgT3JkZXJTdGF0dXM7XG4iLCIvKipcbiAqIFdhcmVob3VzZSBTdGF0dXNlc1xuICpcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmVudW0gT3JkZXJXYXJlaG91c2VTdGF0dXMge1xuXHQvKipcblx0ICogTm8gU3RhdHVzIChvcmRlciBqdXN0IGNyZWF0ZWQpXG5cdCAqL1xuXHROb1N0YXR1cyA9IDAsXG5cblx0LyoqXG5cdCAqIE9yZGVyIGp1c3QgcmVjZWl2ZWQgZnJvbSBjbGllbnQgKE9wZXJhdGlvbk1vZGUuV2FyZWhvdXNlKVxuXHQgKiBvciBpbml0aWFsaXplZCBieSB3YXJlaG91c2UgKE9wZXJhdGlvbk1vZGUuT3JkZXIpIGFuZCBjb25maXJtZWQgKFwicmVhZHlcIiBmb3Igd2FyZWhvdXNlIHByb2Nlc3NpbmcpXG5cdCAqIFRoaXMgZmllbGQgaXMgdXNlZnVsIHRvIGluZGljYXRlIHRoYXQgV2FyZWhvdXNlIENvbmZpcm1zIGFuIG9yZGVyXG5cdCAqIChlLmcuIHRvIGxldCBjbGllbnQvY3VzdG9tZXIga25vdyB0aGF0IFdhcmVob3VzZSB3aWxsIHNoaXAvc2VsbCBwcm9kdWN0KVxuXHQgKlxuXHQgKiBOb3RlOiBzb21lIHdhcmVob3VzZXMgd2FudCB0byBhdXRvbWF0aWNhbGx5IGNvbmZpcm0gYWxsIG9yZGVycyxcblx0ICogYnV0IHNvbWUgd2FudCBmaXJzdCB0byByZXZpZXcgdGhlbSBhbmQgY29uZmlybSBlYWNoIG9uZSBtYW51YWxseSwgb25lIGJ5IG9uZVxuXHQgKi9cblx0UmVhZHlGb3JQcm9jZXNzaW5nID0gMSxcblxuXHQvLyBXYXJlaG91c2Ugc3RhcnQgd29yayBvbiB0aGUgb3JkZXJcblx0Ly8gRS5nLiB0YWtlIG9yZGVyIHRvIGhpbXNlbGYgZm9yIE9wZXJhdGlvbk1vZGUuV2FyZWhvdXNlIG9yIGp1c3Qgc3RhcnQgd29ya2luZyBvbiBvcmRlciBmb3IgT3BlcmF0aW9uTW9kZS5PcmRlclxuXHRXYXJlaG91c2VTdGFydGVkUHJvY2Vzc2luZyA9IDIsXG5cblx0Ly8gUHJvZHVjdHMgYWxsb2NhdGlvbiBzdGFydGVkICh3YXJlaG91c2UpXG5cdEFsbG9jYXRpb25TdGFydGVkID0gMyxcblxuXHQvLyBXYXJlaG91c2UgZmluaXNoIGFsbG9jYXRpb24gb2YgcHJvZHVjdHMgZm9yIHBhY2thZ2luZ1xuXHQvLyAod2FyZWhvdXNlIGNoYW5nZSBvcmRlciB0byB0aGlzIHN0YXR1cylcblx0QWxsb2NhdGlvbkZpbmlzaGVkID0gNCxcblxuXHQvLyBQcm9kdWN0cyBwYWNrYWdpbmcgc3RhcnRlZCAod2FyZWhvdXNlKVxuXHRQYWNrYWdpbmdTdGFydGVkID0gNSxcblxuXHQvLyBQcm9kdWN0cyBhcmUgcGFja2VkIGZvciBzaGlwcGluZyBieSB3YXJlaG91c2Vcblx0Ly8gV2FyZWhvdXNlIGNoYW5nZSBvcmRlciB0byB0aGlzIHN0YXR1cyBhbmQgY2FycmllcnMgc2VlIHBhY2thZ2VkIG9yZGVycyBpbiB3YXJlaG91c2VzXG5cdC8vIGFuZCBtb3ZlIHRvIGNsb3Nlc3Qgd2FyZWhvdXNlIHRvIHBpY2sgb3JkZXJcblx0UGFja2FnaW5nRmluaXNoZWQgPSA2LFxuXG5cdC8vIE9yZGVyIGlzIGdpdmVuIHRvIHNvbWUgY2FycmllciBmb3IgZGVsaXZlcnlcblx0R2l2ZW5Ub0NhcnJpZXIgPSA3LFxuXG5cdC8vIE9yZGVyIGlzIGdpdmVuIHRvIGN1c3RvbWVyXG5cdEdpdmVuVG9DdXN0b21lciA9IDgsXG5cblx0Ly8gRmFpbCB0byBhbGxvY2F0ZSBwcm9kdWN0c1xuXHQvLyAoc29tZSBwcm9kdWN0cyBhcmUgbWlzc2luZyBpbiBzdG9jay93YXJlaG91c2UpXG5cdEFsbG9jYXRpb25GYWlsZWQgPSAyMDAsXG5cblx0Ly8gRmFpbCB0byBwYWNrIHByb2R1Y3RzXG5cdC8vIChzb21ldGhpbmcgd2FzIHdyb25nIGR1cmluZyBwYWNrYWdpbmcgb3IgbWF5YmUgcGFjayBicm9rZW4gZXRjKVxuXHRQYWNrYWdpbmdGYWlsZWQgPSAyMDEsXG59XG5cbi8vIFRPRE86IHRoaXMgc2hvdWxkIGJlIHRyYW5zbGF0ZWRcbmV4cG9ydCBmdW5jdGlvbiB3YXJlaG91c2VTdGF0dXNUb1N0cmluZyhzdGF0dXM6IE9yZGVyV2FyZWhvdXNlU3RhdHVzKTogc3RyaW5nIHtcblx0c3dpdGNoIChzdGF0dXMpIHtcblx0XHRjYXNlIE9yZGVyV2FyZWhvdXNlU3RhdHVzLk5vU3RhdHVzOlxuXHRcdFx0cmV0dXJuICdDcmVhdGVkJztcblxuXHRcdGNhc2UgT3JkZXJXYXJlaG91c2VTdGF0dXMuUmVhZHlGb3JQcm9jZXNzaW5nOlxuXHRcdFx0cmV0dXJuICdDb25maXJtZWQnO1xuXG5cdFx0Y2FzZSBPcmRlcldhcmVob3VzZVN0YXR1cy5XYXJlaG91c2VTdGFydGVkUHJvY2Vzc2luZzpcblx0XHRcdHJldHVybiAnUHJvY2Vzc2luZyc7XG5cblx0XHRjYXNlIE9yZGVyV2FyZWhvdXNlU3RhdHVzLkFsbG9jYXRpb25TdGFydGVkOlxuXHRcdFx0cmV0dXJuICdBbGxvY2F0aW9uIFN0YXJ0ZWQnO1xuXG5cdFx0Y2FzZSBPcmRlcldhcmVob3VzZVN0YXR1cy5BbGxvY2F0aW9uRmluaXNoZWQ6XG5cdFx0XHRyZXR1cm4gJ0FsbG9jYXRpb24gRmluaXNoZWQnO1xuXG5cdFx0Y2FzZSBPcmRlcldhcmVob3VzZVN0YXR1cy5QYWNrYWdpbmdTdGFydGVkOlxuXHRcdFx0cmV0dXJuICdQYWNrYWdpbmcgU3RhcnRlZCc7XG5cblx0XHRjYXNlIE9yZGVyV2FyZWhvdXNlU3RhdHVzLlBhY2thZ2luZ0ZpbmlzaGVkOlxuXHRcdFx0cmV0dXJuICdQYWNrYWdlZCc7XG5cblx0XHRjYXNlIE9yZGVyV2FyZWhvdXNlU3RhdHVzLkdpdmVuVG9DYXJyaWVyOlxuXHRcdFx0cmV0dXJuICdHaXZlbiB0byBDYXJyaWVyJztcblxuXHRcdGNhc2UgT3JkZXJXYXJlaG91c2VTdGF0dXMuR2l2ZW5Ub0N1c3RvbWVyOlxuXHRcdFx0cmV0dXJuICdHaXZlbiB0byBDdXN0b21lcic7XG5cblx0XHRjYXNlIE9yZGVyV2FyZWhvdXNlU3RhdHVzLkFsbG9jYXRpb25GYWlsZWQ6XG5cdFx0XHRyZXR1cm4gJ0FsbG9jYXRpb24gRmFpbGVkJztcblxuXHRcdGNhc2UgT3JkZXJXYXJlaG91c2VTdGF0dXMuUGFja2FnaW5nRmFpbGVkOlxuXHRcdFx0cmV0dXJuICdQYWNrYWdpbmcgRmFpbGVkJztcblxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gJ0JBRF9TVEFUVVMnO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9yZGVyV2FyZWhvdXNlU3RhdHVzO1xuIiwiLyoqXG4gKiBQYXltZW50IEdhdGV3YXlzXG4gKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZW51bSBQYXltZW50R2F0ZXdheXMge1xuXHRTdHJpcGUsXG5cdFBheVBhbCxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBheW1lbnRHYXRld2F5c1RvU3RyaW5nKFxuXHRwYXltZW50R2F0ZXdheTogUGF5bWVudEdhdGV3YXlzXG4pOiBzdHJpbmcge1xuXHRzd2l0Y2ggKHBheW1lbnRHYXRld2F5KSB7XG5cdFx0Y2FzZSBQYXltZW50R2F0ZXdheXMuU3RyaXBlOlxuXHRcdFx0cmV0dXJuICdTdHJpcGUnO1xuXHRcdGNhc2UgUGF5bWVudEdhdGV3YXlzLlBheVBhbDpcblx0XHRcdHJldHVybiAnUGF5UGFsJztcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuICdCQURfUEFZTUVOVF9HQVRFV0FZJztcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF5bWVudEdhdGV3YXlzTG9nbyhwYXltZW50R2F0ZXdheTogUGF5bWVudEdhdGV3YXlzKTogc3RyaW5nIHtcblx0c3dpdGNoIChwYXltZW50R2F0ZXdheSkge1xuXHRcdGNhc2UgUGF5bWVudEdhdGV3YXlzLlN0cmlwZTpcblx0XHRcdHJldHVybiAnaHR0cHM6Ly9zdHJpcGUuY29tL2ltZy92My9ob21lL3R3aXR0ZXIucG5nJztcblx0XHRjYXNlIFBheW1lbnRHYXRld2F5cy5QYXlQYWw6XG5cdFx0XHRyZXR1cm4gJ2h0dHBzOi8vYXZhdGFyczEuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3UvNDc2Njc1P3M9MjAwJnY9NCc7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiAnQkFEX1BBWU1FTlRfR0FURVdBWSc7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGF5bWVudEdhdGV3YXlzO1xuIiwiZXhwb3J0IGNsYXNzIE5vdEludml0ZWRFcnJvciB7XG5cdHJlYWRvbmx5IGNvZGUgPSAnbm90LWludml0ZWQnO1xuXHRyZWFkb25seSBtZXNzYWdlID0gJ05vdCBpbnZpdGVkISc7XG59XG4iLCJleHBvcnQgY2xhc3MgV3JvbmdQYXNzd29yZEVycm9yIHtcblx0cmVhZG9ubHkgY29kZSA9ICd3cm9uZy1wYXNzd29yZCc7XG5cdHJlYWRvbmx5IG1lc3NhZ2UgPSAnV3JvbmcgcGFzc3dvcmQhJztcbn1cbiIsImltcG9ydCBJbnZpdGUgZnJvbSAnLi9lbnRpdGllcy9JbnZpdGUnO1xuXG5leHBvcnQgY29uc3QgbGF1bmNoZWQgPSAnbGF1bmNoZWRfbm90aWZpY2F0aW9uJztcbmV4cG9ydCB0eXBlIGxhdW5jaGVkID0gJ2xhdW5jaGVkX25vdGlmaWNhdGlvbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU5vdGlmaWNhdGlvbiB7XG5cdGV2ZW50OiBsYXVuY2hlZDtcblxuXHRba2V5OiBzdHJpbmddOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxhdW5jaGVkTm90aWZpY2F0aW9uIGV4dGVuZHMgSU5vdGlmaWNhdGlvbiB7XG5cdGV2ZW50OiBsYXVuY2hlZDtcblx0aW52aXRlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxhdW5jaGVkTm90aWZpY2F0aW9uUGFyc2VkIHtcblx0ZXZlbnQ6IGxhdW5jaGVkO1xuXHRpbnZpdGU6IEludml0ZTtcbn1cbiIsImltcG9ydCBHZW9Mb2NhdGlvbiBmcm9tICcuL2VudGl0aWVzL0dlb0xvY2F0aW9uJztcbmltcG9ydCB7IElMb2NhdGlvbiB9IGZyb20gJy4vaW50ZXJmYWNlcy9JR2VvTG9jYXRpb24nO1xuaW1wb3J0IHsgc2FtcGxlIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBPcmRlciBmcm9tICcuL2VudGl0aWVzL09yZGVyJztcblxubmFtZXNwYWNlIFV0aWxzIHtcblx0LyoqXG5cdCAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgaW4gbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSBvZiB0d28gbG9jYXRpb24gYW5kIHJldHVybnMgdGhlIGRpc3RhbmNlXG5cdCAqIGJldHdlZW4gdGhlbSBhcyB0aGUgY3JvdyBmbGllcyAoaW4ga20pXG5cdCAqIFlvdSBhcmUgbm90IG1lYW50IHRvIHVuZGVyc3RhbmQgdGhpcy4uLiA6KVxuXHQgKiBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTg4ODM2MDEvZnVuY3Rpb24tdG8tY2FsY3VsYXRlLWRpc3RhbmNlLWJldHdlZW4tdHdvLWNvb3JkaW5hdGVzLXNob3dzLXdyb25nXG5cdCAqXG5cdCAqIEBleHBvcnRcblx0ICogQHBhcmFtIHtudW1iZXJ9IGxhdDFcblx0ICogQHBhcmFtIHtudW1iZXJ9IGxvbjFcblx0ICogQHBhcmFtIHtudW1iZXJ9IGxhdDJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGxvbjJcblx0ICogQHJldHVybnMge251bWJlcn1cblx0ICovXG5cdGV4cG9ydCBmdW5jdGlvbiBjYWxjQ3Jvdyhcblx0XHRsYXQxOiBudW1iZXIsXG5cdFx0bG9uMTogbnVtYmVyLFxuXHRcdGxhdDI6IG51bWJlcixcblx0XHRsb24yOiBudW1iZXJcblx0KTogbnVtYmVyIHtcblx0XHRjb25zdCBSOiBudW1iZXIgPSA2MzcxOyAvLyBrbVxuXHRcdGNvbnN0IGRMYXQ6IG51bWJlciA9IFV0aWxzLl90b1JhZChsYXQyIC0gbGF0MSk7XG5cdFx0Y29uc3QgZExvbjogbnVtYmVyID0gVXRpbHMuX3RvUmFkKGxvbjIgLSBsb24xKTtcblxuXHRcdGxhdDEgPSBVdGlscy5fdG9SYWQobGF0MSk7XG5cdFx0bGF0MiA9IFV0aWxzLl90b1JhZChsYXQyKTtcblxuXHRcdGNvbnN0IGEgPVxuXHRcdFx0TWF0aC5wb3coTWF0aC5zaW4oZExhdCAvIDIpLCAyKSArXG5cdFx0XHRNYXRoLnBvdyhNYXRoLnNpbihkTG9uIC8gMiksIDIpICogTWF0aC5jb3MobGF0MSkgKiBNYXRoLmNvcyhsYXQyKTtcblxuXHRcdGNvbnN0IGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xuXG5cdFx0Y29uc3QgZCA9IFIgKiBjO1xuXG5cdFx0cmV0dXJuIGQ7XG5cdH1cblxuXHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tc2hhZG93ZWQtdmFyaWFibGVcblx0ZXhwb3J0IGZ1bmN0aW9uIGdldERpc3RhbmNlKFxuXHRcdGdlb0xvY2F0aW9uMTogR2VvTG9jYXRpb24sXG5cdFx0Z2VvTG9jYXRpb24yOiBHZW9Mb2NhdGlvblxuXHQpOiBudW1iZXIge1xuXHRcdHJldHVybiBnZXRMb2NEaXN0YW5jZShnZW9Mb2NhdGlvbjEubG9jLCBnZW9Mb2NhdGlvbjIubG9jKTtcblx0fVxuXG5cdGV4cG9ydCBmdW5jdGlvbiBnZXRMb2NEaXN0YW5jZShsb2MxOiBJTG9jYXRpb24sIGxvYzI6IElMb2NhdGlvbik6IG51bWJlciB7XG5cdFx0cmV0dXJuIGNhbGNDcm93KFxuXHRcdFx0bG9jMS5jb29yZGluYXRlc1swXSxcblx0XHRcdGxvYzEuY29vcmRpbmF0ZXNbMV0sXG5cdFx0XHRsb2MyLmNvb3JkaW5hdGVzWzBdLFxuXHRcdFx0bG9jMi5jb29yZGluYXRlc1sxXVxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgbnVtZXJpYyBkZWdyZWVzIHRvIHJhZGlhbnNcblx0ICpcblx0ICogQGV4cG9ydFxuXHQgKiBAcGFyYW0ge251bWJlcn0gdlxuXHQgKiBAcmV0dXJucyB7bnVtYmVyfVxuXHQgKi9cblx0ZXhwb3J0IGZ1bmN0aW9uIF90b1JhZCh2OiBudW1iZXIpOiBudW1iZXIge1xuXHRcdHJldHVybiAodiAqIE1hdGguUEkpIC8gMTgwO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIG1pbiAoaW5jbHVkZWQpIGFuZCBtYXggKGV4Y2x1ZGVkKVxuXHQgKiBVc2luZyBNYXRoLnJvdW5kKCkgd2lsbCBnaXZlIHlvdSBhIG5vbi11bmlmb3JtIGRpc3RyaWJ1dGlvbiFcblx0ICpcblx0ICogQGV4cG9ydFxuXHQgKiBAcGFyYW0geyp9IG1pblxuXHQgKiBAcGFyYW0geyp9IG1heFxuXHQgKiBAcmV0dXJucyB7bnVtYmVyfVxuXHQgKi9cblx0ZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUludChtaW4sIG1heCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcblx0fVxuXG5cdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuXHRleHBvcnQgZnVuY3Rpb24gdG9EYXRlKGRhdGU6IHN0cmluZyB8IERhdGUpIHtcblx0XHRpZiAoZGF0ZSBpbnN0YW5jZW9mIERhdGUpIHtcblx0XHRcdHJldHVybiBkYXRlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gbmV3IERhdGUoZGF0ZSk7XG5cdFx0fVxuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlZExvZ29Db2xvcigpIHtcblx0XHRyZXR1cm4gc2FtcGxlKFsnIzI2OWFmZicsICcjZmZhZjI2JywgJyM4YjcyZmYnLCAnIzBlY2M5RCddKS5yZXBsYWNlKFxuXHRcdFx0JyMnLFxuXHRcdFx0Jydcblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBnZXREaXN0YW5jZSA9IFV0aWxzLmdldERpc3RhbmNlO1xuZXhwb3J0IGNvbnN0IHRvRGF0ZSA9IFV0aWxzLnRvRGF0ZTtcbmV4cG9ydCBjb25zdCBnZXREdW1teUltYWdlID0gKFxuXHR3aWR0aDogbnVtYmVyLFxuXHRoZWlnaHQ6IG51bWJlcixcblx0bGV0dGVyOiBzdHJpbmdcbikgPT4ge1xuXHRyZXR1cm4gYGh0dHBzOi8vZHVtbXlpbWFnZS5jb20vJHt3aWR0aH14JHtoZWlnaHR9LyR7VXRpbHMuZ2VuZXJhdGVkTG9nb0NvbG9yKCl9L2ZmZmZmZi5qcGcmdGV4dD0ke2xldHRlcn1gO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFBsYWNlaG9sZGl0SW1naXggPSAoXG5cdHdpZHRoOiBudW1iZXIsXG5cdGhlaWdodDogbnVtYmVyLFxuXHRmb250U2l6ZTogbnVtYmVyLFxuXHRuYW1lOiBzdHJpbmdcbikgPT4ge1xuXHRyZXR1cm4gYGh0dHBzOi8vcGxhY2Vob2xkaXQuaW1naXgubmV0L350ZXh0P3R4dHNpemU9JHtmb250U2l6ZX0mdHh0PSR7bmFtZX0mdz0ke3dpZHRofSZoPSR7aGVpZ2h0fWA7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RmFrZUltZyA9IChcblx0d2lkdGg6IG51bWJlcixcblx0aGVpZ2h0OiBudW1iZXIsXG5cdGZvbnRTaXplOiBudW1iZXIsXG5cdG5hbWU6IHN0cmluZ1xuKSA9PiB7XG5cdHJldHVybiBgaHR0cHM6Ly9mYWtlaW1nLnBsLyR7d2lkdGh9eCR7aGVpZ2h0fS9GRkQ4OTAlMkMxMjgvMDAwLz90ZXh0PSR7bmFtZX0mZm9udF9zaXplPSR7Zm9udFNpemV9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZU9iamVjdElkU3RyaW5nID0gKFxuXHRtID0gTWF0aCxcblx0ZCA9IERhdGUsXG5cdGggPSAxNixcblx0cyA9ICh4KSA9PiBtLmZsb29yKHgpLnRvU3RyaW5nKGgpXG4pID0+IHtcblx0cmV0dXJuIChcblx0XHRzKGQubm93KCkgLyAxMDAwKSArICcgJy5yZXBlYXQoaCkucmVwbGFjZSgvLi9nLCAoKSA9PiBzKG0ucmFuZG9tKCkgKiBoKSlcblx0KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJZEZyb21UaGVEYXRlKG9yZGVyOiBPcmRlcik6IHN0cmluZyB7XG5cdGlmICghb3JkZXJbJ2NyZWF0ZWRBdCddIHx8ICFvcmRlci5vcmRlck51bWJlcikge1xuXHRcdHRocm93IGBDYW4ndCB1c2UgZ2V0SWRGcm9tVGhlRGF0ZSBmdW5jdGlvbi4gUHJvcGVydHkgJHtcblx0XHRcdCFvcmRlclsnY3JlYXRlZEF0J10gPyAnY3JlYXRlZEF0JyA6ICdvcmRlck51bWJlcidcblx0XHR9IGlzIG1pc3NpbmchYDtcblx0fVxuXHRjb25zdCBbZGF5LCBtb250aCwgeWVhcl0gPSBuZXcgRGF0ZShvcmRlclsnY3JlYXRlZEF0J10pXG5cdFx0LnRvTG9jYWxlRGF0ZVN0cmluZygpXG5cdFx0LnNwbGl0KCcvJyk7XG5cblx0bGV0IGQgPSAoJzAnICsgZGF5KS5zbGljZSgtMik7XG5cdGQgPSBkLnN1YnN0cigtMik7XG5cdGxldCBtID0gKCcwJyArIG1vbnRoKS5zbGljZSgtMik7XG5cdG0gPSBtLnN1YnN0cigtMik7XG5cblx0cmV0dXJuIGAke2R9JHttfSR7eWVhcn0tJHtvcmRlci5vcmRlck51bWJlcn1gO1xufVxuXG5leHBvcnQgZGVmYXVsdCBVdGlscztcbiIsImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyBFeGlzdGVuY2VFdmVudCwgRXhpc3RlbmNlRXZlbnRUeXBlIH0gZnJvbSAnLi9leGlzdGVuY2UnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS9mcm9tJztcbmltcG9ydCB7IGNvbmNhdCwgZXhoYXVzdE1hcCwgZmlsdGVyLCBtYXAsIHNoYXJlLCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBvZiB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS9vZic7XG5pbXBvcnQgeyB2MSBhcyB1dWlkIH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBJRGJTZXJ2aWNlIH0gZnJvbSAnQHB5cm8vZGItc2VydmVyL2ktZGItc2VydmljZSc7XG5pbXBvcnQgeyBEQk9iamVjdCB9IGZyb20gJ0BweXJvL2RiJztcbmltcG9ydCB7IFJhd09iamVjdCB9IGZyb20gJ0BweXJvL2RiL2RiLXJhdy1vYmplY3QnO1xuaW1wb3J0IHsgQ3JlYXRlT2JqZWN0IH0gZnJvbSAnQHB5cm8vZGIvZGItY3JlYXRlLW9iamVjdCc7XG5pbXBvcnQgeyBGaW5kT2JqZWN0IH0gZnJvbSAnQHB5cm8vZGIvZGItZmluZC1vYmplY3QnO1xuaW1wb3J0IHsgVXBkYXRlT2JqZWN0IH0gZnJvbSAnQHB5cm8vZGIvZGItdXBkYXRlLW9iamVjdCc7XG5pbXBvcnQgeyBFbnRpdHlTZXJ2aWNlIH0gZnJvbSAnQHB5cm8vZGItc2VydmVyL2VudGl0eS1zZXJ2aWNlJztcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIERCU2VydmljZTxUIGV4dGVuZHMgREJPYmplY3Q8YW55LCBhbnk+PlxuXHRleHRlbmRzIEVudGl0eVNlcnZpY2U8VD5cblx0aW1wbGVtZW50cyBJRGJTZXJ2aWNlPFQ+IHtcblx0cHVibGljIGFic3RyYWN0IHJlYWRvbmx5IERCT2JqZWN0OiB7XG5cdFx0bmV3IChhcmc6IFJhd09iamVjdDxUPik6IFQ7XG5cdFx0bW9kZWxOYW1lOiBzdHJpbmc7XG5cdH07XG5cblx0cHVibGljIHJlYWRvbmx5IGV4aXN0ZW5jZTogU3ViamVjdDxFeGlzdGVuY2VFdmVudDxUPj47XG5cblx0cHJvdGVjdGVkIGFic3RyYWN0IHJlYWRvbmx5IGxvZzogTG9nZ2VyO1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5leGlzdGVuY2UgPSBuZXcgU3ViamVjdDxFeGlzdGVuY2VFdmVudDxUPj4oKTtcblx0fVxuXG5cdGdldChpZDogVFsnaWQnXSk6IE9ic2VydmFibGU8VCB8IG51bGw+IHtcblx0XHRjb25zdCBjYWxsSWQgPSB1dWlkKCk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKHsgb2JqZWN0SWQ6IGlkLCBjYWxsSWQgfSwgJy5nZXQoaWQpIGNhbGxlZCcpO1xuXG5cdFx0cmV0dXJuIGZyb20odGhpcy5nZXRDdXJyZW50KGlkKSkucGlwZShcblx0XHRcdGNvbmNhdChcblx0XHRcdFx0dGhpcy5leGlzdGVuY2UucGlwZShcblx0XHRcdFx0XHRmaWx0ZXIoKGV4aXN0ZW5jZUV2ZW50KSA9PiBpZCA9PT0gZXhpc3RlbmNlRXZlbnQuaWQpLFxuXHRcdFx0XHRcdG1hcCgoZXhpc3RlbmNlRXZlbnQpID0+IGV4aXN0ZW5jZUV2ZW50LnZhbHVlKSxcblx0XHRcdFx0XHRzaGFyZSgpXG5cdFx0XHRcdClcblx0XHRcdCksXG5cdFx0XHR0YXAoe1xuXHRcdFx0XHRuZXh0OiAob2JqKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0b2JqZWN0SWQ6IGlkLFxuXHRcdFx0XHRcdFx0XHRvYmplY3Q6IG9iaixcblx0XHRcdFx0XHRcdFx0Y2FsbElkLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdCcuZ2V0KGlkKSBlbWl0dGVkIG5leHQgdmFsdWUnXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSxcblx0XHRcdFx0ZXJyb3I6IChlcnIpID0+IHtcblx0XHRcdFx0XHR0aGlzLmxvZy5lcnJvcihcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0b2JqZWN0SWQ6IGlkLFxuXHRcdFx0XHRcdFx0XHRlcnIsXG5cdFx0XHRcdFx0XHRcdGNhbGxJZCxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHQnLmdldChpZCksIGVtaXR0ZWQgZXJyb3IhJ1xuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0sXG5cdFx0XHR9KVxuXHRcdCk7XG5cdH1cblxuXHRhc3luYyBnZXRDdXJyZW50KGlkOiBUWydpZCddKTogUHJvbWlzZTxUIHwgbnVsbD4ge1xuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblxuXHRcdHRoaXMubG9nLmluZm8oeyBvYmplY3RJZDogaWQsIGNhbGxJZCB9LCAnLmdldEN1cnJlbnQoaWQpIGNhbGxlZCcpO1xuXG5cdFx0Y29uc3Qgb2JqID0gYXdhaXQgdGhpcy5Nb2RlbC5maW5kQnlJZChpZCkubGVhbigpLmV4ZWMoKTtcblxuXHRcdHJldHVybiB0aGlzLnBhcnNlKG9iaiBhcyBSYXdPYmplY3Q8VD4pO1xuXHR9XG5cblx0Z2V0TXVsdGlwbGUoaWRzOiBUWydpZCddW10pOiBPYnNlcnZhYmxlPFRbXT4ge1xuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblxuXHRcdHRoaXMubG9nLmluZm8oeyBvYmplY3RJZHM6IGlkcywgY2FsbElkIH0sICcuZ2V0TXVsdGlwbGUoaWRzKSBjYWxsZWQnKTtcblxuXHRcdHJldHVybiBvZihudWxsKS5waXBlKFxuXHRcdFx0Y29uY2F0KFxuXHRcdFx0XHR0aGlzLmV4aXN0ZW5jZS5waXBlKFxuXHRcdFx0XHRcdGZpbHRlcigoZXZlbnQpID0+IF8uaW5jbHVkZXMoaWRzLCBldmVudC5pZCkpLFxuXHRcdFx0XHRcdHNoYXJlKClcblx0XHRcdFx0KVxuXHRcdFx0KSxcblx0XHRcdGV4aGF1c3RNYXAoKCkgPT4gdGhpcy5nZXRDdXJyZW50TXVsdGlwbGUoaWRzKSksXG5cdFx0XHR0YXAoe1xuXHRcdFx0XHRuZXh0OiAob2JqZWN0cykgPT4ge1xuXHRcdFx0XHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRcdFx0XHR7IG9iamVjdElkczogaWRzLCBvYmplY3RzLCBjYWxsSWQgfSxcblx0XHRcdFx0XHRcdCcuZ2V0TXVsdGlwbGUoaWRzKSBlbWl0dGVkIG5leHQgdmFsdWUnXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSxcblx0XHRcdFx0ZXJyb3I6IChlcnIpID0+IHtcblx0XHRcdFx0XHR0aGlzLmxvZy5lcnJvcihcblx0XHRcdFx0XHRcdHsgb2JqZWN0SWRzOiBpZHMsIGVyciwgY2FsbElkIH0sXG5cdFx0XHRcdFx0XHQnLmdldE11bHRpcGxlKGlkcyksIGVtaXR0ZWQgZXJyb3IhJ1xuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0sXG5cdFx0XHR9KVxuXHRcdCk7XG5cdH1cblxuXHRhc3luYyBnZXRDdXJyZW50TXVsdGlwbGUoaWRzOiBUWydpZCddW10pOiBQcm9taXNlPFRbXT4ge1xuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7IG9iamVjdElkczogaWRzLCBjYWxsSWQgfSxcblx0XHRcdCcuZ2V0Q3VycmVudE11bHRpcGxlKGlkcykgY2FsbGVkJ1xuXHRcdCk7XG5cblx0XHRjb25zdCBvYmpzID0gYXdhaXQgdGhpcy5Nb2RlbC5maW5kKHtcblx0XHRcdF9pZDoge1xuXHRcdFx0XHQkaW46IF8ubWFwKGlkcywgKGlkKSA9PiB0aGlzLmdldE9iamVjdElkKGlkKSksXG5cdFx0XHR9LFxuXHRcdH0pXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0cmV0dXJuIF8ubWFwKG9ianMgYXMgUmF3T2JqZWN0PFQ+W10sIChvYmopID0+IHRoaXMucGFyc2Uob2JqKSk7XG5cdH1cblxuXHRhc3luYyBjcmVhdGUoY3JlYXRlT2JqZWN0OiBDcmVhdGVPYmplY3Q8VD4pOiBQcm9taXNlPFQ+IHtcblx0XHRjb25zdCBjYWxsSWQgPSB1dWlkKCk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKHsgY2FsbElkLCBjcmVhdGVPYmplY3QgfSwgJy5jcmVhdGUoY3JlYXRlT2JqZWN0KSBjYWxsZWQnKTtcblxuXHRcdGxldCBvYmplY3Q7XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZG9jdW1lbnQgPSBhd2FpdCB0aGlzLk1vZGVsLmNyZWF0ZShjcmVhdGVPYmplY3QpO1xuXG5cdFx0XHRvYmplY3QgPSB0aGlzLnBhcnNlKGRvY3VtZW50LnRvT2JqZWN0KCkgYXMgUmF3T2JqZWN0PFQ+KTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5sb2cuZXJyb3IoXG5cdFx0XHRcdHsgY2FsbElkLCBjcmVhdGVPYmplY3QsIGVycm9yIH0sXG5cdFx0XHRcdCcuY3JlYXRlKGNyZWF0ZU9iamVjdCkgdGhyb3duIGVycm9yISdcblx0XHRcdCk7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHR0aGlzLmV4aXN0ZW5jZS5uZXh0KHtcblx0XHRcdGlkOiBvYmplY3QuaWQsXG5cdFx0XHR2YWx1ZTogb2JqZWN0LFxuXHRcdFx0bGFzdFZhbHVlOiBudWxsLFxuXHRcdFx0dHlwZTogRXhpc3RlbmNlRXZlbnRUeXBlLkNyZWF0ZWQsXG5cdFx0fSk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0eyBjYWxsSWQsIGNyZWF0ZU9iamVjdCwgb2JqZWN0IH0sXG5cdFx0XHQnLmNyZWF0ZShjcmVhdGVPYmplY3QpIGNyZWF0ZWQgb2JqZWN0J1xuXHRcdCk7XG5cblx0XHRyZXR1cm4gb2JqZWN0O1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgYWxsIHJlY29yZHMgZnJvbSB0aGUgREJcblx0ICogVE9ETzogYWRkIEd1YXJkcyB0byBhdm9pZCBydW4gb24gcHJvZHVjdGlvblxuXHQgKlxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cblx0ICogQG1lbWJlcm9mIERCU2VydmljZVxuXHQgKi9cblx0YXN5bmMgcmVtb3ZlQWxsKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblxuXHRcdHRoaXMubG9nLmluZm8oeyBjYWxsSWQgfSwgJy5yZW1vdmVBbGwoKSBjYWxsZWQhJyk7XG5cblx0XHR0cnkge1xuXHRcdFx0YXdhaXQgdGhpcy5Nb2RlbC5yZW1vdmUoe30pLmV4ZWMoKTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHRoaXMubG9nLmVycm9yKHsgY2FsbElkLCBlcnIgfSwgJy5yZW1vdmVBbGwoKSB0aHJvd24gZXJyb3IhJyk7XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fVxuXG5cdFx0dGhpcy5sb2cuaW5mbyh7IGNhbGxJZCB9LCAnLnJlbW92ZUFsbCgpIHJlbW92ZWQgYWxsIScpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgcmVjb3JkIGZyb20gdGhlIERCXG5cdCAqIFRPRE86IHdlIHNob3VsZCBhZGQgYW5vdGhlciBtZXRob2Qgd2hpY2ggc2V0IElzRGV0ZWxlZCA9IHRydWUgYW5kIGRvIG5vdCBkZWxldGUgcmVjb3JkIGZyb20gREIgaW4gbW9zdCBjYXNlc1xuXHQgKlxuXHQgKiBAcGFyYW0ge1RbJ2lkJ119IG9iamVjdElkXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuXHQgKiBAbWVtYmVyb2YgREJTZXJ2aWNlXG5cdCAqL1xuXHRhc3luYyByZW1vdmUob2JqZWN0SWQ6IFRbJ2lkJ10pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBjYWxsSWQgPSB1dWlkKCk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKHsgY2FsbElkLCBvYmplY3RJZCB9LCAnLnJlbW92ZShvYmplY3RJZCkgY2FsbGVkJyk7XG5cblx0XHRsZXQgbGFzdFZhbHVlOiBUIHwgbnVsbDtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBsYXN0VmFsdWVSYXcgPSAoYXdhaXQgdGhpcy5Nb2RlbC5maW5kQnlJZEFuZFJlbW92ZShvYmplY3RJZClcblx0XHRcdFx0LmxlYW4oKVxuXHRcdFx0XHQuZXhlYygpKSBhcyBSYXdPYmplY3Q8VD47XG5cblx0XHRcdGxhc3RWYWx1ZSA9IHRoaXMucGFyc2UobGFzdFZhbHVlUmF3KTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHRoaXMubG9nLmVycm9yKFxuXHRcdFx0XHR7IGNhbGxJZCwgb2JqZWN0SWQsIGVyciB9LFxuXHRcdFx0XHQnLnJlbW92ZShvYmplY3RJZCkgdGhyb3duIGVycm9yISdcblx0XHRcdCk7XG5cblx0XHRcdHRocm93IGVycjtcblx0XHR9XG5cblx0XHRpZiAobGFzdFZhbHVlID09IG51bGwpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIi5yZW1vdmUob2JqZWN0SWQpIGVycm9yIC0gT2JqZWN0IGRvbid0IGV4aXN0XCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmV4aXN0ZW5jZS5uZXh0KHtcblx0XHRcdFx0aWQ6IG9iamVjdElkLFxuXHRcdFx0XHR2YWx1ZTogbnVsbCxcblx0XHRcdFx0bGFzdFZhbHVlLFxuXHRcdFx0XHR0eXBlOiBFeGlzdGVuY2VFdmVudFR5cGUuUmVtb3ZlZCxcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0XHR7IGNhbGxJZCwgb2JqZWN0SWQsIGxhc3RWYWx1ZSB9LFxuXHRcdFx0XHQnLnJlbW92ZShvYmplY3RJZCkgcmVtb3ZlZCBvYmplY3QnXG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmUgbXVsdGlwbGUgcmVjb3JkcyBmcm9tIERCIChlZmZpY2llbnQgd2F5KVxuXHQgKlxuXHQgKiBAcGFyYW0ge0ZpbmRPYmplY3Q8VD59IGNvbmRpdGlvbnNcblx0ICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG5cdCAqIEBtZW1iZXJvZiBEQlNlcnZpY2Vcblx0ICovXG5cdGFzeW5jIHJlbW92ZU11bHRpcGxlKGNvbmRpdGlvbnM6IEZpbmRPYmplY3Q8VD4pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBjYWxsSWQgPSB1dWlkKCk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0eyBjYWxsSWQsIGNvbmRpdGlvbnMgfSxcblx0XHRcdCcucmVtb3ZlTXVsdGlwbGUoY29uZGl0aW9ucykgY2FsbGVkJ1xuXHRcdCk7XG5cblx0XHRsZXQgbGFzdFZhbHVlczogVFtdO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGxhc3RWYWx1ZXMgPSBhd2FpdCB0aGlzLmZpbmQoY29uZGl0aW9ucyk7XG5cblx0XHRcdGF3YWl0IHRoaXMuTW9kZWwuZGVsZXRlTWFueSh7XG5cdFx0XHRcdF9pZDogeyAkaW46IGxhc3RWYWx1ZXMubWFwKChvKSA9PiB0aGlzLmdldE9iamVjdElkKG8uaWQpKSB9LFxuXHRcdFx0fSkuZXhlYygpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dGhpcy5sb2cuZXJyb3IoXG5cdFx0XHRcdHsgY2FsbElkLCBjb25kaXRpb25zLCBlcnIgfSxcblx0XHRcdFx0Jy5yZW1vdmVNdWx0aXBsZShjb25kaXRpb25zKSB0aHJvd24gZXJyb3IhJ1xuXHRcdFx0KTtcblx0XHRcdHRocm93IGVycjtcblx0XHR9XG5cblx0XHRfLmVhY2gobGFzdFZhbHVlcywgKGxhc3RWYWx1ZSkgPT4ge1xuXHRcdFx0dGhpcy5leGlzdGVuY2UubmV4dCh7XG5cdFx0XHRcdGlkOiBsYXN0VmFsdWUuaWQsXG5cdFx0XHRcdGxhc3RWYWx1ZSxcblx0XHRcdFx0dmFsdWU6IG51bGwsXG5cdFx0XHRcdHR5cGU6IEV4aXN0ZW5jZUV2ZW50VHlwZS5SZW1vdmVkLFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0e1xuXHRcdFx0XHRjYWxsSWQsXG5cdFx0XHRcdGNvbmRpdGlvbnMsXG5cdFx0XHRcdGxhc3RWYWx1ZXMsXG5cdFx0XHR9LFxuXHRcdFx0Jy5yZW1vdmVNdWx0aXBsZShjb25kaXRpb25zKSByZW1vdmVkIG9iamVjdHMnXG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmUgbXVsdGlwbGUgcmVjb3JkcyBieSBJZHNcblx0ICpcblx0ICogQHBhcmFtIHtBcnJheTxUWydpZCddPn0gaWRzXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuXHQgKiBAbWVtYmVyb2YgREJTZXJ2aWNlXG5cdCAqL1xuXHRhc3luYyByZW1vdmVNdWx0aXBsZUJ5SWRzKGlkczogVFsnaWQnXVtdKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dGhpcy5Nb2RlbC51cGRhdGUoXG5cdFx0XHR7XG5cdFx0XHRcdF9pZDogeyAkaW46IGlkcy5tYXAoKGlkKSA9PiB0aGlzLmdldE9iamVjdElkKGlkKSkgfSxcblx0XHRcdH0sXG5cdFx0XHR7IGlzRGVsZXRlZDogdHJ1ZSB9LFxuXHRcdFx0eyBtdWx0aTogdHJ1ZSB9XG5cdFx0KS5leGVjKCk7XG5cdH1cblxuXHRhc3luYyBmaW5kKGNvbmRpdGlvbnM6IEZpbmRPYmplY3Q8UmF3T2JqZWN0PFQ+Pik6IFByb21pc2U8VFtdPiB7XG5cdFx0Y29uc3QgY2FsbElkID0gdXVpZCgpO1xuXG5cdFx0dGhpcy5sb2cuaW5mbyh7IGNhbGxJZCwgY29uZGl0aW9ucyB9LCAnLmZpbmQoY29uZGl0aW9ucykgY2FsbGVkJyk7XG5cblx0XHRsZXQgcmVzdWx0czogVFtdO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGRvY3VtZW50cyA9IChhd2FpdCB0aGlzLk1vZGVsLmZpbmQoXG5cdFx0XHRcdGNvbmRpdGlvbnMgPT0gbnVsbCA/IHt9IDogY29uZGl0aW9uc1xuXHRcdFx0KVxuXHRcdFx0XHQubGVhbigpXG5cdFx0XHRcdC5leGVjKCkpIGFzIFJhd09iamVjdDxUPltdO1xuXG5cdFx0XHRyZXN1bHRzID0gXy5tYXAoZG9jdW1lbnRzLCAob2JqKSA9PiB0aGlzLnBhcnNlKG9iaikpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dGhpcy5sb2cuZXJyb3IoXG5cdFx0XHRcdHsgY2FsbElkLCBjb25kaXRpb25zLCBlcnIgfSxcblx0XHRcdFx0Jy5maW5kKGNvbmRpdGlvbnMpIHRocm93biBlcnJvciEnXG5cdFx0XHQpO1xuXHRcdFx0dGhyb3cgZXJyO1xuXHRcdH1cblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7IGNhbGxJZCwgY29uZGl0aW9ucywgcmVzdWx0cyB9LFxuXHRcdFx0Jy5maW5kKGNvbmRpdGlvbnMpIGZvdW5kIHJlc3VsdHMnXG5cdFx0KTtcblxuXHRcdHJldHVybiByZXN1bHRzO1xuXHR9XG5cblx0YXN5bmMgZmluZE9uZShjb25kaXRpb25zOiBGaW5kT2JqZWN0PFJhd09iamVjdDxUPj4pOiBQcm9taXNlPFQ+IHtcblx0XHRjb25zdCBjYWxsSWQgPSB1dWlkKCk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKHsgY2FsbElkLCBjb25kaXRpb25zIH0sICcuZmluZE9uZShjb25kaXRpb25zKSBjYWxsZWQnKTtcblxuXHRcdGxldCByZXN1bHQ6IFQ7XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgb2JqID0gKGF3YWl0IHRoaXMuTW9kZWwuZmluZE9uZShjb25kaXRpb25zKVxuXHRcdFx0XHQubGVhbigpXG5cdFx0XHRcdC5leGVjKCkpIGFzIFJhd09iamVjdDxUPjtcblxuXHRcdFx0cmVzdWx0ID0gdGhpcy5wYXJzZShvYmopO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dGhpcy5sb2cuZXJyb3IoXG5cdFx0XHRcdHsgY2FsbElkLCBjb25kaXRpb25zLCBlcnIgfSxcblx0XHRcdFx0Jy5maW5kT25lKGNvbmRpdGlvbnMpIHRocm93biBlcnJvciEnXG5cdFx0XHQpO1xuXHRcdFx0dGhyb3cgZXJyO1xuXHRcdH1cblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7IGNhbGxJZCwgY29uZGl0aW9ucywgcmVzdWx0IH0sXG5cdFx0XHQnLmZpbmRPbmUoY29uZGl0aW9ucykgZm91bmQgcmVzdWx0J1xuXHRcdCk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0YXN5bmMgdXBkYXRlKG9iamVjdElkOiBUWydpZCddLCB1cGRhdGVPYmo6IFVwZGF0ZU9iamVjdDxUPik6IFByb21pc2U8VD4ge1xuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0eyBjYWxsSWQsIG9iamVjdElkLCB1cGRhdGVPYmogfSxcblx0XHRcdCcudXBkYXRlKG9iamVjdElkLCB1cGRhdGVPYmopIGNhbGxlZCdcblx0XHQpO1xuXG5cdFx0bGV0IGJlZm9yZVVwZGF0ZU9iamVjdDogVCB8IG51bGw7XG5cblx0XHRsZXQgdXBkYXRlZE9iamVjdDogVDtcblxuXHRcdHRyeSB7XG5cdFx0XHRiZWZvcmVVcGRhdGVPYmplY3QgPSBhd2FpdCB0aGlzLmdldEN1cnJlbnQob2JqZWN0SWQpO1xuXG5cdFx0XHRpZiAoYmVmb3JlVXBkYXRlT2JqZWN0ICE9IG51bGwpIHtcblx0XHRcdFx0Y29uc3Qgb2JqID0gKGF3YWl0IHRoaXMuTW9kZWwuZmluZEJ5SWRBbmRVcGRhdGUoXG5cdFx0XHRcdFx0b2JqZWN0SWQsXG5cdFx0XHRcdFx0dXBkYXRlT2JqIGFzIGFueSxcblx0XHRcdFx0XHR7IG5ldzogdHJ1ZSB9XG5cdFx0XHRcdClcblx0XHRcdFx0XHQubGVhbigpXG5cdFx0XHRcdFx0LmV4ZWMoKSkgYXMgUmF3T2JqZWN0PFQ+O1xuXG5cdFx0XHRcdHVwZGF0ZWRPYmplY3QgPSB0aGlzLnBhcnNlKG9iaik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0YFRoZXJlIGlzIG5vIHN1Y2ggb2JqZWN0IHdpdGggdGhlIGlkICR7YmVmb3JlVXBkYXRlT2JqZWN0fWBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHRoaXMubG9nLmVycm9yKFxuXHRcdFx0XHR7IGNhbGxJZCwgb2JqZWN0SWQsIHVwZGF0ZU9iaiwgZXJyIH0sXG5cdFx0XHRcdCcudXBkYXRlKG9iamVjdElkLCB1cGRhdGVPYmopIHRocm93biBlcnJvciEnXG5cdFx0XHQpO1xuXHRcdFx0dGhyb3cgZXJyO1xuXHRcdH1cblxuXHRcdHRoaXMuZXhpc3RlbmNlLm5leHQoe1xuXHRcdFx0aWQ6IG9iamVjdElkLFxuXHRcdFx0dmFsdWU6IHVwZGF0ZWRPYmplY3QsXG5cdFx0XHRsYXN0VmFsdWU6IGJlZm9yZVVwZGF0ZU9iamVjdCxcblx0XHRcdHR5cGU6IEV4aXN0ZW5jZUV2ZW50VHlwZS5VcGRhdGVkLFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHtcblx0XHRcdFx0Y2FsbElkLFxuXHRcdFx0XHRvYmplY3RJZCxcblx0XHRcdFx0dXBkYXRlT2JqLFxuXHRcdFx0XHR1cGRhdGVkVmFsdWU6IHVwZGF0ZWRPYmplY3QsXG5cdFx0XHRcdGxhc3RWYWx1ZTogYmVmb3JlVXBkYXRlT2JqZWN0LFxuXHRcdFx0fSxcblx0XHRcdCcudXBkYXRlKG9iamVjdElkLCB1cGRhdGVPYmopIHVwZGF0ZWQgb2JqZWN0J1xuXHRcdCk7XG5cblx0XHRyZXR1cm4gdXBkYXRlZE9iamVjdDtcblx0fVxuXG5cdGFzeW5jIHVwZGF0ZU11bHRpcGxlKFxuXHRcdGZpbmRPYmo6IEZpbmRPYmplY3Q8VD4sXG5cdFx0dXBkYXRlT2JqOiBVcGRhdGVPYmplY3Q8VD5cblx0KTogUHJvbWlzZTxUW10+IHtcblx0XHRjb25zdCBjYWxsSWQgPSB1dWlkKCk7XG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHsgY2FsbElkLCBmaW5kT2JqLCB1cGRhdGVPYmogfSxcblx0XHRcdCcudXBkYXRlTXVsdGlwbGUoZmluZE9iaiwgdXBkYXRlT2JqKSBjYWxsZWQnXG5cdFx0KTtcblxuXHRcdGxldCBsYXN0VmFsdWVzOiBUW107XG5cdFx0bGV0IHVwZGF0ZWRPYmplY3RzOiBUW107XG5cblx0XHR0cnkge1xuXHRcdFx0bGFzdFZhbHVlcyA9IGF3YWl0IHRoaXMuZmluZChmaW5kT2JqKTtcblxuXHRcdFx0YXdhaXQgdGhpcy5Nb2RlbC51cGRhdGVNYW55KGZpbmRPYmosIHVwZGF0ZU9iaiwge1xuXHRcdFx0XHRuZXc6IHRydWUsXG5cdFx0XHR9KS5leGVjKCk7XG5cblx0XHRcdHVwZGF0ZWRPYmplY3RzID0gYXdhaXQgdGhpcy5nZXRDdXJyZW50TXVsdGlwbGUoXG5cdFx0XHRcdF8ubWFwKGxhc3RWYWx1ZXMsICh2YWx1ZSkgPT4gdmFsdWUuaWQpXG5cdFx0XHQpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dGhpcy5sb2cuZXJyb3IoXG5cdFx0XHRcdHsgY2FsbElkLCBmaW5kT2JqLCB1cGRhdGVPYmosIGVyciB9LFxuXHRcdFx0XHQnLnVwZGF0ZU11bHRpcGxlKGZpbmRPYmosIHVwZGF0ZU9iaikgdGhyb3duIGVycm9yISdcblx0XHRcdCk7XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fVxuXG5cdFx0Xy5lYWNoKGxhc3RWYWx1ZXMsIChsYXN0VmFsdWUpID0+IHtcblx0XHRcdGNvbnN0IG5ld1ZhbHVlID0gXy5maW5kKFxuXHRcdFx0XHR1cGRhdGVkT2JqZWN0cyxcblx0XHRcdFx0KG9iaikgPT4gb2JqLmlkID09PSBsYXN0VmFsdWUuaWRcblx0XHRcdCkgYXMgVDtcblxuXHRcdFx0dGhpcy5leGlzdGVuY2UubmV4dCh7XG5cdFx0XHRcdGlkOiBsYXN0VmFsdWUuaWQsXG5cdFx0XHRcdGxhc3RWYWx1ZSxcblx0XHRcdFx0dmFsdWU6IG5ld1ZhbHVlLFxuXHRcdFx0XHR0eXBlOiBFeGlzdGVuY2VFdmVudFR5cGUuVXBkYXRlZCxcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHtcblx0XHRcdFx0Y2FsbElkLFxuXHRcdFx0XHRmaW5kT2JqLFxuXHRcdFx0XHR1cGRhdGVPYmosXG5cdFx0XHRcdGxhc3RWYWx1ZXMsXG5cdFx0XHRcdHVwZGF0ZWRPYmplY3RzLFxuXHRcdFx0fSxcblx0XHRcdCcudXBkYXRlTXVsdGlwbGUob2JqZWN0SWQsIHVwZGF0ZU9iaikgdXBkYXRlZCBvYmplY3RzJ1xuXHRcdCk7XG5cblx0XHRyZXR1cm4gdXBkYXRlZE9iamVjdHM7XG5cdH1cblxuXHRhc3luYyB1cGRhdGVNdWx0aXBsZUJ5SWRzKFxuXHRcdGlkczogVFsnaWQnXVtdLFxuXHRcdHVwZGF0ZU9iajogVXBkYXRlT2JqZWN0PFQ+XG5cdCk6IFByb21pc2U8VFtdPiB7XG5cdFx0Y29uc3QgY2FsbElkID0gdXVpZCgpO1xuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHsgY2FsbElkLCBpZHMsIHVwZGF0ZU9iaiB9LFxuXHRcdFx0Jy51cGRhdGVNdWx0aXBsZUJ5SWRzKGlkcywgdXBkYXRlT2JqKSBjYWxsZWQnXG5cdFx0KTtcblxuXHRcdGxldCB1cGRhdGVkT2JqZWN0czogVFtdO1xuXG5cdFx0dHJ5IHtcblx0XHRcdHVwZGF0ZWRPYmplY3RzID0gYXdhaXQgdGhpcy51cGRhdGVNdWx0aXBsZShcblx0XHRcdFx0e1xuXHRcdFx0XHRcdC8vIFRPRE86IHJld3JpdGUgYmVsb3dcblx0XHRcdFx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tb2JqZWN0LWxpdGVyYWwtdHlwZS1hc3NlcnRpb25cblx0XHRcdFx0XHRfaWQ6IHtcblx0XHRcdFx0XHRcdCRpbjogXy5tYXAoXG5cdFx0XHRcdFx0XHRcdGlkcyxcblx0XHRcdFx0XHRcdFx0KGlkKSA9PiBuZXcgbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQoaWQpXG5cdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdH0gYXMgRmluZE9iamVjdDxUPixcblx0XHRcdFx0fSxcblx0XHRcdFx0dXBkYXRlT2JqXG5cdFx0XHQpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dGhpcy5sb2cuZXJyb3IoXG5cdFx0XHRcdHsgY2FsbElkLCBpZHMsIHVwZGF0ZU9iaiwgZXJyIH0sXG5cdFx0XHRcdCcudXBkYXRlTXVsdGlwbGVCeUlkcyhpZHMsIHVwZGF0ZU9iaikgdGhyb3duIGVycm9yISdcblx0XHRcdCk7XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fVxuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHtcblx0XHRcdFx0Y2FsbElkLFxuXHRcdFx0XHRpZHMsXG5cdFx0XHRcdHVwZGF0ZU9iaixcblx0XHRcdFx0dXBkYXRlZE9iamVjdHMsXG5cdFx0XHR9LFxuXHRcdFx0Jy51cGRhdGVNdWx0aXBsZUJ5SWRzKGlkcywgdXBkYXRlT2JqKSB1cGRhdGVkIG9iamVjdHMnXG5cdFx0KTtcblxuXHRcdHJldHVybiB1cGRhdGVkT2JqZWN0cztcblx0fVxuXG5cdGFzeW5jIGNvdW50KGZpbmRPYmo6IEZpbmRPYmplY3Q8VD4pOiBQcm9taXNlPG51bWJlcj4ge1xuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblxuXHRcdHRoaXMubG9nLmluZm8oeyBjYWxsSWQsIGZpbmRPYmogfSwgJy5jb3VudERvY3VtZW50cyhmaW5kT2JqKSBjYWxsZWQnKTtcblxuXHRcdGxldCBjb3VudDogbnVtYmVyO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGNvdW50ID0gKGF3YWl0IHRoaXMuTW9kZWwuY291bnREb2N1bWVudHMoZmluZE9iaikuZXhlYygpKSBhcyBudW1iZXI7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR0aGlzLmxvZy5lcnJvcihcblx0XHRcdFx0eyBjYWxsSWQsIGZpbmRPYmosIGVyciB9LFxuXHRcdFx0XHQnLmNvdW50RG9jdW1lbnRzKGZpbmRPYmopIHRocm93biBlcnJvciEnXG5cdFx0XHQpO1xuXHRcdFx0dGhyb3cgZXJyO1xuXHRcdH1cblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7IGNhbGxJZCwgZmluZE9iaiwgY291bnQgfSxcblx0XHRcdCcuY291bnREb2N1bWVudHMoZmluZE9iaikgY291bnRlZCBvYmplY3RzJ1xuXHRcdCk7XG5cblx0XHRyZXR1cm4gY291bnQ7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJuIGFsbCBzdG9yZSBkb2N1bWVudHMgd2l0aCBzcGVjaWZpZWQgZmllbGRzXG5cdCAqIEBwYXJhbSBzZWxlY3RGaWVsZHMgRXhhbXBsZSB7IGZpZWxkOiAxIH0gPSB0cnVlLCB7IGZpZWxkOiAwIH0gPSBmYWxzZS5cblx0ICovXG5cdGFzeW5jIGZpbmRBbGwoc2VsZWN0RmllbGRzOiBhbnkgPSB7fSkge1xuXHRcdHJldHVybiB0aGlzLk1vZGVsLmZpbmQoe30pLnNlbGVjdChzZWxlY3RGaWVsZHMpLmxlYW4oKS5leGVjKCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IGdldE1vZGVsIH0gZnJvbSAnQHB5cm8vZGItc2VydmVyL21vZGVsJztcbmltcG9ydCB7IERCT2JqZWN0IH0gZnJvbSAnQHB5cm8vZGInO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCB7IFJhd09iamVjdCB9IGZyb20gJ0BweXJvL2RiL2RiLXJhdy1vYmplY3QnO1xuaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gJ2ludmVyc2lmeSc7XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFbnRpdHlTZXJ2aWNlPFQgZXh0ZW5kcyBEQk9iamVjdDxhbnksIGFueT4+IHtcblx0cHVibGljIGFic3RyYWN0IHJlYWRvbmx5IERCT2JqZWN0OiB7XG5cdFx0bmV3IChhcmc6IFJhd09iamVjdDxUPik6IFQ7XG5cdFx0bW9kZWxOYW1lOiBzdHJpbmc7XG5cdH07XG5cblx0Z2V0IE1vZGVsKCk6IGFueSB7XG5cdFx0cmV0dXJuIGdldE1vZGVsPFJhd09iamVjdDxUPiAmIG1vbmdvb3NlLkRvY3VtZW50Pih0aGlzLkRCT2JqZWN0KTtcblx0fVxuXG5cdHByb3RlY3RlZCBnZXRPYmplY3RJZChpZDogVFsnaWQnXSkge1xuXHRcdHJldHVybiBuZXcgbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQoaWQpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHBhcnNlKG9iajogUmF3T2JqZWN0PFQ+KTogVDtcblxuXHRwcm90ZWN0ZWQgcGFyc2Uob2JqOiBudWxsKTogbnVsbDtcblxuXHRwcm90ZWN0ZWQgcGFyc2Uob2JqOiBSYXdPYmplY3Q8VD4gfCBudWxsKTogVCB8IG51bGwge1xuXHRcdGlmIChvYmogPT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBuZXcgdGhpcy5EQk9iamVjdChvYmopO1xuXHRcdH1cblx0fVxufVxuIiwidHlwZSBFeGlzdGVuY2VFdmVudFR5cGVDcmVhdGVkID0gJ2NyZWF0ZWQnO1xuY29uc3QgRXhpc3RlbmNlRXZlbnRUeXBlQ3JlYXRlZDogRXhpc3RlbmNlRXZlbnRUeXBlQ3JlYXRlZCA9ICdjcmVhdGVkJztcblxudHlwZSBFeGlzdGVuY2VFdmVudFR5cGVVcGRhdGVkID0gJ3VwZGF0ZWQnO1xuY29uc3QgRXhpc3RlbmNlRXZlbnRUeXBlVXBkYXRlZDogRXhpc3RlbmNlRXZlbnRUeXBlVXBkYXRlZCA9ICd1cGRhdGVkJztcblxudHlwZSBFeGlzdGVuY2VFdmVudFR5cGVSZW1vdmVkID0gJ3JlbW92ZWQnO1xuY29uc3QgRXhpc3RlbmNlRXZlbnRUeXBlUmVtb3ZlZDogRXhpc3RlbmNlRXZlbnRUeXBlUmVtb3ZlZCA9ICdyZW1vdmVkJztcblxuZXhwb3J0IHR5cGUgRXhpc3RlbmNlRXZlbnRUeXBlID1cblx0fCBFeGlzdGVuY2VFdmVudFR5cGVDcmVhdGVkXG5cdHwgRXhpc3RlbmNlRXZlbnRUeXBlVXBkYXRlZFxuXHR8IEV4aXN0ZW5jZUV2ZW50VHlwZVJlbW92ZWQ7XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1uYW1lc3BhY2VcbmV4cG9ydCBuYW1lc3BhY2UgRXhpc3RlbmNlRXZlbnRUeXBlIHtcblx0ZXhwb3J0IGNvbnN0IENyZWF0ZWQgPSBFeGlzdGVuY2VFdmVudFR5cGVDcmVhdGVkO1xuXHRleHBvcnQgY29uc3QgVXBkYXRlZCA9IEV4aXN0ZW5jZUV2ZW50VHlwZVVwZGF0ZWQ7XG5cdGV4cG9ydCBjb25zdCBSZW1vdmVkID0gRXhpc3RlbmNlRXZlbnRUeXBlUmVtb3ZlZDtcbn1cblxuZXhwb3J0IHR5cGUgRXhpc3RlbmNlRXZlbnQ8VD4gPVxuXHR8IHtcblx0XHRcdGlkOiBzdHJpbmc7XG5cdFx0XHR2YWx1ZTogVDtcblx0XHRcdGxhc3RWYWx1ZTogbnVsbDtcblx0XHRcdHR5cGU6IEV4aXN0ZW5jZUV2ZW50VHlwZUNyZWF0ZWQ7XG5cdCAgfVxuXHR8IHtcblx0XHRcdGlkOiBzdHJpbmc7XG5cdFx0XHR2YWx1ZTogVDtcblx0XHRcdGxhc3RWYWx1ZTogVDtcblx0XHRcdHR5cGU6IEV4aXN0ZW5jZUV2ZW50VHlwZVVwZGF0ZWQ7XG5cdCAgfVxuXHR8IHtcblx0XHRcdGlkOiBzdHJpbmc7XG5cdFx0XHR2YWx1ZTogbnVsbDtcblx0XHRcdGxhc3RWYWx1ZTogVDtcblx0XHRcdHR5cGU6IEV4aXN0ZW5jZUV2ZW50VHlwZVJlbW92ZWQ7XG5cdCAgfTtcbiIsImV4cG9ydCB7IGdldE1vZGVsIH0gZnJvbSAnLi9tb2RlbCc7XG5leHBvcnQgeyBFeGlzdGVuY2VFdmVudCwgRXhpc3RlbmNlRXZlbnRUeXBlIH0gZnJvbSAnLi9leGlzdGVuY2UnO1xuZXhwb3J0IHsgREJTZXJ2aWNlIH0gZnJvbSAnLi9kYi1zZXJ2aWNlJztcbmV4cG9ydCB7IElEYlNlcnZpY2UgfSBmcm9tICcuL2ktZGItc2VydmljZSc7XG4iLCJpbXBvcnQgeyBnZXRTY2hlbWEgfSBmcm9tICdAcHlyby9kYic7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5leHBvcnQgY29uc3QgbW9kZWxNZXRhZGF0YSA9ICdkYjptb2RlbCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNb2RlbDxEb2N1bWVudCBleHRlbmRzIG1vbmdvb3NlLkRvY3VtZW50Pihcblx0REJPYmplY3Rcbik6IG1vbmdvb3NlLk1vZGVsPERvY3VtZW50PiB7XG5cdGxldCBNb2RlbCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEobW9kZWxNZXRhZGF0YSwgREJPYmplY3QpO1xuXG5cdGlmIChNb2RlbCA9PSBudWxsKSB7XG5cdFx0TW9kZWwgPSBtb25nb29zZS5tb2RlbDxEb2N1bWVudD4oXG5cdFx0XHREQk9iamVjdC5tb2RlbE5hbWUsXG5cdFx0XHRnZXRTY2hlbWEoREJPYmplY3QpXG5cdFx0KTtcblx0XHRSZWZsZWN0LmRlZmluZU1ldGFkYXRhKG1vZGVsTWV0YWRhdGEsIE1vZGVsLCBEQk9iamVjdCk7XG5cdH1cblxuXHRyZXR1cm4gTW9kZWw7XG59XG4iLCJpbXBvcnQgeyBnZXRMaXN0ZW5lcnMsIGdldFJvdXRlck5hbWUsIElSb3V0ZXIgfSBmcm9tICcuL3JvdXRlci9yb3V0ZXInO1xuaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IHsgSUxpc3RlbmVySGFuZGxlciB9IGZyb20gJy4vbGlzdGVuZXIvaGFuZGxlci9oYW5kbGVyJztcbmltcG9ydCB7IEFzeW5jTGlzdGVuZXJIYW5kbGVyIH0gZnJvbSAnLi9saXN0ZW5lci9oYW5kbGVyL2FzeW5jJztcbmltcG9ydCB7IE9ic2VydmFibGVMaXN0ZW5lckhhbmRsZXIgfSBmcm9tICcuL2xpc3RlbmVyL2hhbmRsZXIvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBnZXRMaXN0ZW5lclR5cGUsIExpc3RlbmVyIH0gZnJvbSAnLi9saXN0ZW5lci9saXN0ZW5lcic7XG5pbXBvcnQgeyBMaXN0ZW5lclR5cGUgfSBmcm9tICcuL2xpc3RlbmVyL3R5cGVzJztcbmltcG9ydCB7IEFzeW5jTGlzdGVuZXIgfSBmcm9tICcuL2xpc3RlbmVyL2FzeW5jJztcbmltcG9ydCB7IE9ic2VydmFibGVMaXN0ZW5lciB9IGZyb20gJy4vbGlzdGVuZXIvb2JzZXJ2YWJsZSc7XG5cbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uSGFuZGxlciB7XG5cdHByaXZhdGUgcmVhZG9ubHkgbGlzdGVuZXJzOiBBcnJheTxMaXN0ZW5lcjxhbnk+PiA9IGdldExpc3RlbmVycyhcblx0XHR0aGlzLnJvdXRlclxuXHQpO1xuXG5cdHByaXZhdGUgcmVhZG9ubHkgcm91dGVyTmFtZTogc3RyaW5nID0gZ2V0Um91dGVyTmFtZSh0aGlzLnJvdXRlcik7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSBzb2NrZXQ6IFNvY2tldElPLlNvY2tldCxcblx0XHRwcml2YXRlIHJlYWRvbmx5IHJvdXRlcjogSVJvdXRlcixcblx0XHRwcml2YXRlIHJlYWRvbmx5IGxvZzogTG9nZ2VyXG5cdCkge31cblxuXHRoYW5kbGUoKSB7XG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHtcblx0XHRcdFx0c29ja2V0SWQ6IHRoaXMuc29ja2V0LmlkLFxuXHRcdFx0XHRsaXN0ZW5lcnM6IHRoaXMubGlzdGVuZXJzLm1hcCgobGlzdGVuZXIpID0+IGxpc3RlbmVyLm5hbWUpLFxuXHRcdFx0XHRyb3V0ZXJOYW1lOiB0aGlzLnJvdXRlck5hbWUsXG5cdFx0XHR9LFxuXHRcdFx0YFNvY2tldCBjb25uZWN0ZWQhIFN0YXJ0aW5nIGxpc3RlbmVycyBsaXN0ZW5pbmchYFxuXHRcdCk7XG5cblx0XHR0cnkge1xuXHRcdFx0dGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcblx0XHRcdFx0Y29uc3QgaGFuZGxlciA9IHRoaXMubGlzdGVuZXJIYW5kbGVyRmFjdG9yeShsaXN0ZW5lcik7XG5cdFx0XHRcdGhhbmRsZXIuaGFuZGxlKCk7XG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHRoaXMubG9nLmZhdGFsKFwiQ291bGRuJ3Qgc3RhcnQgbGlzdGVuZXJzIGxpc3RlbmluZyFcIiwgeyBlcnIgfSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiB7XG5cdFx0XHR0aGlzLm9uRGlzY29ubmVjdGlvbigpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJvdGVjdGVkIGxpc3RlbmVySGFuZGxlckZhY3Rvcnk8VD4oXG5cdFx0bGlzdGVuZXI6IExpc3RlbmVyPFQ+XG5cdCk6IElMaXN0ZW5lckhhbmRsZXI8VD4ge1xuXHRcdHN3aXRjaCAoZ2V0TGlzdGVuZXJUeXBlKGxpc3RlbmVyKSkge1xuXHRcdFx0Y2FzZSBMaXN0ZW5lclR5cGUuQXN5bmM6XG5cdFx0XHRcdHJldHVybiBuZXcgQXN5bmNMaXN0ZW5lckhhbmRsZXIoXG5cdFx0XHRcdFx0dGhpcy5yb3V0ZXIsXG5cdFx0XHRcdFx0bGlzdGVuZXIgYXMgQXN5bmNMaXN0ZW5lcjxUPixcblx0XHRcdFx0XHR0aGlzLnNvY2tldCxcblx0XHRcdFx0XHR0aGlzLmxvZ1xuXHRcdFx0XHQpO1xuXHRcdFx0Y2FzZSBMaXN0ZW5lclR5cGUuT2JzZXJ2YWJsZTpcblx0XHRcdFx0cmV0dXJuIG5ldyBPYnNlcnZhYmxlTGlzdGVuZXJIYW5kbGVyKFxuXHRcdFx0XHRcdHRoaXMucm91dGVyLFxuXHRcdFx0XHRcdGxpc3RlbmVyIGFzIE9ic2VydmFibGVMaXN0ZW5lcjxUPixcblx0XHRcdFx0XHR0aGlzLnNvY2tldCxcblx0XHRcdFx0XHR0aGlzLmxvZ1xuXHRcdFx0XHQpO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGBCYWQgbGlzdGVuZXIgdHlwZSEgJHtnZXRMaXN0ZW5lclR5cGUobGlzdGVuZXIpfWBcblx0XHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIG9uRGlzY29ubmVjdGlvbigpIHtcblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0e1xuXHRcdFx0XHRzb2NrZXRJZDogdGhpcy5zb2NrZXQuaWQsXG5cdFx0XHRcdGxpc3RlbmVyczogdGhpcy5saXN0ZW5lcnMubWFwKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIubmFtZSksXG5cdFx0XHRcdHJvdXRlck5hbWU6IHRoaXMucm91dGVyTmFtZSxcblx0XHRcdH0sXG5cdFx0XHRgU29ja2V0IGRpc2Nvbm5lY3RlZCFgXG5cdFx0KTtcblx0fVxufVxuIiwiZXhwb3J0IHsgUm91dGVyc01hbmFnZXIsIElSb3V0ZXJzTWFuYWdlciB9IGZyb20gJy4vcm91dGVycy1tYW5hZ2VyJztcbmV4cG9ydCB7IGFzeW5jTGlzdGVuZXIgfSBmcm9tICcuL2xpc3RlbmVyL2FzeW5jJztcbmV4cG9ydCB7IG9ic2VydmFibGVMaXN0ZW5lciB9IGZyb20gJy4vbGlzdGVuZXIvb2JzZXJ2YWJsZSc7XG5leHBvcnQgeyBzZXJpYWxpemF0aW9uIH0gZnJvbSAnLi9saXN0ZW5lci9zZXJpYWxpemF0aW9uJztcbmV4cG9ydCB7IHJvdXRlck5hbWUsIFJvdXRlclN5bWJvbCB9IGZyb20gJy4vcm91dGVyL3JvdXRlcic7XG4iLCJpbXBvcnQgeyBMaXN0ZW5lclR5cGUgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGxpc3RlbmVyT2YgfSBmcm9tICcuL2xpc3RlbmVyJztcblxuZXhwb3J0IHR5cGUgQXN5bmNMaXN0ZW5lcjxUPiA9ICguLi5hcmdzOiBhbnlbXSkgPT4gUHJvbWlzZTxUPjtcblxuZXhwb3J0IGNvbnN0IGFzeW5jTGlzdGVuZXIgPSBsaXN0ZW5lck9mKExpc3RlbmVyVHlwZS5Bc3luYyk7XG4iLCJpbXBvcnQgeyBJUm91dGVyIH0gZnJvbSAnLi4vLi4vcm91dGVyL3JvdXRlcic7XG5pbXBvcnQgeyBJTGlzdGVuZXJIYW5kbGVyIH0gZnJvbSAnLi9oYW5kbGVyJztcbmltcG9ydCB7IHYxIGFzIHV1aWQgfSBmcm9tICd1dWlkJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgeyBCYXNlTGlzdGVuZXJIYW5kbGVyIH0gZnJvbSAnLi9iYXNlJztcbmltcG9ydCB7IEFzeW5jTGlzdGVuZXIgfSBmcm9tICcuLi9hc3luYyc7XG5cbmV4cG9ydCBjbGFzcyBBc3luY0xpc3RlbmVySGFuZGxlcjxUPiBleHRlbmRzIEJhc2VMaXN0ZW5lckhhbmRsZXI8VD5cblx0aW1wbGVtZW50cyBJTGlzdGVuZXJIYW5kbGVyPFQ+IHtcblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSByb3V0ZXI6IElSb3V0ZXIsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBsaXN0ZW5lcjogQXN5bmNMaXN0ZW5lcjxUPixcblx0XHRwcml2YXRlIHJlYWRvbmx5IHNvY2tldDogU29ja2V0SU8uU29ja2V0LFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgbG9nOiBMb2dnZXJcblx0KSB7XG5cdFx0c3VwZXIocm91dGVyLCBsaXN0ZW5lciwgc29ja2V0LCBsb2cpO1xuXHR9XG5cblx0YXN5bmMgaGFuZGxlUmVxdWVzdChfYXJnczogYW55W10pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBjYWxsSWQgPSB1dWlkKCk7XG5cblx0XHRjb25zdCBjYWxsYmFjazogKGVycjogRXJyb3IgfCBudWxsLCBkYXRhPykgPT4gdm9pZCA9IF8ubGFzdChfYXJncyk7XG5cblx0XHRjb25zdCBhcmdzID0gdGhpcy5zZXJpYWxpemVyKF8uaW5pdGlhbChfYXJncykpO1xuXG5cdFx0dGhpcy5sb2dDYWxsKGNhbGxJZCwgYXJncyk7XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZGF0YTogVCA9IGF3YWl0IHRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy5yb3V0ZXIsIGFyZ3MpO1xuXG5cdFx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Li4udGhpcy5iYXNlTG9nRGV0YWlscyxcblx0XHRcdFx0XHRjYWxsSWQsXG5cdFx0XHRcdFx0cmVzdWx0OiBkYXRhLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRgTGlzdGVuZXIgY29tcGxldGVkYFxuXHRcdFx0KTtcblxuXHRcdFx0Y2FsbGJhY2sobnVsbCwgZGF0YSk7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR0aGlzLmxvZy5lcnJvcihcblx0XHRcdFx0e1xuXHRcdFx0XHRcdC4uLnRoaXMuYmFzZUxvZ0RldGFpbHMsXG5cdFx0XHRcdFx0Y2FsbElkLFxuXHRcdFx0XHRcdGVycixcblx0XHRcdFx0fSxcblx0XHRcdFx0YExpc3RlbmVyIHRocm93biBlcnJvciFgXG5cdFx0XHQpO1xuXG5cdFx0XHRjYWxsYmFjayh0aGlzLnNlcmlhbGl6ZUVycm9yKGVyciksIG51bGwpO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHsgSUxpc3RlbmVySGFuZGxlciB9IGZyb20gJy4vaGFuZGxlcic7XG5pbXBvcnQgeyBnZXRSb3V0ZXJOYW1lLCBJUm91dGVyIH0gZnJvbSAnLi4vLi4vcm91dGVyL3JvdXRlcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgeyBnZXRMaXN0ZW5lclR5cGUsIExpc3RlbmVyIH0gZnJvbSAnLi4vbGlzdGVuZXInO1xuaW1wb3J0IHsgTGlzdGVuZXJUeXBlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0TGlzdGVuZXJTZXJpYWxpemVyIH0gZnJvbSAnLi4vc2VyaWFsaXphdGlvbic7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IGdldEFyZ3NOYW1lcyBmcm9tICdAY2FwdGVtdWxhdGlvbi9nZXQtcGFyYW1ldGVyLW5hbWVzJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VMaXN0ZW5lckhhbmRsZXI8VD4gaW1wbGVtZW50cyBJTGlzdGVuZXJIYW5kbGVyPFQ+IHtcblx0cHJvdGVjdGVkIHJlYWRvbmx5IHNlcmlhbGl6ZXI6IChhcmdzOiBhbnlbXSkgPT4gYW55W107XG5cblx0cHJvdGVjdGVkIHJlYWRvbmx5IHJvdXRlck5hbWU6IHN0cmluZyA9IGdldFJvdXRlck5hbWUodGhpcy5fcm91dGVyKTtcblxuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgbGlzdGVuZXJUeXBlOiBMaXN0ZW5lclR5cGUgPSBnZXRMaXN0ZW5lclR5cGUoXG5cdFx0dGhpcy5fbGlzdGVuZXJcblx0KTtcblxuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgbGlzdGVuZXJBcmd1bWVudHNOYW1lcyA9IGdldEFyZ3NOYW1lcyh0aGlzLl9saXN0ZW5lcik7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfcm91dGVyOiBJUm91dGVyLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2xpc3RlbmVyOiBMaXN0ZW5lcjxUPixcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9zb2NrZXQ6IFNvY2tldElPLlNvY2tldCxcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9sb2c6IExvZ2dlclxuXHQpIHtcblx0XHR0aGlzLnNlcmlhbGl6ZXIgPSBnZXRMaXN0ZW5lclNlcmlhbGl6ZXIoX2xpc3RlbmVyKTtcblx0fVxuXG5cdGhhbmRsZSgpOiB2b2lkIHtcblx0XHR0aGlzLl9zb2NrZXQub24odGhpcy5fbGlzdGVuZXIubmFtZSwgKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG5cdFx0XHR0aGlzLmhhbmRsZVJlcXVlc3QoYXJncyk7XG5cdFx0fSk7XG5cdH1cblxuXHRhYnN0cmFjdCBoYW5kbGVSZXF1ZXN0KGFyZ3M6IGFueVtdKTogdm9pZDtcblxuXHRwcm90ZWN0ZWQgYmFzZUxvZ0RldGFpbHMgPSB7XG5cdFx0c29ja2V0SWQ6IHRoaXMuX3NvY2tldC5pZCxcblx0XHRsaXN0ZW5lck5hbWU6IHRoaXMuX2xpc3RlbmVyLm5hbWUsXG5cdFx0bGlzdGVuZXJUeXBlOiB0aGlzLmxpc3RlbmVyVHlwZSxcblx0XHRyb3V0ZXJOYW1lOiB0aGlzLnJvdXRlck5hbWUsXG5cdH07XG5cblx0cHJvdGVjdGVkIGxvZ0NhbGwoY2FsbElkOiBzdHJpbmcsIGFyZ3M6IGFueVtdKSB7XG5cdFx0dGhpcy5fbG9nLmluZm8oXG5cdFx0XHR7XG5cdFx0XHRcdC4uLnRoaXMuYmFzZUxvZ0RldGFpbHMsXG5cdFx0XHRcdGNhbGxJZCxcblx0XHRcdFx0YXJnczogXy56aXBPYmplY3QodGhpcy5saXN0ZW5lckFyZ3VtZW50c05hbWVzLCBhcmdzKSxcblx0XHRcdH0sXG5cdFx0XHRgTGlzdGVuZXIgY2FsbGVkYFxuXHRcdCk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgc2VyaWFsaXplRXJyb3IoX2Vycm9yKSB7XG5cdFx0aWYgKF9lcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0XHRjb25zdCBlcnJvcjogRXJyb3IgPSBfZXJyb3I7XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdF9faXNFcnJvcl9fOiB0cnVlLFxuXHRcdFx0XHRuYW1lOiBlcnJvci5uYW1lLFxuXHRcdFx0XHRtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIF9lcnJvcjtcblx0XHR9XG5cdH1cbn1cbiIsImltcG9ydCB7IElSb3V0ZXIgfSBmcm9tICcuLi8uLi9yb3V0ZXIvcm91dGVyJztcbmltcG9ydCB7IElMaXN0ZW5lckhhbmRsZXIgfSBmcm9tICcuL2hhbmRsZXInO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCB7IEJhc2VMaXN0ZW5lckhhbmRsZXIgfSBmcm9tICcuL2Jhc2UnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUxpc3RlbmVyIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZSc7XG5cbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlTGlzdGVuZXJIYW5kbGVyPFQ+IGV4dGVuZHMgQmFzZUxpc3RlbmVySGFuZGxlcjxUPlxuXHRpbXBsZW1lbnRzIElMaXN0ZW5lckhhbmRsZXI8VD4ge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IHJvdXRlcjogSVJvdXRlcixcblx0XHRwcml2YXRlIHJlYWRvbmx5IGxpc3RlbmVyOiBPYnNlcnZhYmxlTGlzdGVuZXI8VD4sXG5cdFx0cHJpdmF0ZSByZWFkb25seSBzb2NrZXQ6IFNvY2tldElPLlNvY2tldCxcblx0XHRwcml2YXRlIHJlYWRvbmx5IGxvZzogTG9nZ2VyXG5cdCkge1xuXHRcdHN1cGVyKHJvdXRlciwgbGlzdGVuZXIsIHNvY2tldCwgbG9nKTtcblx0fVxuXG5cdGFzeW5jIGhhbmRsZVJlcXVlc3QoX2FyZ3M6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgY2FsbElkOiBzdHJpbmcgPSBfLmxhc3QoX2FyZ3MpO1xuXG5cdFx0Y29uc3QgYXJnczogYW55W10gPSB0aGlzLnNlcmlhbGl6ZXIoXy5pbml0aWFsKF9hcmdzKSk7XG5cblx0XHR0aGlzLmxvZ0NhbGwoY2FsbElkLCBhcmdzKTtcblxuXHRcdGNvbnN0IG9ic2VydmFibGUgPSBSZWZsZWN0LmFwcGx5KHRoaXMubGlzdGVuZXIsIHRoaXMucm91dGVyLCBhcmdzKTtcblxuXHRcdHRoaXMuc29ja2V0Lm9uKGAke2NhbGxJZH1fc3Vic2NyaWJlYCwgKHN1YnNjcmlwdGlvbklkKSA9PiB7XG5cdFx0XHRjb25zdCBzdWJzY3JpcHRpb24gPSBvYnNlcnZhYmxlLnN1YnNjcmliZSh7XG5cdFx0XHRcdG5leHQ6ICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdC4uLnRoaXMuYmFzZUxvZ0RldGFpbHMsXG5cdFx0XHRcdFx0XHRcdGNhbGxJZCxcblx0XHRcdFx0XHRcdFx0dmFsdWUsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0YExpc3RlbmVyIGVtaXR0ZWQgbmV4dCB2YWx1ZWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHRoaXMuc29ja2V0LmVtaXQoYCR7c3Vic2NyaXB0aW9uSWR9X25leHRgLCB2YWx1ZSk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGVycm9yOiAoZXJyKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5sb2cuZXJyb3IoXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdC4uLnRoaXMuYmFzZUxvZ0RldGFpbHMsXG5cdFx0XHRcdFx0XHRcdGNhbGxJZCxcblx0XHRcdFx0XHRcdFx0ZXJyLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGBMaXN0ZW5lciB0aHJvd24gZXJyb3IhYFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0dGhpcy5zb2NrZXQuZW1pdChcblx0XHRcdFx0XHRcdGAke3N1YnNjcmlwdGlvbklkfV9lcnJvcmAsXG5cdFx0XHRcdFx0XHR0aGlzLnNlcmlhbGl6ZUVycm9yKGVycilcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRjb21wbGV0ZTogKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdC4uLnRoaXMuYmFzZUxvZ0RldGFpbHMsXG5cdFx0XHRcdFx0XHRcdGNhbGxJZCxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRgTGlzdGVuZXIgY29tcGxldGVkYFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0dGhpcy5zb2NrZXQuZW1pdChgXyR7c3Vic2NyaXB0aW9uSWR9X2NvbXBsZXRlYCk7XG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5zb2NrZXQub24oYCR7c3Vic2NyaXB0aW9uSWR9X3Vuc3Vic2NyaWJlYCwgKCkgPT5cblx0XHRcdFx0c3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKClcblx0XHRcdCk7XG5cblx0XHRcdHRoaXMuc29ja2V0Lm9uKCdkaXNjb25uZWN0JywgKCkgPT4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCkpO1xuXHRcdH0pO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlTGlzdGVuZXIgfSBmcm9tICcuL29ic2VydmFibGUnO1xuaW1wb3J0IHsgQXN5bmNMaXN0ZW5lciB9IGZyb20gJy4vYXN5bmMnO1xuaW1wb3J0IHsgTGlzdGVuZXJUeXBlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBJUm91dGVyIH0gZnJvbSAnLi4vcm91dGVyL3JvdXRlcic7XG5pbXBvcnQgeyByb3V0ZXJNZXRhZGF0YSB9IGZyb20gJy4uL3JvdXRlci9tZXRhZGF0YSc7XG5pbXBvcnQgeyBsaXN0ZW5lck1ldGFkYXRhIH0gZnJvbSAnLi9tZXRhZGF0YSc7XG5cbmV4cG9ydCB0eXBlIExpc3RlbmVyPFQ+ID0gQXN5bmNMaXN0ZW5lcjxUPiB8IE9ic2VydmFibGVMaXN0ZW5lcjxUPjtcblxuZXhwb3J0IGNvbnN0IGxpc3RlbmVyT2YgPSAoXG5cdGxpc3RlbmVyVHlwZTogTGlzdGVuZXJUeXBlXG4pID0+ICgpOiBNZXRob2REZWNvcmF0b3IgPT4gKFxuXHRyb3V0ZXI6IElSb3V0ZXIsXG5cdHByb3BlcnR5S2V5OiBzdHJpbmcgfCBzeW1ib2wsXG5cdGRlc2NyaXB0b3JcbikgPT4ge1xuXHRjb25zdCBtZXRob2QgPSByb3V0ZXJbcHJvcGVydHlLZXldO1xuXG5cdGlmICghUmVmbGVjdC5oYXNNZXRhZGF0YShyb3V0ZXJNZXRhZGF0YS5saXN0ZW5lcnMsIHJvdXRlci5jb25zdHJ1Y3RvcikpIHtcblx0XHRSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFxuXHRcdFx0cm91dGVyTWV0YWRhdGEubGlzdGVuZXJzLFxuXHRcdFx0W10sXG5cdFx0XHRyb3V0ZXIuY29uc3RydWN0b3Jcblx0XHQpO1xuXHR9XG5cblx0Y29uc3QgbGlzdGVuZXJzID0gUmVmbGVjdC5nZXRNZXRhZGF0YShcblx0XHRyb3V0ZXJNZXRhZGF0YS5saXN0ZW5lcnMsXG5cdFx0cm91dGVyLmNvbnN0cnVjdG9yXG5cdCk7XG5cblx0bGlzdGVuZXJzLnB1c2gobWV0aG9kKTtcblxuXHRSZWZsZWN0LmRlZmluZU1ldGFkYXRhKGxpc3RlbmVyTWV0YWRhdGEudHlwZSwgbGlzdGVuZXJUeXBlLCBtZXRob2QpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldExpc3RlbmVyVHlwZSA9IDxUPihsaXN0ZW5lcjogTGlzdGVuZXI8VD4pID0+IHtcblx0cmV0dXJuIFJlZmxlY3QuZ2V0TWV0YWRhdGEobGlzdGVuZXJNZXRhZGF0YS50eXBlLCBsaXN0ZW5lcik7XG59O1xuIiwiZXhwb3J0IGNvbnN0IGxpc3RlbmVyTWV0YWRhdGEgPSB7XG5cdHR5cGU6ICdyb3V0ZXI6bGlzdGVuZXI6dHlwZScsXG5cdHNlcmlhbGl6ZXJzOiAncm91dGVyOmxpc3RlbmVyOnNlcmlhbGl6ZXJzJyxcbn07XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBMaXN0ZW5lclR5cGUgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGxpc3RlbmVyT2YgfSBmcm9tICcuL2xpc3RlbmVyJztcblxuZXhwb3J0IHR5cGUgT2JzZXJ2YWJsZUxpc3RlbmVyPFQ+ID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBPYnNlcnZhYmxlPFQ+O1xuXG5leHBvcnQgY29uc3Qgb2JzZXJ2YWJsZUxpc3RlbmVyID0gbGlzdGVuZXJPZihMaXN0ZW5lclR5cGUuT2JzZXJ2YWJsZSk7XG4iLCJpbXBvcnQgeyBMaXN0ZW5lciB9IGZyb20gJy4vbGlzdGVuZXInO1xuaW1wb3J0IHsgbGlzdGVuZXJNZXRhZGF0YSB9IGZyb20gJy4vbWV0YWRhdGEnO1xuXG5leHBvcnQgdHlwZSBTZXJpYWxpemVyPFQsIFI+ID0gKGFyZzogVCkgPT4gUjtcblxuZXhwb3J0IGNvbnN0IHNlcmlhbGl6YXRpb24gPSA8VCwgUj4oXG5cdHNlcmlhbGl6ZUZ1bmN0aW9uOiBTZXJpYWxpemVyPFQsIFI+XG4pOiBQYXJhbWV0ZXJEZWNvcmF0b3IgPT4gKFxuXHRyb3V0ZXI6IG9iamVjdCxcblx0cHJvcGVydHlLZXk6IHN0cmluZyB8IHN5bWJvbCxcblx0cGFyYW1ldGVySW5kZXg6IG51bWJlclxuKSA9PiB7XG5cdGNvbnN0IGxpc3RlbmVyOiBMaXN0ZW5lcjxUPiA9IHJvdXRlcltwcm9wZXJ0eUtleV07XG5cblx0aWYgKCFSZWZsZWN0Lmhhc01ldGFkYXRhKGxpc3RlbmVyTWV0YWRhdGEuc2VyaWFsaXplcnMsIGxpc3RlbmVyKSkge1xuXHRcdFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEobGlzdGVuZXJNZXRhZGF0YS5zZXJpYWxpemVycywgW10sIGxpc3RlbmVyKTtcblx0fVxuXG5cdFJlZmxlY3QuZ2V0TWV0YWRhdGEobGlzdGVuZXJNZXRhZGF0YS5zZXJpYWxpemVycywgbGlzdGVuZXIpW1xuXHRcdHBhcmFtZXRlckluZGV4XG5cdF0gPSBzZXJpYWxpemVGdW5jdGlvbjtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRMaXN0ZW5lclNlcmlhbGl6ZXIgPSA8VD4oXG5cdGxpc3RlbmVyOiBMaXN0ZW5lcjxUPlxuKTogKChhcmdzOiBhbnlbXSkgPT4gYW55W10pID0+IHtcblx0Y29uc3Qgc2VyaWFsaXplcnM6IEFycmF5PFNlcmlhbGl6ZXI8YW55LCBhbnk+PiA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXG5cdFx0bGlzdGVuZXJNZXRhZGF0YS5zZXJpYWxpemVycyxcblx0XHRsaXN0ZW5lclxuXHQpO1xuXHRpZiAoc2VyaWFsaXplcnMgPT0gbnVsbCkge1xuXHRcdHJldHVybiAoYXJncykgPT4gYXJncztcblx0fVxuXG5cdHJldHVybiAoYXJnczogYW55W10pID0+IHtcblx0XHRyZXR1cm4gYXJncy5tYXAoKGFyZywgaSkgPT5cblx0XHRcdHNlcmlhbGl6ZXJzW2ldICE9IG51bGwgPyBzZXJpYWxpemVyc1tpXShhcmcpIDogYXJnXG5cdFx0KTtcblx0fTtcbn07XG4iLCJleHBvcnQgZW51bSBMaXN0ZW5lclR5cGUge1xuXHRBc3luYyA9ICdhc3luYycsXG5cdE9ic2VydmFibGUgPSAnb2JzZXJ2YWJsZScsXG59XG4iLCJpbXBvcnQgeyBnZXRMaXN0ZW5lcnMsIGdldFJvdXRlck5hbWUsIElSb3V0ZXIgfSBmcm9tICcuL3JvdXRlcic7XG5pbXBvcnQgeyBDb25uZWN0aW9uSGFuZGxlciB9IGZyb20gJy4uL2Nvbm5lY3Rpb24taGFuZGxlcic7XG5pbXBvcnQgeyBMaXN0ZW5lciB9IGZyb20gJy4uL2xpc3RlbmVyL2xpc3RlbmVyJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcblxuZXhwb3J0IGNsYXNzIFJvdXRlckhhbmRsZXIge1xuXHRwcml2YXRlIHJlYWRvbmx5IHJvdXRlck5hbWU6IHN0cmluZztcblxuXHRwcml2YXRlIHJlYWRvbmx5IGxpc3RlbmVyczogQXJyYXk8TGlzdGVuZXI8YW55Pj47XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSBpbzogU29ja2V0SU8uU2VydmVyLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgcm91dGVyOiBJUm91dGVyLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgbG9nOiBMb2dnZXJcblx0KSB7XG5cdFx0dGhpcy5yb3V0ZXJOYW1lID0gZ2V0Um91dGVyTmFtZShyb3V0ZXIpO1xuXHRcdHRoaXMubGlzdGVuZXJzID0gZ2V0TGlzdGVuZXJzKHJvdXRlcik7XG5cdH1cblxuXHRhc3luYyBsaXN0ZW4oKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dGhpcy5sb2cuaW5mbyhgU3RhcnRpbmcgcm91dGVyIGxpc3RlbmluZ2AsIHtcblx0XHRcdHJvdXRlck5hbWU6IHRoaXMucm91dGVyTmFtZSxcblx0XHRcdGxpc3RlbmVyczogdGhpcy5saXN0ZW5lcnNcblx0XHRcdFx0PyB0aGlzLmxpc3RlbmVycy5tYXAoKGxpc3RlbmVyKSA9PiBsaXN0ZW5lci5uYW1lKVxuXHRcdFx0XHQ6IG51bGwsXG5cdFx0fSk7XG5cblx0XHRjb25zdCByb3V0ZXJOYW1lc3BhY2U6IFNvY2tldElPLk5hbWVzcGFjZSA9IHRoaXMuaW8ub2YoXG5cdFx0XHRgLyR7dGhpcy5yb3V0ZXJOYW1lfWBcblx0XHQpO1xuXG5cdFx0cm91dGVyTmFtZXNwYWNlLnNldE1heExpc3RlbmVycygwKTtcblxuXHRcdHJvdXRlck5hbWVzcGFjZS5vbignY29ubmVjdGlvbicsIChzb2NrZXQpID0+IHtcblx0XHRcdGNvbnN0IGNvbm5lY3Rpb25IYW5kbGVyID0gbmV3IENvbm5lY3Rpb25IYW5kbGVyKFxuXHRcdFx0XHRzb2NrZXQsXG5cdFx0XHRcdHRoaXMucm91dGVyLFxuXHRcdFx0XHR0aGlzLmxvZ1xuXHRcdFx0KTtcblx0XHRcdGNvbm5lY3Rpb25IYW5kbGVyLmhhbmRsZSgpO1xuXHRcdH0pO1xuXHR9XG59XG4iLCIvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tbmFtZXNwYWNlXG5leHBvcnQgbmFtZXNwYWNlIHJvdXRlck1ldGFkYXRhIHtcblx0ZXhwb3J0IGNvbnN0IG5hbWUgPSAncm91dGVyOm5hbWUnO1xuXHRleHBvcnQgY29uc3QgbGlzdGVuZXJzID0gJ3JvdXRlcjpsaXN0ZW5lcnMnO1xufVxuIiwiaW1wb3J0IHsgcm91dGVyTWV0YWRhdGEgfSBmcm9tICcuL21ldGFkYXRhJztcbmltcG9ydCB7IExpc3RlbmVyIH0gZnJvbSAnLi4vbGlzdGVuZXIvbGlzdGVuZXInO1xuXG5leHBvcnQgY29uc3QgUm91dGVyU3ltYm9sID0gU3ltYm9sKCdSb3V0ZXInKTtcblxuZXhwb3J0IGludGVyZmFjZSBJUm91dGVyIHt9XG5cbmV4cG9ydCBjb25zdCByb3V0ZXJOYW1lID0gKG5hbWU6IHN0cmluZyk6IENsYXNzRGVjb3JhdG9yID0+XG5cdFJlZmxlY3QubWV0YWRhdGEocm91dGVyTWV0YWRhdGEubmFtZSwgbmFtZSk7XG5cbmV4cG9ydCBjb25zdCBnZXRSb3V0ZXJOYW1lID0gKHJvdXRlcjogSVJvdXRlcik6IHN0cmluZyA9PiB7XG5cdHJldHVybiBSZWZsZWN0LmdldE1ldGFkYXRhKHJvdXRlck1ldGFkYXRhLm5hbWUsIHJvdXRlci5jb25zdHJ1Y3Rvcik7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TGlzdGVuZXJzID0gKHJvdXRlcjogSVJvdXRlcik6IEFycmF5PExpc3RlbmVyPGFueT4+ID0+IHtcblx0cmV0dXJuIFJlZmxlY3QuZ2V0TWV0YWRhdGEocm91dGVyTWV0YWRhdGEubGlzdGVuZXJzLCByb3V0ZXIuY29uc3RydWN0b3IpO1xufTtcbiIsImltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgeyBpbmplY3RhYmxlLCBtdWx0aUluamVjdCB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyBJUm91dGVyLCBSb3V0ZXJTeW1ib2wgfSBmcm9tICcuL3JvdXRlci9yb3V0ZXInO1xuaW1wb3J0IHsgUm91dGVySGFuZGxlciB9IGZyb20gJy4vcm91dGVyL2hhbmRsZXInO1xuaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuXG5leHBvcnQgaW50ZXJmYWNlIElSb3V0ZXJzTWFuYWdlciB7XG5cdHN0YXJ0TGlzdGVuaW5nKGlvOiBTb2NrZXRJTy5TZXJ2ZXIpO1xufVxuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgUm91dGVyc01hbmFnZXIgaW1wbGVtZW50cyBJUm91dGVyc01hbmFnZXIge1xuXHRjb25zdHJ1Y3RvcihAbXVsdGlJbmplY3QoUm91dGVyU3ltYm9sKSBwcm90ZWN0ZWQgcm91dGVyczogYW55W10pIHt9XG5cblx0cHJvdGVjdGVkIGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7IG5hbWU6ICdpbycgfSk7XG5cblx0cHJvdGVjdGVkIGlvOiBTb2NrZXRJTy5TZXJ2ZXI7XG5cblx0YXN5bmMgc3RhcnRMaXN0ZW5pbmcoaW86IFNvY2tldElPLlNlcnZlcikge1xuXHRcdHRoaXMuaW8gPSBpbztcblxuXHRcdHRoaXMucm91dGVycy5mb3JFYWNoKGFzeW5jIChyb3V0ZXIpID0+IHtcblx0XHRcdGF3YWl0IHRoaXMuc3RhcnRSb3V0ZXJMaXN0ZW5pbmcocm91dGVyKTtcblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgc3RhcnRSb3V0ZXJMaXN0ZW5pbmcocm91dGVyOiBJUm91dGVyKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHJvdXRlckhhbmRsZXIgPSBuZXcgUm91dGVySGFuZGxlcih0aGlzLmlvLCByb3V0ZXIsIHRoaXMubG9nKTtcblx0XHRcdGF3YWl0IHJvdXRlckhhbmRsZXIubGlzdGVuKCk7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR0aGlzLmxvZy5mYXRhbChcIkNvdWxkbid0IHN0YXJ0IHJvdXRlciBsaXN0ZW5pbmchXCIsIHsgZXJyIH0pO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHtcblx0TWlkZGxld2FyZUNvbnN1bWVyLFxuXHRNb2R1bGUsXG5cdE5lc3RNb2R1bGUsXG5cdE9uTW9kdWxlSW5pdCxcblx0SHR0cFNlcnZlcixcblx0SW5qZWN0LFxufSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IHsgR3JhcGhRTFNjaGVtYSB9IGZyb20gJ2dyYXBocWwnO1xuaW1wb3J0IHsgR3JhcGhRTE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvZ3JhcGhxbCc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb25zTW9kdWxlIH0gZnJvbSAnLi9ncmFwaHFsL3N1YnNjcmlwdGlvbnMvc3Vic2NyaXB0aW9ucy5tb2R1bGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uc1NlcnZpY2UgfSBmcm9tICcuL2dyYXBocWwvc3Vic2NyaXB0aW9ucy9zdWJzY3JpcHRpb25zLnNlcnZpY2UnO1xuaW1wb3J0IHsgSW52aXRlc01vZHVsZSB9IGZyb20gJy4vZ3JhcGhxbC9pbnZpdGVzL2ludml0ZXMubW9kdWxlJztcbmltcG9ydCB7IERldmljZXNNb2R1bGUgfSBmcm9tICcuL2dyYXBocWwvZGV2aWNlcy9kZXZpY2VzLm1vZHVsZSc7XG5pbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tICcuL2NvbmZpZy9jb25maWcubW9kdWxlJztcbmltcG9ydCB7IFByb2R1Y3RNb2R1bGUgfSBmcm9tICcuL2NvbnRyb2xsZXJzL3Byb2R1Y3QvcHJvZHVjdC5tb2R1bGUnO1xuaW1wb3J0IHsgVXNlcnNNb2R1bGUgfSBmcm9tICcuL2dyYXBocWwvdXNlcnMvdXNlcnMubW9kdWxlJztcbmltcG9ydCB7IFdhcmVob3VzZXNNb2R1bGUgfSBmcm9tICcuL2dyYXBocWwvd2FyZWhvdXNlcy93YXJlaG91c2VzLm1vZHVsZSc7XG5pbXBvcnQgeyBPcmRlcnNNb2R1bGUgfSBmcm9tICcuL2dyYXBocWwvb3JkZXJzL29yZGVycy5tb2R1bGUnO1xuaW1wb3J0IHsgQ2FycmllcnNNb2R1bGUgfSBmcm9tICcuL2dyYXBocWwvY2FycmllcnMvY2FycmllcnMubW9kdWxlJztcbmltcG9ydCB7IFByb2R1Y3RzTW9kdWxlIH0gZnJvbSAnLi9ncmFwaHFsL3Byb2R1Y3RzL3Byb2R1Y3RzLm1vZHVsZSc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuL2Vudic7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgeyBDb21tYW5kQnVzLCBFdmVudEJ1cywgQ3Fyc01vZHVsZSB9IGZyb20gJ0BuZXN0anMvY3Fycyc7XG5pbXBvcnQgeyBUZXN0Q29udHJvbGxlciB9IGZyb20gJy4vY29udHJvbGxlcnMvdGVzdC5jb250cm9sbGVyJztcbmltcG9ydCB7IE1vZHVsZVJlZiB9IGZyb20gJ0BuZXN0anMvY29yZSc7XG5pbXBvcnQgeyBHZW9Mb2NhdGlvbnNNb2R1bGUgfSBmcm9tICcuL2dyYXBocWwvZ2VvLWxvY2F0aW9ucy9nZW8tbG9jYXRpb25zLm1vZHVsZSc7XG5pbXBvcnQgeyBTQ0FMQVJTIH0gZnJvbSAnLi9ncmFwaHFsL3NjYWxhcnMnO1xuaW1wb3J0IHsgV2FyZWhvdXNlc1Byb2R1Y3RzTW9kdWxlIH0gZnJvbSAnLi9ncmFwaHFsL3dhcmVob3VzZXMtcHJvZHVjdHMvd2FyZWhvdXNlcy1wcm9kdWN0cy5tb2R1bGVzJztcbmltcG9ydCB7IFdhcmVob3VzZXNDYXJyaWVyc01vZHVsZSB9IGZyb20gJy4vZ3JhcGhxbC93YXJlaG91c2VzLWNhcnJpZXJzL3dhcmVob3VzZXMtY2FycmllcnMubW9kdWxlJztcbmltcG9ydCB7IFdhcmVob3VzZXNPcmRlcnNNb2R1bGUgfSBmcm9tICcuL2dyYXBocWwvd2FyZWhvdXNlcy1vcmRlcnMvd2FyZWhvdXNlcy1vcmRlcnMubW9kdWxlJztcbmltcG9ydCB7IEludml0ZXNSZXF1ZXN0c01vZHVsZSB9IGZyb20gJy4vZ3JhcGhxbC9pbnZpdGVzLXJlcXVlc3RzL2ludml0ZXMtcmVxdWVzdHMubW9kdWxlJztcbmltcG9ydCB7IEF1dGhNb2R1bGUgfSBmcm9tICcuL2F1dGgvYXV0aC5tb2R1bGUnO1xuaW1wb3J0IHsgQWRtaW5zTW9kdWxlIH0gZnJvbSAnLi9ncmFwaHFsL2FkbWluL2FkbWlucy5tb2R1bGUnO1xuaW1wb3J0IHsgRGF0YU1vZHVsZSB9IGZyb20gJy4vZ3JhcGhxbC9kYXRhL2RhdGEubW9kdWxlJztcbmltcG9ydCB7IENhcnJpZXJzT3JkZXJzTW9kdWxlIH0gZnJvbSAnLi9ncmFwaHFsL2NhcnJpZXJzLW9yZGVycy9jYXJyaWVycy1vcmRlcnMubW9kdWxlJztcbmltcG9ydCB7IEdlb0xvY2F0aW9uT3JkZXJzTW9kdWxlIH0gZnJvbSAnLi9ncmFwaHFsL2dlby1sb2NhdGlvbnMvb3JkZXJzL2dlby1sb2NhdGlvbi1vcmRlcnMubW9kdWxlJztcbmltcG9ydCB7IEdlb0xvY2F0aW9uTWVyY2hhbnRzTW9kdWxlIH0gZnJvbSAnLi9ncmFwaHFsL2dlby1sb2NhdGlvbnMvbWVyY2hhbnRzL2dlby1sb2NhdGlvbi1tZXJjaGFudHMubW9kdWxlJztcbmltcG9ydCB7IEFwb2xsb1NlcnZlciwgbWFrZUV4ZWN1dGFibGVTY2hlbWEgfSBmcm9tICdhcG9sbG8tc2VydmVyLWV4cHJlc3MnO1xuaW1wb3J0IHsgZmlsZUxvYWRlciwgbWVyZ2VUeXBlcyB9IGZyb20gJ21lcmdlLWdyYXBocWwtc2NoZW1hcyc7XG5pbXBvcnQgeyBHZXRBYm91dFVzSGFuZGxlciB9IGZyb20gJy4vc2VydmljZXMvdXNlcnMnO1xuaW1wb3J0IHsgVHlwZU9ybU1vZHVsZSB9IGZyb20gJ0BuZXN0anMvdHlwZW9ybSc7XG5pbXBvcnQgeyBTZXJ2aWNlc01vZHVsZSB9IGZyb20gJy4vc2VydmljZXMvc2VydmljZXMubW9kdWxlJztcbmltcG9ydCB7IFNlcnZpY2VzQXBwIH0gZnJvbSAnLi9zZXJ2aWNlcy9zZXJ2aWNlcy5hcHAnO1xuaW1wb3J0IHsgQ3VycmVuY3lNb2R1bGUgfSBmcm9tICcuL2dyYXBocWwvY3VycmVuY3kvY3VycmVuY3kubW9kdWxlJztcblxuY29uc3QgcG9ydCA9IGVudi5HUUxQT1JUO1xuXG5jb25zdCBsb2c6IExvZ2dlciA9IGNyZWF0ZUV2ZXJMb2dnZXIoe1xuXHRuYW1lOiAnQXBwbGljYXRpb25Nb2R1bGUgZnJvbSBOZXN0SlMnLFxufSk7XG5cbi8vIEFkZCBoZXJlIGFsbCBDUVJTIGNvbW1hbmQgaGFuZGxlcnNcbmV4cG9ydCBjb25zdCBDb21tYW5kSGFuZGxlcnMgPSBbR2V0QWJvdXRVc0hhbmRsZXJdO1xuXG4vLyBBZGQgaGVyZSBhbGwgQ1FSUyBldmVudCBoYW5kbGVyc1xuZXhwb3J0IGNvbnN0IEV2ZW50SGFuZGxlcnMgPSBbXTtcblxuY29uc3QgZW50aXRpZXMgPSBTZXJ2aWNlc0FwcC5nZXRFbnRpdGllcygpO1xuXG5ATW9kdWxlKHtcblx0Y29udHJvbGxlcnM6IFtUZXN0Q29udHJvbGxlcl0sXG5cdHByb3ZpZGVyczogWy4uLkNvbW1hbmRIYW5kbGVycywgLi4uRXZlbnRIYW5kbGVyc10sXG5cdGltcG9ydHM6IFtcblx0XHREYXRhTW9kdWxlLFxuXHRcdFNlcnZpY2VzTW9kdWxlLFxuXHRcdENxcnNNb2R1bGUsXG5cdFx0QXV0aE1vZHVsZSxcblx0XHRBZG1pbnNNb2R1bGUsXG5cdFx0Q29uZmlnTW9kdWxlLFxuXHRcdC8vIGNvbmZpZ3VyZSBUeXBlT1JNIENvbm5lY3Rpb24gd2hpY2ggd2lsbCBiZSBwb3NzaWJsZSB0byB1c2UgaW5zaWRlIE5lc3RKUyAoZS5nLiByZXNvbHZlcnMpXG5cdFx0VHlwZU9ybU1vZHVsZS5mb3JSb290KHtcblx0XHRcdHR5cGU6ICdtb25nb2RiJyxcblx0XHRcdGhvc3Q6ICdsb2NhbGhvc3QnLFxuXHRcdFx0ZGF0YWJhc2U6ICd0ZXN0Jyxcblx0XHRcdGVudGl0aWVzLFxuXHRcdFx0c3luY2hyb25pemU6IHRydWUsXG5cdFx0XHR1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG5cdFx0XHRhdXRvUmVjb25uZWN0OiB0cnVlLFxuXHRcdFx0bG9nZ2luZzogdHJ1ZSxcblx0XHR9KSxcblx0XHQvLyBkZWZpbmUgd2hpY2ggcmVwb3NpdG9yaWVzIHNoYWxsIGJlIHJlZ2lzdGVyZWQgaW4gdGhlIGN1cnJlbnQgc2NvcGUgKGVhY2ggZW50aXR5IHdpbGwgaGF2ZSBvd24gcmVwb3NpdG9yeSkuXG5cdFx0Ly8gVGhhbmtzIHRvIHRoYXQgd2UgY2FuIGluamVjdCB0aGUgWFhYWFJlcG9zaXRvcnkgdG8gdGhlIE5lc3RKUyB1c2luZyB0aGUgQEluamVjdFJlcG9zaXRvcnkoKSBkZWNvcmF0b3Jcblx0XHQvLyBOT1RFOiB0aGlzIGNvdWxkIGJlIHVzZWQgaW5zaWRlIE5lc3RKUyBvbmx5LCBub3QgaW5zaWRlIG91ciBzZXJ2aWNlc1xuXHRcdFR5cGVPcm1Nb2R1bGUuZm9yRmVhdHVyZShlbnRpdGllcyksXG5cdFx0U3Vic2NyaXB0aW9uc01vZHVsZS5mb3JSb290KGVudi5HUUxQT1JUX1NVQlNDUklQVElPTlMpLFxuXHRcdEdyYXBoUUxNb2R1bGUuZm9yUm9vdCh7XG5cdFx0XHR0eXBlUGF0aHM6IFsnLi8qKi8qLmdyYXBocWwnXSxcblx0XHRcdGluc3RhbGxTdWJzY3JpcHRpb25IYW5kbGVyczogdHJ1ZSxcblx0XHRcdGRlYnVnOiB0cnVlLFxuXHRcdFx0cGxheWdyb3VuZDogdHJ1ZSxcblx0XHRcdGNvbnRleHQ6ICh7IHJlcSwgcmVzIH0pID0+ICh7XG5cdFx0XHRcdHJlcSxcblx0XHRcdH0pLFxuXHRcdH0pLFxuXHRcdEludml0ZXNNb2R1bGUsXG5cdFx0RGV2aWNlc01vZHVsZSxcblx0XHRQcm9kdWN0TW9kdWxlLFxuXHRcdFdhcmVob3VzZXNNb2R1bGUsXG5cdFx0R2VvTG9jYXRpb25zTW9kdWxlLFxuXHRcdFVzZXJzTW9kdWxlLFxuXHRcdE9yZGVyc01vZHVsZSxcblx0XHRDYXJyaWVyc01vZHVsZSxcblx0XHRDYXJyaWVyc09yZGVyc01vZHVsZSxcblx0XHRQcm9kdWN0c01vZHVsZSxcblx0XHRXYXJlaG91c2VzUHJvZHVjdHNNb2R1bGUsXG5cdFx0V2FyZWhvdXNlc09yZGVyc01vZHVsZSxcblx0XHRXYXJlaG91c2VzQ2FycmllcnNNb2R1bGUsXG5cdFx0SW52aXRlc1JlcXVlc3RzTW9kdWxlLFxuXHRcdEdlb0xvY2F0aW9uT3JkZXJzTW9kdWxlLFxuXHRcdEdlb0xvY2F0aW9uTWVyY2hhbnRzTW9kdWxlLFxuXHRcdEN1cnJlbmN5TW9kdWxlLFxuXHRdLFxufSlcbmV4cG9ydCBjbGFzcyBBcHBsaWNhdGlvbk1vZHVsZSBpbXBsZW1lbnRzIE5lc3RNb2R1bGUsIE9uTW9kdWxlSW5pdCB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdC8vIEBJbmplY3QoSFRUUF9TRVJWRVJfUkVGKVxuXHRcdC8vIHByaXZhdGUgcmVhZG9ubHkgaHR0cFNlcnZlclJlZjogSHR0cFNlcnZlcixcblx0XHRwcml2YXRlIHJlYWRvbmx5IHN1YnNjcmlwdGlvbnNTZXJ2aWNlOiBTdWJzY3JpcHRpb25zU2VydmljZSxcblx0XHQvLyBOZXh0IHJlcXVpcmVkIGZvciBOZXN0SlMgQ1FSUyAoc2VlIGh0dHBzOi8vZG9jcy5uZXN0anMuY29tL3JlY2lwZXMvY3Fycylcblx0XHRwcml2YXRlIHJlYWRvbmx5IG1vZHVsZVJlZjogTW9kdWxlUmVmLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgY29tbWFuZCQ6IENvbW1hbmRCdXMsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBldmVudCQ6IEV2ZW50QnVzXG5cdCkge31cblxuXHRvbk1vZHVsZUluaXQoKSB7XG5cdFx0Ly8gaW5pdGlhbGl6ZSBDUVJTXG5cdFx0dGhpcy5ldmVudCQucmVnaXN0ZXIoRXZlbnRIYW5kbGVycyk7XG5cdFx0dGhpcy5jb21tYW5kJC5yZWdpc3RlcihDb21tYW5kSGFuZGxlcnMpO1xuXHR9XG5cblx0Y29uZmlndXJlKGNvbnN1bWVyOiBNaWRkbGV3YXJlQ29uc3VtZXIpIHtcblx0XHQvLyB0cmljayBmb3IgR3JhcGhRTCB2cyBNb25nb0RCIE9iamVjdElkIHR5cGUuXG5cdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hcG9sbG9ncmFwaHFsL2Fwb2xsby1zZXJ2ZXIvaXNzdWVzLzE2MzMgYW5kXG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2Fwb2xsb2dyYXBocWwvYXBvbGxvLXNlcnZlci9pc3N1ZXMvMTY0OSNpc3N1ZWNvbW1lbnQtNDIwODQwMjg3XG5cdFx0Y29uc3QgeyBPYmplY3RJZCB9ID0gbW9uZ29vc2UuVHlwZXM7XG5cblx0XHRPYmplY3RJZC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG5cdFx0fTtcblxuXHRcdC8qIE5leHQgaXMgY29kZSB3aGljaCBjb3VsZCBiZSB1c2VkIHRvIG1hbnVhbGx5IGNyZWF0ZSBHcmFwaFFMIFNlcnZlciBpbnN0ZWFkIG9mIHVzaW5nIEdyYXBoUUxNb2R1bGUuZm9yUm9vdCguLi4pXG5cblx0XHRjb25zdCBzY2hlbWE6IEdyYXBoUUxTY2hlbWEgPSB0aGlzLmNyZWF0ZVNjaGVtYSgpO1xuXHRcdGNvbnN0IHNlcnZlcjogQXBvbGxvU2VydmVyID0gdGhpcy5jcmVhdGVTZXJ2ZXIoc2NoZW1hKTtcblxuXHRcdC8vIHRoaXMgY3JlYXRlcyBtYW51YWxseSBHcmFwaFFMIHN1YnNjcmlwdGlvbnMgc2VydmVyIChvdmVyIHdzIGNvbm5lY3Rpb24pXG5cdFx0dGhpcy5zdWJzY3JpcHRpb25zU2VydmljZS5jcmVhdGVTdWJzY3JpcHRpb25TZXJ2ZXIoc2VydmVyKTtcblxuXHRcdGNvbnN0IGFwcDogYW55ID0gdGhpcy5odHRwU2VydmVyUmVmO1xuXG5cdFx0Y29uc3QgZ3JhcGhxbFBhdGggPSAnL2dyYXBocWwnO1xuXG5cdFx0c2VydmVyLmFwcGx5TWlkZGxld2FyZSh7YXBwLCBwYXRoOiBncmFwaHFsUGF0aH0pO1xuXG5cdFx0Ki9cblxuXHRcdGxvZy5pbmZvKFxuXHRcdFx0YEdyYXBoUUwgcGxheWdyb3VuZCBhdmFpbGFibGUgYXQgaHR0cDovL2xvY2FsaG9zdDoke3BvcnR9L2dyYXBocWxgXG5cdFx0KTtcblx0fVxuXG5cdC8qXG5cdFx0Q3JlYXRlcyBHcmFwaFFMIEFwb2xsbyBTZXJ2ZXIgbWFudWFsbHlcblx0Ki9cblx0Y3JlYXRlU2VydmVyKHNjaGVtYTogR3JhcGhRTFNjaGVtYSk6IEFwb2xsb1NlcnZlciB7XG5cdFx0cmV0dXJuIG5ldyBBcG9sbG9TZXJ2ZXIoe1xuXHRcdFx0c2NoZW1hLFxuXHRcdFx0Y29udGV4dDogKHsgcmVxLCByZXMgfSkgPT4gKHtcblx0XHRcdFx0cmVxLFxuXHRcdFx0fSksXG5cdFx0XHRwbGF5Z3JvdW5kOiB7XG5cdFx0XHRcdGVuZHBvaW50OiBgaHR0cDovL2xvY2FsaG9zdDoke3BvcnR9L2dyYXBocWxgLFxuXHRcdFx0XHRzdWJzY3JpcHRpb25FbmRwb2ludDogYHdzOi8vbG9jYWxob3N0OiR7cG9ydH0vc3Vic2NyaXB0aW9uc2AsXG5cdFx0XHRcdHNldHRpbmdzOiB7XG5cdFx0XHRcdFx0J2VkaXRvci50aGVtZSc6ICdkYXJrJyxcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0fSk7XG5cdH1cblxuXHQvKlxuXHRcdENyZWF0ZXMgR3JhcGhRTCBTY2hlbWEgbWFudWFsbHkuXG5cdFx0U2VlIGFsc28gY29kZSBpbiBodHRwczovL2dpdGh1Yi5jb20vbmVzdGpzL2dyYXBocWwvYmxvYi9tYXN0ZXIvbGliL2dyYXBocWwubW9kdWxlLnRzIGhvdyBpdCdzIGRvbmUgYnkgTmVzdFxuXHQqL1xuXHRjcmVhdGVTY2hlbWEoKTogR3JhcGhRTFNjaGVtYSB7XG5cdFx0Y29uc3QgZ3JhcGhxbFBhdGggPSAnLi8qKi8qLmdyYXBocWwnO1xuXG5cdFx0Y29uc29sZS5sb2coYFNlYXJjaGluZyBmb3IgKi5ncmFwaHFsIGZpbGVzYCk7XG5cblx0XHRjb25zdCB0eXBlc0FycmF5ID0gZmlsZUxvYWRlcihncmFwaHFsUGF0aCk7XG5cblx0XHRjb25zdCB0eXBlRGVmcyA9IG1lcmdlVHlwZXModHlwZXNBcnJheSwgeyBhbGw6IHRydWUgfSk7XG5cblx0XHQvLyB3ZSBjYW4gc2F2ZSBhbGwgR3JhcGhRTCB0eXBlcyBpbnRvIG9uZSBmaWxlIGZvciBsYXRlciB1c2FnZSBieSBvdGhlciBzeXN0ZW1zXG5cdFx0Ly8gaW1wb3J0IHsgd3JpdGVGaWxlU3luYyB9IGZyb20gJ2ZzJztcblx0XHQvLyB3cml0ZUZpbGVTeW5jKCcuL2FsbC5ncmFwaHFsJywgdHlwZURlZnMpO1xuXG5cdFx0Y29uc3Qgc2NoZW1hID0gbWFrZUV4ZWN1dGFibGVTY2hlbWEoe1xuXHRcdFx0dHlwZURlZnMsXG5cdFx0XHRyZXNvbHZlcnM6IHtcblx0XHRcdFx0Li4uU0NBTEFSUyxcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gc2NoZW1hO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBKd3RTdHJhdGVneSB9IGZyb20gJy4vand0LnN0cmF0ZWd5JztcblxuQE1vZHVsZSh7XG5cdGltcG9ydHM6IFtdLFxuXHRwcm92aWRlcnM6IFtKd3RTdHJhdGVneV0sXG5cdGV4cG9ydHM6IFtdLFxufSlcbmV4cG9ydCBjbGFzcyBBdXRoTW9kdWxlIHt9XG4iLCJpbXBvcnQgeyBTdHJhdGVneSB9IGZyb20gJ3Bhc3Nwb3J0LWp3dCc7XG5pbXBvcnQgeyBQYXNzcG9ydFN0cmF0ZWd5IH0gZnJvbSAnQG5lc3Rqcy9wYXNzcG9ydCc7XG5pbXBvcnQgeyBJbmplY3RhYmxlLCBVbmF1dGhvcml6ZWRFeGNlcHRpb24gfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQge1xuXHRBdXRoZW50aWNhdGlvblNlcnZpY2UsXG5cdGNyZWF0ZUp3dERhdGEsXG5cdEp3dFBheWxvYWQsXG59IGZyb20gJy4uL3NlcnZpY2VzL2F1dGgnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgSnd0U3RyYXRlZ3kgZXh0ZW5kcyBQYXNzcG9ydFN0cmF0ZWd5KFN0cmF0ZWd5KSB7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgYXV0aFNlcnZpY2U6IEF1dGhlbnRpY2F0aW9uU2VydmljZSkge1xuXHRcdHN1cGVyKGNyZWF0ZUp3dERhdGEpO1xuXHR9XG5cblx0YXN5bmMgdmFsaWRhdGUocGF5bG9hZDogSnd0UGF5bG9hZCwgZG9uZTogYW55KSB7XG5cdFx0Y29uc3QgdXNlciA9IGF3YWl0IHRoaXMuYXV0aFNlcnZpY2UudmFsaWRhdGVVc2VyKHBheWxvYWQpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4gZG9uZShuZXcgVW5hdXRob3JpemVkRXhjZXB0aW9uKCksIGZhbHNlKTtcblx0XHR9XG5cblx0XHRkb25lKG51bGwsIHVzZXIpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBDb25maWdTZXJ2aWNlIH0gZnJvbSAnLi9jb25maWcuc2VydmljZSc7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtcblx0XHR7XG5cdFx0XHRwcm92aWRlOiBDb25maWdTZXJ2aWNlLFxuXHRcdFx0dXNlVmFsdWU6IG5ldyBDb25maWdTZXJ2aWNlKCksXG5cdFx0fSxcblx0XSxcblx0ZXhwb3J0czogW0NvbmZpZ1NlcnZpY2VdLFxufSlcbmV4cG9ydCBjbGFzcyBDb25maWdNb2R1bGUge31cbiIsImltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgcm91dGVyTmFtZSB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCB7IGVudiwgRW52aXJvbm1lbnRzLCBFbnYgfSBmcm9tICcuLi9lbnYnO1xuXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgnY29uZmlnU2VydmljZScpXG5leHBvcnQgY2xhc3MgQ29uZmlnU2VydmljZSB7XG5cdC8qKlxuXHQgKiBHZXQgdGhlIGNvbmZpZyBzZXR0aW5nLlxuXHQgKiBJbiBtYW55IGNhc2VzLCBpdCBnZXQncyBlbnZpcm9ubWVudCB2YXJpYWJsZXMgYnkgJ2tleScgZnJvbSAnLmVudicgZmlsZVxuXHQgKiBAcGFyYW0ga2V5IFRoaXMgaXMgc2V0dGluZ3MgbmFtZSBvciB0aGUgZW52aXJvbmVtbnQgdmFyaWFibGUgKEhUVFBQT1JULCBIVFRQU1BPUlQuLi4pIGV0Yy5cblx0ICogQHJldHVybnMgUmV0dXJucyBhIHZhbHVlIGZvciB0aGUgZ2l2ZW4gc2V0dGluZ3Mga2V5XG5cdCAqL1xuXHRnZXQoa2V5OiBzdHJpbmcpOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgRW52aXJvbm1lbnRzIHtcblx0XHRyZXR1cm4gZW52W2tleV07XG5cdH1cblxuXHQvKipcblx0ICogR2V0IEFsbCBFbnYgc2V0dGluZ3Ncblx0ICovXG5cdGdldCBFbnYoKTogRW52IHtcblx0XHRyZXR1cm4gZW52O1xuXHR9XG59XG4iLCJpbXBvcnQgeyBBcGlNb2RlbFByb3BlcnR5IH0gZnJvbSAnQG5lc3Rqcy9zd2FnZ2VyJztcbmltcG9ydCB7XG5cdElQcm9kdWN0VGl0bGUsXG5cdElQcm9kdWN0RGVzY3JpcHRpb24sXG5cdElQcm9kdWN0SW1hZ2UsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JUHJvZHVjdCc7XG5cbmV4cG9ydCBjbGFzcyBVcGRhdGVQcm9kdWN0RHRvIHtcblx0QEFwaU1vZGVsUHJvcGVydHkoKVxuXHRyZWFkb25seSBuYW1lPzogc3RyaW5nO1xuXG5cdEBBcGlNb2RlbFByb3BlcnR5KClcblx0cmVhZG9ubHkgcHJpY2U/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVQcm9kdWN0RHRvIHtcblx0QEFwaU1vZGVsUHJvcGVydHkoKVxuXHRyZWFkb25seSB0aXRsZTogSVByb2R1Y3RUaXRsZVtdO1xuXG5cdEBBcGlNb2RlbFByb3BlcnR5KClcblx0cmVhZG9ubHkgZGVzY3JpcHRpb246IElQcm9kdWN0RGVzY3JpcHRpb25bXTtcblxuXHRAQXBpTW9kZWxQcm9wZXJ0eSgpXG5cdHJlYWRvbmx5IGltYWdlczogSVByb2R1Y3RJbWFnZVtdO1xufVxuIiwiaW1wb3J0IHtcblx0Qm9keSxcblx0Q29udHJvbGxlcixcblx0RGVsZXRlLFxuXHRHZXQsXG5cdEhlYWRlcixcblx0UGFyYW0sXG5cdFBvc3QsXG5cdFB1dCxcblx0UmVxLFxuXHRVc2VHdWFyZHMsXG59IGZyb20gJ0BuZXN0anMvY29tbW9uJztcblxuaW1wb3J0IHsgQXBpQmVhcmVyQXV0aCwgQXBpVXNlVGFncyB9IGZyb20gJ0BuZXN0anMvc3dhZ2dlcic7XG5pbXBvcnQgeyBDcmVhdGVQcm9kdWN0RHRvLCBVcGRhdGVQcm9kdWN0RHRvIH0gZnJvbSAnLi9Qcm9kdWN0c0R0byc7XG5pbXBvcnQgeyBBdXRoR3VhcmQgfSBmcm9tICdAbmVzdGpzL3Bhc3Nwb3J0JztcbmltcG9ydCB7IFByb2R1Y3RzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3Byb2R1Y3RzJztcblxuQEFwaVVzZVRhZ3MoJ3Byb2R1Y3QnKVxuQENvbnRyb2xsZXIoJ3Byb2R1Y3QnKVxuZXhwb3J0IGNsYXNzIFByb2R1Y3RDb250cm9sbGVyIHtcblx0Y29uc3RydWN0b3IocHJpdmF0ZSBwcm9kdWN0c1NlcnZpY2U6IFByb2R1Y3RzU2VydmljZSkge31cblxuXHRAR2V0KClcblx0QEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICdub25lJylcblx0QFVzZUd1YXJkcyhBdXRoR3VhcmQoJ2p3dCcpKVxuXHRAQXBpQmVhcmVyQXV0aCgpXG5cdGZpbmRBbGwoQFJlcSgpIHJlcXVlc3QpIHtcblx0XHRyZXR1cm4gdGhpcy5wcm9kdWN0c1NlcnZpY2UuZmluZCh7fSk7XG5cdH1cblxuXHRAR2V0KCc6aWQnKVxuXHRhc3luYyBmaW5kT25lKEBQYXJhbSgnaWQnKSBpZDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgcHJvZCA9IGF3YWl0IHRoaXMucHJvZHVjdHNTZXJ2aWNlLmdldEN1cnJlbnQoaWQpO1xuXHRcdHJldHVybiBwcm9kO1xuXHR9XG5cblx0QFBvc3QoJzppZCcpXG5cdGFzeW5jIGNyZWF0ZShAQm9keSgpIGNyZWF0ZUluZm86IENyZWF0ZVByb2R1Y3REdG8pIHtcblx0XHRyZXR1cm4gdGhpcy5wcm9kdWN0c1NlcnZpY2UuY3JlYXRlKGNyZWF0ZUluZm8pO1xuXHR9XG5cblx0QFB1dCgnOmlkJylcblx0dXBkYXRlKEBQYXJhbSgnaWQnKSBpZDogc3RyaW5nLCBAQm9keSgpIHVwZGF0ZUluZm86IFVwZGF0ZVByb2R1Y3REdG8pIHtcblx0XHRyZXR1cm4gYEhlcmUgdXBkYXRlcyBhICMke2lkfSBwcm9kdWN0YDtcblx0fVxuXG5cdEBEZWxldGUoJ2lkJylcblx0cmVtb3ZlKEBQYXJhbSgnaWQnKSBpZDogc3RyaW5nKSB7XG5cdFx0cmV0dXJuIGBIZXJlIHJlbW92ZXMgYSAjJHtpZH0gcHJvZHVjdGA7XG5cdH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IFByb2R1Y3RDb250cm9sbGVyIH0gZnJvbSAnLi9wcm9kdWN0LmNvbnRyb2xsZXInO1xuXG5ATW9kdWxlKHtcblx0Y29udHJvbGxlcnM6IFtQcm9kdWN0Q29udHJvbGxlcl0sXG59KVxuZXhwb3J0IGNsYXNzIFByb2R1Y3RNb2R1bGUge31cbiIsImltcG9ydCB7IENvbnRyb2xsZXIsIEdldCB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IFVzZXJDb21tYW5kU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL3VzZXJzJztcbmltcG9ydCB7IEFwaVVzZVRhZ3MgfSBmcm9tICdAbmVzdGpzL3N3YWdnZXInO1xuXG5AQXBpVXNlVGFncygndGVzdCcpXG5AQ29udHJvbGxlcigndGVzdCcpXG5leHBvcnQgY2xhc3MgVGVzdENvbnRyb2xsZXIge1xuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IF91c2VyQ29tbWFuZFNlcnZpY2U6IFVzZXJDb21tYW5kU2VydmljZSkge31cblxuXHRAR2V0KCdpbmRleCcpXG5cdGFzeW5jIGluZGV4KCkge1xuXHRcdGNvbnN0IHVzZXJJZCA9ICcxJztcblx0XHRjb25zdCBkZXZpY2VJZCA9ICcyJztcblxuXHRcdGF3YWl0IHRoaXMuX3VzZXJDb21tYW5kU2VydmljZS5leGVjKHVzZXJJZCwgZGV2aWNlSWQpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBjbGVhbkVudiwgbnVtLCBwb3J0LCBzdHIsIFZhbGlkYXRvclNwZWMsIGJvb2wgfSBmcm9tICdlbnZhbGlkJztcblxuZXhwb3J0IHR5cGUgRW52aXJvbm1lbnRzID0gJ3Byb2R1Y3Rpb24nIHwgJ2RldmVsb3BtZW50JyB8ICd0ZXN0JztcblxuZXhwb3J0IHR5cGUgRW52ID0gUmVhZG9ubHk8e1xuXHRpc0RldjogYm9vbGVhbjtcblx0aXNUZXN0OiBib29sZWFuO1xuXHRpc1Byb2Q6IGJvb2xlYW47XG5cblx0Tk9ERV9FTlY6IEVudmlyb25tZW50cztcblxuXHRXRUJfQ09OQ1VSUkVOQ1k6IG51bWJlcjtcblx0V0VCX01FTU9SWTogbnVtYmVyO1xuXG5cdEhUVFBTUE9SVDogbnVtYmVyO1xuXHRIVFRQUE9SVDogbnVtYmVyO1xuXHRHUUxQT1JUOiBudW1iZXI7XG5cdEdRTFBPUlRfU1VCU0NSSVBUSU9OUzogbnVtYmVyO1xuXG5cdEhUVFBTX0NFUlRfUEFUSDogc3RyaW5nO1xuXHRIVFRQU19LRVlfUEFUSDogc3RyaW5nO1xuXG5cdExPR1NfUEFUSDogc3RyaW5nO1xuXG5cdERCX1VSSTogc3RyaW5nO1xuXHRURVNUSU5HX0RCX1VSSTogc3RyaW5nO1xuXG5cdFNUUklQRV9TRUNSRVRfS0VZOiBzdHJpbmc7XG5cblx0VVJCQU5fQUlSU0hJUF9LRVk6IHN0cmluZztcblx0VVJCQU5fQUlSU0hJUF9TRUNSRVQ6IHN0cmluZztcblxuXHRBV1NfQUNDRVNTX0tFWV9JRDogc3RyaW5nO1xuXHRBV1NfU0VDUkVUX0FDQ0VTU19LRVk6IHN0cmluZztcblxuXHRLRVlNRVRSSUNTX01BQ0hJTkVfTkFNRTogc3RyaW5nO1xuXHRLRVlNRVRSSUNTX1NFQ1JFVF9LRVk6IHN0cmluZztcblx0S0VZTUVUUklDU19QVUJMSUNfS0VZOiBzdHJpbmc7XG5cblx0R09PR0xFX0FQUF9JRDogc3RyaW5nO1xuXHRHT09HTEVfQVBQX1NFQ1JFVDogc3RyaW5nO1xuXG5cdEZBQ0VCT09LX0FQUF9JRDogc3RyaW5nO1xuXHRGQUNFQk9PS19BUFBfU0VDUkVUOiBzdHJpbmc7XG5cblx0SldUX1NFQ1JFVDogc3RyaW5nO1xuXG5cdEFETUlOX1BBU1NXT1JEX0JDUllQVF9TQUxUX1JPVU5EUzogbnVtYmVyO1xuXHRXQVJFSE9VU0VfUEFTU1dPUkRfQkNSWVBUX1NBTFRfUk9VTkRTOiBudW1iZXI7XG5cdENBUlJJRVJfUEFTU1dPUkRfQkNSWVBUX1NBTFRfUk9VTkRTOiBudW1iZXI7XG5cdFVTRVJfUEFTU1dPUkRfQkNSWVBUX1NBTFRfUk9VTkRTOiBudW1iZXI7XG5cblx0U0VUVElOR19JTlZJVEVTX0VOQUJMRUQ/OiBib29sZWFuO1xuXHRTRVRUSU5HU19SRUdJU1RSQVRJT05TX1JFUVVJUkVEX09OX1NUQVJUPzogYm9vbGVhbjtcblxuXHRGQUtFX0lOVklURV9DT0RFOiBudW1iZXI7XG5cblx0QVJDR0lTX0NMSUVOVF9JRDogc3RyaW5nO1xuXHRBUkNHSVNfQ0xJRU5UX1NFQ1JFVDogc3RyaW5nO1xuXHRJUF9TVEFDS19BUElfS0VZPzogc3RyaW5nO1xuXG5cdExPR19MRVZFTD86IHN0cmluZztcblxuXHRFTkdJTkVfQVBJX0tFWT86IHN0cmluZztcblxuXHRNQVhfU09DS0VUUz86IG51bWJlcjtcbn0+O1xuXG5leHBvcnQgY29uc3QgZW52OiBFbnYgPSBjbGVhbkVudihcblx0cHJvY2Vzcy5lbnYsXG5cdHtcblx0XHROT0RFX0VOVjogc3RyKHtcblx0XHRcdGNob2ljZXM6IFsncHJvZHVjdGlvbicsICdkZXZlbG9wbWVudCcsICd0ZXN0J10sXG5cdFx0XHRkZWZhdWx0OiAnZGV2ZWxvcG1lbnQnLFxuXHRcdH0pIGFzIFZhbGlkYXRvclNwZWM8RW52WydOT0RFX0VOViddPixcblxuXHRcdFdFQl9DT05DVVJSRU5DWTogbnVtKHsgZGVmYXVsdDogMSB9KSxcblx0XHRXRUJfTUVNT1JZOiBudW0oeyBkZWZhdWx0OiAyMDQ4IH0pLFxuXG5cdFx0SFRUUFNQT1JUOiBwb3J0KHsgZGVmYXVsdDogNTUwMSB9KSxcblx0XHRIVFRQUE9SVDogcG9ydCh7IGRlZmF1bHQ6IDU1MDAgfSksXG5cdFx0R1FMUE9SVDogcG9ydCh7IGRlZmF1bHQ6IDU1NTUgfSksXG5cdFx0R1FMUE9SVF9TVUJTQ1JJUFRJT05TOiBwb3J0KHsgZGVmYXVsdDogNTA1MCB9KSxcblxuXHRcdEhUVFBTX0NFUlRfUEFUSDogc3RyKHsgZGVmYXVsdDogJ2NlcnRpZmljYXRlcy9odHRwcy9jZXJ0LnBlbScgfSksXG5cdFx0SFRUUFNfS0VZX1BBVEg6IHN0cih7IGRlZmF1bHQ6ICdjZXJ0aWZpY2F0ZXMvaHR0cHMva2V5LnBlbScgfSksXG5cblx0XHRMT0dTX1BBVEg6IHN0cih7IGRlZmF1bHQ6ICcuL3RtcC9sb2dzJyB9KSxcblxuXHRcdERCX1VSSTogc3RyKHsgZGVmYXVsdDogJ21vbmdvZGI6Ly9sb2NhbGhvc3QvZXZlcl9kZXZlbG9wbWVudCcgfSksXG5cdFx0VEVTVElOR19EQl9VUkk6IHN0cih7IGRlZmF1bHQ6ICdtb25nb2RiOi8vbG9jYWxob3N0L2V2ZXJfdGVzdGluZycgfSksXG5cblx0XHRTVFJJUEVfU0VDUkVUX0tFWTogc3RyKHsgZGVmYXVsdDogJycgfSksXG5cblx0XHRVUkJBTl9BSVJTSElQX0tFWTogc3RyKHsgZGVmYXVsdDogJycgfSksXG5cdFx0VVJCQU5fQUlSU0hJUF9TRUNSRVQ6IHN0cih7IGRlZmF1bHQ6ICcnIH0pLFxuXG5cdFx0QVdTX0FDQ0VTU19LRVlfSUQ6IHN0cih7IGRlZmF1bHQ6ICcnIH0pLFxuXHRcdEFXU19TRUNSRVRfQUNDRVNTX0tFWTogc3RyKHsgZGVmYXVsdDogJycgfSksXG5cblx0XHRLRVlNRVRSSUNTX01BQ0hJTkVfTkFNRTogc3RyKHsgZGVmYXVsdDogJycgfSksXG5cdFx0S0VZTUVUUklDU19TRUNSRVRfS0VZOiBzdHIoeyBkZWZhdWx0OiAnJyB9KSxcblx0XHRLRVlNRVRSSUNTX1BVQkxJQ19LRVk6IHN0cih7IGRlZmF1bHQ6ICcnIH0pLFxuXG5cdFx0R09PR0xFX0FQUF9JRDogc3RyKHsgZGVmYXVsdDogJycgfSksXG5cdFx0R09PR0xFX0FQUF9TRUNSRVQ6IHN0cih7IGRlZmF1bHQ6ICcnIH0pLFxuXG5cdFx0RkFDRUJPT0tfQVBQX0lEOiBzdHIoeyBkZWZhdWx0OiAnJyB9KSxcblx0XHRGQUNFQk9PS19BUFBfU0VDUkVUOiBzdHIoeyBkZWZhdWx0OiAnJyB9KSxcblxuXHRcdEpXVF9TRUNSRVQ6IHN0cih7IGRlZmF1bHQ6ICdkZWZhdWx0JyB9KSxcblxuXHRcdEFETUlOX1BBU1NXT1JEX0JDUllQVF9TQUxUX1JPVU5EUzogbnVtKHtcblx0XHRcdGRlc2M6ICdVc2VkIGZvciBwYXNzd29yZHMgZW5jcnlwdGlvbiwgcmVjb21tZW5kZWQgdmFsdWU6IDEyJyxcblx0XHRcdGRvY3M6XG5cdFx0XHRcdCdodHRwczovL3NlY3VyaXR5LnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy8xNzIwNy9yZWNvbW1lbmRlZC1vZi1yb3VuZHMtZm9yLWJjcnlwdCcsXG5cdFx0XHRkZWZhdWx0OiAxMixcblx0XHR9KSxcblxuXHRcdFdBUkVIT1VTRV9QQVNTV09SRF9CQ1JZUFRfU0FMVF9ST1VORFM6IG51bSh7XG5cdFx0XHRkZXNjOiAnVXNlZCBmb3IgcGFzc3dvcmRzIGVuY3J5cHRpb24sIHJlY29tbWVuZGVkIHZhbHVlOiAxMicsXG5cdFx0XHRkb2NzOlxuXHRcdFx0XHQnaHR0cHM6Ly9zZWN1cml0eS5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvMTcyMDcvcmVjb21tZW5kZWQtb2Ytcm91bmRzLWZvci1iY3J5cHQnLFxuXHRcdFx0ZGVmYXVsdDogMTIsXG5cdFx0fSksXG5cblx0XHRDQVJSSUVSX1BBU1NXT1JEX0JDUllQVF9TQUxUX1JPVU5EUzogbnVtKHtcblx0XHRcdGRlc2M6ICdVc2VkIGZvciBwYXNzd29yZHMgZW5jcnlwdGlvbiwgcmVjb21tZW5kZWQgdmFsdWU6IDEyJyxcblx0XHRcdGRvY3M6XG5cdFx0XHRcdCdodHRwczovL3NlY3VyaXR5LnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy8xNzIwNy9yZWNvbW1lbmRlZC1vZi1yb3VuZHMtZm9yLWJjcnlwdCcsXG5cdFx0XHRkZWZhdWx0OiAxMixcblx0XHR9KSxcblxuXHRcdFVTRVJfUEFTU1dPUkRfQkNSWVBUX1NBTFRfUk9VTkRTOiBudW0oe1xuXHRcdFx0ZGVzYzogJ1VzZWQgZm9yIHBhc3N3b3JkcyBlbmNyeXB0aW9uLCByZWNvbW1lbmRlZCB2YWx1ZTogMTAnLFxuXHRcdFx0ZG9jczpcblx0XHRcdFx0J2h0dHBzOi8vc2VjdXJpdHkuc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzE3MjA3L3JlY29tbWVuZGVkLW9mLXJvdW5kcy1mb3ItYmNyeXB0Jyxcblx0XHRcdGRlZmF1bHQ6IDEwLFxuXHRcdH0pLFxuXG5cdFx0U0VUVElOR19JTlZJVEVTX0VOQUJMRUQ6IGJvb2woeyBkZWZhdWx0OiBmYWxzZSB9KSxcblx0XHRTRVRUSU5HU19SRUdJU1RSQVRJT05TX1JFUVVJUkVEX09OX1NUQVJUOiBib29sKHsgZGVmYXVsdDogZmFsc2UgfSksXG5cblx0XHRGQUtFX0lOVklURV9DT0RFOiBudW0oeyBkZWZhdWx0OiAwIH0pLFxuXG5cdFx0QVJDR0lTX0NMSUVOVF9JRDogc3RyKHsgZGVmYXVsdDogJycgfSksXG5cdFx0QVJDR0lTX0NMSUVOVF9TRUNSRVQ6IHN0cih7IGRlZmF1bHQ6ICcnIH0pLFxuXHRcdElQX1NUQUNLX0FQSV9LRVk6IHN0cih7IGRlZmF1bHQ6ICcnIH0pLFxuXHRcdExPR19MRVZFTDogc3RyKHtcblx0XHRcdGNob2ljZXM6IFsndHJhY2UnLCAnZGVidWcnLCAnaW5mbycsICd3YXJuJywgJ2Vycm9yJywgJ2ZhdGFsJ10sXG5cdFx0XHRkZWZhdWx0OiAnZXJyb3InLFxuXHRcdH0pLFxuXHRcdEVOR0lORV9BUElfS0VZOiBzdHIoe1xuXHRcdFx0ZGVzYzpcblx0XHRcdFx0J0Fwb2xsbyBFbmdpbmUgS2V5IChvcHRpb25hbCwgc2VlIGh0dHBzOi8vd3d3LmFwb2xsb2dyYXBocWwuY29tL2RvY3MvcGxhdGZvcm0vc2NoZW1hLXJlZ2lzdHJ5KScsXG5cdFx0XHRkZWZhdWx0OiAnJyxcblx0XHR9KSxcblx0XHRNQVhfU09DS0VUUzogbnVtKHsgZGVmYXVsdDogSW5maW5pdHkgfSksXG5cdH0sXG5cdHsgc3RyaWN0OiB0cnVlLCBkb3RFbnZQYXRoOiBfX2Rpcm5hbWUgKyAnLy4uLy5lbnYnIH1cbik7XG4iLCJpbXBvcnQgeyBNdXRhdGlvbiwgUXVlcnksIFJlc29sdmVyIH0gZnJvbSAnQG5lc3Rqcy9ncmFwaHFsJztcbmltcG9ydCB7IGZpcnN0IH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgQWRtaW5zU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2FkbWlucyc7XG5pbXBvcnQge1xuXHRJQWRtaW5SZWdpc3RyYXRpb25JbnB1dCxcblx0SUFkbWluTG9naW5SZXNwb25zZSxcbn0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lBZG1pblJvdXRlcic7XG5pbXBvcnQgeyBFeHRyYWN0Snd0IH0gZnJvbSAncGFzc3BvcnQtand0JztcbmltcG9ydCBBZG1pbiBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0FkbWluJztcblxuQFJlc29sdmVyKCdBZG1pbicpXG5leHBvcnQgY2xhc3MgQWRtaW5SZXNvbHZlciB7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgX2FkbWluc1NlcnZpY2U6IEFkbWluc1NlcnZpY2UpIHt9XG5cblx0QFF1ZXJ5KCdhZG1pbicpXG5cdGFzeW5jIGdldEFkbWluKF8sIHsgaWQgfTogeyBpZDogc3RyaW5nIH0pOiBQcm9taXNlPEFkbWluPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2FkbWluc1NlcnZpY2UuZ2V0KGlkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXHR9XG5cblx0QFF1ZXJ5KCdhZG1pbkJ5RW1haWwnKVxuXHRhc3luYyBnZXRCeUVtYWlsKF8sIHsgZW1haWwgfTogeyBlbWFpbDogc3RyaW5nIH0pOiBQcm9taXNlPEFkbWluPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2FkbWluc1NlcnZpY2UuZ2V0QnlFbWFpbChlbWFpbCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyByZWdpc3RlckFkbWluKFxuXHRcdF8sXG5cdFx0eyByZWdpc3RlcklucHV0IH06IHsgcmVnaXN0ZXJJbnB1dDogSUFkbWluUmVnaXN0cmF0aW9uSW5wdXQgfVxuXHQpOiBQcm9taXNlPEFkbWluPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2FkbWluc1NlcnZpY2UucmVnaXN0ZXIocmVnaXN0ZXJJbnB1dCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVBZG1pbihcblx0XHRfLFxuXHRcdHsgaWQsIHVwZGF0ZUlucHV0IH06IHsgaWQ6IHN0cmluZzsgdXBkYXRlSW5wdXQgfVxuXHQpOiBQcm9taXNlPEFkbWluPiB7XG5cdFx0YXdhaXQgdGhpcy5fYWRtaW5zU2VydmljZS50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRyZXR1cm4gdGhpcy5fYWRtaW5zU2VydmljZS51cGRhdGUoaWQsIHVwZGF0ZUlucHV0KTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIGFkbWluTG9naW4oXG5cdFx0Xyxcblx0XHR7IGVtYWlsLCBwYXNzd29yZCB9OiB7IGVtYWlsOiBzdHJpbmc7IHBhc3N3b3JkOiBzdHJpbmcgfVxuXHQpOiBQcm9taXNlPElBZG1pbkxvZ2luUmVzcG9uc2U+IHtcblx0XHRyZXR1cm4gdGhpcy5fYWRtaW5zU2VydmljZS5sb2dpbihlbWFpbCwgcGFzc3dvcmQpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgYWRtaW5BdXRoZW50aWNhdGVkKF8sIF9fLCBjb250ZXh0OiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRyZXR1cm4gdGhpcy5fYWRtaW5zU2VydmljZS5pc0F1dGhlbnRpY2F0ZWQoXG5cdFx0XHRFeHRyYWN0Snd0LmZyb21BdXRoSGVhZGVyQXNCZWFyZXJUb2tlbigpKGNvbnRleHQucmVxKVxuXHRcdCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVBZG1pblBhc3N3b3JkKFxuXHRcdF8sXG5cdFx0e1xuXHRcdFx0aWQsXG5cdFx0XHRwYXNzd29yZCxcblx0XHR9OiB7IGlkOiBBZG1pblsnaWQnXTsgcGFzc3dvcmQ6IHsgY3VycmVudDogc3RyaW5nOyBuZXc6IHN0cmluZyB9IH1cblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2FkbWluc1NlcnZpY2UudXBkYXRlUGFzc3dvcmQoaWQsIHBhc3N3b3JkKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgQWRtaW5SZXNvbHZlciB9IGZyb20gJy4vYWRtaW4ucmVzb2x2ZXInO1xuXG5ATW9kdWxlKHtcblx0cHJvdmlkZXJzOiBbQWRtaW5SZXNvbHZlcl0sXG59KVxuZXhwb3J0IGNsYXNzIEFkbWluc01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgQ2FycmllcnNPcmRlcnNSZXNvbHZlciB9IGZyb20gJy4vY2FycmllcnMtb3JkZXJzLnJlc29sdmVyJztcblxuQE1vZHVsZSh7XG5cdHByb3ZpZGVyczogW0NhcnJpZXJzT3JkZXJzUmVzb2x2ZXJdLFxufSlcbmV4cG9ydCBjbGFzcyBDYXJyaWVyc09yZGVyc01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgUXVlcnksIFJlc29sdmVyIH0gZnJvbSAnQG5lc3Rqcy9ncmFwaHFsJztcbmltcG9ydCB7IENhcnJpZXJzT3JkZXJzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2NhcnJpZXJzJztcbmltcG9ydCB7IElDYXJyaWVyT3JkZXJzUm91dGVyR2V0T3B0aW9ucyB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JQ2Fycmllck9yZGVyc1JvdXRlcic7XG5pbXBvcnQgT3JkZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9PcmRlcic7XG5pbXBvcnQgSU9yZGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JT3JkZXInO1xuaW1wb3J0IHsgR2VvTG9jYXRpb25PcmRlcnNPcHRpb25zIH0gZnJvbSAnc2VydmljZXMvZ2VvLWxvY2F0aW9ucyc7XG5cbkBSZXNvbHZlcignQ2FycmllcnNPcmRlcnMnKVxuZXhwb3J0IGNsYXNzIENhcnJpZXJzT3JkZXJzUmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9jYXJyaWVyc09yZGVyc1NlcnZpY2U6IENhcnJpZXJzT3JkZXJzU2VydmljZVxuXHQpIHt9XG5cblx0QFF1ZXJ5KCdnZXRDYXJyaWVyT3JkZXJzJylcblx0YXN5bmMgZ2V0Q2Fycmllck9yZGVycyhcblx0XHRfLFxuXHRcdHtcblx0XHRcdGNhcnJpZXJJZCxcblx0XHRcdG9wdGlvbnMsXG5cdFx0fTogeyBjYXJyaWVySWQ6IHN0cmluZzsgb3B0aW9uczogSUNhcnJpZXJPcmRlcnNSb3V0ZXJHZXRPcHRpb25zIH1cblx0KTogUHJvbWlzZTxJT3JkZXJbXT4ge1xuXHRcdHJldHVybiB0aGlzLl9jYXJyaWVyc09yZGVyc1NlcnZpY2UuZ2V0Q2Fycmllck9yZGVycyhjYXJyaWVySWQsIG9wdGlvbnMpO1xuXHR9XG5cblx0QFF1ZXJ5KCdnZXRDYXJyaWVyQ3VycmVudE9yZGVyJylcblx0YXN5bmMgZ2V0Q2FycmllckN1cnJlbnRPcmRlcihcblx0XHRfLFxuXHRcdHsgY2FycmllcklkIH06IHsgY2FycmllcklkOiBzdHJpbmcgfVxuXHQpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0Y29uc3QgZGJPcmRlciA9IGF3YWl0IHRoaXMuX2NhcnJpZXJzT3JkZXJzU2VydmljZS5nZXRDYXJyaWVyQ3VycmVudE9yZGVyKFxuXHRcdFx0Y2FycmllcklkXG5cdFx0KTtcblx0XHRyZXR1cm4gZGJPcmRlciAhPT0gbnVsbCA/IG5ldyBPcmRlcihkYk9yZGVyKSA6IG51bGw7XG5cdH1cblxuXHRAUXVlcnkoJ2dldENhcnJpZXJPcmRlcnNIaXN0b3J5Jylcblx0YXN5bmMgZ2V0Q2Fycmllck9yZGVyc0hpc3RvcnkoXG5cdFx0Xyxcblx0XHR7XG5cdFx0XHRjYXJyaWVySWQsXG5cdFx0XHRvcHRpb25zLFxuXHRcdH06IHsgY2FycmllcklkOiBzdHJpbmc7IG9wdGlvbnM6IEdlb0xvY2F0aW9uT3JkZXJzT3B0aW9ucyB9XG5cdCk6IFByb21pc2U8T3JkZXJbXT4ge1xuXHRcdHJldHVybiB0aGlzLl9jYXJyaWVyc09yZGVyc1NlcnZpY2UuZ2V0Q2Fycmllck9yZGVyc0hpc3RvcnkoXG5cdFx0XHRjYXJyaWVySWQsXG5cdFx0XHRvcHRpb25zXG5cdFx0KTtcblx0fVxuXG5cdEBRdWVyeSgnZ2V0Q291bnRPZkNhcnJpZXJPcmRlcnNIaXN0b3J5Jylcblx0YXN5bmMgZ2V0Q291bnRPZkNhcnJpZXJPcmRlcnNIaXN0b3J5KFxuXHRcdF8sXG5cdFx0eyBjYXJyaWVySWQgfTogeyBjYXJyaWVySWQ6IHN0cmluZyB9XG5cdCk6IFByb21pc2U8bnVtYmVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhcnJpZXJzT3JkZXJzU2VydmljZS5nZXRDb3VudE9mQ2Fycmllck9yZGVyc0hpc3RvcnkoXG5cdFx0XHRjYXJyaWVySWRcblx0XHQpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNdXRhdGlvbiwgUXVlcnksIFJlc29sdmVQcm9wZXJ0eSwgUmVzb2x2ZXIgfSBmcm9tICdAbmVzdGpzL2dyYXBocWwnO1xuaW1wb3J0IHsgQ2FycmllcnNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvY2FycmllcnMnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBJQ2FycmllciB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JQ2Fycmllcic7XG5pbXBvcnQgQ2FycmllciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0NhcnJpZXInO1xuaW1wb3J0IHsgZmlyc3QsIG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IERldmljZXNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZGV2aWNlcyc7XG5pbXBvcnQge1xuXHRJQ2FycmllclJlZ2lzdHJhdGlvbklucHV0LFxuXHRJQ2FycmllckxvZ2luUmVzcG9uc2UsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JQ2FycmllclJvdXRlcic7XG5pbXBvcnQgQ2FycmllclN0YXR1cyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudW1zL0NhcnJpZXJTdGF0dXMnO1xuaW1wb3J0IERldmljZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0RldmljZSc7XG5cbkBSZXNvbHZlcignQ2FycmllcicpXG5leHBvcnQgY2xhc3MgQ2FycmllclJlc29sdmVyIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfY2FycmllcnNTZXJ2aWNlOiBDYXJyaWVyc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfZGV2aWNlc1NlcnZpY2U6IERldmljZXNTZXJ2aWNlXG5cdCkge31cblxuXHRAUXVlcnkoJ2dldEFjdGl2ZUNhcnJpZXJzJylcblx0YXN5bmMgZ2V0QWN0aXZlQ2FycmllcnMoKTogUHJvbWlzZTxDYXJyaWVyW10+IHtcblx0XHRyZXR1cm4gdGhpcy5fY2FycmllcnNTZXJ2aWNlLmdldEFsbEFjdGl2ZSgpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRAUXVlcnkoJ2dldENhcnJpZXJzJylcblx0YXN5bmMgZ2V0Q2FycmllcnMoXG5cdFx0Xyxcblx0XHR7IGNhcnJpZXJzRmluZElucHV0LCBwYWdpbmdPcHRpb25zID0ge30gfVxuXHQpOiBQcm9taXNlPENhcnJpZXJbXT4ge1xuXHRcdC8vIHNldCBkZWZhdWx0IHBhZ2luZyBvcHRpb25zXG5cdFx0aWYgKCFwYWdpbmdPcHRpb25zIHx8IChwYWdpbmdPcHRpb25zICYmICFwYWdpbmdPcHRpb25zWydzb3J0J10pKSB7XG5cdFx0XHRwYWdpbmdPcHRpb25zWydzb3J0J10gPSB7IGZpZWxkOiAnX2NyZWF0ZWRBdCcsIHNvcnRCeTogJ2Rlc2MnIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgY2FycmllcnMgPSBhd2FpdCB0aGlzLl9jYXJyaWVyc1NlcnZpY2UuZ2V0Q2FycmllcnMoXG5cdFx0XHRjYXJyaWVyc0ZpbmRJbnB1dCxcblx0XHRcdHBhZ2luZ09wdGlvbnNcblx0XHQpO1xuXG5cdFx0cmV0dXJuIGNhcnJpZXJzLm1hcCgoYzogSUNhcnJpZXIpID0+IG5ldyBDYXJyaWVyKGMpKTtcblx0fVxuXG5cdEBRdWVyeSgnZ2V0Q2FycmllckJ5VXNlcm5hbWUnKVxuXHRhc3luYyBnZXRDYXJyaWVyQnlVc2VybmFtZShcblx0XHRfLFxuXHRcdHsgdXNlcm5hbWUgfTogeyB1c2VybmFtZTogc3RyaW5nIH1cblx0KTogUHJvbWlzZTxDYXJyaWVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhcnJpZXJzU2VydmljZS5maW5kT25lKHtcblx0XHRcdHVzZXJuYW1lLFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblx0fVxuXG5cdEBRdWVyeSgnZ2V0Q2FycmllcicpXG5cdGFzeW5jIGdldENhcnJpZXIoXywgeyBpZCB9OiB7IGlkOiBzdHJpbmcgfSk6IFByb21pc2U8Q2Fycmllcj4ge1xuXHRcdHJldHVybiB0aGlzLl9jYXJyaWVyc1NlcnZpY2UuZ2V0KGlkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCB0b3RhbCBhbW91bnQgb2YgQ2FycmllcnMgaW4gdGhlIHN5c3RlbSAobm90IGRlbGV0ZWQpXG5cdCAqXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPG51bWJlcj59XG5cdCAqIEBtZW1iZXJvZiBDYXJyaWVyUmVzb2x2ZXJcblx0ICovXG5cdEBRdWVyeSgnZ2V0Q291bnRPZkNhcnJpZXJzJylcblx0YXN5bmMgZ2V0Q291bnRPZkNhcnJpZXJzKF8sIHsgY2FycmllcnNGaW5kSW5wdXQgfSk6IFByb21pc2U8bnVtYmVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhcnJpZXJzU2VydmljZS5Nb2RlbC5maW5kKHtcblx0XHRcdC4uLmNhcnJpZXJzRmluZElucHV0LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KVxuXHRcdFx0LmNvdW50RG9jdW1lbnRzKClcblx0XHRcdC5leGVjKCk7XG5cdH1cblxuXHRATXV0YXRpb24oJ3VwZGF0ZUNhcnJpZXJFbWFpbCcpXG5cdGFzeW5jIHVwZGF0ZUNhcnJpZXJFbWFpbChcblx0XHRfLFxuXHRcdHsgY2FycmllcklkLCBlbWFpbCB9OiB7IGNhcnJpZXJJZDogc3RyaW5nOyBlbWFpbDogc3RyaW5nIH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhcnJpZXJzU2VydmljZS51cGRhdGVFbWFpbChjYXJyaWVySWQsIGVtYWlsKTtcblx0fVxuXG5cdEBNdXRhdGlvbigncmVnaXN0ZXJDYXJyaWVyJylcblx0YXN5bmMgcmVnaXN0ZXJDYXJyaWVyKFxuXHRcdF8sXG5cdFx0eyByZWdpc3RlcklucHV0IH06IHsgcmVnaXN0ZXJJbnB1dDogSUNhcnJpZXJSZWdpc3RyYXRpb25JbnB1dCB9XG5cdCk6IFByb21pc2U8Q2Fycmllcj4ge1xuXHRcdHJldHVybiB0aGlzLl9jYXJyaWVyc1NlcnZpY2UucmVnaXN0ZXIocmVnaXN0ZXJJbnB1dCk7XG5cdH1cblxuXHRATXV0YXRpb24oJ3VwZGF0ZUNhcnJpZXJTdGF0dXMnKVxuXHRhc3luYyB1cGRhdGVDYXJyaWVyU3RhdHVzKFxuXHRcdF8sXG5cdFx0eyBpZCwgc3RhdHVzIH06IHsgaWQ6IHN0cmluZzsgc3RhdHVzOiBzdHJpbmcgfVxuXHQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0aGlzLl9jYXJyaWVyc1NlcnZpY2UudXBkYXRlU3RhdHVzKGlkLCBDYXJyaWVyU3RhdHVzW3N0YXR1c10pO1xuXHR9XG5cblx0QE11dGF0aW9uKCd1cGRhdGVDYXJyaWVyJylcblx0YXN5bmMgdXBkYXRlQ2Fycmllcihcblx0XHRfLFxuXHRcdHsgaWQsIHVwZGF0ZUlucHV0IH06IHsgaWQ6IHN0cmluZzsgdXBkYXRlSW5wdXQgfVxuXHQpOiBQcm9taXNlPENhcnJpZXI+IHtcblx0XHRhd2FpdCB0aGlzLl9jYXJyaWVyc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHRoaXMuX2NhcnJpZXJzU2VydmljZS51cGRhdGUoaWQsIHVwZGF0ZUlucHV0KTtcblx0fVxuXG5cdEBNdXRhdGlvbigncmVtb3ZlQ2FycmllcicpXG5cdGFzeW5jIHJlbW92ZUNhcnJpZXIoXywgeyBpZCB9OiB7IGlkOiBzdHJpbmcgfSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGF3YWl0IHRoaXMuX2NhcnJpZXJzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRyZXR1cm4gdGhpcy5fY2FycmllcnNTZXJ2aWNlLnJlbW92ZShpZCk7XG5cdH1cblxuXHRATXV0YXRpb24oJ3JlbW92ZUNhcnJpZXJzQnlJZHMnKVxuXHRhc3luYyByZW1vdmVDYXJyaWVyc0J5SWRzKF8sIHsgaWRzIH06IHsgaWRzOiBzdHJpbmdbXSB9KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgY2FycmllcnMgPSBhd2FpdCB0aGlzLl9jYXJyaWVyc1NlcnZpY2UuZmluZCh7XG5cdFx0XHRfaWQ6IHsgJGluOiBpZHMgfSxcblx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0fSk7XG5cblx0XHRjb25zdCBjYXJyaWVyc0lkcyA9IGNhcnJpZXJzLm1hcCgoZCkgPT4gZC5pZCk7XG5cblx0XHRyZXR1cm4gdGhpcy5fY2FycmllcnNTZXJ2aWNlLnJlbW92ZU11bHRpcGxlQnlJZHMoY2FycmllcnNJZHMpO1xuXHR9XG5cblx0QFJlc29sdmVQcm9wZXJ0eSgnZGV2aWNlcycpXG5cdGFzeW5jIGdldERldmljZXMoX2NhcnJpZXI6IElDYXJyaWVyKTogUHJvbWlzZTxEZXZpY2VbXT4ge1xuXHRcdGNvbnN0IGNhcnJpZXIgPSBuZXcgQ2FycmllcihfY2Fycmllcik7XG5cblx0XHRyZXR1cm4gdGhpcy5fZGV2aWNlc1NlcnZpY2Vcblx0XHRcdC5nZXRNdWx0aXBsZShjYXJyaWVyLmRldmljZXNJZHMpXG5cdFx0XHQucGlwZShcblx0XHRcdFx0bWFwKChkZXZpY2VzKSA9PiBkZXZpY2VzLmZpbHRlcigoZCkgPT4gIWQuaXNEZWxldGVkKSksXG5cdFx0XHRcdGZpcnN0KClcblx0XHRcdClcblx0XHRcdC50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBNdXRhdGlvbignY2FycmllckxvZ2luJylcblx0YXN5bmMgY2FycmllckxvZ2luKFxuXHRcdF8sXG5cdFx0eyB1c2VybmFtZSwgcGFzc3dvcmQgfTogeyB1c2VybmFtZTogc3RyaW5nOyBwYXNzd29yZDogc3RyaW5nIH1cblx0KTogUHJvbWlzZTxJQ2FycmllckxvZ2luUmVzcG9uc2U+IHtcblx0XHRyZXR1cm4gdGhpcy5fY2FycmllcnNTZXJ2aWNlLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZCk7XG5cdH1cblxuXHRATXV0YXRpb24oJ3VwZGF0ZUNhcnJpZXJQYXNzd29yZCcpXG5cdGFzeW5jIHVwZGF0ZUNhcnJpZXJQYXNzd29yZChcblx0XHRfLFxuXHRcdHtcblx0XHRcdGlkLFxuXHRcdFx0cGFzc3dvcmQsXG5cdFx0fTogeyBpZDogQ2FycmllclsnaWQnXTsgcGFzc3dvcmQ6IHsgY3VycmVudDogc3RyaW5nOyBuZXc6IHN0cmluZyB9IH1cblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhcnJpZXJzU2VydmljZS51cGRhdGVQYXNzd29yZChpZCwgcGFzc3dvcmQpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBDYXJyaWVyUmVzb2x2ZXIgfSBmcm9tICcuL2NhcnJpZXIucmVzb2x2ZXInO1xuXG5ATW9kdWxlKHtcblx0cHJvdmlkZXJzOiBbQ2FycmllclJlc29sdmVyXSxcbn0pXG5leHBvcnQgY2xhc3MgQ2FycmllcnNNb2R1bGUge31cbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IEN1cnJlbmN5UmVzb2x2ZXIgfSBmcm9tICcuL2N1cnJlbmN5LnJlc29sdmVyJztcblxuQE1vZHVsZSh7XG5cdHByb3ZpZGVyczogW0N1cnJlbmN5UmVzb2x2ZXJdLFxufSlcbmV4cG9ydCBjbGFzcyBDdXJyZW5jeU1vZHVsZSB7fVxuIiwiaW1wb3J0IHsgUmVzb2x2ZXIsIFF1ZXJ5LCBNdXRhdGlvbiB9IGZyb20gJ0BuZXN0anMvZ3JhcGhxbCc7XG5pbXBvcnQgeyBJQ3VycmVuY3lDcmVhdGVPYmplY3QgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSUN1cnJlbmN5JztcbmltcG9ydCB7IEN1cnJlbmNpZXNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvY3VycmVuY3kvQ3VycmVuY3lTZXJ2aWNlJztcblxuQFJlc29sdmVyKCdDdXJyZW5jeScpXG5leHBvcnQgY2xhc3MgQ3VycmVuY3lSZXNvbHZlciB7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgX2N1cnJlbmNpZXNTZXJ2aWNlOiBDdXJyZW5jaWVzU2VydmljZSkge31cblxuXHRAUXVlcnkoJ2N1cnJlbmNpZXMnKVxuXHRhc3luYyBnZXRDdXJyZW5jaWVzKF8pIHtcblx0XHRyZXR1cm4gdGhpcy5fY3VycmVuY2llc1NlcnZpY2UuZ2V0QWxsQ3VycmVuY2llcygpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgY3JlYXRlQ3VycmVuY3koXG5cdFx0Xyxcblx0XHR7IGNyZWF0ZUlucHV0IH06IHsgY3JlYXRlSW5wdXQ6IElDdXJyZW5jeUNyZWF0ZU9iamVjdCB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl9jdXJyZW5jaWVzU2VydmljZS5jcmVhdGVDdXJyZW5jeShjcmVhdGVJbnB1dCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IERhdGFSZXNvbHZlciB9IGZyb20gJy4vZGF0YS5yZXNvbHZlcic7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtEYXRhUmVzb2x2ZXJdLFxufSlcbmV4cG9ydCBjbGFzcyBEYXRhTW9kdWxlIHt9XG4iLCJpbXBvcnQgeyBRdWVyeSwgUmVzb2x2ZXIgfSBmcm9tICdAbmVzdGpzL2dyYXBocWwnO1xuaW1wb3J0IHsgSW52aXRlc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9pbnZpdGVzL0ludml0ZXNTZXJ2aWNlJztcbmltcG9ydCB7IEFkbWluc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9hZG1pbnMnO1xuaW1wb3J0IHsgQ2FycmllcnNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvY2FycmllcnMnO1xuaW1wb3J0IHsgSW52aXRlc1JlcXVlc3RzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2ludml0ZXMnO1xuaW1wb3J0IHsgT3JkZXJzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL29yZGVycyc7XG5pbXBvcnQgeyBVc2Vyc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91c2Vycyc7XG5pbXBvcnQgeyBXYXJlaG91c2VzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3dhcmVob3VzZXMnO1xuaW1wb3J0IHsgRGV2aWNlc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9kZXZpY2VzJztcbmltcG9ydCB7XG5cdFByb2R1Y3RzU2VydmljZSxcblx0UHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZSxcbn0gZnJvbSAnLi4vLi4vc2VydmljZXMvcHJvZHVjdHMnO1xuXG5AUmVzb2x2ZXIoJ0RhdGEnKVxuZXhwb3J0IGNsYXNzIERhdGFSZXNvbHZlciB7XG5cdC8vXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2FkbWluc1NlcnZpY2U6IEFkbWluc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfY2FycmllcnNTZXJ2aWNlOiBDYXJyaWVyc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfaW52aXRlUmVxdWVzdHNTZXJ2aWNlOiBJbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2ludml0ZXNTZXJ2aWNlOiBJbnZpdGVzU2VydmljZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9vcmRlcnNTZXJ2aWNlOiBPcmRlcnNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3VzZXJzU2VydmljZTogVXNlcnNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3N0b3Jlc1NlcnZpY2U6IFdhcmVob3VzZXNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2RldmljZXNTZXJ2aWNlOiBEZXZpY2VzU2VydmljZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9wcm9kdWN0c1NlcnZpY2U6IFByb2R1Y3RzU2VydmljZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9wcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlOiBQcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlXG5cdCkge31cblxuXHRAUXVlcnkoJ2NsZWFyQWxsJylcblx0YXN5bmMgY2xlYXJBbGwoKSB7XG5cdFx0W1xuXHRcdFx0dGhpcy5fYWRtaW5zU2VydmljZSxcblx0XHRcdHRoaXMuX2NhcnJpZXJzU2VydmljZSxcblx0XHRcdHRoaXMuX2RldmljZXNTZXJ2aWNlLFxuXHRcdFx0dGhpcy5faW52aXRlc1NlcnZpY2UsXG5cdFx0XHR0aGlzLl9pbnZpdGVSZXF1ZXN0c1NlcnZpY2UsXG5cdFx0XHR0aGlzLl9vcmRlcnNTZXJ2aWNlLFxuXHRcdFx0dGhpcy5fcHJvZHVjdHNTZXJ2aWNlLFxuXHRcdFx0dGhpcy5fcHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZSxcblx0XHRcdHRoaXMuX3VzZXJzU2VydmljZSxcblx0XHRcdHRoaXMuX3N0b3Jlc1NlcnZpY2UsXG5cdFx0XS5mb3JFYWNoKChzZXJ2aWNlKSA9PiB7XG5cdFx0XHRzZXJ2aWNlLk1vZGVsLnVwZGF0ZU1hbnkoe30sIHsgaXNEZWxldGVkOiB0cnVlIH0sIChlcnIsIHJhdykgPT4ge1xuXHRcdFx0XHRpZiAoZXJyICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0Y29uc3QgY29sbGVjdGlvbk5hbWUgPSBzZXJ2aWNlLmNvbnN0cnVjdG9yLm5hbWUucmVwbGFjZShcblx0XHRcdFx0XHRcdCdTZXJ2aWNlJyxcblx0XHRcdFx0XHRcdCcnXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRgQ2Fubm90IHVwZGF0ZSAnJHtjb2xsZWN0aW9uTmFtZX0nIGNvbGxlY3Rpb25gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTXV0YXRpb24sIFF1ZXJ5LCBSZXNvbHZlciwgU3Vic2NyaXB0aW9uIH0gZnJvbSAnQG5lc3Rqcy9ncmFwaHFsJztcbmltcG9ydCB7IFVzZUd1YXJkcyB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IEF1dGhHdWFyZCB9IGZyb20gJ0BuZXN0anMvcGFzc3BvcnQnO1xuaW1wb3J0IHsgUHViU3ViIH0gZnJvbSAnZ3JhcGhxbC1zdWJzY3JpcHRpb25zJztcbmltcG9ydCB7IERldmljZXNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZGV2aWNlcyc7XG5pbXBvcnQgeyBJRGV2aWNlQ3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lEZXZpY2UnO1xuaW1wb3J0IHsgZmlyc3QgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgSUxhbmd1YWdlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JTGFuZ3VhZ2UnO1xuXG5jb25zdCBwdWJTdWIgPSBuZXcgUHViU3ViKCk7XG5cbkBSZXNvbHZlcignRGV2aWNlJylcbmV4cG9ydCBjbGFzcyBEZXZpY2VSZXNvbHZlciB7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgX2RldmljZXNTZXJ2aWNlOiBEZXZpY2VzU2VydmljZSkge31cblxuXHRAUXVlcnkoJ2RldmljZScpXG5cdGFzeW5jIGdldERldmljZShfLCB7IGlkIH06IHsgaWQ6IHN0cmluZyB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX2RldmljZXNTZXJ2aWNlLmdldChpZCkucGlwZShmaXJzdCgpKS50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBRdWVyeSgnZGV2aWNlcycpXG5cdC8vIEBVc2VHdWFyZHMoQXV0aEd1YXJkKCdqd3QnKSlcblx0YXN5bmMgZ2V0RGV2aWNlcyhfLCB7IGZpbmRJbnB1dCB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX2RldmljZXNTZXJ2aWNlLmZpbmQoe1xuXHRcdFx0Li4uZmluZElucHV0LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHVwZGF0ZURldmljZUxhbmd1YWdlKFxuXHRcdF8sXG5cdFx0e1xuXHRcdFx0ZGV2aWNlSWQsXG5cdFx0XHRsYW5ndWFnZSxcblx0XHR9OiB7XG5cdFx0XHRkZXZpY2VJZDogc3RyaW5nO1xuXHRcdFx0bGFuZ3VhZ2U6IElMYW5ndWFnZTtcblx0XHR9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl9kZXZpY2VzU2VydmljZS51cGRhdGVMYW5ndWFnZShkZXZpY2VJZCwgbGFuZ3VhZ2UpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0QFVzZUd1YXJkcyhBdXRoR3VhcmQoJ2p3dCcpKVxuXHRhc3luYyBjcmVhdGVEZXZpY2UoXG5cdFx0Xyxcblx0XHR7IGNyZWF0ZUluZm8gfTogeyBpZDogc3RyaW5nOyBjcmVhdGVJbmZvOiBJRGV2aWNlQ3JlYXRlT2JqZWN0IH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuX2RldmljZXNTZXJ2aWNlLmNyZWF0ZShjcmVhdGVJbmZvKTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdC8vIEBVc2VHdWFyZHMoQXV0aEd1YXJkKCdqd3QnKSlcblx0YXN5bmMgdXBkYXRlRGV2aWNlKF8sIHsgaWQsIHVwZGF0ZUlucHV0IH06IHsgaWQ6IHN0cmluZzsgdXBkYXRlSW5wdXQgfSkge1xuXHRcdGF3YWl0IHRoaXMuX2RldmljZXNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGRldmljZSA9IGF3YWl0IHRoaXMuX2RldmljZXNTZXJ2aWNlLnVwZGF0ZShpZCwgdXBkYXRlSW5wdXQpO1xuXHRcdFx0cHViU3ViLnB1Ymxpc2goJ2RldmljZUNyZWF0ZWQnLCB7IGRldmljZUNyZWF0ZWQ6IGRldmljZSB9KTtcblx0XHRcdHJldHVybiBkZXZpY2U7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHJlbW92ZURldmljZShfLCB7IGlkIH06IHsgaWQ6IHN0cmluZyB9KSB7XG5cdFx0YXdhaXQgdGhpcy5fZGV2aWNlc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHRoaXMuX2RldmljZXNTZXJ2aWNlLnJlbW92ZShpZCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyByZW1vdmVEZXZpY2VCeUlkcyhfLCB7IGlkcyB9OiB7IGlkczogc3RyaW5nW10gfSkge1xuXHRcdGNvbnN0IGRldmljZXMgPSBhd2FpdCB0aGlzLl9kZXZpY2VzU2VydmljZS5maW5kKHtcblx0XHRcdF9pZDogeyAkaW46IGlkcyB9LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IGRldmljZXNJZHMgPSBkZXZpY2VzLm1hcCgoZCkgPT4gZC5pZCk7XG5cblx0XHRyZXR1cm4gdGhpcy5fZGV2aWNlc1NlcnZpY2UucmVtb3ZlTXVsdGlwbGVCeUlkcyhkZXZpY2VzSWRzKTtcblx0fVxuXG5cdEBTdWJzY3JpcHRpb24oKSAvLyBUT0RPIHJlbmFtZSB0byBkZXZpY2VVcGRhdGVkXG5cdGRldmljZUNyZWF0ZWQoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1YnNjcmliZTogKCkgPT4gcHViU3ViLmFzeW5jSXRlcmF0b3IoJ2RldmljZUNyZWF0ZWQnKSxcblx0XHR9O1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBEZXZpY2VSZXNvbHZlciB9IGZyb20gJy4vZGV2aWNlLnJlc29sdmVyJztcblxuQE1vZHVsZSh7XG5cdHByb3ZpZGVyczogW0RldmljZVJlc29sdmVyXSxcbn0pXG5leHBvcnQgY2xhc3MgRGV2aWNlc01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgUXVlcnksIFJlc29sdmVyIH0gZnJvbSAnQG5lc3Rqcy9ncmFwaHFsJztcbmltcG9ydCB7IEdlb0xvY2F0aW9uc1Byb2R1Y3RzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2dlby1sb2NhdGlvbnMnO1xuaW1wb3J0IEdlb0xvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvR2VvTG9jYXRpb24nO1xuaW1wb3J0IHsgZmlyc3QgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgSUdlb0xvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JR2VvTG9jYXRpb24nO1xuXG5leHBvcnQgaW50ZXJmYWNlIElHZXRHZW9Mb2NhdGlvblByb2R1Y3RzT3B0aW9ucyB7XG5cdGlzRGVsaXZlcnlSZXF1aXJlZD86IGJvb2xlYW47XG5cdGlzVGFrZWF3YXk/OiBib29sZWFuO1xuXHRtZXJjaGFudElkcz86IHN0cmluZ1tdO1xuXHRpbWFnZU9yaWVudGF0aW9uPzogbnVtYmVyO1xuXHRsb2NhbGU/OiBzdHJpbmc7XG5cdHdpdGhvdXRDb3VudD86IGJvb2xlYW47XG59XG5cbkBSZXNvbHZlcignR2VvTG9jYXRpb24nKVxuZXhwb3J0IGNsYXNzIEdlb0xvY2F0aW9uUmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IGdlb0xvY2F0aW9uc1Byb2R1Y3RzU2VydmljZTogR2VvTG9jYXRpb25zUHJvZHVjdHNTZXJ2aWNlXG5cdCkge31cblxuXHRAUXVlcnkoJ2dlb0xvY2F0aW9uUHJvZHVjdHMnKVxuXHRhc3luYyBnZXRHZW9Mb2NhdGlvblByb2R1Y3RzKFxuXHRcdF8sXG5cdFx0eyBnZW9Mb2NhdGlvbiB9OiB7IGdlb0xvY2F0aW9uOiBHZW9Mb2NhdGlvbiB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLmdlb0xvY2F0aW9uc1Byb2R1Y3RzU2VydmljZVxuXHRcdFx0LmdldChnZW9Mb2NhdGlvbilcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZW9Mb2NhdGlvblByb2R1Y3RzQnlQYWdpbmcoXG5cdFx0Xyxcblx0XHR7XG5cdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdG9wdGlvbnMsXG5cdFx0XHRwYWdpbmdPcHRpb25zID0ge30sXG5cdFx0XHRzZWFyY2hUZXh0LFxuXHRcdH06IHtcblx0XHRcdGdlb0xvY2F0aW9uO1xuXHRcdFx0b3B0aW9ucz86IElHZXRHZW9Mb2NhdGlvblByb2R1Y3RzT3B0aW9ucztcblx0XHRcdHBhZ2luZ09wdGlvbnM7XG5cdFx0XHRzZWFyY2hUZXh0Pzogc3RyaW5nO1xuXHRcdH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2VvTG9jYXRpb25zUHJvZHVjdHNTZXJ2aWNlLmdlb0xvY2F0aW9uUHJvZHVjdHNCeVBhZ2luZyhcblx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0cGFnaW5nT3B0aW9ucyxcblx0XHRcdG9wdGlvbnMsXG5cdFx0XHRzZWFyY2hUZXh0XG5cdFx0KTtcblx0fVxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRDb3VudE9mR2VvTG9jYXRpb25Qcm9kdWN0cyhcblx0XHRfLFxuXHRcdHtcblx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0b3B0aW9ucyxcblx0XHRcdHNlYXJjaFRleHQsXG5cdFx0fToge1xuXHRcdFx0Z2VvTG9jYXRpb246IElHZW9Mb2NhdGlvbjtcblx0XHRcdG9wdGlvbnM/OiBJR2V0R2VvTG9jYXRpb25Qcm9kdWN0c09wdGlvbnM7XG5cdFx0XHRzZWFyY2hUZXh0Pzogc3RyaW5nO1xuXHRcdH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2VvTG9jYXRpb25zUHJvZHVjdHNTZXJ2aWNlLmdldENvdW50T2ZHZW9Mb2NhdGlvblByb2R1Y3RzKFxuXHRcdFx0Z2VvTG9jYXRpb24sXG5cdFx0XHRvcHRpb25zLFxuXHRcdFx0c2VhcmNoVGV4dFxuXHRcdCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IEdlb0xvY2F0aW9uUmVzb2x2ZXIgfSBmcm9tICcuL2dlby1sb2NhdGlvbi5yZXNvbHZlcic7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtHZW9Mb2NhdGlvblJlc29sdmVyXSxcbn0pXG5leHBvcnQgY2xhc3MgR2VvTG9jYXRpb25zTW9kdWxlIHt9XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBHZW9Mb2NhdGlvbk1lcmNoYW50c1Jlc29sdmVyIH0gZnJvbSAnLi9nZW8tbG9jYXRpb24tbWVyY2hhbnRzLnJlc29sdmVyJztcblxuQE1vZHVsZSh7XG5cdHByb3ZpZGVyczogW0dlb0xvY2F0aW9uTWVyY2hhbnRzUmVzb2x2ZXJdLFxufSlcbmV4cG9ydCBjbGFzcyBHZW9Mb2NhdGlvbk1lcmNoYW50c01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgUmVzb2x2ZXIsIFF1ZXJ5IH0gZnJvbSAnQG5lc3Rqcy9ncmFwaHFsJztcbmltcG9ydCB7IEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvZ2VvLWxvY2F0aW9ucyc7XG5pbXBvcnQgSUdlb0xvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JR2VvTG9jYXRpb24nO1xuaW1wb3J0IFdhcmVob3VzZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1dhcmVob3VzZSc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi91dGlscyc7XG5pbXBvcnQgR2VvTG9jYXRpb24gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9HZW9Mb2NhdGlvbic7XG5cbmNvbnN0IElOX1NUT1JFX0RJU1RBTkNFID0gNTA7XG5cbkBSZXNvbHZlcignR2VvTG9jYXRpb25NZXJjaGFudHMnKVxuZXhwb3J0IGNsYXNzIEdlb0xvY2F0aW9uTWVyY2hhbnRzUmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwdWJsaWMgZ2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2U6IEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlXG5cdCkge31cblxuXHRAUXVlcnkoJ2dldENvc2VNZXJjaGFudHMnKVxuXHRhc3luYyBnZXRDb3NlTWVyY2hhbnRzKF8sIHsgZ2VvTG9jYXRpb24gfTogeyBnZW9Mb2NhdGlvbjogSUdlb0xvY2F0aW9uIH0pIHtcblx0XHRsZXQgbWVyY2hhbnRzID0gYXdhaXQgdGhpcy5nZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZS5nZXRNZXJjaGFudHMoXG5cdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdElOX1NUT1JFX0RJU1RBTkNFLFxuXHRcdFx0eyBmdWxsUHJvZHVjdHM6IGZhbHNlLCBhY3RpdmVPbmx5OiB0cnVlIH1cblx0XHQpO1xuXG5cdFx0bWVyY2hhbnRzID0gbWVyY2hhbnRzLnNvcnQoXG5cdFx0XHQobTEsIG0yKSA9PlxuXHRcdFx0XHRVdGlscy5nZXREaXN0YW5jZShcblx0XHRcdFx0XHRuZXcgR2VvTG9jYXRpb24obTEuZ2VvTG9jYXRpb24pLFxuXHRcdFx0XHRcdG5ldyBHZW9Mb2NhdGlvbihnZW9Mb2NhdGlvbilcblx0XHRcdFx0KSAtXG5cdFx0XHRcdFV0aWxzLmdldERpc3RhbmNlKFxuXHRcdFx0XHRcdG5ldyBHZW9Mb2NhdGlvbihtMi5nZW9Mb2NhdGlvbiksXG5cdFx0XHRcdFx0bmV3IEdlb0xvY2F0aW9uKGdlb0xvY2F0aW9uKVxuXHRcdFx0XHQpXG5cdFx0KTtcblxuXHRcdHJldHVybiBtZXJjaGFudHMubWFwKChtKSA9PiBuZXcgV2FyZWhvdXNlKG0pKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgR2VvTG9jYXRpb25PcmRlcnNSZXNvbHZlciB9IGZyb20gJy4vZ2VvLWxvY2F0aW9uLW9yZGVycy5yZXNvbHZlcic7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtHZW9Mb2NhdGlvbk9yZGVyc1Jlc29sdmVyXSxcbn0pXG5leHBvcnQgY2xhc3MgR2VvTG9jYXRpb25PcmRlcnNNb2R1bGUge31cbiIsImltcG9ydCB7IFJlc29sdmVyLCBRdWVyeSB9IGZyb20gJ0BuZXN0anMvZ3JhcGhxbCc7XG5pbXBvcnQgeyBHZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvZ2VvLWxvY2F0aW9ucy9HZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlJztcbmltcG9ydCB7IEdlb0xvY2F0aW9uT3JkZXJzT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uL3NlcnZpY2VzL2dlby1sb2NhdGlvbnMvR2VvTG9jYXRpb25PcmRlcnNPcHRpb25zJztcbmltcG9ydCBJR2VvTG9jYXRpb24gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lHZW9Mb2NhdGlvbic7XG5pbXBvcnQgT3JkZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9PcmRlcic7XG5cbkBSZXNvbHZlcignR2VvTG9jYXRpb25PcmRlcnMnKVxuZXhwb3J0IGNsYXNzIEdlb0xvY2F0aW9uT3JkZXJzUmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3RvcihwdWJsaWMgZ2VvTG9jYXRpb25zT3JkZXJzU2VydmljZTogR2VvTG9jYXRpb25zT3JkZXJzU2VydmljZSkge31cblxuXHRAUXVlcnkoJ2dldE9yZGVyRm9yV29yaycpXG5cdGFzeW5jIGdldE9yZGVyRm9yV29yayhcblx0XHRfLFxuXHRcdHtcblx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0c2tpcHBlZE9yZGVySWRzLFxuXHRcdFx0b3B0aW9ucyxcblx0XHRcdHNlYXJjaE9iaixcblx0XHR9OiB7XG5cdFx0XHRnZW9Mb2NhdGlvbjogSUdlb0xvY2F0aW9uO1xuXHRcdFx0c2tpcHBlZE9yZGVySWRzOiBzdHJpbmdbXTtcblx0XHRcdG9wdGlvbnM6IEdlb0xvY2F0aW9uT3JkZXJzT3B0aW9ucztcblx0XHRcdHNlYXJjaE9iaj86IHtcblx0XHRcdFx0aXNDYW5jZWxsZWQ/OiBib29sZWFuO1xuXHRcdFx0XHRieVJlZ2V4PzogQXJyYXk8eyBrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9Pjtcblx0XHRcdH07XG5cdFx0fVxuXHQpIHtcblx0XHRjb25zdCBvcmRlcnMgPSBhd2FpdCB0aGlzLmdlb0xvY2F0aW9uc09yZGVyc1NlcnZpY2UuZ2V0T3JkZXJzRm9yV29yayhcblx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0c2tpcHBlZE9yZGVySWRzLFxuXHRcdFx0b3B0aW9ucyxcblx0XHRcdHNlYXJjaE9ialxuXHRcdCk7XG5cblx0XHRyZXR1cm4gb3JkZXJzWzBdO1xuXHR9XG5cblx0QFF1ZXJ5KCdnZXRPcmRlcnNGb3JXb3JrJylcblx0YXN5bmMgZ2V0T3JkZXJzRm9yV29yayhcblx0XHRfLFxuXHRcdHtcblx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0c2tpcHBlZE9yZGVySWRzLFxuXHRcdFx0b3B0aW9ucyxcblx0XHRcdHNlYXJjaE9iaixcblx0XHR9OiB7XG5cdFx0XHRnZW9Mb2NhdGlvbjogSUdlb0xvY2F0aW9uO1xuXHRcdFx0c2tpcHBlZE9yZGVySWRzOiBzdHJpbmdbXTtcblx0XHRcdG9wdGlvbnM6IEdlb0xvY2F0aW9uT3JkZXJzT3B0aW9ucztcblx0XHRcdHNlYXJjaE9iaj86IHsgYnlSZWdleDogQXJyYXk8eyBrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9PiB9O1xuXHRcdH1cblx0KSB7XG5cdFx0Y29uc3Qgb3JkZXJzID0gYXdhaXQgdGhpcy5nZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlLmdldE9yZGVyc0ZvcldvcmsoXG5cdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdHNraXBwZWRPcmRlcklkcyxcblx0XHRcdG9wdGlvbnMsXG5cdFx0XHRzZWFyY2hPYmpcblx0XHQpO1xuXG5cdFx0cmV0dXJuIG9yZGVycy5tYXAoKG8pID0+IG5ldyBPcmRlcihvKSk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRDb3VudE9mT3JkZXJzRm9yV29yayhcblx0XHRfLFxuXHRcdHtcblx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0c2tpcHBlZE9yZGVySWRzLFxuXHRcdFx0c2VhcmNoT2JqLFxuXHRcdH06IHtcblx0XHRcdGdlb0xvY2F0aW9uOiBJR2VvTG9jYXRpb247XG5cdFx0XHRza2lwcGVkT3JkZXJJZHM6IHN0cmluZ1tdO1xuXHRcdFx0c2VhcmNoT2JqPzogeyBieVJlZ2V4OiBBcnJheTx7IGtleTogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH0+IH07XG5cdFx0fVxuXHQpIHtcblx0XHRyZXR1cm4gdGhpcy5nZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlLmdldENvdW50T2ZPcmRlcnNGb3JXb3JrKFxuXHRcdFx0Z2VvTG9jYXRpb24sXG5cdFx0XHRza2lwcGVkT3JkZXJJZHMsXG5cdFx0XHRzZWFyY2hPYmpcblx0XHQpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBJbnZpdGVSZXF1ZXN0UmVzb2x2ZXIgfSBmcm9tICcuL2ludml0ZXMtcmVxdWVzdHMucmVzb2x2ZXInO1xuXG5ATW9kdWxlKHtcblx0cHJvdmlkZXJzOiBbSW52aXRlUmVxdWVzdFJlc29sdmVyXSxcbn0pXG5leHBvcnQgY2xhc3MgSW52aXRlc1JlcXVlc3RzTW9kdWxlIHt9XG4iLCJpbXBvcnQgeyBSZXNvbHZlciwgUXVlcnksIE11dGF0aW9uIH0gZnJvbSAnQG5lc3Rqcy9ncmFwaHFsJztcbmltcG9ydCB7IEludml0ZXNSZXF1ZXN0c1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9pbnZpdGVzJztcbmltcG9ydCB7IElJbnZpdGVSZXF1ZXN0Q3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lJbnZpdGVSZXF1ZXN0JztcbmltcG9ydCB7IGZpcnN0IH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IEludml0ZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0ludml0ZSc7XG5pbXBvcnQgSW52aXRlUmVxdWVzdCBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0ludml0ZVJlcXVlc3QnO1xuXG5AUmVzb2x2ZXIoJ0ludml0ZS1yZXF1ZXN0JylcbmV4cG9ydCBjbGFzcyBJbnZpdGVSZXF1ZXN0UmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9pbnZpdGVzUmVxdWVzdHNTZXJ2aWNlOiBJbnZpdGVzUmVxdWVzdHNTZXJ2aWNlXG5cdCkge31cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZW5lcmF0ZTEwMDBJbnZpdGVSZXF1ZXN0cyhcblx0XHRfLFxuXHRcdHsgZGVmYXVsdExuZywgZGVmYXVsdExhdCB9OiB7IGRlZmF1bHRMbmc6IG51bWJlcjsgZGVmYXVsdExhdDogbnVtYmVyIH1cblx0KSB7XG5cdFx0YXdhaXQgdGhpcy5faW52aXRlc1JlcXVlc3RzU2VydmljZS5nZW5lcmF0ZTEwMDBJbnZpdGVSZXF1ZXN0cyhcblx0XHRcdGRlZmF1bHRMbmcsXG5cdFx0XHRkZWZhdWx0TGF0XG5cdFx0KTtcblx0fVxuXG5cdEBRdWVyeSgnaW52aXRlUmVxdWVzdCcpXG5cdGFzeW5jIGdldEludml0ZVJlcXVlc3QoXywgeyBpZCB9OiB7IGlkOiBzdHJpbmcgfSkge1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLmdldChpZCkucGlwZShmaXJzdCgpKS50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBRdWVyeSgnbm90aWZ5QWJvdXRMYXVuY2gnKVxuXHRhc3luYyBub3RpZnlBYm91dExhdW5jaChcblx0XHRfLFxuXHRcdHtcblx0XHRcdGludml0ZSxcblx0XHRcdGRldmljZXNJZHMsXG5cdFx0fToge1xuXHRcdFx0aW52aXRlOiBJbnZpdGU7XG5cdFx0XHRkZXZpY2VzSWRzOiBzdHJpbmdbXTtcblx0XHR9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLm5vdGlmeUFib3V0TGF1bmNoKFxuXHRcdFx0aW52aXRlLFxuXHRcdFx0ZGV2aWNlc0lkc1xuXHRcdCk7XG5cdH1cblxuXHRAUXVlcnkoJ2ludml0ZXNSZXF1ZXN0cycpXG5cdGFzeW5jIGdldEludml0ZXNSZXF1ZXN0cyhfLCB7IGZpbmRJbnB1dCwgaW52aXRlZCwgcGFnaW5nT3B0aW9ucyA9IHt9IH0pIHtcblx0XHRpZiAoIXBhZ2luZ09wdGlvbnMgfHwgKHBhZ2luZ09wdGlvbnMgJiYgIXBhZ2luZ09wdGlvbnNbJ3NvcnQnXSkpIHtcblx0XHRcdHBhZ2luZ09wdGlvbnNbJ3NvcnQnXSA9IHsgZmllbGQ6ICdfY3JlYXRlZEF0Jywgc29ydEJ5OiAnYXNjJyB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IGludml0ZXNSZXF1ZXN0cyA9IGF3YWl0IHRoaXMuX2ludml0ZXNSZXF1ZXN0c1NlcnZpY2UuZ2V0SW52aXRlc1JlcXVlc3RzKFxuXHRcdFx0ZmluZElucHV0LFxuXHRcdFx0aW52aXRlZCxcblx0XHRcdHBhZ2luZ09wdGlvbnNcblx0XHQpO1xuXG5cdFx0cmV0dXJuIGludml0ZXNSZXF1ZXN0cy5tYXAoKGkpID0+IG5ldyBJbnZpdGVSZXF1ZXN0KGkpKTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldENvdW50T2ZJbnZpdGVzUmVxdWVzdHMoXywgeyBpbnZpdGVkIH0pIHtcblx0XHRjb25zdCBmaW5kT2JqID0geyBpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9IH07XG5cblx0XHRpZiAoIWludml0ZWQpIHtcblx0XHRcdGZpbmRPYmpbJ2lzSW52aXRlZCddID0geyAkZXE6IGZhbHNlIH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuX2ludml0ZXNSZXF1ZXN0c1NlcnZpY2UuTW9kZWwuZmluZChmaW5kT2JqKVxuXHRcdFx0LmNvdW50RG9jdW1lbnRzKClcblx0XHRcdC5leGVjKCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyBjcmVhdGVJbnZpdGVSZXF1ZXN0KFxuXHRcdF8sXG5cdFx0eyBjcmVhdGVJbnB1dCB9OiB7IGNyZWF0ZUlucHV0OiBJSW52aXRlUmVxdWVzdENyZWF0ZU9iamVjdCB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLmNyZWF0ZShjcmVhdGVJbnB1dCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVJbnZpdGVSZXF1ZXN0KFxuXHRcdF8sXG5cdFx0eyBpZCwgdXBkYXRlSW5wdXQgfTogeyBpZDogc3RyaW5nOyB1cGRhdGVJbnB1dCB9XG5cdCkge1xuXHRcdGF3YWl0IHRoaXMuX2ludml0ZXNSZXF1ZXN0c1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHRoaXMuX2ludml0ZXNSZXF1ZXN0c1NlcnZpY2UudXBkYXRlKGlkLCB1cGRhdGVJbnB1dCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyByZW1vdmVJbnZpdGVSZXF1ZXN0KF8sIHsgaWQgfTogeyBpZDogc3RyaW5nIH0pIHtcblx0XHRhd2FpdCB0aGlzLl9pbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLnJlbW92ZShpZCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyByZW1vdmVJbnZpdGVzUmVxdWVzdHNCeUlkcyhfLCB7IGlkcyB9OiB7IGlkczogc3RyaW5nW10gfSkge1xuXHRcdGNvbnN0IGludml0ZVJlcXVlc3RzID0gYXdhaXQgdGhpcy5faW52aXRlc1JlcXVlc3RzU2VydmljZS5maW5kKHtcblx0XHRcdF9pZDogeyAkaW46IGlkcyB9LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IGludml0ZVJlcXVlc3RzSWRzID0gaW52aXRlUmVxdWVzdHMubWFwKChkKSA9PiBkLmlkKTtcblxuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLnJlbW92ZU11bHRpcGxlQnlJZHMoXG5cdFx0XHRpbnZpdGVSZXF1ZXN0c0lkc1xuXHRcdCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IE11dGF0aW9uLCBRdWVyeSwgUmVzb2x2ZXIgfSBmcm9tICdAbmVzdGpzL2dyYXBocWwnO1xuaW1wb3J0IHsgZmlyc3QgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgSUVudGVyQnlDb2RlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JRW50ZXJCeUNvZGUnO1xuaW1wb3J0IElFbnRlckJ5TG9jYXRpb24gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lFbnRlckJ5TG9jYXRpb24nO1xuaW1wb3J0IHsgSUludml0ZUNyZWF0ZU9iamVjdCB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JSW52aXRlJztcbmltcG9ydCB7IEludml0ZXNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvaW52aXRlcy9JbnZpdGVzU2VydmljZSc7XG5pbXBvcnQgeyBJbnZpdGVzUmVxdWVzdHNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvaW52aXRlcyc7XG5pbXBvcnQgSW52aXRlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvSW52aXRlJztcblxuQFJlc29sdmVyKCdJbnZpdGUnKVxuZXhwb3J0IGNsYXNzIEludml0ZVJlc29sdmVyIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfaW52aXRlc1NlcnZpY2U6IEludml0ZXNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2ludml0ZVJlcXVlc3RzU2VydmljZTogSW52aXRlc1JlcXVlc3RzU2VydmljZVxuXHQpIHt9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2VuZXJhdGUxMDAwSW52aXRlc0Nvbm5lY3RlZFRvSW52aXRlUmVxdWVzdHMoXG5cdFx0Xyxcblx0XHR7IGRlZmF1bHRMbmcsIGRlZmF1bHRMYXQgfTogeyBkZWZhdWx0TG5nOiBudW1iZXI7IGRlZmF1bHRMYXQ6IG51bWJlciB9XG5cdCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHtcblx0XHRcdGludml0ZXNSZXF1ZXN0c1RvQ3JlYXRlLFxuXHRcdFx0aW52aXRlc1RvQ3JlYXRlLFxuXHRcdH0gPSB0aGlzLl9pbnZpdGVzU2VydmljZS5nZW5lcmF0ZTEwMDBJbnZpdGVzQ29ubmVjdGVkVG9JbnZpdGVSZXF1ZXN0cyhcblx0XHRcdGRlZmF1bHRMbmcsXG5cdFx0XHRkZWZhdWx0TGF0XG5cdFx0KTtcblxuXHRcdGF3YWl0IHRoaXMuX2ludml0ZXNTZXJ2aWNlLk1vZGVsLmluc2VydE1hbnkoaW52aXRlc1RvQ3JlYXRlKTtcblx0XHRhd2FpdCB0aGlzLl9pbnZpdGVSZXF1ZXN0c1NlcnZpY2UuTW9kZWwuaW5zZXJ0TWFueShcblx0XHRcdGludml0ZXNSZXF1ZXN0c1RvQ3JlYXRlXG5cdFx0KTtcblx0fVxuXG5cdEBRdWVyeSgnaW52aXRlJylcblx0YXN5bmMgZ2V0SW52aXRlKF8sIHsgaWQgfTogeyBpZDogc3RyaW5nIH0pOiBQcm9taXNlPEludml0ZT4ge1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzU2VydmljZS5nZXQoaWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRAUXVlcnkoJ2dldEludml0ZUJ5Q29kZScpXG5cdGFzeW5jIGdldEludml0ZUJ5Q29kZShcblx0XHRfLFxuXHRcdHsgaW5mbyB9OiB7IGluZm86IElFbnRlckJ5Q29kZSB9XG5cdCk6IFByb21pc2U8SW52aXRlPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2ludml0ZXNTZXJ2aWNlLmdldEJ5Q29kZShpbmZvKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXHR9XG5cblx0QFF1ZXJ5KCdnZXRJbnZpdGVCeUxvY2F0aW9uJylcblx0YXN5bmMgZ2V0SW52aXRlQnlMb2NhdGlvbihcblx0XHRfLFxuXHRcdHsgaW5mbyB9OiB7IGluZm86IElFbnRlckJ5TG9jYXRpb24gfVxuXHQpOiBQcm9taXNlPEludml0ZT4ge1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzU2VydmljZVxuXHRcdFx0LmdldEJ5TG9jYXRpb24oaW5mbylcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRAUXVlcnkoJ2ludml0ZXMnKVxuXHRhc3luYyBnZXRJbnZpdGVzKF8sIHsgZmluZElucHV0LCBwYWdpbmdPcHRpb25zID0ge30gfSk6IFByb21pc2U8YW55PiB7XG5cdFx0aWYgKCFwYWdpbmdPcHRpb25zIHx8IChwYWdpbmdPcHRpb25zICYmICFwYWdpbmdPcHRpb25zWydzb3J0J10pKSB7XG5cdFx0XHRwYWdpbmdPcHRpb25zWydzb3J0J10gPSB7IGZpZWxkOiAnX2NyZWF0ZWRBdCcsIHNvcnRCeTogJ2Rlc2MnIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgaW52aXRlcyA9IGF3YWl0IHRoaXMuX2ludml0ZXNTZXJ2aWNlLmdldEludml0ZXMoXG5cdFx0XHRmaW5kSW5wdXQsXG5cdFx0XHRwYWdpbmdPcHRpb25zXG5cdFx0KTtcblxuXHRcdHJldHVybiBpbnZpdGVzLm1hcCgoaSkgPT4gbmV3IEludml0ZShpKSk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRDb3VudE9mSW52aXRlcygpOiBQcm9taXNlPG51bWJlcj4ge1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzU2VydmljZS5Nb2RlbC5maW5kKHsgaXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSB9KVxuXHRcdFx0LmNvdW50RG9jdW1lbnRzKClcblx0XHRcdC5leGVjKCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyBjcmVhdGVJbnZpdGUoXG5cdFx0Xyxcblx0XHR7IGNyZWF0ZUlucHV0IH06IHsgY3JlYXRlSW5wdXQ6IElJbnZpdGVDcmVhdGVPYmplY3QgfVxuXHQpOiBQcm9taXNlPEludml0ZT4ge1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzU2VydmljZS5jcmVhdGUoY3JlYXRlSW5wdXQpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgdXBkYXRlSW52aXRlKFxuXHRcdF8sXG5cdFx0eyBpZCwgdXBkYXRlSW5wdXQgfTogeyBpZDogc3RyaW5nOyB1cGRhdGVJbnB1dCB9XG5cdCk6IFByb21pc2U8SW52aXRlPiB7XG5cdFx0YXdhaXQgdGhpcy5faW52aXRlc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHRoaXMuX2ludml0ZXNTZXJ2aWNlLnVwZGF0ZShpZCwgdXBkYXRlSW5wdXQpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgcmVtb3ZlSW52aXRlKF8sIHsgaWQgfTogeyBpZDogc3RyaW5nIH0pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRhd2FpdCB0aGlzLl9pbnZpdGVzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRyZXR1cm4gdGhpcy5faW52aXRlc1NlcnZpY2UucmVtb3ZlKGlkKTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHJlbW92ZUludml0ZXNCeUlkcyhfLCB7IGlkcyB9OiB7IGlkczogc3RyaW5nW10gfSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGludml0ZXMgPSBhd2FpdCB0aGlzLl9pbnZpdGVzU2VydmljZS5maW5kKHtcblx0XHRcdF9pZDogeyAkaW46IGlkcyB9LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IGludml0ZXNJZHMgPSBpbnZpdGVzLm1hcCgoZCkgPT4gZC5pZCk7XG5cblx0XHRyZXR1cm4gdGhpcy5faW52aXRlc1NlcnZpY2UucmVtb3ZlTXVsdGlwbGVCeUlkcyhpbnZpdGVzSWRzKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgSW52aXRlUmVzb2x2ZXIgfSBmcm9tICcuL2ludml0ZS5yZXNvbHZlcic7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtJbnZpdGVSZXNvbHZlcl0sXG59KVxuZXhwb3J0IGNsYXNzIEludml0ZXNNb2R1bGUge31cbiIsImltcG9ydCB7IFF1ZXJ5LCBSZXNvbHZlUHJvcGVydHksIFJlc29sdmVyLCBNdXRhdGlvbiB9IGZyb20gJ0BuZXN0anMvZ3JhcGhxbCc7XG5pbXBvcnQgSU9yZGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JT3JkZXInO1xuaW1wb3J0IENhcnJpZXJzU2VydmljZSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9jYXJyaWVycy9DYXJyaWVyc1NlcnZpY2UnO1xuaW1wb3J0IE9yZGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvT3JkZXInO1xuaW1wb3J0IHsgZmlyc3QgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgT3JkZXJDYXJyaWVyU3RhdHVzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW51bXMvT3JkZXJDYXJyaWVyU3RhdHVzJztcbmltcG9ydCBPcmRlcldhcmVob3VzZVN0YXR1cyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudW1zL09yZGVyV2FyZWhvdXNlU3RhdHVzJztcbmltcG9ydCBXYXJlaG91c2UgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9XYXJlaG91c2UnO1xuaW1wb3J0IFVzZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9Vc2VyJztcbmltcG9ydCBDYXJyaWVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvQ2Fycmllcic7XG5pbXBvcnQgeyBXYXJlaG91c2VzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3dhcmVob3VzZXMnO1xuaW1wb3J0IHsgT3JkZXJzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL29yZGVycyc7XG5pbXBvcnQgeyBVc2Vyc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91c2Vycyc7XG5pbXBvcnQgSVByb2R1Y3QgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lQcm9kdWN0JztcbmltcG9ydCB7IFByb2R1Y3RzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3Byb2R1Y3RzJztcbmltcG9ydCBQcm9kdWN0IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvUHJvZHVjdCc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgT2JqZWN0SWQgfSBmcm9tICdic29uJztcbmltcG9ydCB7IEZha2VPcmRlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZmFrZS1kYXRhL0Zha2VPcmRlcnNTZXJ2aWNlJztcblxuQFJlc29sdmVyKCdPcmRlcicpXG5leHBvcnQgY2xhc3MgT3JkZXJSZXNvbHZlciB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX29yZGVyc1NlcnZpY2U6IE9yZGVyc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfY2FycmllcnNTZXJ2aWNlOiBDYXJyaWVyc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfd2FyZWhvdXNlc1NlcnZpY2U6IFdhcmVob3VzZXNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3VzZXJzU2VydmljZTogVXNlcnNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3Byb2R1Y3RzU2VydmljZTogUHJvZHVjdHNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2Zha2VPcmRlcnNTZXJ2aWNlOiBGYWtlT3JkZXJzU2VydmljZVxuXHQpIHt9XG5cblx0cHJpdmF0ZSBfZ2V0UmFuZG9tUHJvZHVjdCA9IChcblx0XHRvcmRlckNvdW50OiBudW1iZXIsXG5cdFx0cHJvZHVjdHM6IFByb2R1Y3RbXVxuXHQpOiBJUHJvZHVjdCA9PiB7XG5cdFx0cmV0dXJuIHByb2R1Y3RzW29yZGVyQ291bnQgJSBwcm9kdWN0cy5sZW5ndGhdO1xuXHR9O1xuXG5cdHByaXZhdGUgX2dldFJhbmRvbUN1c3RvbWVyID0gKFxuXHRcdG9yZGVyQ291bnQ6IG51bWJlcixcblx0XHRjdXN0b21lcnM6IFVzZXJbXVxuXHQpOiBVc2VyID0+IHtcblx0XHRpZiAob3JkZXJDb3VudCA8IGN1c3RvbWVycy5sZW5ndGgpIHtcblx0XHRcdHJldHVybiBjdXN0b21lcnNbb3JkZXJDb3VudF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBjdXN0b21lcnNbb3JkZXJDb3VudCAlIGN1c3RvbWVycy5sZW5ndGhdO1xuXHRcdH1cblx0fTtcblxuXHRwcml2YXRlIF9nZXRSYW5kb21DYXJyaWVySWQgPSAoXG5cdFx0b3JkZXJDb3VudDogbnVtYmVyLFxuXHRcdGNhcnJpZXJzOiBDYXJyaWVyW11cblx0KTogc3RyaW5nID0+IHtcblx0XHRyZXR1cm4gY2FycmllcnNbb3JkZXJDb3VudCAlIGNhcnJpZXJzLmxlbmd0aF0uaWQ7XG5cdH07XG5cblx0cHJpdmF0ZSBfcHJlcGFyZU9yZGVyRmllbGRzVmFsdWVzID0gKG9yZGVyQ291bnQ6IG51bWJlcikgPT4ge1xuXHRcdGNvbnN0IGhhc0NhcnJpZXIgPSBNYXRoLnJhbmRvbSgpID4gMC4wNzsgLy8gNyUgY2hhbmNlLCBvcmRlciBoYXZlIG5vdCBjYXJyaWVyLlxuXHRcdGNvbnN0IG9yZGVySXNQYWlkID0gTWF0aC5yYW5kb20oKSA+IDAuMTU7IC8vIDE1JSBjaGFuY2UsIG9yZGVyIHRvIGJlIGNhbmNlbGxlZC5cblx0XHRjb25zdCBudW1iZXJPZlByb2R1Y3RzVG9PcmRlciA9IG9yZGVyQ291bnQgJSA0IHx8IDE7XG5cblx0XHRyZXR1cm4geyBudW1iZXJPZlByb2R1Y3RzVG9PcmRlciwgaGFzQ2Fycmllciwgb3JkZXJJc1BhaWQgfTtcblx0fTtcblxuXHRwcml2YXRlIF9nZXRSYW5kb21PcmRlckRhdGUgPSAob3JkZXJDb3VudDogbnVtYmVyKTogRGF0ZSA9PiB7XG5cdFx0Y29uc3Qgb3JkZXJEYXRlID0gbmV3IERhdGUoKTtcblxuXHRcdG9yZGVyRGF0ZS5zZXRGdWxsWWVhcihcblx0XHRcdG9yZGVyRGF0ZS5nZXRGdWxsWWVhcigpIC0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNSlcblx0XHQpO1xuXG5cdFx0Y29uc3QgZGF0ZU5vdyA9IG5ldyBEYXRlKCk7XG5cblx0XHRjb25zdCBpc0N1cnJlbnRZZWFyID0gb3JkZXJEYXRlLmdldEZ1bGxZZWFyKCkgPT09IGRhdGVOb3cuZ2V0RnVsbFllYXIoKTtcblxuXHRcdGNvbnN0IG1vbnRocyA9IGlzQ3VycmVudFllYXIgPyBOdW1iZXIoZGF0ZU5vdy5nZXRNb250aCgpKSA6IDExO1xuXG5cdFx0b3JkZXJEYXRlLnNldE1vbnRoKG1vbnRocyA+IDAgPyBvcmRlckNvdW50ICUgbW9udGhzIDogMCk7XG5cblx0XHRjb25zdCBpc0N1cnJlbnRNb250aCA9XG5cdFx0XHRvcmRlckRhdGUuZ2V0TW9udGgoKSA9PT0gZGF0ZU5vdy5nZXRNb250aCgpICYmIGlzQ3VycmVudFllYXI7XG5cblx0XHRjb25zdCBkYXlzID0gaXNDdXJyZW50TW9udGggPyBOdW1iZXIoZGF0ZU5vdy5nZXREYXRlKCkpIDogMzE7XG5cblx0XHRvcmRlckRhdGUuc2V0RGF0ZShvcmRlckNvdW50ICUgZGF5cyk7XG5cblx0XHRjb25zdCBpc0N1cnJlbnREYXkgPVxuXHRcdFx0b3JkZXJEYXRlLmdldERhdGUoKSA9PT0gZGF0ZU5vdy5nZXREYXRlKCkgJiZcblx0XHRcdGlzQ3VycmVudFllYXIgJiZcblx0XHRcdGlzQ3VycmVudE1vbnRoO1xuXG5cdFx0Y29uc3QgaG91cnMgPSBpc0N1cnJlbnREYXkgPyBOdW1iZXIoZGF0ZU5vdy5nZXRIb3VycygpKSA6IDI0O1xuXG5cdFx0b3JkZXJEYXRlLnNldEhvdXJzKG9yZGVyQ291bnQgJSBob3Vycyk7XG5cblx0XHRyZXR1cm4gb3JkZXJEYXRlO1xuXHR9O1xuXG5cdHByaXZhdGUgX3NldHVwT3JkZXJQcm9kdWN0cyA9IChwcm9kdWN0czogUHJvZHVjdFtdKSA9PiB7XG5cdFx0bGV0IHByb2R1Y3RDb3VudCA9IDE7XG5cdFx0Y29uc3Qgb3JkZXJQcm9kdWN0cyA9IFtdO1xuXG5cdFx0Zm9yIChjb25zdCBwIG9mIHByb2R1Y3RzKSB7XG5cdFx0XHRjb25zdCBwcm9kdWN0UHJpY2UgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxNSk7XG5cblx0XHRcdG9yZGVyUHJvZHVjdHMucHVzaCh7XG5cdFx0XHRcdGNvdW50OiAyLFxuXHRcdFx0XHRpc01hbnVmYWN0dXJpbmc6IHRydWUsXG5cdFx0XHRcdGlzQ2FycmllclJlcXVpcmVkOiB0cnVlLFxuXHRcdFx0XHRpc0RlbGl2ZXJ5UmVxdWlyZWQ6IHRydWUsXG5cdFx0XHRcdHByaWNlOiBwcm9kdWN0UHJpY2UsXG5cdFx0XHRcdGluaXRpYWxQcmljZTogcHJvZHVjdFByaWNlLFxuXHRcdFx0XHRwcm9kdWN0OiBwLFxuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChwcm9kdWN0Q291bnQgPj0gMykge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdHByb2R1Y3RDb3VudCArPSAxO1xuXHRcdH1cblxuXHRcdHJldHVybiBvcmRlclByb2R1Y3RzO1xuXHR9O1xuXG5cdHByaXZhdGUgX3NldHVwQXZhaWxhYmxlT3JkZXJzVG9DcmVhdGUgPSAoXG5cdFx0c3RvcmVzOiBXYXJlaG91c2VbXSxcblx0XHRwcm9kdWN0czogUHJvZHVjdFtdLFxuXHRcdHVzZXJzOiBVc2VyW11cblx0KSA9PiB7XG5cdFx0Y29uc3Qgb3JkZXJzID0gW107XG5cblx0XHRmb3IgKGxldCBvcmRlck51bWJlciA9IDE7IG9yZGVyTnVtYmVyIDw9IDMwOyBvcmRlck51bWJlciArPSAxKSB7XG5cdFx0XHRjb25zdCBvcmRlclN0b3JlID0gc3RvcmVzW18ucmFuZG9tKHN0b3Jlcy5sZW5ndGggLSAxKV07XG5cblx0XHRcdGNvbnN0IG9yZGVyUHJvZHVjdHMgPSB0aGlzLl9zZXR1cE9yZGVyUHJvZHVjdHMocHJvZHVjdHMpO1xuXG5cdFx0XHRjb25zdCBjcmVhdGVkQXQgPSB0aGlzLmdldENsb3NlRGF0ZShuZXcgRGF0ZSgpKTtcblxuXHRcdFx0b3JkZXJzLnB1c2goe1xuXHRcdFx0XHR1c2VyOiB1c2Vyc1tfLnJhbmRvbSh1c2Vycy5sZW5ndGggLSAxKV0sXG5cdFx0XHRcdHdhcmVob3VzZTogb3JkZXJTdG9yZS5faWQudG9TdHJpbmcoKSxcblx0XHRcdFx0cHJvZHVjdHM6IG9yZGVyUHJvZHVjdHMsXG5cdFx0XHRcdGlzQ29uZmlybWVkOiB0cnVlLFxuXHRcdFx0XHRpc0NhbmNlbGxlZDogZmFsc2UsXG5cdFx0XHRcdGlzUGFpZDogZmFsc2UsXG5cdFx0XHRcdHdhcmVob3VzZVN0YXR1czogT3JkZXJXYXJlaG91c2VTdGF0dXMuUGFja2FnaW5nRmluaXNoZWQsXG5cdFx0XHRcdGNhcnJpZXJTdGF0dXM6IE9yZGVyQ2FycmllclN0YXR1cy5Ob0NhcnJpZXIsXG5cdFx0XHRcdG9yZGVyTnVtYmVyLFxuXHRcdFx0XHRfY3JlYXRlZEF0OiBjcmVhdGVkQXQsXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0cmV0dXJuIG9yZGVycztcblx0fTtcblxuXHRwcml2YXRlIF9zZXR1cEhpc3RvcnlPcmRlcnNUb0NyZWF0ZSA9IChcblx0XHRzdG9yZXM6IFdhcmVob3VzZVtdLFxuXHRcdHByb2R1Y3RzOiBQcm9kdWN0W10sXG5cdFx0dXNlcnM6IFVzZXJbXSxcblx0XHRjYXJyaWVySWQ6IHN0cmluZyxcblx0XHRvcmRlck51bWJlcjogbnVtYmVyXG5cdCkgPT4ge1xuXHRcdGNvbnN0IG9yZGVycyA9IFtdO1xuXG5cdFx0Y29uc3QgYXZhaWxhYmxlU3RhdHVzZXM6IE9yZGVyQ2FycmllclN0YXR1c1tdID0gW1xuXHRcdFx0T3JkZXJDYXJyaWVyU3RhdHVzLkRlbGl2ZXJ5Q29tcGxldGVkLFxuXHRcdFx0T3JkZXJDYXJyaWVyU3RhdHVzLklzc3Vlc0R1cmluZ0RlbGl2ZXJ5LFxuXHRcdFx0T3JkZXJDYXJyaWVyU3RhdHVzLkNsaWVudFJlZnVzZVRha2luZ09yZGVyLFxuXHRcdF07XG5cblx0XHRmb3IgKGxldCBpID0gMTsgaSA8PSAxMjsgaSArPSAxKSB7XG5cdFx0XHRjb25zdCBvcmRlclN0b3JlID0gc3RvcmVzW18ucmFuZG9tKHN0b3Jlcy5sZW5ndGggLSAxKV07XG5cblx0XHRcdGNvbnN0IG9yZGVyUHJvZHVjdHMgPSB0aGlzLl9zZXR1cE9yZGVyUHJvZHVjdHMocHJvZHVjdHMpO1xuXG5cdFx0XHRjb25zdCBjYXJyaWVyU3RhdHVzID1cblx0XHRcdFx0YXZhaWxhYmxlU3RhdHVzZXNbXy5yYW5kb20oYXZhaWxhYmxlU3RhdHVzZXMubGVuZ3RoIC0gMSldO1xuXG5cdFx0XHRjb25zdCBjcmVhdGVkQXQgPSB0aGlzLmdldENsb3NlRGF0ZShuZXcgRGF0ZSgpKTtcblxuXHRcdFx0Y29uc3Qgc3RhcnREZWxpdmVyeVRpbWUgPSB0aGlzLmdldEZpbmlzaGVkVGltZShjcmVhdGVkQXQpO1xuXG5cdFx0XHRvcmRlcnMucHVzaCh7XG5cdFx0XHRcdHVzZXI6IHVzZXJzW18ucmFuZG9tKHVzZXJzLmxlbmd0aCAtIDEpXSxcblx0XHRcdFx0d2FyZWhvdXNlOiBvcmRlclN0b3JlLl9pZC50b1N0cmluZygpLFxuXHRcdFx0XHRwcm9kdWN0czogb3JkZXJQcm9kdWN0cyxcblx0XHRcdFx0aXNDb25maXJtZWQ6IHRydWUsXG5cdFx0XHRcdGlzQ2FuY2VsbGVkOiBmYWxzZSxcblx0XHRcdFx0Y2FycmllcjogY2FycmllcklkLFxuXHRcdFx0XHRzdGFydERlbGl2ZXJ5VGltZSxcblx0XHRcdFx0ZGVsaXZlcnlUaW1lOlxuXHRcdFx0XHRcdGNhcnJpZXJTdGF0dXMgPT09IE9yZGVyQ2FycmllclN0YXR1cy5EZWxpdmVyeUNvbXBsZXRlZFxuXHRcdFx0XHRcdFx0PyB0aGlzLmdldEZpbmlzaGVkVGltZShzdGFydERlbGl2ZXJ5VGltZSlcblx0XHRcdFx0XHRcdDogbnVsbCxcblx0XHRcdFx0ZmluaXNoZWRQcm9jZXNzaW5nVGltZTpcblx0XHRcdFx0XHRjYXJyaWVyU3RhdHVzICE9PSBPcmRlckNhcnJpZXJTdGF0dXMuRGVsaXZlcnlDb21wbGV0ZWRcblx0XHRcdFx0XHRcdD8gdGhpcy5nZXRGaW5pc2hlZFRpbWUoc3RhcnREZWxpdmVyeVRpbWUpXG5cdFx0XHRcdFx0XHQ6IG51bGwsXG5cdFx0XHRcdGlzUGFpZDogdHJ1ZSxcblx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOiBPcmRlcldhcmVob3VzZVN0YXR1cy5HaXZlblRvQ2Fycmllcixcblx0XHRcdFx0Y2FycmllclN0YXR1cyxcblx0XHRcdFx0b3JkZXJOdW1iZXIsXG5cdFx0XHRcdF9jcmVhdGVkQXQ6IGNyZWF0ZWRBdCxcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBvcmRlcnM7XG5cdH07XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2VuZXJhdGVBY3RpdmVBbmRBdmFpbGFibGVPcmRlcnNQZXJDYXJyaWVyKCkge1xuXHRcdGNvbnN0IGNvbW1vbk9wdGlvbnNGbGFnID0geyBpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9IH07XG5cblx0XHRjb25zdCB1c2VyczogVXNlcltdID0gYXdhaXQgdGhpcy5fdXNlcnNTZXJ2aWNlLk1vZGVsLmZpbmQoXG5cdFx0XHRjb21tb25PcHRpb25zRmxhZ1xuXHRcdClcblx0XHRcdC5zZWxlY3QoeyBfX3Y6IDAgfSlcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cblx0XHRjb25zdCBzdG9yZXM6IFdhcmVob3VzZVtdID0gYXdhaXQgdGhpcy5fd2FyZWhvdXNlc1NlcnZpY2UuTW9kZWwuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KVxuXHRcdFx0LnNlbGVjdCh7IF9pZDogMSB9KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdGNvbnN0IHByb2R1Y3RzOiBQcm9kdWN0W10gPSBhd2FpdCB0aGlzLl9wcm9kdWN0c1NlcnZpY2UuTW9kZWwuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KVxuXHRcdFx0LnNlbGVjdCh7IF9fdjogMCB9KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdGNvbnN0IG9yZGVyc1JhdyA9IHRoaXMuX3NldHVwQXZhaWxhYmxlT3JkZXJzVG9DcmVhdGUoXG5cdFx0XHRzdG9yZXMsXG5cdFx0XHRwcm9kdWN0cyxcblx0XHRcdHVzZXJzXG5cdFx0KTtcblxuXHRcdGF3YWl0IHRoaXMuX29yZGVyc1NlcnZpY2UuTW9kZWwuaW5zZXJ0TWFueShvcmRlcnNSYXcpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2VuZXJhdGVQYXN0T3JkZXJzUGVyQ2FycmllcigpIHtcblx0XHRjb25zdCBjb21tb25PcHRpb25zRmxhZyA9IHsgaXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSB9O1xuXG5cdFx0Y29uc3QgdXNlcnM6IFVzZXJbXSA9IGF3YWl0IHRoaXMuX3VzZXJzU2VydmljZS5Nb2RlbC5maW5kKFxuXHRcdFx0Y29tbW9uT3B0aW9uc0ZsYWdcblx0XHQpXG5cdFx0XHQuc2VsZWN0KHsgX192OiAwIH0pXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0Y29uc3Qgc3RvcmVzOiBXYXJlaG91c2VbXSA9IGF3YWl0IHRoaXMuX3dhcmVob3VzZXNTZXJ2aWNlLk1vZGVsLmZpbmQoXG5cdFx0XHRjb21tb25PcHRpb25zRmxhZ1xuXHRcdClcblx0XHRcdC5zZWxlY3QoeyBfaWQ6IDEgfSlcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cblx0XHRjb25zdCBjYXJyaWVySWRzOiBDYXJyaWVyW10gPSBhd2FpdCB0aGlzLl9jYXJyaWVyc1NlcnZpY2UuTW9kZWwuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KVxuXHRcdFx0LnNlbGVjdCh7IF9pZDogMSB9KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdGNvbnN0IHByb2R1Y3RzOiBQcm9kdWN0W10gPSBhd2FpdCB0aGlzLl9wcm9kdWN0c1NlcnZpY2UuTW9kZWwuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KVxuXHRcdFx0LnNlbGVjdCh7IF9fdjogMCB9KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdGNvbnN0IHRvdGFsT3JkZXJzVG9DcmVhdGUgPSBbXTtcblxuXHRcdGNhcnJpZXJJZHMuZm9yRWFjaCgob2JqZWN0SWQsIGluZGV4KSA9PiB7XG5cdFx0XHRjb25zdCBjYXJyaWVySWQgPSBvYmplY3RJZC5faWQudG9TdHJpbmcoKTtcblx0XHRcdGNvbnN0IG9yZGVyTnVtYmVyID0gaW5kZXg7XG5cdFx0XHRjb25zdCBvcmRlcnNSYXcgPSB0aGlzLl9zZXR1cEhpc3RvcnlPcmRlcnNUb0NyZWF0ZShcblx0XHRcdFx0c3RvcmVzLFxuXHRcdFx0XHRwcm9kdWN0cyxcblx0XHRcdFx0dXNlcnMsXG5cdFx0XHRcdGNhcnJpZXJJZCxcblx0XHRcdFx0b3JkZXJOdW1iZXJcblx0XHRcdCk7XG5cblx0XHRcdHRvdGFsT3JkZXJzVG9DcmVhdGUucHVzaChvcmRlcnNSYXcpO1xuXHRcdH0pO1xuXG5cdFx0YXdhaXQgdGhpcy5fb3JkZXJzU2VydmljZS5Nb2RlbC5pbnNlcnRNYW55KFxuXHRcdFx0Xy5mbGF0dGVuKHRvdGFsT3JkZXJzVG9DcmVhdGUpXG5cdFx0KTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGFkZFRha2VuT3JkZXJzKF9jb250ZXh0LCB7IGNhcnJpZXJJZHMgfTogeyBjYXJyaWVySWRzOiBzdHJpbmdbXSB9KSB7XG5cdFx0Y29uc3QgY29tbW9uT3B0aW9uc0ZsYWcgPSB7IGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0gfTtcblxuXHRcdGNvbnN0IHN0b3JlczogV2FyZWhvdXNlW10gPSBhd2FpdCB0aGlzLl93YXJlaG91c2VzU2VydmljZS5maW5kKFxuXHRcdFx0Y29tbW9uT3B0aW9uc0ZsYWdcblx0XHQpO1xuXG5cdFx0Y29uc3QgY3VzdG9tZXJzOiBVc2VyW10gPSBhd2FpdCB0aGlzLl91c2Vyc1NlcnZpY2UuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KTtcblxuXHRcdGNvbnN0IHByb2R1Y3RzOiBQcm9kdWN0W10gPSBhd2FpdCB0aGlzLl9wcm9kdWN0c1NlcnZpY2UuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KTtcblxuXHRcdGNvbnN0IG9yZGVyc1RvQ3JlYXRlID0gW107XG5cblx0XHRjYXJyaWVySWRzLmZvckVhY2goKGlkKSA9PiB7XG5cdFx0XHRmb3IgKGxldCBvcmRlck51bWJlciA9IDE7IG9yZGVyTnVtYmVyIDw9IDIwOyBvcmRlck51bWJlciArPSAxKSB7XG5cdFx0XHRcdGNvbnN0IG9yZGVyUHJvZHVjdHMgPSBbXTtcblxuXHRcdFx0XHRjb25zdCBwcm9kdWN0Q291bnQgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA0KSB8fCAxO1xuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHByb2R1Y3RDb3VudDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0Y29uc3Qgb3JkZXJQcmljZSA9IChvcmRlck51bWJlciArIGkpICUgMTEwIHx8IDE7XG5cblx0XHRcdFx0XHRvcmRlclByb2R1Y3RzLnB1c2goe1xuXHRcdFx0XHRcdFx0Y291bnQ6IChvcmRlck51bWJlciArIGkpICUgMTIgfHwgMSxcblx0XHRcdFx0XHRcdGlzTWFudWZhY3R1cmluZzogdHJ1ZSxcblx0XHRcdFx0XHRcdGlzQ2FycmllclJlcXVpcmVkOiB0cnVlLFxuXHRcdFx0XHRcdFx0aXNEZWxpdmVyeVJlcXVpcmVkOiB0cnVlLFxuXHRcdFx0XHRcdFx0cHJpY2U6IG9yZGVyUHJpY2UsXG5cdFx0XHRcdFx0XHRpbml0aWFsUHJpY2U6IG9yZGVyUHJpY2UsXG5cdFx0XHRcdFx0XHRwcm9kdWN0OiB0aGlzLl9nZXRSYW5kb21Qcm9kdWN0KFxuXHRcdFx0XHRcdFx0XHRvcmRlck51bWJlciArIGksXG5cdFx0XHRcdFx0XHRcdHByb2R1Y3RzXG5cdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3Qgb3JkZXJJc1BhaWQgPSBNYXRoLnJhbmRvbSgpID4gMC41O1xuXHRcdFx0XHRjb25zdCBjcmVhdGVkQXQgPSB0aGlzLl9nZXRSYW5kb21PcmRlckRhdGUob3JkZXJOdW1iZXIpO1xuXHRcdFx0XHRjb25zdCBzdGFydERlbGl2ZXJ5VGltZSA9IHRoaXMuZ2V0RmluaXNoZWRUaW1lKGNyZWF0ZWRBdCk7XG5cblx0XHRcdFx0b3JkZXJzVG9DcmVhdGUucHVzaCh7XG5cdFx0XHRcdFx0aXNDYW5jZWxsZWQ6ICFvcmRlcklzUGFpZCxcblx0XHRcdFx0XHRpc1BhaWQ6IG9yZGVySXNQYWlkLFxuXHRcdFx0XHRcdGRlbGl2ZXJ5VGltZUVzdGltYXRlOiAwLFxuXHRcdFx0XHRcdHN0YXJ0RGVsaXZlcnlUaW1lLFxuXHRcdFx0XHRcdGRlbGl2ZXJ5VGltZTogb3JkZXJJc1BhaWRcblx0XHRcdFx0XHRcdD8gdGhpcy5nZXRGaW5pc2hlZFRpbWUoc3RhcnREZWxpdmVyeVRpbWUpXG5cdFx0XHRcdFx0XHQ6IG51bGwsXG5cdFx0XHRcdFx0ZmluaXNoZWRQcm9jZXNzaW5nVGltZTogIW9yZGVySXNQYWlkXG5cdFx0XHRcdFx0XHQ/IHRoaXMuZ2V0RmluaXNoZWRUaW1lKHN0YXJ0RGVsaXZlcnlUaW1lKVxuXHRcdFx0XHRcdFx0OiBudWxsLFxuXHRcdFx0XHRcdHdhcmVob3VzZVN0YXR1czogT3JkZXJXYXJlaG91c2VTdGF0dXMuUGFja2FnaW5nRmluaXNoZWQsXG5cdFx0XHRcdFx0Y2FycmllclN0YXR1czogT3JkZXJDYXJyaWVyU3RhdHVzLkRlbGl2ZXJ5Q29tcGxldGVkLFxuXHRcdFx0XHRcdG9yZGVyTnVtYmVyLFxuXHRcdFx0XHRcdHVzZXI6IHRoaXMuX2dldFJhbmRvbUN1c3RvbWVyKG9yZGVyTnVtYmVyLCBjdXN0b21lcnMpLFxuXHRcdFx0XHRcdHdhcmVob3VzZTogc3RvcmVzW29yZGVyTnVtYmVyICUgc3RvcmVzLmxlbmd0aF0uaWQsXG5cdFx0XHRcdFx0cHJvZHVjdHM6IG9yZGVyUHJvZHVjdHMsXG5cdFx0XHRcdFx0X2NyZWF0ZWRBdDogY3JlYXRlZEF0LFxuXHRcdFx0XHRcdGNhcnJpZXI6IGlkLFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGF3YWl0IHRoaXMuX29yZGVyc1NlcnZpY2UuTW9kZWwuaW5zZXJ0TWFueShvcmRlcnNUb0NyZWF0ZSk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBhZGRPcmRlcnNUb1Rha2UoKSB7XG5cdFx0Y29uc3QgY29tbW9uT3B0aW9uc0ZsYWcgPSB7IGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0gfTtcblxuXHRcdGNvbnN0IHN0b3JlczogV2FyZWhvdXNlW10gPSBhd2FpdCB0aGlzLl93YXJlaG91c2VzU2VydmljZS5maW5kKFxuXHRcdFx0Y29tbW9uT3B0aW9uc0ZsYWdcblx0XHQpO1xuXG5cdFx0Y29uc3QgY3VzdG9tZXJzOiBVc2VyW10gPSBhd2FpdCB0aGlzLl91c2Vyc1NlcnZpY2UuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KTtcblxuXHRcdGNvbnN0IHByb2R1Y3RzOiBQcm9kdWN0W10gPSBhd2FpdCB0aGlzLl9wcm9kdWN0c1NlcnZpY2UuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KTtcblxuXHRcdGNvbnN0IG9yZGVyc1RvQ3JlYXRlID0gW107XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkgKz0gMSkge1xuXHRcdFx0Zm9yIChsZXQgb3JkZXJOdW1iZXIgPSAxOyBvcmRlck51bWJlciA8PSAxMDsgb3JkZXJOdW1iZXIgKz0gMSkge1xuXHRcdFx0XHRjb25zdCBvcmRlclByb2R1Y3RzID0gW107XG5cblx0XHRcdFx0Y29uc3QgcHJvZHVjdENvdW50ID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNCkgfHwgMTtcblxuXHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IHByb2R1Y3RDb3VudDsgaiArPSAxKSB7XG5cdFx0XHRcdFx0Y29uc3Qgb3JkZXJQcmljZSA9IChvcmRlck51bWJlciArIGopICUgMTEwIHx8IDE7XG5cblx0XHRcdFx0XHRvcmRlclByb2R1Y3RzLnB1c2goe1xuXHRcdFx0XHRcdFx0Y291bnQ6IChvcmRlck51bWJlciArIGopICUgNiB8fCAxLFxuXHRcdFx0XHRcdFx0aXNNYW51ZmFjdHVyaW5nOiB0cnVlLFxuXHRcdFx0XHRcdFx0aXNDYXJyaWVyUmVxdWlyZWQ6IHRydWUsXG5cdFx0XHRcdFx0XHRpc0RlbGl2ZXJ5UmVxdWlyZWQ6IHRydWUsXG5cdFx0XHRcdFx0XHRwcmljZTogb3JkZXJQcmljZSxcblx0XHRcdFx0XHRcdGluaXRpYWxQcmljZTogb3JkZXJQcmljZSxcblx0XHRcdFx0XHRcdHByb2R1Y3Q6IHRoaXMuX2dldFJhbmRvbVByb2R1Y3QoXG5cdFx0XHRcdFx0XHRcdG9yZGVyTnVtYmVyICsgaixcblx0XHRcdFx0XHRcdFx0cHJvZHVjdHNcblx0XHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBjcmVhdGVkQXQgPSB0aGlzLmdldENsb3NlRGF0ZShuZXcgRGF0ZSgpKTtcblxuXHRcdFx0XHRvcmRlcnNUb0NyZWF0ZS5wdXNoKHtcblx0XHRcdFx0XHRpc0NvbmZpcm1lZDogZmFsc2UsXG5cdFx0XHRcdFx0aXNDYW5jZWxsZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdGlzUGFpZDogZmFsc2UsXG5cdFx0XHRcdFx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IDAsXG5cdFx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOiBPcmRlcldhcmVob3VzZVN0YXR1cy5QYWNrYWdpbmdGaW5pc2hlZCxcblx0XHRcdFx0XHRjYXJyaWVyU3RhdHVzOiBPcmRlckNhcnJpZXJTdGF0dXMuTm9DYXJyaWVyLFxuXHRcdFx0XHRcdG9yZGVyTnVtYmVyLFxuXHRcdFx0XHRcdHVzZXI6IHRoaXMuX2dldFJhbmRvbUN1c3RvbWVyKG9yZGVyTnVtYmVyLCBjdXN0b21lcnMpLFxuXHRcdFx0XHRcdHdhcmVob3VzZTogc3RvcmVzW29yZGVyTnVtYmVyICUgc3RvcmVzLmxlbmd0aF0uaWQsXG5cdFx0XHRcdFx0cHJvZHVjdHM6IG9yZGVyUHJvZHVjdHMsXG5cdFx0XHRcdFx0X2NyZWF0ZWRBdDogY3JlYXRlZEF0LFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRhd2FpdCB0aGlzLl9vcmRlcnNTZXJ2aWNlLk1vZGVsLmluc2VydE1hbnkob3JkZXJzVG9DcmVhdGUpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2VuZXJhdGVSYW5kb21PcmRlcnNDdXJyZW50U3RvcmUoXG5cdFx0X2NvbnRleHQsXG5cdFx0e1xuXHRcdFx0c3RvcmVJZCxcblx0XHRcdHN0b3JlQ3JlYXRlZEF0LFxuXHRcdFx0b3JkZXJzTGltaXQsXG5cdFx0fTogeyBzdG9yZUlkOiBzdHJpbmc7IHN0b3JlQ3JlYXRlZEF0OiBEYXRlOyBvcmRlcnNMaW1pdDogbnVtYmVyIH1cblx0KSB7XG5cdFx0Y29uc3QgY29tbW9uT3B0aW9uc0ZsYWcgPSB7IGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0gfTtcblxuXHRcdGNvbnN0IGN1c3RvbWVyczogVXNlcltdID0gYXdhaXQgdGhpcy5fdXNlcnNTZXJ2aWNlLmZpbmQoXG5cdFx0XHRjb21tb25PcHRpb25zRmxhZ1xuXHRcdCk7XG5cdFx0Y29uc3QgY2FycmllcnM6IENhcnJpZXJbXSA9IGF3YWl0IHRoaXMuX2NhcnJpZXJzU2VydmljZS5maW5kKFxuXHRcdFx0Y29tbW9uT3B0aW9uc0ZsYWdcblx0XHQpO1xuXHRcdGNvbnN0IHByb2R1Y3RzOiBQcm9kdWN0W10gPSBhd2FpdCB0aGlzLl9wcm9kdWN0c1NlcnZpY2UuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KTtcblxuXHRcdGxldCByZXNwb25zZSA9IHsgZXJyb3I6IGZhbHNlLCBtZXNzYWdlOiBudWxsIH07XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgY3VycmVudFN0b3JlT3JkZXJzID0gW107XG5cdFx0XHRjb25zdCBzdG9yZUNyZWF0ZWREYXRlID0gbmV3IERhdGUoc3RvcmVDcmVhdGVkQXQpO1xuXG5cdFx0XHRmb3IgKFxuXHRcdFx0XHRsZXQgb3JkZXJOdW1iZXIgPSAxO1xuXHRcdFx0XHRvcmRlck51bWJlciA8PSBvcmRlcnNMaW1pdDtcblx0XHRcdFx0b3JkZXJOdW1iZXIgKz0gMVxuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnN0IGNhcnJpZXJJZCA9IHRoaXMuX2dldFJhbmRvbUNhcnJpZXJJZChcblx0XHRcdFx0XHRvcmRlck51bWJlcixcblx0XHRcdFx0XHRjYXJyaWVyc1xuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGNvbnN0IG9yZGVyUmF3ID0gdGhpcy5fZmFrZU9yZGVyc1NlcnZpY2UuZ2V0T3JkZXJSYXcoXG5cdFx0XHRcdFx0b3JkZXJOdW1iZXIsXG5cdFx0XHRcdFx0c3RvcmVJZCxcblx0XHRcdFx0XHRzdG9yZUNyZWF0ZWREYXRlLFxuXHRcdFx0XHRcdGNhcnJpZXJJZCxcblx0XHRcdFx0XHRjdXN0b21lcnMsXG5cdFx0XHRcdFx0cHJvZHVjdHNcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRjdXJyZW50U3RvcmVPcmRlcnMucHVzaChvcmRlclJhdyk7XG5cdFx0XHR9XG5cblx0XHRcdGF3YWl0IHRoaXMuX29yZGVyc1NlcnZpY2UuTW9kZWwuaW5zZXJ0TWFueShjdXJyZW50U3RvcmVPcmRlcnMpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0cmVzcG9uc2UgPSB7IGVycm9yOiB0cnVlLCBtZXNzYWdlOiBlcnIubWVzc2FnZSB9O1xuXHRcdH1cblxuXHRcdHJldHVybiByZXNwb25zZTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdlbmVyYXRlT3JkZXJzQnlDdXN0b21lcklkKFxuXHRcdF9jb250ZXh0LFxuXHRcdHtcblx0XHRcdG51bWJlck9mT3JkZXJzLFxuXHRcdFx0Y3VzdG9tZXJJZCxcblx0XHR9OiB7IG51bWJlck9mT3JkZXJzOiBudW1iZXI7IGN1c3RvbWVySWQ6IHN0cmluZyB9XG5cdCkge1xuXHRcdGNvbnN0IGNvbW1vbk9wdGlvbnNGbGFnID0geyBpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9IH07XG5cblx0XHRjb25zdCBzdG9yZXM6IFdhcmVob3VzZVtdID0gKFxuXHRcdFx0YXdhaXQgdGhpcy5fd2FyZWhvdXNlc1NlcnZpY2UuZmluZChjb21tb25PcHRpb25zRmxhZylcblx0XHQpLmZpbHRlcigoX18sIGluZGV4KSA9PiBpbmRleCA8PSAyMCk7XG5cblx0XHRjb25zdCBjYXJyaWVyczogQ2FycmllcltdID0gYXdhaXQgdGhpcy5fY2FycmllcnNTZXJ2aWNlLmZpbmQoXG5cdFx0XHRjb21tb25PcHRpb25zRmxhZ1xuXHRcdCk7XG5cblx0XHRjb25zdCBwcm9kdWN0czogUHJvZHVjdFtdID0gYXdhaXQgdGhpcy5fcHJvZHVjdHNTZXJ2aWNlLmZpbmQoXG5cdFx0XHRjb21tb25PcHRpb25zRmxhZ1xuXHRcdCk7XG5cblx0XHRjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5fdXNlcnNTZXJ2aWNlXG5cdFx0XHQuZ2V0KGN1c3RvbWVySWQpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKHByb2R1Y3RzLmxlbmd0aCA+IDApIHtcblx0XHRcdGNvbnN0IHJhd09yZGVycyA9IFtdO1xuXHRcdFx0Zm9yIChcblx0XHRcdFx0bGV0IG9yZGVyTnVtYmVyID0gMTtcblx0XHRcdFx0b3JkZXJOdW1iZXIgPD0gbnVtYmVyT2ZPcmRlcnM7XG5cdFx0XHRcdG9yZGVyTnVtYmVyICs9IDFcblx0XHRcdCkge1xuXHRcdFx0XHRjb25zdCB7XG5cdFx0XHRcdFx0bnVtYmVyT2ZQcm9kdWN0c1RvT3JkZXIsXG5cdFx0XHRcdFx0aGFzQ2Fycmllcixcblx0XHRcdFx0XHRvcmRlcklzUGFpZCxcblx0XHRcdFx0fSA9IHRoaXMuX3ByZXBhcmVPcmRlckZpZWxkc1ZhbHVlcyhvcmRlck51bWJlcik7XG5cblx0XHRcdFx0Y29uc3Qgb3JkZXJQcm9kdWN0cyA9IFtdO1xuXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZQcm9kdWN0c1RvT3JkZXI7IGkgKz0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IG9yZGVyUHJpY2UgPSAob3JkZXJOdW1iZXIgKyBpKSAlIDExMCB8fCAxO1xuXHRcdFx0XHRcdG9yZGVyUHJvZHVjdHMucHVzaCh7XG5cdFx0XHRcdFx0XHRjb3VudDogKG9yZGVyTnVtYmVyICsgaSkgJSA2IHx8IDEsXG5cdFx0XHRcdFx0XHRpc01hbnVmYWN0dXJpbmc6IHRydWUsXG5cdFx0XHRcdFx0XHRpc0NhcnJpZXJSZXF1aXJlZDogaGFzQ2Fycmllcixcblx0XHRcdFx0XHRcdGlzRGVsaXZlcnlSZXF1aXJlZDogaGFzQ2Fycmllcixcblx0XHRcdFx0XHRcdHByaWNlOiBvcmRlclByaWNlLFxuXHRcdFx0XHRcdFx0aW5pdGlhbFByaWNlOiBvcmRlclByaWNlLFxuXHRcdFx0XHRcdFx0cHJvZHVjdDogdGhpcy5fZ2V0UmFuZG9tUHJvZHVjdChcblx0XHRcdFx0XHRcdFx0b3JkZXJOdW1iZXIgKyBpLFxuXHRcdFx0XHRcdFx0XHRwcm9kdWN0c1xuXHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IG9yZGVyRGF0ZSA9IHRoaXMuX2dldFJhbmRvbU9yZGVyRGF0ZShvcmRlck51bWJlcik7XG5cdFx0XHRcdGNvbnN0IG9yZGVyRGVsaXZlcnlUaW1lID0gbmV3IERhdGUob3JkZXJEYXRlKTtcblxuXHRcdFx0XHQvLyBkZWxpdmVyeSB0aW1lIHNob3VsZCBiZSBtYXggdG8gMiBocnNcblx0XHRcdFx0b3JkZXJEZWxpdmVyeVRpbWUuc2V0TWludXRlcyhcblx0XHRcdFx0XHRvcmRlckRlbGl2ZXJ5VGltZS5nZXRNaW51dGVzKCkgK1xuXHRcdFx0XHRcdFx0TWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogOTApXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Y29uc3Qgc3RhcnREZWxpdmVyeVRpbWUgPSB0aGlzLmdldEZpbmlzaGVkVGltZShvcmRlckRhdGUpO1xuXG5cdFx0XHRcdHJhd09yZGVycy5wdXNoKHtcblx0XHRcdFx0XHRpc0NhbmNlbGxlZDogIW9yZGVySXNQYWlkLFxuXHRcdFx0XHRcdGlzUGFpZDogb3JkZXJJc1BhaWQsXG5cdFx0XHRcdFx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IDAsXG5cdFx0XHRcdFx0c3RhcnREZWxpdmVyeVRpbWUsXG5cdFx0XHRcdFx0ZGVsaXZlcnlUaW1lOiBvcmRlcklzUGFpZFxuXHRcdFx0XHRcdFx0PyB0aGlzLmdldEZpbmlzaGVkVGltZShzdGFydERlbGl2ZXJ5VGltZSlcblx0XHRcdFx0XHRcdDogbnVsbCxcblx0XHRcdFx0XHRmaW5pc2hlZFByb2Nlc3NpbmdUaW1lOiAhb3JkZXJJc1BhaWRcblx0XHRcdFx0XHRcdD8gdGhpcy5nZXRGaW5pc2hlZFRpbWUoc3RhcnREZWxpdmVyeVRpbWUpXG5cdFx0XHRcdFx0XHQ6IG51bGwsXG5cdFx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOiBPcmRlcldhcmVob3VzZVN0YXR1cy5QYWNrYWdpbmdGaW5pc2hlZCxcblx0XHRcdFx0XHRjYXJyaWVyU3RhdHVzOiBPcmRlckNhcnJpZXJTdGF0dXMuRGVsaXZlcnlDb21wbGV0ZWQsXG5cdFx0XHRcdFx0b3JkZXJOdW1iZXIsXG5cdFx0XHRcdFx0dXNlcixcblx0XHRcdFx0XHR3YXJlaG91c2U6IHN0b3Jlc1tvcmRlck51bWJlciAlIHN0b3Jlcy5sZW5ndGhdLmlkLFxuXHRcdFx0XHRcdHByb2R1Y3RzOiBvcmRlclByb2R1Y3RzLFxuXHRcdFx0XHRcdF9jcmVhdGVkQXQ6IG9yZGVyRGF0ZSxcblx0XHRcdFx0XHQuLi4oaGFzQ2FycmllciAmJiB7XG5cdFx0XHRcdFx0XHRjYXJyaWVyOiB0aGlzLl9nZXRSYW5kb21DYXJyaWVySWQoXG5cdFx0XHRcdFx0XHRcdG9yZGVyTnVtYmVyLFxuXHRcdFx0XHRcdFx0XHRjYXJyaWVyc1xuXHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGF3YWl0IHRoaXMuX29yZGVyc1NlcnZpY2UuTW9kZWwuaW5zZXJ0TWFueShyYXdPcmRlcnMpO1xuXHRcdH1cblx0fVxuXG5cdEBRdWVyeSgpXG5cdGdldE9yZGVyc0NoYXJ0VG90YWxPcmRlcnMoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyc1NlcnZpY2UuZ2V0T3JkZXJzQ2hhcnRUb3RhbE9yZGVycygpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0Q29tcGxldGVkT3JkZXJzSW5mbyhfY29udGV4dCwgeyBzdG9yZUlkIH06IHsgc3RvcmVJZDogc3RyaW5nIH0pIHtcblx0XHRjb25zdCBvcmRlcnMgPSBhd2FpdCB0aGlzLl9vcmRlcnNTZXJ2aWNlLmdldERhc2hib2FyZENvbXBsZXRlZE9yZGVycyhcblx0XHRcdHN0b3JlSWRcblx0XHQpO1xuXHRcdHJldHVybiB7XG5cdFx0XHR0b3RhbE9yZGVyczogb3JkZXJzLmxlbmd0aCxcblx0XHRcdHRvdGFsUmV2ZW51ZTogb3JkZXJzXG5cdFx0XHRcdC5tYXAoKG9yZGVyKSA9PiBvcmRlci50b3RhbFByaWNlKVxuXHRcdFx0XHQucmVkdWNlKChwcmV2UHJpY2UsIG5leHRQcmljZSkgPT4gcHJldlByaWNlICsgbmV4dFByaWNlLCAwKSxcblx0XHR9O1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0RGFzaGJvYXJkQ29tcGxldGVkT3JkZXJzKCkge1xuXHRcdHJldHVybiB0aGlzLl9vcmRlcnNTZXJ2aWNlLmdldERhc2hib2FyZENvbXBsZXRlZE9yZGVycygpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0RGFzaGJvYXJkQ29tcGxldGVkT3JkZXJzVG9kYXkoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyc1NlcnZpY2UuZ2V0RGFzaGJvYXJkQ29tcGxldGVkT3JkZXJzVG9kYXkoKTtcblx0fVxuXG5cdEBRdWVyeSgnZ2V0T3JkZXInKVxuXHRhc3luYyBnZXRPcmRlcihfY29udGV4dCwgeyBpZCB9OiB7IGlkOiBzdHJpbmcgfSk6IFByb21pc2U8T3JkZXI+IHtcblx0XHRyZXR1cm4gdGhpcy5fb3JkZXJzU2VydmljZS5nZXQoaWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRAUXVlcnkoJ29yZGVycycpXG5cdGFzeW5jIGdldE9yZGVycyhfY29udGV4dCwgeyBmaW5kSW5wdXQgfSk6IFByb21pc2U8T3JkZXJbXT4ge1xuXHRcdHJldHVybiB0aGlzLl9vcmRlcnNTZXJ2aWNlLmZpbmQoe1xuXHRcdFx0Li4uZmluZElucHV0LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldE9yZGVyZWRVc2Vyc0luZm8oX2NvbnRleHQsIHsgc3RvcmVJZCB9OiB7IHN0b3JlSWQ6IHN0cmluZyB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyc1NlcnZpY2UuZ2V0T3JkZXJlZFVzZXJzSW5mbyhzdG9yZUlkKTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldFVzZXJzT3JkZXJzQ291bnRJbmZvKFxuXHRcdF9jb250ZXh0LFxuXHRcdHsgdXNlcnNJZHMgfTogeyB1c2Vyc0lkczogc3RyaW5nW10gfVxuXHQpIHtcblx0XHRjb25zdCBvcmRlcnNJbmZvID0gYXdhaXQgdGhpcy5fb3JkZXJzU2VydmljZS5Nb2RlbC5hZ2dyZWdhdGUoW1xuXHRcdFx0e1xuXHRcdFx0XHQkbWF0Y2g6IHtcblx0XHRcdFx0XHQkYW5kOiBbXG5cdFx0XHRcdFx0XHR7ICd1c2VyLl9pZCc6IHsgJG5lOiBudWxsIH0gfSxcblx0XHRcdFx0XHRcdHVzZXJzSWRzXG5cdFx0XHRcdFx0XHRcdD8ge1xuXHRcdFx0XHRcdFx0XHRcdFx0J3VzZXIuX2lkJzoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQkaW46IHVzZXJzSWRzLm1hcChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQoaSkgPT4gbmV3IE9iamVjdElkKGkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHRcdFx0OiB7fSxcblx0XHRcdFx0XHRdLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JGdyb3VwOiB7XG5cdFx0XHRcdFx0X2lkOiAnJHVzZXIuX2lkJyxcblx0XHRcdFx0XHRvcmRlcnNDb3VudDogeyAkc3VtOiAxIH0sXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdF0pO1xuXG5cdFx0cmV0dXJuIG9yZGVyc0luZm8ubWFwKChvKSA9PiAoe1xuXHRcdFx0aWQ6IG8uX2lkLFxuXHRcdFx0b3JkZXJzQ291bnQ6IG8ub3JkZXJzQ291bnQsXG5cdFx0fSkpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0TWVyY2hhbnRzT3JkZXJzQ291bnRJbmZvKFxuXHRcdF9jb250ZXh0LFxuXHRcdHsgbWVyY2hhbnRzSWRzIH06IHsgbWVyY2hhbnRzSWRzOiBzdHJpbmdbXSB9XG5cdCkge1xuXHRcdGNvbnN0IG9yZGVyc0luZm8gPSBhd2FpdCB0aGlzLl9vcmRlcnNTZXJ2aWNlLk1vZGVsLmFnZ3JlZ2F0ZShbXG5cdFx0XHR7XG5cdFx0XHRcdCRtYXRjaDoge1xuXHRcdFx0XHRcdCRhbmQ6IFtcblx0XHRcdFx0XHRcdHsgd2FyZWhvdXNlOiB7ICRuZTogbnVsbCB9IH0sXG5cdFx0XHRcdFx0XHRtZXJjaGFudHNJZHNcblx0XHRcdFx0XHRcdFx0PyB7IHdhcmVob3VzZTogeyAkaW46IG1lcmNoYW50c0lkcyB9IH1cblx0XHRcdFx0XHRcdFx0OiB7fSxcblx0XHRcdFx0XHRdLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JGdyb3VwOiB7XG5cdFx0XHRcdFx0X2lkOiAnJHdhcmVob3VzZScsXG5cdFx0XHRcdFx0b3JkZXJzQ291bnQ6IHsgJHN1bTogMSB9LFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHRdKTtcblxuXHRcdHJldHVybiBvcmRlcnNJbmZvLm1hcCgobykgPT4gKHtcblx0XHRcdGlkOiBvLl9pZCxcblx0XHRcdG9yZGVyc0NvdW50OiBvLm9yZGVyc0NvdW50LFxuXHRcdH0pKTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHVwZGF0ZU9yZGVyQ2FycmllclN0YXR1cyhcblx0XHRfY29udGV4dCxcblx0XHR7XG5cdFx0XHRvcmRlcklkLFxuXHRcdFx0c3RhdHVzLFxuXHRcdH06IHtcblx0XHRcdG9yZGVySWQ6IE9yZGVyWydpZCddO1xuXHRcdFx0c3RhdHVzOiBzdHJpbmc7XG5cdFx0fVxuXHQpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyc1NlcnZpY2UudXBkYXRlQ2FycmllclN0YXR1cyhcblx0XHRcdG9yZGVySWQsXG5cdFx0XHRPcmRlckNhcnJpZXJTdGF0dXNbc3RhdHVzXVxuXHRcdCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVPcmRlcldhcmVob3VzZVN0YXR1cyhcblx0XHRfY29udGV4dCxcblx0XHR7XG5cdFx0XHRvcmRlcklkLFxuXHRcdFx0c3RhdHVzLFxuXHRcdH06IHtcblx0XHRcdG9yZGVySWQ6IE9yZGVyWydpZCddO1xuXHRcdFx0c3RhdHVzOiBzdHJpbmc7XG5cdFx0fVxuXHQpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyc1NlcnZpY2UudXBkYXRlV2FyZWhvdXNlU3RhdHVzKFxuXHRcdFx0b3JkZXJJZCxcblx0XHRcdE9yZGVyV2FyZWhvdXNlU3RhdHVzW3N0YXR1c11cblx0XHQpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgcGF5T3JkZXJXaXRoU3RyaXBlKFxuXHRcdF9jb250ZXh0LFxuXHRcdHtcblx0XHRcdG9yZGVySWQsXG5cdFx0XHRjYXJkSWQsXG5cdFx0fToge1xuXHRcdFx0b3JkZXJJZDogT3JkZXJbJ2lkJ107XG5cdFx0XHRjYXJkSWQ6IHN0cmluZztcblx0XHR9XG5cdCk6IFByb21pc2U8T3JkZXI+IHtcblx0XHRyZXR1cm4gdGhpcy5fb3JkZXJzU2VydmljZS5wYXlXaXRoU3RyaXBlKG9yZGVySWQsIGNhcmRJZCk7XG5cdH1cblxuXHRAUmVzb2x2ZVByb3BlcnR5KCdjYXJyaWVyJylcblx0YXN5bmMgZ2V0Q2Fycmllcihfb3JkZXI6IElPcmRlcik6IFByb21pc2U8Q2Fycmllcj4ge1xuXHRcdGNvbnN0IG9yZGVyID0gbmV3IE9yZGVyKF9vcmRlcik7XG5cblx0XHRyZXR1cm4gb3JkZXIuY2FycmllcklkID09IG51bGxcblx0XHRcdD8gbnVsbFxuXHRcdFx0OiB0aGlzLl9jYXJyaWVyc1NlcnZpY2Vcblx0XHRcdFx0XHQuZ2V0KG9yZGVyLmNhcnJpZXJJZClcblx0XHRcdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0XHRcdC50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBSZXNvbHZlUHJvcGVydHkoJ3dhcmVob3VzZScpXG5cdGFzeW5jIGdldFdhcmVob3VzZShfb3JkZXI6IElPcmRlcik6IFByb21pc2U8V2FyZWhvdXNlPiB7XG5cdFx0Y29uc3Qgb3JkZXIgPSBuZXcgT3JkZXIoX29yZGVyKTtcblxuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VzU2VydmljZVxuXHRcdFx0LmdldChvcmRlci53YXJlaG91c2VJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRwcml2YXRlIGdldEZpbmlzaGVkVGltZShkYXRlOiBEYXRlKTogRGF0ZSB7XG5cdFx0Y29uc3QgcmFuZG9tTWludXRlcyA9IF8ucmFuZG9tKDEsIDMwKTtcblx0XHRjb25zdCByYW5kb21TZWMgPSBfLnJhbmRvbSgxLCA2MCk7XG5cdFx0Y29uc3Qgb2xkRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuXG5cdFx0b2xkRGF0ZS5zZXRTZWNvbmRzKHJhbmRvbVNlYyk7XG5cblx0XHRyZXR1cm4gbmV3IERhdGUob2xkRGF0ZS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpICsgcmFuZG9tTWludXRlcykpO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRDbG9zZURhdGUoZGF0ZTogRGF0ZSk6IERhdGUge1xuXHRcdGNvbnN0IHJhbmRvbU1pbnV0ZXMgPSBfLnJhbmRvbSgxLCAxMCk7XG5cdFx0Y29uc3QgcmFuZG9tU2VjID0gXy5yYW5kb20oMSwgNjApO1xuXHRcdGNvbnN0IG9sZERhdGUgPSBuZXcgRGF0ZShkYXRlKTtcblxuXHRcdG9sZERhdGUuc2V0U2Vjb25kcyhyYW5kb21TZWMpO1xuXG5cdFx0cmV0dXJuIG5ldyBEYXRlKG9sZERhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSAtIHJhbmRvbU1pbnV0ZXMpKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgT3JkZXJSZXNvbHZlciB9IGZyb20gJy4vb3JkZXIucmVzb2x2ZXInO1xuXG5ATW9kdWxlKHtcblx0cHJvdmlkZXJzOiBbT3JkZXJSZXNvbHZlcl0sXG59KVxuZXhwb3J0IGNsYXNzIE9yZGVyc01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgUHJvZHVjdHNDYXRlZ29yeVJlc29sdmVyIH0gZnJvbSAnLi9wcm9kdWN0cy1jYXRlZ29yeS5yZXNvbHZlcic7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtQcm9kdWN0c0NhdGVnb3J5UmVzb2x2ZXJdLFxufSlcbmV4cG9ydCBjbGFzcyBQcm9kdWN0c0NhdGVnb3JpZXNNb2R1bGUge31cbiIsImltcG9ydCB7IE11dGF0aW9uLCBRdWVyeSwgUmVzb2x2ZXIgfSBmcm9tICdAbmVzdGpzL2dyYXBocWwnO1xuaW1wb3J0IHsgUHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3NlcnZpY2VzL3Byb2R1Y3RzJztcbmltcG9ydCB7IElQcm9kdWN0c0NhdGVnb3J5Q3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lQcm9kdWN0c0NhdGVnb3J5JztcbmltcG9ydCB7IGZpcnN0IH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5AUmVzb2x2ZXIoJ1Byb2R1Y3RzQ2F0ZWdvcnknKVxuZXhwb3J0IGNsYXNzIFByb2R1Y3RzQ2F0ZWdvcnlSZXNvbHZlciB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3Byb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2U6IFByb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2Vcblx0KSB7fVxuXG5cdEBRdWVyeSgncHJvZHVjdHNDYXRlZ29yeScpXG5cdGFzeW5jIGdldFByb2R1Y3RzQ2F0ZWdvcnkoXywgeyBpZCB9OiB7IGlkOiBzdHJpbmcgfSkge1xuXHRcdHJldHVybiB0aGlzLl9wcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlXG5cdFx0XHQuZ2V0KGlkKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBRdWVyeSgncHJvZHVjdHNDYXRlZ29yaWVzJylcblx0YXN5bmMgZ2V0UHJvZHVjdHNDYXRlZ29yaWVzKF8sIHsgZmluZElucHV0IH0pIHtcblx0XHRyZXR1cm4gdGhpcy5fcHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZS5maW5kKHtcblx0XHRcdC4uLmZpbmRJbnB1dCxcblx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0fSk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyBjcmVhdGVQcm9kdWN0c0NhdGVnb3J5KFxuXHRcdF8sXG5cdFx0eyBjcmVhdGVJbnB1dCB9OiB7IGNyZWF0ZUlucHV0OiBJUHJvZHVjdHNDYXRlZ29yeUNyZWF0ZU9iamVjdCB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl9wcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlLmNyZWF0ZShjcmVhdGVJbnB1dCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVQcm9kdWN0c0NhdGVnb3J5KFxuXHRcdF8sXG5cdFx0e1xuXHRcdFx0aWQsXG5cdFx0XHR1cGRhdGVJbnB1dCxcblx0XHR9OiB7IGlkOiBzdHJpbmc7IHVwZGF0ZUlucHV0OiBJUHJvZHVjdHNDYXRlZ29yeUNyZWF0ZU9iamVjdCB9XG5cdCkge1xuXHRcdGF3YWl0IHRoaXMuX3Byb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHRoaXMuX3Byb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2UudXBkYXRlKGlkLCB1cGRhdGVJbnB1dCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyByZW1vdmVQcm9kdWN0c0NhdGVnb3JpZXNCeUlkcyhfLCB7IGlkcyB9OiB7IGlkczogc3RyaW5nW10gfSkge1xuXHRcdGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCB0aGlzLl9wcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlLmZpbmQoe1xuXHRcdFx0X2lkOiB7ICRpbjogaWRzIH0sXG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgY2F0ZWdvcmllc0lkcyA9IGNhdGVnb3JpZXMubWFwKChjKSA9PiBjLmlkKTtcblxuXHRcdHJldHVybiB0aGlzLl9wcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlLnJlbW92ZU11bHRpcGxlQnlJZHMoXG5cdFx0XHRjYXRlZ29yaWVzSWRzXG5cdFx0KTtcblx0fVxufVxuIiwiaW1wb3J0IHsgUmVzb2x2ZXIsIFF1ZXJ5LCBNdXRhdGlvbiB9IGZyb20gJ0BuZXN0anMvZ3JhcGhxbCc7XG5pbXBvcnQgeyBmaXJzdCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFByb2R1Y3RzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3Byb2R1Y3RzJztcbmltcG9ydCB7XG5cdFdhcmVob3VzZXNTZXJ2aWNlLFxuXHRXYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLFxufSBmcm9tICcuLi8uLi9zZXJ2aWNlcy93YXJlaG91c2VzJztcbmltcG9ydCBQcm9kdWN0IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvUHJvZHVjdCc7XG5cbkBSZXNvbHZlcignUHJvZHVjdCcpXG5leHBvcnQgY2xhc3MgUHJvZHVjdFJlc29sdmVyIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfcHJvZHVjdHNTZXJ2aWNlOiBQcm9kdWN0c1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfd2FyZWhvdXNlc1NlcnZpY2U6IFdhcmVob3VzZXNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3dhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2U6IFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2Vcblx0KSB7fVxuXG5cdEBRdWVyeSgncHJvZHVjdCcpXG5cdGFzeW5jIGdldFByb2R1Y3QoXywgeyBpZCB9OiB7IGlkOiBzdHJpbmcgfSkge1xuXHRcdHJldHVybiB0aGlzLl9wcm9kdWN0c1NlcnZpY2UuZ2V0KGlkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXHR9XG5cblx0QFF1ZXJ5KCdwcm9kdWN0cycpXG5cdGFzeW5jIGdldFByb2R1Y3RzKFxuXHRcdF8sXG5cdFx0eyBmaW5kSW5wdXQsIHBhZ2luZ09wdGlvbnMgPSB7fSwgZXhpc3RlZFByb2R1Y3RzSWRzID0gW10gfVxuXHQpIHtcblx0XHRpZiAoIXBhZ2luZ09wdGlvbnMgfHwgKHBhZ2luZ09wdGlvbnMgJiYgIXBhZ2luZ09wdGlvbnNbJ3NvcnQnXSkpIHtcblx0XHRcdHBhZ2luZ09wdGlvbnNbJ3NvcnQnXSA9IHsgZmllbGQ6ICdfY3JlYXRlZEF0Jywgc29ydEJ5OiAnZGVzYycgfTtcblx0XHR9XG5cblx0XHRjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHRoaXMuX3Byb2R1Y3RzU2VydmljZS5nZXRQcm9kdWN0cyhcblx0XHRcdGZpbmRJbnB1dCxcblx0XHRcdHBhZ2luZ09wdGlvbnMsXG5cdFx0XHRleGlzdGVkUHJvZHVjdHNJZHNcblx0XHQpO1xuXG5cdFx0cmV0dXJuIHByb2R1Y3RzLm1hcCgocCkgPT4gbmV3IFByb2R1Y3QocCkpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0Q291bnRPZlByb2R1Y3RzKF8sIHsgZXhpc3RlZFByb2R1Y3RzSWRzID0gW10gfSkge1xuXHRcdHJldHVybiB0aGlzLl9wcm9kdWN0c1NlcnZpY2UuTW9kZWwuZmluZCh7XG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdFx0X2lkOiB7ICRuaW46IGV4aXN0ZWRQcm9kdWN0c0lkcyB9LFxuXHRcdH0pXG5cdFx0XHQuY291bnREb2N1bWVudHMoKVxuXHRcdFx0LmV4ZWMoKTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHJlbW92ZVByb2R1Y3RzQnlJZHMoXywgeyBpZHMgfTogeyBpZHM6IHN0cmluZ1tdIH0pIHtcblx0XHRjb25zdCB3YXJlaG91c2VzID0gYXdhaXQgdGhpcy5fd2FyZWhvdXNlc1NlcnZpY2UuZmluZCh7XG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH0pO1xuXHRcdGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgdGhpcy5fcHJvZHVjdHNTZXJ2aWNlLmZpbmQoe1xuXHRcdFx0X2lkOiB7ICRpbjogaWRzIH0sXG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH0pO1xuXHRcdGNvbnN0IHByb2R1Y3RzSWRzID0gcHJvZHVjdHMubWFwKChkKSA9PiBkLmlkKTtcblxuXHRcdGZvciAoY29uc3Qgd2FyZWhvdXNlIG9mIHdhcmVob3VzZXMpIHtcblx0XHRcdGNvbnN0IHByb2R1Y3RzRm9yRGVsID0gd2FyZWhvdXNlLnByb2R1Y3RzXG5cdFx0XHRcdC5maWx0ZXIoKHApID0+IHByb2R1Y3RzSWRzLmluY2x1ZGVzKHAucHJvZHVjdElkKSlcblx0XHRcdFx0Lm1hcCgocCkgPT4gcC5wcm9kdWN0SWQpO1xuXG5cdFx0XHRpZiAocHJvZHVjdHNGb3JEZWwubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLl93YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLnJlbW92ZShcblx0XHRcdFx0XHR3YXJlaG91c2UuaWQsXG5cdFx0XHRcdFx0cHJvZHVjdHNGb3JEZWxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRhd2FpdCB0aGlzLl9wcm9kdWN0c1NlcnZpY2UucmVtb3ZlTXVsdGlwbGVCeUlkcyhwcm9kdWN0c0lkcyk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHQvLyBAVXNlR3VhcmRzKEF1dGhHdWFyZCgnand0JykpXG5cdGFzeW5jIHNhdmVQcm9kdWN0KF8sIHsgcHJvZHVjdCB9OiB7IHByb2R1Y3QgfSkge1xuXHRcdGNvbnN0IHByb2R1Y3RJZCA9IHByb2R1Y3RbJ19pZCddO1xuXHRcdGF3YWl0IHRoaXMuX3Byb2R1Y3RzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKHByb2R1Y3RJZCk7XG5cblx0XHRwcm9kdWN0LmlkID0gcHJvZHVjdElkO1xuXHRcdHJldHVybiB0aGlzLl9wcm9kdWN0c1NlcnZpY2Uuc2F2ZShwcm9kdWN0KTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIGNyZWF0ZVByb2R1Y3QoXywgeyBwcm9kdWN0IH06IHsgcHJvZHVjdCB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3Byb2R1Y3RzU2VydmljZS5jcmVhdGUocHJvZHVjdCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IFByb2R1Y3RSZXNvbHZlciB9IGZyb20gJy4vcHJvZHVjdC5yZXNvbHZlcic7XG5pbXBvcnQgeyBQcm9kdWN0c0NhdGVnb3JpZXNNb2R1bGUgfSBmcm9tICcuL2NhdGVnb3JpZXMvcHJvZHVjdHMtY2F0ZWdvcmllcy5tb2R1bGUnO1xuXG5ATW9kdWxlKHtcblx0aW1wb3J0czogW1Byb2R1Y3RzQ2F0ZWdvcmllc01vZHVsZV0sXG5cdHByb3ZpZGVyczogW1Byb2R1Y3RSZXNvbHZlcl0sXG59KVxuZXhwb3J0IGNsYXNzIFByb2R1Y3RzTW9kdWxlIHt9XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwic2NhbGFyIERhdGVcXG5cIiIsImV4cG9ydCAqIGZyb20gJy4vZGF0ZS50eXBlLmdyYXBocWwnO1xuZXhwb3J0ICogZnJvbSAnLi9zY2FsYXJzJztcbiIsImltcG9ydCB7IERhdGVTY2FsYXIgfSBmcm9tICcuL2RhdGUudHlwZS5ncmFwaHFsJztcblxuZXhwb3J0IGNvbnN0IFNDQUxBUlMgPSB7XG5cdERhdGU6IERhdGVTY2FsYXIsXG59O1xuIiwiZXhwb3J0IGNvbnN0IFNVQlNDUklQVElPTl9TRVJWRVIgPSAnU1VCU0NSSVBUSU9OX1NFUlZFUic7XG4iLCJpbXBvcnQgeyBjcmVhdGVTZXJ2ZXIgfSBmcm9tICdodHRwJztcblxuaW1wb3J0IHsgU1VCU0NSSVBUSU9OX1NFUlZFUiB9IGZyb20gJy4vc3Vic2NyaXB0aW9uLmNvbnN0YW50cyc7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTdWJzY3JpcHRpb25Qcm92aWRlcnMgPSAocG9ydDogbnVtYmVyID0gNTA1MCkgPT4gW1xuXHR7XG5cdFx0cHJvdmlkZTogU1VCU0NSSVBUSU9OX1NFUlZFUixcblxuXHRcdHVzZUZhY3Rvcnk6ICgpID0+IHtcblx0XHRcdGNvbnN0IHNlcnZlciA9IGNyZWF0ZVNlcnZlcigpO1xuXG5cdFx0XHRjb25zdCBjbG9zZVNlcnZlciA9ICgpID0+IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRpZiAoc2VydmVyICE9IG51bGwpIHtcblx0XHRcdFx0XHRcdHNlcnZlci5jbG9zZSgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHByb2Nlc3MuZXhpdCgwKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0cHJvY2Vzcy5leGl0KDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHRwcm9jZXNzXG5cdFx0XHRcdC5vbignU0lHSU5UJywgKCkgPT4gY2xvc2VTZXJ2ZXIoKSlcblx0XHRcdFx0Lm9uKCdTSUdURVJNJywgKCkgPT4gY2xvc2VTZXJ2ZXIoKSk7XG5cblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT5cblx0XHRcdFx0c2VydmVyLmxpc3Rlbihwb3J0LCAoKSA9PiByZXNvbHZlKHNlcnZlcikpXG5cdFx0XHQpO1xuXHRcdH0sXG5cdH0sXG5dO1xuIiwiaW1wb3J0IHsgRHluYW1pY01vZHVsZSwgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgY3JlYXRlU3Vic2NyaXB0aW9uUHJvdmlkZXJzIH0gZnJvbSAnLi9zdWJzY3JpcHRpb24ucHJvdmlkZXJzJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbnNTZXJ2aWNlIH0gZnJvbSAnLi9zdWJzY3JpcHRpb25zLnNlcnZpY2UnO1xuXG5ATW9kdWxlKHtcblx0cHJvdmlkZXJzOiBbU3Vic2NyaXB0aW9uc1NlcnZpY2VdLFxuXHRleHBvcnRzOiBbU3Vic2NyaXB0aW9uc1NlcnZpY2VdLFxufSlcbmV4cG9ydCBjbGFzcyBTdWJzY3JpcHRpb25zTW9kdWxlIHtcblx0c3RhdGljIGZvclJvb3QocG9ydDogbnVtYmVyKTogRHluYW1pY01vZHVsZSB7XG5cdFx0Y29uc3QgcHJvdmlkZXJzID0gY3JlYXRlU3Vic2NyaXB0aW9uUHJvdmlkZXJzKHBvcnQpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRtb2R1bGU6IFN1YnNjcmlwdGlvbnNNb2R1bGUsXG5cdFx0XHRwcm92aWRlcnM6IFsuLi5wcm92aWRlcnNdLFxuXHRcdFx0ZXhwb3J0czogWy4uLnByb3ZpZGVyc10sXG5cdFx0fTtcblx0fVxufVxuIiwiaW1wb3J0IFdlYlNvY2tldCBmcm9tICd3cyc7XG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9uTW9kdWxlRGVzdHJveSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IFNVQlNDUklQVElPTl9TRVJWRVIgfSBmcm9tICcuL3N1YnNjcmlwdGlvbi5jb25zdGFudHMnO1xuaW1wb3J0IHsgU2VydmVyT3B0aW9ucywgU3Vic2NyaXB0aW9uU2VydmVyIH0gZnJvbSAnc3Vic2NyaXB0aW9ucy10cmFuc3BvcnQtd3MnO1xuaW1wb3J0IHsgZXhlY3V0ZSwgc3Vic2NyaWJlIH0gZnJvbSAnZ3JhcGhxbCc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBTdWJzY3JpcHRpb25zU2VydmljZSBpbXBsZW1lbnRzIE9uTW9kdWxlRGVzdHJveSB7XG5cdHByaXZhdGUgc3Vic2NyaXB0aW9uU2VydmVyOiBTdWJzY3JpcHRpb25TZXJ2ZXI7XG5cblx0Y29uc3RydWN0b3IoQEluamVjdChTVUJTQ1JJUFRJT05fU0VSVkVSKSBwcml2YXRlIHJlYWRvbmx5IHdzKSB7fVxuXG5cdGNyZWF0ZVN1YnNjcmlwdGlvblNlcnZlcihcblx0XHRzY2hlbWE6IGFueSxcblx0XHRvcHRpb25zOiBTZXJ2ZXJPcHRpb25zID0ge30sXG5cdFx0c29ja2V0T3B0aW9uczogV2ViU29ja2V0LlNlcnZlck9wdGlvbnMgPSB7fVxuXHQpIHtcblx0XHR0aGlzLnN1YnNjcmlwdGlvblNlcnZlciA9IG5ldyBTdWJzY3JpcHRpb25TZXJ2ZXIoXG5cdFx0XHR7XG5cdFx0XHRcdGV4ZWN1dGUsXG5cdFx0XHRcdHN1YnNjcmliZSxcblx0XHRcdFx0c2NoZW1hLFxuXHRcdFx0XHQuLi5vcHRpb25zLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0c2VydmVyOiB0aGlzLndzLFxuXHRcdFx0XHRwYXRoOiAnL3N1YnNjcmlwdGlvbnMnLFxuXHRcdFx0XHQuLi5zb2NrZXRPcHRpb25zLFxuXHRcdFx0fVxuXHRcdCk7XG5cdH1cblxuXHRvbk1vZHVsZURlc3Ryb3koKSB7XG5cdFx0dGhpcy53cy5jbG9zZSgpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNdXRhdGlvbiwgUXVlcnksIFJlc29sdmVQcm9wZXJ0eSwgUmVzb2x2ZXIgfSBmcm9tICdAbmVzdGpzL2dyYXBocWwnO1xuaW1wb3J0IHsgVXNlcnNPcmRlcnNTZXJ2aWNlLCBVc2Vyc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91c2Vycyc7XG5pbXBvcnQgeyBmaXJzdCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7XG5cdGRlZmF1bHQgYXMgSVVzZXIsXG5cdElVc2VyQ3JlYXRlT2JqZWN0LFxuXHRJUmVzcG9uc2VHZW5lcmF0ZTEwMDBDdXN0b21lcnMsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JVXNlcic7XG5pbXBvcnQgVXNlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1VzZXInO1xuaW1wb3J0IHsgRGV2aWNlc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9kZXZpY2VzJztcbmltcG9ydCB7IFVzZXJzQXV0aFNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91c2Vycy9Vc2Vyc0F1dGhTZXJ2aWNlJztcbmltcG9ydCB7XG5cdEFkZGFibGVSZWdpc3RyYXRpb25JbmZvLFxuXHRJVXNlclJlZ2lzdHJhdGlvbklucHV0LFxufSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL3JvdXRlcnMvSVVzZXJBdXRoUm91dGVyJztcbmltcG9ydCB7IE9iamVjdElkIH0gZnJvbSAnbW9uZ29kYic7XG5pbXBvcnQgeyBPcmRlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvb3JkZXJzJztcblxuQFJlc29sdmVyKCdVc2VyJylcbmV4cG9ydCBjbGFzcyBVc2VyUmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IF91c2Vyc1NlcnZpY2U6IFVzZXJzU2VydmljZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IF91c2Vyc0F1dGhTZXJ2aWNlOiBVc2Vyc0F1dGhTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3VzZXJzT3JkZXJzU2VydmljZTogVXNlcnNPcmRlcnNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2RldmljZXNTZXJ2aWNlOiBEZXZpY2VzU2VydmljZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9vcmRlcnNTZXJ2aWNlOiBPcmRlcnNTZXJ2aWNlXG5cdCkge31cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBpc1VzZXJFbWFpbEV4aXN0cyhfLCB7IGVtYWlsIH06IHsgZW1haWw6IHN0cmluZyB9KTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0cmV0dXJuIHRoaXMuX3VzZXJzU2VydmljZS5pc1VzZXJFbWFpbEV4aXN0cyhlbWFpbCk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZW5lcmF0ZTEwMDBDdXN0b21lcnMoXG5cdFx0Xyxcblx0XHR7IGRlZmF1bHRMbmcsIGRlZmF1bHRMYXQgfTogeyBkZWZhdWx0TG5nOiBudW1iZXI7IGRlZmF1bHRMYXQ6IG51bWJlciB9XG5cdCk6IFByb21pc2U8SVJlc3BvbnNlR2VuZXJhdGUxMDAwQ3VzdG9tZXJzPiB7XG5cdFx0bGV0IHN1Y2Nlc3MgPSB0cnVlO1xuXHRcdGxldCBtZXNzYWdlID0gbnVsbDtcblxuXHRcdHRyeSB7XG5cdFx0XHRhd2FpdCB0aGlzLl9vcmRlcnNTZXJ2aWNlLmdlbmVyYXRlT3JkZXJzUGVyRWFjaEN1c3RvbWVyKFxuXHRcdFx0XHRhd2FpdCB0aGlzLl91c2Vyc1NlcnZpY2UuZ2VuZXJhdGUxMDAwQ3VzdG9tZXJzKFxuXHRcdFx0XHRcdGRlZmF1bHRMbmcsXG5cdFx0XHRcdFx0ZGVmYXVsdExhdFxuXHRcdFx0XHQpXG5cdFx0XHQpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0bWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuXHRcdFx0c3VjY2VzcyA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzLFxuXHRcdFx0bWVzc2FnZSxcblx0XHR9O1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0U29jaWFsKF8sIHsgc29jaWFsSWQgfTogeyBzb2NpYWxJZDogc3RyaW5nIH0pIHtcblx0XHRyZXR1cm4gdGhpcy5fdXNlcnNTZXJ2aWNlLmdldFNvY2lhbChzb2NpYWxJZCk7XG5cdH1cblxuXHRAUXVlcnkoJ2lzVXNlckV4aXN0cycpXG5cdGFzeW5jIHVzZXJFeGlzdHMoXywgeyBjb25kaXRpb25zIH0pOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRjb25zdCB1c2VySWQgPSBjb25kaXRpb25zLmV4Y2VwdEN1c3RvbWVySWQ7XG5cdFx0Y29uc3QgbWVtYmVyS2V5ID0gY29uZGl0aW9ucy5tZW1iZXJLZXk7XG5cdFx0Y29uc3QgbWVtYmVyVmFsdWUgPSBjb25kaXRpb25zLm1lbWJlclZhbHVlO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdChhd2FpdCB0aGlzLl91c2Vyc1NlcnZpY2UuY291bnQoe1xuXHRcdFx0XHRfaWQ6IHsgJG5pbjogW25ldyBPYmplY3RJZCh1c2VySWQpXSB9LFxuXHRcdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdFx0XHRbbWVtYmVyS2V5XTogbWVtYmVyVmFsdWUsXG5cdFx0XHR9KSkgPiAwXG5cdFx0KTtcblx0fVxuXG5cdEBRdWVyeSgndXNlcicpXG5cdGFzeW5jIGdldFVzZXIoXywgeyBpZCB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3VzZXJzU2VydmljZS5nZXQoaWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRAUXVlcnkoJ3VzZXJzJylcblx0YXN5bmMgZ2V0VXNlcnMoXywgeyBmaW5kSW5wdXQsIHBhZ2luZ09wdGlvbnMgPSB7fSB9KSB7XG5cdFx0aWYgKCFwYWdpbmdPcHRpb25zIHx8IChwYWdpbmdPcHRpb25zICYmICFwYWdpbmdPcHRpb25zWydzb3J0J10pKSB7XG5cdFx0XHRwYWdpbmdPcHRpb25zWydzb3J0J10gPSB7IGZpZWxkOiAnX2NyZWF0ZWRBdCcsIHNvcnRCeTogJ2Rlc2MnIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgdXNlcnMgPSBhd2FpdCB0aGlzLl91c2Vyc1NlcnZpY2UuZ2V0VXNlcnMoXG5cdFx0XHRmaW5kSW5wdXQsXG5cdFx0XHRwYWdpbmdPcHRpb25zXG5cdFx0KTtcblxuXHRcdHJldHVybiB1c2Vycy5tYXAoKHUpID0+IG5ldyBVc2VyKHUpKTtcblx0fVxuXG5cdEBRdWVyeSgnZ2V0T3JkZXJzJylcblx0YXN5bmMgZ2V0T3JkZXJzKF8sIHsgdXNlcklkIH0pIHtcblx0XHRhd2FpdCB0aGlzLl91c2Vyc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyh1c2VySWQpO1xuXG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5fdXNlcnNPcmRlcnNTZXJ2aWNlXG5cdFx0XHQuZ2V0KHVzZXJJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0Q291bnRPZlVzZXJzKCkge1xuXHRcdHJldHVybiB0aGlzLl91c2Vyc1NlcnZpY2UuTW9kZWwuZmluZCh7IGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0gfSlcblx0XHRcdC5jb3VudERvY3VtZW50cygpXG5cdFx0XHQuZXhlYygpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0Q3VzdG9tZXJNZXRyaWNzKF8sIHsgaWQgfTogeyBpZDogc3RyaW5nIH0pIHtcblx0XHRyZXR1cm4gdGhpcy5fdXNlcnNPcmRlcnNTZXJ2aWNlLmdldEN1c3RvbWVyTWV0cmljcyhpZCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVVc2VyKFxuXHRcdF8sXG5cdFx0eyBpZCwgdXBkYXRlT2JqZWN0IH06IHsgaWQ6IHN0cmluZzsgdXBkYXRlT2JqZWN0OiBJVXNlckNyZWF0ZU9iamVjdCB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl91c2Vyc1NlcnZpY2UudXBkYXRlVXNlcihpZCwgdXBkYXRlT2JqZWN0KTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHVwZGF0ZVVzZXJFbWFpbChcblx0XHRfLFxuXHRcdHsgdXNlcklkLCBlbWFpbCB9OiB7IHVzZXJJZDogc3RyaW5nOyBlbWFpbDogc3RyaW5nIH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3VzZXJzU2VydmljZS51cGRhdGVFbWFpbCh1c2VySWQsIGVtYWlsKTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHJlZ2lzdGVyVXNlcihcblx0XHRfLFxuXHRcdHsgcmVnaXN0ZXJJbnB1dCB9OiB7IHJlZ2lzdGVySW5wdXQ6IElVc2VyUmVnaXN0cmF0aW9uSW5wdXQgfVxuXHQpIHtcblx0XHRyZXR1cm4gdGhpcy5fdXNlcnNBdXRoU2VydmljZS5yZWdpc3RlcihyZWdpc3RlcklucHV0KTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHVzZXJMb2dpbihcblx0XHRfLFxuXHRcdHsgZW1haWwsIHBhc3N3b3JkIH06IHsgZW1haWw6IHN0cmluZzsgcGFzc3dvcmQ6IHN0cmluZyB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl91c2Vyc0F1dGhTZXJ2aWNlLmxvZ2luKGVtYWlsLCBwYXNzd29yZCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyByZW1vdmVVc2Vyc0J5SWRzKG9iaiwgeyBpZHMgfTogeyBpZHM6IHN0cmluZ1tdIH0pIHtcblx0XHRjb25zdCB1c2VycyA9IGF3YWl0IHRoaXMuX3VzZXJzU2VydmljZS5maW5kKHtcblx0XHRcdF9pZDogeyAkaW46IGlkcyB9LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IHVzZXJzSWRzID0gdXNlcnMubWFwKCh1KSA9PiB1LmlkKTtcblxuXHRcdHJldHVybiB0aGlzLl91c2Vyc1NlcnZpY2UucmVtb3ZlTXVsdGlwbGVCeUlkcyh1c2Vyc0lkcyk7XG5cdH1cblxuXHRAUmVzb2x2ZVByb3BlcnR5KCdkZXZpY2VzJylcblx0YXN5bmMgZ2V0RGV2aWNlcyhfdXNlcjogSVVzZXIpIHtcblx0XHRjb25zdCB1c2VyID0gbmV3IFVzZXIoX3VzZXIpO1xuXHRcdHJldHVybiAoXG5cdFx0XHQoYXdhaXQgdGhpcy5fZGV2aWNlc1NlcnZpY2UuZ2V0TXVsdGlwbGVEZXZpY2VzKHVzZXIuZGV2aWNlc0lkcykpXG5cdFx0XHRcdC8vIC5nZXRNdWx0aXBsZSh1c2VyLmRldmljZXNJZHMpXG5cdFx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHRcdC50b1Byb21pc2UoKVxuXHRcdCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVVc2VyUGFzc3dvcmQoXG5cdFx0Xyxcblx0XHR7XG5cdFx0XHRpZCxcblx0XHRcdHBhc3N3b3JkLFxuXHRcdH06IHsgaWQ6IFVzZXJbJ2lkJ107IHBhc3N3b3JkOiB7IGN1cnJlbnQ6IHN0cmluZzsgbmV3OiBzdHJpbmcgfSB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl91c2Vyc0F1dGhTZXJ2aWNlLnVwZGF0ZVBhc3N3b3JkKGlkLCBwYXNzd29yZCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyBhZGRVc2VyUmVnaXN0cmF0aW9uSW5mbyhcblx0XHRfLFxuXHRcdHtcblx0XHRcdGlkLFxuXHRcdFx0cmVnaXN0cmF0aW9uSW5mbyxcblx0XHR9OiB7IGlkOiBVc2VyWydpZCddOyByZWdpc3RyYXRpb25JbmZvOiBBZGRhYmxlUmVnaXN0cmF0aW9uSW5mbyB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl91c2Vyc0F1dGhTZXJ2aWNlLmFkZFJlZ2lzdHJhdGlvbkluZm8oaWQsIHJlZ2lzdHJhdGlvbkluZm8pO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgYmFuVXNlcihfLCB7IGlkIH06IHsgaWQ6IFVzZXJbJ2lkJ10gfSkge1xuXHRcdHJldHVybiB0aGlzLl91c2Vyc1NlcnZpY2UuYmFuVXNlcihpZCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1bmJhblVzZXIoXywgeyBpZCB9OiB7IGlkOiBVc2VyWydpZCddIH0pIHtcblx0XHRyZXR1cm4gdGhpcy5fdXNlcnNTZXJ2aWNlLnVuYmFuVXNlcihpZCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IFVzZXJSZXNvbHZlciB9IGZyb20gJy4vdXNlci5yZXNvbHZlcic7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtVc2VyUmVzb2x2ZXJdLFxufSlcbmV4cG9ydCBjbGFzcyBVc2Vyc01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgV2FyZWhvdXNlQ2FycmllcnNSZXNvbHZlciB9IGZyb20gJy4vd2FyZWhvdXNlcy1jYXJyaWVycy5yZXNvbHZlcic7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtXYXJlaG91c2VDYXJyaWVyc1Jlc29sdmVyXSxcblx0aW1wb3J0czogW10sXG59KVxuZXhwb3J0IGNsYXNzIFdhcmVob3VzZXNDYXJyaWVyc01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgUmVzb2x2ZXIsIFF1ZXJ5IH0gZnJvbSAnQG5lc3Rqcy9ncmFwaHFsJztcbmltcG9ydCB7IFdhcmVob3VzZXNDYXJyaWVyc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy93YXJlaG91c2VzJztcbmltcG9ydCB7IGZpcnN0IH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5AUmVzb2x2ZXIoJ1dhcmVob3VzZUNhcnJpZXJzJylcbmV4cG9ydCBjbGFzcyBXYXJlaG91c2VDYXJyaWVyc1Jlc29sdmVyIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfd2FyZWhvdXNlc0NhcnJpZXJzU2VydmljZTogV2FyZWhvdXNlc0NhcnJpZXJzU2VydmljZVxuXHQpIHt9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0U3RvcmVDYXJyaWVycyhfLCB7IHN0b3JlSWQgfTogeyBzdG9yZUlkOiBzdHJpbmcgfSkge1xuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX3dhcmVob3VzZXNDYXJyaWVyc1NlcnZpY2Vcblx0XHRcdC5nZXQoc3RvcmVJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBXYXJlaG91c2VPcmRlcnNSZXNvbHZlciB9IGZyb20gJy4vd2FyZWhvdXNlcy1vcmRlcnMucmVzb2x2ZXInO1xuXG5ATW9kdWxlKHtcblx0cHJvdmlkZXJzOiBbV2FyZWhvdXNlT3JkZXJzUmVzb2x2ZXJdLFxuXHRpbXBvcnRzOiBbXSxcbn0pXG5leHBvcnQgY2xhc3MgV2FyZWhvdXNlc09yZGVyc01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgTXV0YXRpb24sIFJlc29sdmVyLCBRdWVyeSB9IGZyb20gJ0BuZXN0anMvZ3JhcGhxbCc7XG5pbXBvcnQge1xuXHRXYXJlaG91c2VzT3JkZXJzU2VydmljZSxcblx0Z2V0U3RvcmVPcmRlcnNGaW5nT2JqLFxufSBmcm9tICcuLi8uLi9zZXJ2aWNlcy93YXJlaG91c2VzJztcbmltcG9ydCBPcmRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL09yZGVyJztcbmltcG9ydCB7IElPcmRlckNyZWF0ZUlucHV0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lXYXJlaG91c2VPcmRlcnNSb3V0ZXInO1xuaW1wb3J0IHsgZmlyc3QsIG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IE9yZGVyc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9vcmRlcnMnO1xuaW1wb3J0IE9yZGVyU3RhdHVzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW51bXMvT3JkZXJTdGF0dXMnO1xuaW1wb3J0IE9yZGVyV2FyZWhvdXNlU3RhdHVzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW51bXMvT3JkZXJXYXJlaG91c2VTdGF0dXMnO1xuaW1wb3J0IE9yZGVyQ2FycmllclN0YXR1cyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudW1zL09yZGVyQ2FycmllclN0YXR1cyc7XG5pbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gJ2Jzb24nO1xuXG5leHBvcnQgdHlwZSBPcmRlcnNGaWx0ZXJNb2RlcyA9XG5cdHwgJ3JlYWR5J1xuXHR8ICdpbl9kZWxpdmVyeSdcblx0fCAnbm90X2NvbmZpcm1lZCdcblx0fCAnY2FuY2VsbGVkJ1xuXHR8ICdhbGwnO1xuXG5AUmVzb2x2ZXIoJ1dhcmVob3VzZU9yZGVycycpXG5leHBvcnQgY2xhc3MgV2FyZWhvdXNlT3JkZXJzUmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IF93YXJlaG91c2VzT3JkZXJzU2VydmljZTogV2FyZWhvdXNlc09yZGVyc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfb3JkZXJzU2VydmljZTogT3JkZXJzU2VydmljZVxuXHQpIHt9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0U3RvcmVPcmRlcnMoXywgeyBzdG9yZUlkIH06IHsgc3RvcmVJZDogc3RyaW5nIH0pIHtcblx0XHRyZXR1cm4gdGhpcy5fd2FyZWhvdXNlc09yZGVyc1NlcnZpY2Vcblx0XHRcdC5nZXQoc3RvcmVJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXREYXNoYm9hcmRPcmRlcnNDaGFydE9yZGVycyhfLCB7IHN0b3JlSWQgfTogeyBzdG9yZUlkOiBzdHJpbmcgfSkge1xuXHRcdGNvbnN0IHJlc09yZGVycyA9IHRoaXMuX29yZGVyc1NlcnZpY2UuZ2V0U3RvcmVPcmRlcnNDaGFydFRvdGFsT3JkZXJzKFxuXHRcdFx0c3RvcmVJZFxuXHRcdCk7XG5cblx0XHRyZXR1cm4gcmVzT3JkZXJzO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0TmV4dE9yZGVyTnVtYmVyKF8sIHsgc3RvcmVJZCB9OiB7IHN0b3JlSWQ6IHN0cmluZyB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3dhcmVob3VzZXNPcmRlcnNTZXJ2aWNlLmdldE5leHRPcmRlck51bWJlcihzdG9yZUlkKTtcblx0fVxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRNZXJjaGFudHNPcmRlcnMoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyc1NlcnZpY2UuTW9kZWwuYWdncmVnYXRlKFtcblx0XHRcdHsgJG1hdGNoOiB7IHdhcmVob3VzZTogeyAkbmU6IG51bGwgfSB9IH0sXG5cdFx0XHR7XG5cdFx0XHRcdCRncm91cDoge1xuXHRcdFx0XHRcdF9pZDogJyR3YXJlaG91c2UnLFxuXHRcdFx0XHRcdG9yZGVyc0NvdW50OiB7ICRzdW06IDEgfSxcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0XSk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRTdG9yZU9yZGVyc1RhYmxlRGF0YShfLCB7IHN0b3JlSWQsIHBhZ2luZ09wdGlvbnMgPSB7fSwgc3RhdHVzIH0pIHtcblx0XHRpZiAoIXBhZ2luZ09wdGlvbnMgfHwgKHBhZ2luZ09wdGlvbnMgJiYgIXBhZ2luZ09wdGlvbnNbJ3NvcnQnXSkpIHtcblx0XHRcdHBhZ2luZ09wdGlvbnNbJ3NvcnQnXSA9IHsgZmllbGQ6ICdfY3JlYXRlZEF0Jywgc29ydEJ5OiAnYXNjJyB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG9yZGVycyA9IGF3YWl0IHRoaXMuX3dhcmVob3VzZXNPcmRlcnNTZXJ2aWNlLmdldFN0b3JlT3JkZXJzKFxuXHRcdFx0c3RvcmVJZCxcblx0XHRcdHBhZ2luZ09wdGlvbnMsXG5cdFx0XHRzdGF0dXNcblx0XHQpO1xuXG5cdFx0bGV0IHBhZ2UgPSAxO1xuXG5cdFx0aWYgKHBhZ2luZ09wdGlvbnMpIHtcblx0XHRcdHBhZ2UgPSBNYXRoLmNlaWwoXG5cdFx0XHRcdHBhZ2luZ09wdGlvbnNbJ3NraXAnXSAvIHBhZ2luZ09wdGlvbnNbJ2xpbWl0J10gKyAxXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IG9yZGVyczogb3JkZXJzLm1hcCgobykgPT4gbmV3IE9yZGVyKG8pKSwgcGFnZSB9O1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0Q291bnRPZlN0b3JlT3JkZXJzKFxuXHRcdF8sXG5cdFx0eyBzdG9yZUlkLCBzdGF0dXMgfTogeyBzdG9yZUlkOiBzdHJpbmc7IHN0YXR1czogT3JkZXJzRmlsdGVyTW9kZXMgfVxuXHQpIHtcblx0XHRjb25zdCBmaW5kT2JqID0gZ2V0U3RvcmVPcmRlcnNGaW5nT2JqKHN0b3JlSWQsIHN0YXR1cyk7XG5cblx0XHRyZXR1cm4gdGhpcy5fb3JkZXJzU2VydmljZS5Nb2RlbC5maW5kKGZpbmRPYmopLmNvdW50RG9jdW1lbnRzKCkuZXhlYygpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgcmVtb3ZlVXNlck9yZGVycyhcblx0XHRfLFxuXHRcdHsgc3RvcmVJZCwgdXNlcklkIH06IHsgc3RvcmVJZDogc3RyaW5nOyB1c2VySWQ6IHN0cmluZyB9XG5cdCkge1xuXHRcdGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuX29yZGVyc1NlcnZpY2UuTW9kZWwudXBkYXRlKFxuXHRcdFx0e1xuXHRcdFx0XHQndXNlci5faWQnOiBuZXcgT2JqZWN0SWQodXNlcklkKSxcblx0XHRcdFx0d2FyZWhvdXNlOiBzdG9yZUlkLFxuXHRcdFx0XHRpc0RlbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0fSxcblx0XHRcdHsgaXNEZWxldGVkOiB0cnVlIH0sXG5cdFx0XHR7IG11bHRpOiB0cnVlIH1cblx0XHQpLmV4ZWMoKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRudW1iZXI6IHJlcy5uLFxuXHRcdFx0bW9kaWZpZWQ6IHJlcy5uTW9kaWZpZWQsXG5cdFx0fTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldE9yZGVyc0luRGVsaXZlcnkoXywgeyBzdG9yZUlkIH06IHsgc3RvcmVJZDogc3RyaW5nIH0pIHtcblx0XHRjb25zdCBvcmRlciA9IGF3YWl0IHRoaXMuX29yZGVyc1NlcnZpY2UuZ2V0T3JkZXJzSW5EZWxpdmVyeShzdG9yZUlkKTtcblx0XHRyZXR1cm4gb3JkZXIgfHwgW107XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyBjcmVhdGVPcmRlcihcblx0XHRfLFxuXHRcdHsgY3JlYXRlSW5wdXQgfTogeyBjcmVhdGVJbnB1dDogSU9yZGVyQ3JlYXRlSW5wdXQgfVxuXHQpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuX3dhcmVob3VzZXNPcmRlcnNTZXJ2aWNlLmNyZWF0ZShjcmVhdGVJbnB1dCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IE11dGF0aW9uLCBSZXNvbHZlciwgUXVlcnkgfSBmcm9tICdAbmVzdGpzL2dyYXBocWwnO1xuaW1wb3J0IHsgSVdhcmVob3VzZVByb2R1Y3RDcmVhdGVPYmplY3QgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSVdhcmVob3VzZVByb2R1Y3QnO1xuaW1wb3J0IHsgV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3dhcmVob3VzZXMnO1xuaW1wb3J0IHsgRXhjZXB0aW9uIH0gZnJvbSAnaGFuZGxlYmFycyc7XG5pbXBvcnQgV2FyZWhvdXNlUHJvZHVjdCBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1dhcmVob3VzZVByb2R1Y3QnO1xuaW1wb3J0IHsgZmlyc3QgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBSZXNvbHZlcignV2FyZWhvdXNlLXByb2R1Y3RzJylcbmV4cG9ydCBjbGFzcyBXYXJlaG91c2VQcm9kdWN0c1Jlc29sdmVyIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfd2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZTogV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZVxuXHQpIHt9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0UHJvZHVjdHNXaXRoUGFnaW5hdGlvbihfLCB7IGlkLCBwYWdpbmdPcHRpb25zID0ge30gfSkge1xuXHRcdGNvbnN0IHdhcmVob3VzZVByb2R1Y3RzID0gYXdhaXQgdGhpcy5fd2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZS5nZXRQcm9kdWN0c1dpdGhQYWdpbmF0aW9uKFxuXHRcdFx0aWQsXG5cdFx0XHRwYWdpbmdPcHRpb25zXG5cdFx0KTtcblxuXHRcdHJldHVybiB3YXJlaG91c2VQcm9kdWN0cy5tYXAoKHApID0+IG5ldyBXYXJlaG91c2VQcm9kdWN0KHApKTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldFByb2R1Y3RzQ291bnQoXywgeyBpZCB9OiB7IGlkOiBzdHJpbmcgfSkge1xuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLmdldFByb2R1Y3RzQ291bnQoaWQpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0V2FyZWhvdXNlUHJvZHVjdChcblx0XHRfLFxuXHRcdHtcblx0XHRcdHdhcmVob3VzZUlkLFxuXHRcdFx0d2FyZWhvdXNlUHJvZHVjdElkLFxuXHRcdH06IHsgd2FyZWhvdXNlSWQ6IHN0cmluZzsgd2FyZWhvdXNlUHJvZHVjdElkOiBzdHJpbmcgfVxuXHQpIHtcblx0XHRyZXR1cm4gYXdhaXQgdGhpcy5fd2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZVxuXHRcdFx0LmdldFByb2R1Y3Qod2FyZWhvdXNlSWQsIHdhcmVob3VzZVByb2R1Y3RJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyBhZGRXYXJlaG91c2VQcm9kdWN0cyhcblx0XHRfLFxuXHRcdHtcblx0XHRcdHdhcmVob3VzZUlkLFxuXHRcdFx0cHJvZHVjdHMsXG5cdFx0fTogeyB3YXJlaG91c2VJZDogc3RyaW5nOyBwcm9kdWN0czogSVdhcmVob3VzZVByb2R1Y3RDcmVhdGVPYmplY3RbXSB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLmFkZCh3YXJlaG91c2VJZCwgcHJvZHVjdHMpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgcmVtb3ZlV2FyZWhvdXNlUHJvZHVjdHMoXG5cdFx0Xyxcblx0XHR7XG5cdFx0XHR3YXJlaG91c2VJZCxcblx0XHRcdHByb2R1Y3RzSWRzLFxuXHRcdH06IHsgd2FyZWhvdXNlSWQ6IHN0cmluZzsgcHJvZHVjdHNJZHM6IHN0cmluZ1tdIH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3dhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UucmVtb3ZlKHdhcmVob3VzZUlkLCBwcm9kdWN0c0lkcyk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVXYXJlaG91c2VQcm9kdWN0KFxuXHRcdF8sXG5cdFx0e1xuXHRcdFx0d2FyZWhvdXNlSWQsXG5cdFx0XHRwcm9kdWN0SWQsXG5cdFx0XHR1cGRhdGVJbnB1dCxcblx0XHR9OiB7XG5cdFx0XHR3YXJlaG91c2VJZDogc3RyaW5nO1xuXHRcdFx0cHJvZHVjdElkOiBzdHJpbmc7XG5cdFx0XHR1cGRhdGVJbnB1dDoge1xuXHRcdFx0XHRxdWFudGl0eToge1xuXHRcdFx0XHRcdGluY3JlYXNlOiBudW1iZXI7XG5cdFx0XHRcdFx0ZGVjcmVhc2U6IG51bWJlcjtcblx0XHRcdFx0XHR0bzogbnVtYmVyO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRwcmljZTogbnVtYmVyO1xuXHRcdFx0fTtcblx0XHR9XG5cdCkge1xuXHRcdHRocm93IG5ldyBFeGNlcHRpb24oJ25vdCBpbXBsZW1lbnRlZCcpO1xuXHRcdC8qXG5cdFx0aWYgKHVwZGF0ZUlucHV0LnF1YW50aXR5KSB7XG5cdFx0XHRpZiAoT2JqZWN0LmtleXModXBkYXRlSW5wdXQucXVhbnRpdHkpLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndFwiKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fd2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZS5cblx0XHR9XG5cdFx0cmV0dXJuIGF3YWl0IHRoaXMuX3dhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UuKCk7XG5cdFx0Ki9cblx0fVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgV2FyZWhvdXNlUHJvZHVjdHNSZXNvbHZlciB9IGZyb20gJy4vd2FyZWhvdXNlLXByb2R1Y3RzLnJlc29sdmVyJztcblxuQE1vZHVsZSh7XG5cdHByb3ZpZGVyczogW1dhcmVob3VzZVByb2R1Y3RzUmVzb2x2ZXJdLFxuXHRpbXBvcnRzOiBbXSxcbn0pXG5leHBvcnQgY2xhc3MgV2FyZWhvdXNlc1Byb2R1Y3RzTW9kdWxlIHt9XG4iLCJpbXBvcnQgeyBNdXRhdGlvbiwgUXVlcnksIFJlc29sdmVQcm9wZXJ0eSwgUmVzb2x2ZXIgfSBmcm9tICdAbmVzdGpzL2dyYXBocWwnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBJV2FyZWhvdXNlIH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lXYXJlaG91c2UnO1xuaW1wb3J0IFdhcmVob3VzZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1dhcmVob3VzZSc7XG5pbXBvcnQge1xuXHRXYXJlaG91c2VzQ2FycmllcnNTZXJ2aWNlLFxuXHRXYXJlaG91c2VzT3JkZXJzU2VydmljZSxcblx0V2FyZWhvdXNlc1NlcnZpY2UsXG5cdFdhcmVob3VzZXNVc2Vyc1NlcnZpY2UsXG5cdFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UsXG59IGZyb20gJy4uLy4uL3NlcnZpY2VzL3dhcmVob3VzZXMnO1xuaW1wb3J0IHsgRGV2aWNlc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9kZXZpY2VzJztcbmltcG9ydCB7IE9yZGVyc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9vcmRlcnMnO1xuaW1wb3J0IHsgVXNlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvdXNlcnMnO1xuaW1wb3J0IHsgR2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9nZW8tbG9jYXRpb25zJztcbmltcG9ydCB7IGZpcnN0IH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgSVdhcmVob3VzZVJlZ2lzdHJhdGlvbklucHV0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lXYXJlaG91c2VSb3V0ZXInO1xuaW1wb3J0IElHZW9Mb2NhdGlvbiwge1xuXHRJR2VvTG9jYXRpb25DcmVhdGVPYmplY3QsXG5cdElMb2NhdGlvbixcbn0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lHZW9Mb2NhdGlvbic7XG5pbXBvcnQgVXNlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1VzZXInO1xuaW1wb3J0IFV0aWxzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vdXRpbHMnO1xuaW1wb3J0IEdlb0xvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvR2VvTG9jYXRpb24nO1xuXG5AUmVzb2x2ZXIoJ1dhcmVob3VzZScpXG5leHBvcnQgY2xhc3MgV2FyZWhvdXNlUmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9nZW9Mb2NhdGlvbldhcmVob3VzZXNTZXJ2aWNlOiBHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IF93YXJlaG91c2VzU2VydmljZTogV2FyZWhvdXNlc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfd2FyZWhvdXNlc09yZGVyc1NlcnZpY2U6IFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3dhcmVob3VzZXNVc2Vyc1NlcnZpY2U6IFdhcmVob3VzZXNVc2Vyc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfd2FyZWhvdXNlc0NhcnJpZXJzU2VydmljZTogV2FyZWhvdXNlc0NhcnJpZXJzU2VydmljZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IF93YXJlaG91c2VQcm9kdWN0c1NlcnZpY2U6IFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfZGV2aWNlc1NlcnZpY2U6IERldmljZXNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX29yZGVyc1NlcnZpY2U6IE9yZGVyc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfdXNlcnNTZXJ2aWNlOiBVc2Vyc1NlcnZpY2Vcblx0KSB7fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGhhc0V4aXN0aW5nU3RvcmVzKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHJldHVybiAoYXdhaXQgdGhpcy5fd2FyZWhvdXNlc1NlcnZpY2UuY291bnQoe30pKSA+IDA7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRTdG9yZVByb2R1Y3RzKFxuXHRcdF8sXG5cdFx0eyBzdG9yZUlkLCBmdWxsUHJvZHVjdHMgfTogeyBzdG9yZUlkOiBzdHJpbmc7IGZ1bGxQcm9kdWN0czogYm9vbGVhbiB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VQcm9kdWN0c1NlcnZpY2Vcblx0XHRcdC5nZXQoc3RvcmVJZCwgZnVsbFByb2R1Y3RzKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldFN0b3JlQXZhaWxhYmxlUHJvZHVjdHMoXywgeyBzdG9yZUlkIH06IHsgc3RvcmVJZDogc3RyaW5nIH0pIHtcblx0XHRyZXR1cm4gdGhpcy5fd2FyZWhvdXNlUHJvZHVjdHNTZXJ2aWNlXG5cdFx0XHQuZ2V0QXZhaWxhYmxlKHN0b3JlSWQpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0QWxsQWN0aXZlU3RvcmVzKF8sIHsgZnVsbFByb2R1Y3RzIH06IHsgZnVsbFByb2R1Y3RzOiBib29sZWFuIH0pIHtcblx0XHRyZXR1cm4gdGhpcy5fd2FyZWhvdXNlc1NlcnZpY2Vcblx0XHRcdC5nZXRBbGxBY3RpdmUoZnVsbFByb2R1Y3RzKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGNvdW50U3RvcmVDdXN0b21lcnMoXywgeyBzdG9yZUlkIH06IHsgc3RvcmVJZDogc3RyaW5nIH0pIHtcblx0XHRjb25zdCBzdG9yZU9yZGVycyA9IGF3YWl0IHRoaXMuX3dhcmVob3VzZXNPcmRlcnNTZXJ2aWNlXG5cdFx0XHQuZ2V0KHN0b3JlSWQpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXG5cdFx0Y29uc3Qgc3RvcmVDdXN0b21lcklkcyA9IHN0b3JlT3JkZXJzLm1hcCgob3JkZXIpID0+XG5cdFx0XHRvcmRlci51c2VyLl9pZC50b1N0cmluZygpXG5cdFx0KTtcblxuXHRcdHJldHVybiBuZXcgU2V0KHN0b3JlQ3VzdG9tZXJJZHMpLnNpemU7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRDb3VudEV4aXN0aW5nQ3VzdG9tZXJzKCkge1xuXHRcdGNvbnN0IGlzRGVsZXRlZEZsYWcgPSB7IGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0gfTtcblx0XHRjb25zdCB1c2Vyczogc3RyaW5nW10gPSBhd2FpdCB0aGlzLl9vcmRlcnNTZXJ2aWNlLk1vZGVsLmZpbmQoXG5cdFx0XHRpc0RlbGV0ZWRGbGFnXG5cdFx0KVxuXHRcdFx0LmRpc3RpbmN0KCd1c2VyLl9pZCcpXG5cdFx0XHQubGVhbigpO1xuXG5cdFx0Y29uc3Qgc3RvcmVzSWRzOiBzdHJpbmdbXSA9IGF3YWl0IHRoaXMuX29yZGVyc1NlcnZpY2UuTW9kZWwuZmluZChcblx0XHRcdGlzRGVsZXRlZEZsYWdcblx0XHQpXG5cdFx0XHQuZGlzdGluY3QoJ3dhcmVob3VzZScpXG5cdFx0XHQubGVhbigpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvdGFsOiB1c2Vycy5sZW5ndGgsXG5cdFx0XHRwZXJTdG9yZTogc3RvcmVzSWRzLm1hcChhc3luYyAoc3RvcmVJZCkgPT4ge1xuXHRcdFx0XHRjb25zdCB1c2Vyc0lkczogc3RyaW5nW10gPSBhd2FpdCB0aGlzLl9vcmRlcnNTZXJ2aWNlLk1vZGVsLmZpbmQoXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Li4uaXNEZWxldGVkRmxhZyxcblx0XHRcdFx0XHRcdHdhcmVob3VzZTogc3RvcmVJZCxcblx0XHRcdFx0XHR9XG5cdFx0XHRcdCkuZGlzdGluY3QoJ3VzZXIuX2lkJyk7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3RvcmVJZCxcblx0XHRcdFx0XHRjdXN0b21lcnNDb3VudDogdXNlcnNJZHMubGVuZ3RoLFxuXHRcdFx0XHR9O1xuXHRcdFx0fSksXG5cdFx0fTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldENvdW50RXhpc3RpbmdDdXN0b21lcnNUb2RheSgpIHtcblx0XHRjb25zdCBpc0RlbGV0ZWRGbGFnID0geyBpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9IH07XG5cblx0XHRjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3QgZW5kID0gbmV3IERhdGUoKTtcblx0XHRzdGFydC5zZXRIb3VycygwLCAwLCAwLCAwKTtcblx0XHRlbmQuc2V0SG91cnMoMjMsIDU5LCA1OSwgOTk5KTtcblxuXHRcdGNvbnN0IHVzZXJzID0gYXdhaXQgdGhpcy5fb3JkZXJzU2VydmljZS5Nb2RlbC5maW5kKHtcblx0XHRcdC4uLmlzRGVsZXRlZEZsYWcsXG5cdFx0XHRfY3JlYXRlZEF0OiB7ICRndGU6IHN0YXJ0LCAkbHQ6IGVuZCB9LFxuXHRcdH0pXG5cdFx0XHQuZGlzdGluY3QoJ3VzZXIuX2lkJylcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cblx0XHRjb25zdCBzdG9yZXNJZHM6IHN0cmluZ1tdID0gYXdhaXQgdGhpcy5fb3JkZXJzU2VydmljZS5Nb2RlbC5maW5kKHtcblx0XHRcdC4uLmlzRGVsZXRlZEZsYWcsXG5cdFx0XHRfY3JlYXRlZEF0OiB7ICRndGU6IHN0YXJ0LCAkbHQ6IGVuZCB9LFxuXHRcdH0pXG5cdFx0XHQuZGlzdGluY3QoJ3dhcmVob3VzZScpXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvdGFsOiB1c2Vycy5sZW5ndGgsXG5cdFx0XHRwZXJTdG9yZTogc3RvcmVzSWRzLm1hcChhc3luYyAoc3RvcmVJZCkgPT4ge1xuXHRcdFx0XHRjb25zdCB1c2Vyc0lkczogc3RyaW5nW10gPSBhd2FpdCB0aGlzLl9vcmRlcnNTZXJ2aWNlLk1vZGVsLmZpbmQoXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Li4uaXNEZWxldGVkRmxhZyxcblx0XHRcdFx0XHRcdCd1c2VyLl9pZCc6IHsgJGluOiB1c2Vycy5tYXAoKHUpID0+IHUuX2lkKSB9LFxuXHRcdFx0XHRcdFx0d2FyZWhvdXNlOiBzdG9yZUlkLFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KS5kaXN0aW5jdCgndXNlci5faWQnKTtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRzdG9yZUlkLFxuXHRcdFx0XHRcdGN1c3RvbWVyc0NvdW50OiB1c2Vyc0lkcy5sZW5ndGgsXG5cdFx0XHRcdH07XG5cdFx0XHR9KSxcblx0XHR9O1xuXHR9XG5cblx0QFF1ZXJ5KCduZWFyYnlTdG9yZXMnKVxuXHRhc3luYyBnZXROZWFyYnlTdG9yZXMoXywgeyBnZW9Mb2NhdGlvbiB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX2dlb0xvY2F0aW9uV2FyZWhvdXNlc1NlcnZpY2Vcblx0XHRcdC5nZXQoZ2VvTG9jYXRpb24pXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXHR9XG5cblx0Ly8gQFVzZUd1YXJkcyhBdXRoR3VhcmQoJ2p3dCcpKVxuXHRAUXVlcnkoJ3dhcmVob3VzZScpXG5cdGFzeW5jIGdldFdhcmVob3VzZShfLCB7IGlkIH06IHsgaWQ6IHN0cmluZyB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3dhcmVob3VzZXNTZXJ2aWNlLmdldChpZCkucGlwZShmaXJzdCgpKS50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldEFsbFN0b3JlcygpIHtcblx0XHRyZXR1cm4gdGhpcy5fd2FyZWhvdXNlc1NlcnZpY2UuZmluZCh7IGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0gfSk7XG5cdH1cblxuXHRAUXVlcnkoJ3dhcmVob3VzZXMnKVxuXHRhc3luYyBnZXRXYXJlaG91c2VzKF8sIHsgZmluZElucHV0LCBwYWdpbmdPcHRpb25zID0ge30gfSkge1xuXHRcdGlmICghcGFnaW5nT3B0aW9ucyB8fCAocGFnaW5nT3B0aW9ucyAmJiAhcGFnaW5nT3B0aW9uc1snc29ydCddKSkge1xuXHRcdFx0cGFnaW5nT3B0aW9uc1snc29ydCddID0geyBmaWVsZDogJ19jcmVhdGVkQXQnLCBzb3J0Qnk6ICdkZXNjJyB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG1lcmNoYW50cyA9IGF3YWl0IHRoaXMuX3dhcmVob3VzZXNTZXJ2aWNlLmdldE1lcmNoYW50cyhcblx0XHRcdGZpbmRJbnB1dCxcblx0XHRcdHBhZ2luZ09wdGlvbnNcblx0XHQpO1xuXG5cdFx0cmV0dXJuIG1lcmNoYW50cy5tYXAoKG0pID0+IG5ldyBXYXJlaG91c2UobSkpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0U3RvcmVDdXN0b21lcnMoXG5cdFx0Xyxcblx0XHR7IHN0b3JlSWQgfTogeyBzdG9yZUlkOiBzdHJpbmcgfVxuXHQpOiBQcm9taXNlPFVzZXJbXT4ge1xuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VzVXNlcnNTZXJ2aWNlLmdldFByb21pc2Uoc3RvcmVJZCk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRDb3VudE9mTWVyY2hhbnRzKCkge1xuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VzU2VydmljZS5Nb2RlbC5maW5kKHsgaXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSB9KVxuXHRcdFx0LmNvdW50RG9jdW1lbnRzKClcblx0XHRcdC5leGVjKCk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRNZXJjaGFudHNCdXlOYW1lKFxuXHRcdF8sXG5cdFx0e1xuXHRcdFx0c2VhcmNoTmFtZSxcblx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdH06IHsgc2VhcmNoTmFtZTogc3RyaW5nOyBnZW9Mb2NhdGlvbjogSUdlb0xvY2F0aW9uIH1cblx0KSB7XG5cdFx0Y29uc3QgY291bnQgPSBhd2FpdCB0aGlzLl93YXJlaG91c2VzU2VydmljZS5Nb2RlbC5maW5kKHtcblx0XHRcdG5hbWU6IHsgJHJlZ2V4OiBzZWFyY2hOYW1lLCAkb3B0aW9uczogJ2knIH0sXG5cdFx0fSlcblx0XHRcdC5jb3VudERvY3VtZW50cygpXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0bGV0IG1lcmNoYW50cyA9IGF3YWl0IHRoaXMuX3dhcmVob3VzZXNTZXJ2aWNlLmdldE1lcmNoYW50cyhcblx0XHRcdHsgbmFtZTogeyAkcmVnZXg6IHNlYXJjaE5hbWUsICRvcHRpb25zOiAnaScgfSB9LFxuXHRcdFx0eyBza2lwOiAwLCBsaW1pdDogY291bnQgfVxuXHRcdCk7XG5cblx0XHRpZiAoZ2VvTG9jYXRpb24pIHtcblx0XHRcdG1lcmNoYW50cyA9IG1lcmNoYW50cy5zb3J0KFxuXHRcdFx0XHQobTEsIG0yKSA9PlxuXHRcdFx0XHRcdFV0aWxzLmdldERpc3RhbmNlKFxuXHRcdFx0XHRcdFx0bmV3IEdlb0xvY2F0aW9uKG0xLmdlb0xvY2F0aW9uKSxcblx0XHRcdFx0XHRcdG5ldyBHZW9Mb2NhdGlvbihnZW9Mb2NhdGlvbilcblx0XHRcdFx0XHQpIC1cblx0XHRcdFx0XHRVdGlscy5nZXREaXN0YW5jZShcblx0XHRcdFx0XHRcdG5ldyBHZW9Mb2NhdGlvbihtMi5nZW9Mb2NhdGlvbiksXG5cdFx0XHRcdFx0XHRuZXcgR2VvTG9jYXRpb24oZ2VvTG9jYXRpb24pXG5cdFx0XHRcdFx0KVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWVyY2hhbnRzLm1hcCgobSkgPT4gbmV3IFdhcmVob3VzZShtKSk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB3YXJlaG91c2VMb2dpbihcblx0XHRfLFxuXHRcdHsgdXNlcm5hbWUsIHBhc3N3b3JkIH06IHsgdXNlcm5hbWU6IHN0cmluZzsgcGFzc3dvcmQ6IHN0cmluZyB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VzU2VydmljZS5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgdXBkYXRlU3RvcmVHZW9Mb2NhdGlvbihcblx0XHRfLFxuXHRcdHtcblx0XHRcdHN0b3JlSWQsXG5cdFx0XHRnZW9Mb2NhdGlvbixcblx0XHR9OiB7XG5cdFx0XHRzdG9yZUlkOiBzdHJpbmc7XG5cdFx0XHRnZW9Mb2NhdGlvbjogSUdlb0xvY2F0aW9uQ3JlYXRlT2JqZWN0O1xuXHRcdH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3dhcmVob3VzZXNTZXJ2aWNlLnVwZGF0ZUdlb0xvY2F0aW9uKHN0b3JlSWQsIGdlb0xvY2F0aW9uKTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHJlZ2lzdGVyV2FyZWhvdXNlKFxuXHRcdF8sXG5cdFx0eyByZWdpc3RlcklucHV0IH06IHsgcmVnaXN0ZXJJbnB1dDogSVdhcmVob3VzZVJlZ2lzdHJhdGlvbklucHV0IH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3dhcmVob3VzZXNTZXJ2aWNlLnJlZ2lzdGVyKHJlZ2lzdGVySW5wdXQpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgcmVtb3ZlV2FyZWhvdXNlc0J5SWRzKF8sIHsgaWRzIH06IHsgaWRzOiBzdHJpbmdbXSB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3dhcmVob3VzZXNTZXJ2aWNlLnJlbW92ZU11bHRpcGxlQnlJZHMoaWRzKTtcblx0fVxuXG5cdEBSZXNvbHZlUHJvcGVydHkoJ2RldmljZXMnKVxuXHRhc3luYyBnZXREZXZpY2VzKF93YXJlaG91c2U6IElXYXJlaG91c2UpIHtcblx0XHRjb25zdCB3YXJlaG91c2UgPSBuZXcgV2FyZWhvdXNlKF93YXJlaG91c2UpO1xuXHRcdHJldHVybiB0aGlzLl9kZXZpY2VzU2VydmljZVxuXHRcdFx0LmdldE11bHRpcGxlKHdhcmVob3VzZS5kZXZpY2VzSWRzKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBSZXNvbHZlUHJvcGVydHkoJ29yZGVycycpXG5cdGFzeW5jIGdldE9yZGVycyhfd2FyZWhvdXNlOiBJV2FyZWhvdXNlKSB7XG5cdFx0Y29uc3Qgd2FyZWhvdXNlID0gbmV3IFdhcmVob3VzZShfd2FyZWhvdXNlKTtcblx0XHRyZXR1cm4gdGhpcy5fd2FyZWhvdXNlc09yZGVyc1NlcnZpY2Vcblx0XHRcdC5nZXQod2FyZWhvdXNlLmlkKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBSZXNvbHZlUHJvcGVydHkoJ3VzZXJzJylcblx0YXN5bmMgZ2V0VXNlcnMoX3dhcmVob3VzZTogSVdhcmVob3VzZSkge1xuXHRcdGNvbnN0IHdhcmVob3VzZSA9IG5ldyBXYXJlaG91c2UoX3dhcmVob3VzZSk7XG5cblx0XHRyZXR1cm4gdGhpcy5fd2FyZWhvdXNlc1VzZXJzU2VydmljZVxuXHRcdFx0LmdldCh3YXJlaG91c2UuaWQpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXHR9XG5cblx0QFJlc29sdmVQcm9wZXJ0eSgnY2FycmllcnMnKVxuXHRhc3luYyBnZXRDYXJyaWVycyhfd2FyZWhvdXNlOiBJV2FyZWhvdXNlKSB7XG5cdFx0Y29uc3Qgd2FyZWhvdXNlID0gbmV3IFdhcmVob3VzZShfd2FyZWhvdXNlKTtcblxuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VzQ2FycmllcnNTZXJ2aWNlXG5cdFx0XHQuZ2V0KHdhcmVob3VzZS5pZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVXYXJlaG91c2VQYXNzd29yZChcblx0XHRfLFxuXHRcdHtcblx0XHRcdGlkLFxuXHRcdFx0cGFzc3dvcmQsXG5cdFx0fTogeyBpZDogV2FyZWhvdXNlWydpZCddOyBwYXNzd29yZDogeyBjdXJyZW50OiBzdHJpbmc7IG5ldzogc3RyaW5nIH0gfVxuXHQpIHtcblx0XHRyZXR1cm4gdGhpcy5fd2FyZWhvdXNlc1NlcnZpY2UudXBkYXRlUGFzc3dvcmQoaWQsIHBhc3N3b3JkKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgV2FyZWhvdXNlUmVzb2x2ZXIgfSBmcm9tICcuL3dhcmVob3VzZS5yZXNvbHZlcic7XG5pbXBvcnQgeyBBdXRoTW9kdWxlIH0gZnJvbSAnLi4vLi4vYXV0aC9hdXRoLm1vZHVsZSc7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtXYXJlaG91c2VSZXNvbHZlcl0sXG5cdGltcG9ydHM6IFtBdXRoTW9kdWxlXSxcbn0pXG5leHBvcnQgY2xhc3MgV2FyZWhvdXNlc01vZHVsZSB7fVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IHsgZXhpc3RzU3luYyB9IGZyb20gJ2ZzJztcbmltcG9ydCBta2RpcnAgZnJvbSAnbWtkaXJwJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uL2Vudic7XG5pbXBvcnQgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuaW1wb3J0IGNyZWF0ZUNXU3RyZWFtIGZyb20gJ2J1bnlhbi1jbG91ZHdhdGNoJztcbmltcG9ydCBvcyBmcm9tICdvcyc7XG5pbXBvcnQgUHJldHR5U3RyZWFtIGZyb20gJ2J1bnlhbi1wcmV0dHlzdHJlYW0nO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvZ0FyZ3Mge1xuXHQvLyB3aGljaCBmaWxlIHVzZWQgdG8gc3RvcmUgbG9nc1xuXHRuYW1lOiBzdHJpbmc7XG59XG5cbmxldCBpc0xvZ3NGb2xkZXJFeGlzdHMgPSBlbnYuTE9HU19QQVRIID8gZXhpc3RzU3luYyhlbnYuTE9HU19QQVRIKSA6IGZhbHNlO1xuXG5jb25zdCBnZXRBZGRpdGlvbmFsTG9nZ2VyU3RyZWFtcyA9ICh7IG5hbWUgfTogTG9nQXJncyk6IExvZ2dlci5TdHJlYW1bXSA9PiB7XG5cdGNvbnN0IGhvc3RuYW1lID0gb3MuaG9zdG5hbWUoKTtcblxuXHRpZiAoZW52LmlzUHJvZCkge1xuXHRcdGNvbnN0IGxvZ0xldmVsczogTG9nZ2VyLkxvZ0xldmVsW10gPSBbJ2luZm8nLCAnZXJyb3InLCAnZGVidWcnXTtcblxuXHRcdHJldHVybiBfLm1hcChsb2dMZXZlbHMsICh0eXBlKSA9PiB7XG5cdFx0XHRsZXQgc3RyZWFtOiBhbnk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHN0cmVhbSA9IGNyZWF0ZUNXU3RyZWFtKHtcblx0XHRcdFx0XHRsb2dHcm91cE5hbWU6ICdldmVyL2FwaScsXG5cdFx0XHRcdFx0bG9nU3RyZWFtTmFtZTogYCR7dHlwZX1fJHtuYW1lfV8ke2hvc3RuYW1lfWAsXG5cdFx0XHRcdFx0Y2xvdWRXYXRjaExvZ3NPcHRpb25zOiB7XG5cdFx0XHRcdFx0XHRyZWdpb246ICd1cy1lYXN0LTEnLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN0cmVhbSxcblx0XHRcdFx0dHlwZTogJ3JhdycsXG5cdFx0XHRcdGxldmVsOiB0eXBlLFxuXHRcdFx0fTtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gW107XG5cdH1cbn07XG5cbmNvbnN0IHByZXR0eVN0ZE91dCA9IG5ldyBQcmV0dHlTdHJlYW0oKTtcblxucHJldHR5U3RkT3V0LnBpcGUocHJvY2Vzcy5zdGRvdXQpO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlckxvZ2dlcih7IG5hbWUgfTogTG9nQXJncyk6IExvZ2dlciB7XG5cdGlmICghaXNMb2dzRm9sZGVyRXhpc3RzKSB7XG5cdFx0bWtkaXJwLnN5bmMoZW52LkxPR1NfUEFUSCk7XG5cdFx0aXNMb2dzRm9sZGVyRXhpc3RzID0gdHJ1ZTtcblx0fVxuXG5cdGNvbnN0IGxvZ2dlciA9IExvZ2dlci5jcmVhdGVMb2dnZXIoe1xuXHRcdG5hbWU6IGBldmVyYmllLiR7bmFtZX1gLFxuXHRcdHNlcmlhbGl6ZXJzOiBMb2dnZXIuc3RkU2VyaWFsaXplcnMsXG5cdFx0c3RyZWFtczogW1xuXHRcdFx0e1xuXHRcdFx0XHRsZXZlbDogJ2luZm8nLFxuXHRcdFx0XHRwYXRoOiBgJHtlbnYuTE9HU19QQVRIfS9pbmZvXyR7bmFtZX0ubG9nYCxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGxldmVsOiAnZXJyb3InLFxuXHRcdFx0XHRwYXRoOiBgJHtlbnYuTE9HU19QQVRIfS9lcnJvcl8ke25hbWV9LmxvZ2AsXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRsZXZlbDogJ2RlYnVnJyxcblx0XHRcdFx0cGF0aDogYCR7ZW52LkxPR1NfUEFUSH0vZGVidWdfJHtuYW1lfS5sb2dgLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0bGV2ZWw6ICdkZWJ1ZycsXG5cdFx0XHRcdHR5cGU6ICdyYXcnLFxuXHRcdFx0XHRzdHJlYW06IHByZXR0eVN0ZE91dCxcblx0XHRcdH0sXG5cdFx0XHQuLi5nZXRBZGRpdGlvbmFsTG9nZ2VyU3RyZWFtcyh7IG5hbWUgfSksXG5cdFx0XSxcblx0fSk7XG5cblx0aWYgKGVudi5MT0dfTEVWRUwpIHtcblx0XHRsb2dnZXIubGV2ZWwoTG9nZ2VyW2Vudi5MT0dfTEVWRUwudG9VcHBlckNhc2UoKV0pO1xuXHR9XG5cblx0cmV0dXJuIGxvZ2dlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExvZyhsb2dBcmdzOiBMb2dBcmdzKTogQ2xhc3NEZWNvcmF0b3Ige1xuXHRyZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkge1xuXHRcdHRhcmdldC5wcm90b3R5cGUubG9nTmFtZSA9IGxvZ0FyZ3MubmFtZTtcblx0XHR0YXJnZXQucHJvdG90eXBlLmxvZyA9IGNyZWF0ZUV2ZXJMb2dnZXIobG9nQXJncyk7XG5cdH07XG59XG4iLCJpbXBvcnQgeyBMb2dnZXJTZXJ2aWNlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24vc2VydmljZXMvbG9nZ2VyLnNlcnZpY2UnO1xuaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4vTG9nJztcblxuY29uc3QgbG9nID0gY3JlYXRlRXZlckxvZ2dlcih7IG5hbWU6ICduZXN0anMnIH0pO1xuXG5leHBvcnQgY2xhc3MgRXZlcmJpZU5lc3RKU0xvZ2dlciBpbXBsZW1lbnRzIExvZ2dlclNlcnZpY2Uge1xuXHRsb2cobWVzc2FnZTogc3RyaW5nKSB7XG5cdFx0bG9nLmluZm8obWVzc2FnZSk7XG5cdH1cblxuXHRlcnJvcihtZXNzYWdlOiBzdHJpbmcsIHRyYWNlOiBzdHJpbmcpIHtcblx0XHRsb2cuZXJyb3IoYE1lc3NhZ2U6ICR7bWVzc2FnZX0uIFRyYWNlOiAke3RyYWNlfWApO1xuXHR9XG5cblx0d2FybihtZXNzYWdlOiBzdHJpbmcpIHtcblx0XHRsb2cud2FybihtZXNzYWdlKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTmVzdEZhY3RvcnkgfSBmcm9tICdAbmVzdGpzL2NvcmUnO1xuaW1wb3J0IHsgQXBwbGljYXRpb25Nb2R1bGUgfSBmcm9tICcuL2FwcC5tb2R1bGUnO1xuaW1wb3J0IHsgRG9jdW1lbnRCdWlsZGVyLCBTd2FnZ2VyTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9zd2FnZ2VyJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4vZW52JztcbmltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuL2hlbHBlcnMvTG9nJztcbmltcG9ydCB7IEV2ZXJiaWVOZXN0SlNMb2dnZXIgfSBmcm9tICcuL2hlbHBlcnMvTmVzdEpTTG9nZ2VyJztcbmltcG9ydCB7XG5cdFN3YWdnZXJCYXNlQ29uZmlnLFxuXHRTd2FnZ2VyRG9jdW1lbnQsXG59IGZyb20gJ0BuZXN0anMvc3dhZ2dlci9kaXN0L2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSU5lc3RBcHBsaWNhdGlvbiB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcblxuY29uc3QgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHsgbmFtZTogJ2Jvb3RzdHJhcE5lc3QnIH0pO1xuXG5kZWNsYXJlIGNvbnN0IG1vZHVsZTogYW55O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYm9vdHN0cmFwTmVzdCgpOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3QgcG9ydDogbnVtYmVyID0gZW52LkdRTFBPUlQ7XG5cblx0Y29uc3QgYXBwOiBJTmVzdEFwcGxpY2F0aW9uID0gYXdhaXQgTmVzdEZhY3RvcnkuY3JlYXRlKEFwcGxpY2F0aW9uTW9kdWxlLCB7XG5cdFx0bG9nZ2VyOiBuZXcgRXZlcmJpZU5lc3RKU0xvZ2dlcigpLFxuXHR9KTtcblxuXHRhcHAuZW5hYmxlQ29ycygpO1xuXHRjb25zdCBvcHRpb25zOiBTd2FnZ2VyQmFzZUNvbmZpZyA9IG5ldyBEb2N1bWVudEJ1aWxkZXIoKVxuXHRcdC5zZXRUaXRsZSgnRXZlciBSRVNUIEFQSScpXG5cdFx0LnNldFZlcnNpb24oJzEuMCcpXG5cdFx0LmFkZEJlYXJlckF1dGgoKVxuXHRcdC5idWlsZCgpO1xuXG5cdGNvbnN0IGRvY3VtZW50OiBTd2FnZ2VyRG9jdW1lbnQgPSBTd2FnZ2VyTW9kdWxlLmNyZWF0ZURvY3VtZW50KFxuXHRcdGFwcCxcblx0XHRvcHRpb25zXG5cdCk7XG5cblx0U3dhZ2dlck1vZHVsZS5zZXR1cCgnYXBpJywgYXBwLCBkb2N1bWVudCk7XG5cblx0YXdhaXQgYXBwLmxpc3Rlbihwb3J0ICsgJycpO1xuXG5cdGlmIChtb2R1bGUuaG90KSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoKTtcblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoKF8pID0+IGFwcC5jbG9zZSgpKTtcblx0fVxuXG5cdGxvZy5pbmZvKGBTd2FnZ2VyIFVJIGF2YWlsYWJsZSBhdCBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH0vYXBpYCk7XG5cdGNvbnNvbGUubG9nKGBTd2FnZ2VyIFVJIGF2YWlsYWJsZSBhdCBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH0vYXBpYCk7XG59XG4iLCJpbnRlcmZhY2UgSVNlcnZpY2Uge31cblxuZXhwb3J0IGNvbnN0IFNlcnZpY2VTeW1ib2wgPSBTeW1ib2woJ1NlcnZpY2UnKTtcblxuZXhwb3J0IGRlZmF1bHQgSVNlcnZpY2U7XG4iLCJpbXBvcnQgeyBEQlNlcnZpY2UgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IEFkbWluIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvQWRtaW4nO1xuaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4uLy4uL2hlbHBlcnMvTG9nJztcbmltcG9ydCB7IEF1dGhTZXJ2aWNlLCBBdXRoU2VydmljZUZhY3RvcnkgfSBmcm9tICcuLi9hdXRoJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uL2Vudic7XG5pbXBvcnQgSUFkbWluUm91dGVyLCB7XG5cdElBZG1pbkxvZ2luUmVzcG9uc2UsXG5cdElBZG1pblJlZ2lzdHJhdGlvbklucHV0LFxufSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL3JvdXRlcnMvSUFkbWluUm91dGVyJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGFzeW5jTGlzdGVuZXIsIG9ic2VydmFibGVMaXN0ZW5lciB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyBmaXJzdCwgbWFwLCBzd2l0Y2hNYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBSZXBvc2l0b3J5IH0gZnJvbSAndHlwZW9ybSc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5cbi8vIFRPRE86IFJlbmFtZSEgXCJBZG1pblwiIGlzIG5vdCBhIGdyZWF0IG5hbWUsIGJ1dCBjdXJyZW50bHkgXCJVc2Vyc1wiIG1lYW4gXCJDdXN0b21lcnNcIi4uLlxuLyoqXG4gKiBVc2VycyAobm90IGN1c3RvbWVycyEpIG1hbmFnZW1lbnQgc2VydmljZVxuICogSW4gbW9zdCBjYXNlcyBzdWNoIHVzZXJzIGFyZSBBZG1pbmlzdHJhdG9ycywgd2hpY2ggbmVlZCB0byBnZXQgYWNjZXNzIGludG8gQWRtaW4gb3IgTWVjaGFudCBhcHBcbiAqL1xuQGluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEFkbWluc1NlcnZpY2UgZXh0ZW5kcyBEQlNlcnZpY2U8QWRtaW4+IGltcGxlbWVudHMgSUFkbWluUm91dGVyIHtcblx0cmVhZG9ubHkgREJPYmplY3Q6IGFueSA9IEFkbWluO1xuXG5cdHByb3RlY3RlZCByZWFkb25seSBsb2c6IExvZ2dlciA9IGNyZWF0ZUV2ZXJMb2dnZXIoeyBuYW1lOiAnYWRtaW5TZXJ2aWNlJyB9KTtcblxuXHRwcml2YXRlIHJlYWRvbmx5IGF1dGhTZXJ2aWNlOiBBdXRoU2VydmljZTxBZG1pbj47XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0QGluamVjdCgnRmFjdG9yeTxBdXRoU2VydmljZT4nKVxuXHRcdGF1dGhTZXJ2aWNlRmFjdG9yeTogQXV0aFNlcnZpY2VGYWN0b3J5LFxuXHRcdC8vIFR5cGVPUk0gUmVwb3NpdG9yeSAtIHRlbXBvcmFyeSBoZXJlLCB3aWxsIGJlIG1vdmVkIGludG8gREJTZXJ2aWNlIGxhdGVyXG5cdFx0QGluamVjdCgnQWRtaW5SZXBvc2l0b3J5Jylcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9hZG1pblJlcG9zaXRvcnk6IFJlcG9zaXRvcnk8QWRtaW4+XG5cdCkge1xuXHRcdHN1cGVyKCk7XG5cblx0XHQvLyBUT0RPOiBtb3ZlIHRvIGJhc2UgY2xhc3MgKERCU2VydmljZSkgYW5kIG1ha2UgaXQgZmFpbCBldmVyeXRoaW5nIGlmIG5vIGFkbWluIHVzZXJzIGZvdW5kIGluIERCXG5cdFx0X2FkbWluUmVwb3NpdG9yeVxuXHRcdFx0LmNvdW50KClcblx0XHRcdC50aGVuKChjKSA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdBZG1pbnMgY291bnQ6ICcgKyBjKTtcblx0XHRcdH0pXG5cdFx0XHQuY2F0Y2goKGUpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coZSk7XG5cdFx0XHR9KTtcblxuXHRcdHRoaXMuYXV0aFNlcnZpY2UgPSBhdXRoU2VydmljZUZhY3Rvcnkoe1xuXHRcdFx0cm9sZTogJ2FkbWluJyxcblx0XHRcdEVudGl0eTogQWRtaW4sXG5cdFx0XHRzYWx0Um91bmRzOiBlbnYuQURNSU5fUEFTU1dPUkRfQkNSWVBUX1NBTFRfUk9VTkRTLFxuXHRcdH0pO1xuXHR9XG5cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldChpZDogQWRtaW5bJ2lkJ10pOiBPYnNlcnZhYmxlPEFkbWluIHwgbnVsbD4ge1xuXHRcdHJldHVybiBzdXBlci5nZXQoaWQpLnBpcGUoXG5cdFx0XHRtYXAoYXN5bmMgKGFkbWluKSA9PiB7XG5cdFx0XHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0XHRcdHJldHVybiBhZG1pbjtcblx0XHRcdH0pLFxuXHRcdFx0c3dpdGNoTWFwKChhZG1pbikgPT4gYWRtaW4pXG5cdFx0KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZ2V0QnlFbWFpbChlbWFpbDogQWRtaW5bJ2VtYWlsJ10pOiBQcm9taXNlPEFkbWluIHwgbnVsbD4ge1xuXHRcdHJldHVybiBzdXBlci5maW5kT25lKHsgZW1haWwsIGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0gfSk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHJlZ2lzdGVyKGlucHV0OiBJQWRtaW5SZWdpc3RyYXRpb25JbnB1dCk6IFByb21pc2U8QWRtaW4+IHtcblx0XHRjb25zdCBhZG1pbiA9IGF3YWl0IHRoaXMuY3JlYXRlKHtcblx0XHRcdC4uLmlucHV0LmFkbWluLFxuXHRcdFx0Li4uKGlucHV0LnBhc3N3b3JkXG5cdFx0XHRcdD8ge1xuXHRcdFx0XHRcdFx0aGFzaDogYXdhaXQgdGhpcy5hdXRoU2VydmljZS5nZXRQYXNzd29yZEhhc2goXG5cdFx0XHRcdFx0XHRcdGlucHV0LnBhc3N3b3JkXG5cdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHQgIH1cblx0XHRcdFx0OiB7fSksXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gYWRtaW47XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHVwZGF0ZVBhc3N3b3JkKFxuXHRcdGlkOiBBZG1pblsnaWQnXSxcblx0XHRwYXNzd29yZDogeyBjdXJyZW50OiBzdHJpbmc7IG5ldzogc3RyaW5nIH1cblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRhd2FpdCB0aGlzLmF1dGhTZXJ2aWNlLnVwZGF0ZVBhc3N3b3JkKGlkLCBwYXNzd29yZCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGxvZ2luKFxuXHRcdGVtYWlsOiBzdHJpbmcsXG5cdFx0cGFzc3dvcmQ6IHN0cmluZ1xuXHQpOiBQcm9taXNlPElBZG1pbkxvZ2luUmVzcG9uc2UgfCBudWxsPiB7XG5cdFx0bGV0IHJlcyA9IG51bGw7XG5cdFx0Y29uc3QgYWRtaW4gPSBhd2FpdCB0aGlzLmdldEJ5RW1haWwoZW1haWwpO1xuXG5cdFx0aWYgKGFkbWluKSB7XG5cdFx0XHRyZXMgPSBhd2FpdCB0aGlzLmF1dGhTZXJ2aWNlLmxvZ2luKHsgZW1haWwgfSwgcGFzc3dvcmQpO1xuXHRcdH1cblxuXHRcdGlmICghcmVzKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0YWRtaW46IHJlcy5lbnRpdHksXG5cdFx0XHR0b2tlbjogcmVzLnRva2VuLFxuXHRcdH07XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGlzQXV0aGVudGljYXRlZCh0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0cmV0dXJuIHRoaXMuYXV0aFNlcnZpY2UuaXNBdXRoZW50aWNhdGVkKHRva2VuKTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgdXBkYXRlQnlJZChcblx0XHRpZDogQWRtaW5bJ2lkJ10sXG5cdFx0dXBkYXRlT2JqZWN0OiBQYXJ0aWFsPEFkbWluPlxuXHQpOiBQcm9taXNlPEFkbWluPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRyZXR1cm4gc3VwZXIudXBkYXRlKGlkLCB1cGRhdGVPYmplY3QpO1xuXHR9XG5cblx0YXN5bmMgdGhyb3dJZk5vdEV4aXN0cyhhZG1pbklkOiBzdHJpbmcpIHtcblx0XHRjb25zdCBhZG1pbiA9IGF3YWl0IHN1cGVyLmdldChhZG1pbklkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKCFhZG1pbiB8fCBhZG1pbi5pc0RlbGV0ZWQpIHtcblx0XHRcdHRocm93IEVycm9yKGBBZG1pbiB3aXRoIGlkICcke2FkbWluSWR9JyBkb2VzIG5vdCBleGlzdHMhYCk7XG5cdFx0fVxuXHR9XG59XG4iLCJleHBvcnQgKiBmcm9tICcuL0FkbWluc1NlcnZpY2UnO1xuIiwiaW1wb3J0IHsgRW50aXR5U2VydmljZSB9IGZyb20gJ0BweXJvL2RiLXNlcnZlci9lbnRpdHktc2VydmljZSc7XG5pbXBvcnQgeyBEQkNyZWF0ZU9iamVjdCwgREJPYmplY3QsIERCUmF3T2JqZWN0LCBQeXJvT2JqZWN0SWQgfSBmcm9tICdAcHlyby9kYic7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi8uLi9lbnYnO1xuaW1wb3J0IHsgV3JvbmdQYXNzd29yZEVycm9yIH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lcnJvcnMvV3JvbmdQYXNzd29yZEVycm9yJztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0JztcbmltcG9ydCB7IGluamVjdGFibGUsIGludGVyZmFjZXMgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgUmF3T2JqZWN0IH0gZnJvbSAnQHB5cm8vZGIvZGItcmF3LW9iamVjdCc7XG5cbi8vIGhhdmUgdG8gY29tYmluZSB0aGUgdHdvIGltcG9ydHNcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IEpzb25XZWJUb2tlbkVycm9yIH0gZnJvbSAnanNvbndlYnRva2VuJztcblxuaW50ZXJmYWNlIElBdXRoYWJsZUNyZWF0ZU9iamVjdCBleHRlbmRzIERCQ3JlYXRlT2JqZWN0IHtcblx0aGFzaD86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIElBdXRoYWJsZVJhd09iamVjdCBleHRlbmRzIERCUmF3T2JqZWN0LCBJQXV0aGFibGVDcmVhdGVPYmplY3Qge1xuXHRfaWQ6IFB5cm9PYmplY3RJZDtcblxuXHRoYXNoPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgSUF1dGhhYmxlXG5cdGV4dGVuZHMgREJPYmplY3Q8SUF1dGhhYmxlUmF3T2JqZWN0LCBJQXV0aGFibGVDcmVhdGVPYmplY3Q+IHtcblx0aGFzaD86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEF1dGhTZXJ2aWNlQ29uZmlnPFQgZXh0ZW5kcyBJQXV0aGFibGU+IHtcblx0cm9sZTogc3RyaW5nO1xuXHRFbnRpdHk6IGFueTsgLy8gQXV0aFNlcnZpY2U8VD5bJ0RCT2JqZWN0J107XG5cdHNhbHRSb3VuZHM6IG51bWJlcjtcbn1cblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEF1dGhTZXJ2aWNlPFQgZXh0ZW5kcyBJQXV0aGFibGU+IGV4dGVuZHMgRW50aXR5U2VydmljZTxUPiB7XG5cdHJvbGU6IHN0cmluZztcblx0REJPYmplY3Q6IHsgbmV3IChhcmc6IFJhd09iamVjdDxUPik6IFQ7IG1vZGVsTmFtZTogc3RyaW5nIH07XG5cdHNhbHRSb3VuZHM6IG51bWJlcjtcblxuXHRzZXRDb25maWcoY29uZmlnOiBBdXRoU2VydmljZUNvbmZpZzxUPikge1xuXHRcdHRoaXMucm9sZSA9IGNvbmZpZy5yb2xlO1xuXHRcdHRoaXMuREJPYmplY3QgPSBjb25maWcuRW50aXR5O1xuXHRcdHRoaXMuc2FsdFJvdW5kcyA9IGNvbmZpZy5zYWx0Um91bmRzO1xuXHR9XG5cblx0YXN5bmMgZ2V0UGFzc3dvcmRIYXNoKHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdHJldHVybiBiY3J5cHQuaGFzaChwYXNzd29yZCwgdGhpcy5zYWx0Um91bmRzKTtcblx0fVxuXG5cdGFzeW5jIGFkZFBhc3N3b3JkKGlkOiBUWydpZCddLCBwYXNzd29yZDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgZW50aXR5ID0gdGhpcy5wYXJzZShcblx0XHRcdGF3YWl0IHRoaXMuTW9kZWwuZmluZEJ5SWQoaWQpLnNlbGVjdCgnK2hhc2gnKS5sZWFuKCkuZXhlYygpXG5cdFx0KTtcblxuXHRcdGlmIChlbnRpdHkuaGFzaCAhPSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdCdQYXNzd29yZCBhbHJlYWR5IGV4aXN0cywgcGxlYXNlIGNhbGwgdXBkYXRlUGFzc3dvcmQgaW5zdGVhZC4nXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGF3YWl0IHRoaXMuX3NhdmVQYXNzd29yZChpZCwgcGFzc3dvcmQpO1xuXHR9XG5cblx0YXN5bmMgdXBkYXRlUGFzc3dvcmQoXG5cdFx0aWQ6IFRbJ2lkJ10sXG5cdFx0cGFzc3dvcmQ6IHsgY3VycmVudDogc3RyaW5nOyBuZXc6IHN0cmluZyB9XG5cdCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGVudGl0eSA9IHRoaXMucGFyc2UoXG5cdFx0XHRhd2FpdCB0aGlzLk1vZGVsLmZpbmRCeUlkKGlkKS5zZWxlY3QoJytoYXNoJykubGVhbigpLmV4ZWMoKVxuXHRcdCk7XG5cblx0XHRpZiAoIShhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZC5jdXJyZW50LCBlbnRpdHkuaGFzaCkpKSB7XG5cdFx0XHR0aHJvdyBuZXcgV3JvbmdQYXNzd29yZEVycm9yKCk7XG5cdFx0fVxuXG5cdFx0YXdhaXQgdGhpcy5fc2F2ZVBhc3N3b3JkKGlkLCBwYXNzd29yZC5uZXcpO1xuXHR9XG5cblx0YXN5bmMgX3NhdmVQYXNzd29yZChpZDogVFsnaWQnXSwgcGFzc3dvcmQ6IHN0cmluZykge1xuXHRcdGNvbnN0IGhhc2ggPSBhd2FpdCB0aGlzLmdldFBhc3N3b3JkSGFzaChwYXNzd29yZCk7XG5cblx0XHRhd2FpdCB0aGlzLk1vZGVsLmZpbmRCeUlkQW5kVXBkYXRlKGlkLCB7XG5cdFx0XHRoYXNoLFxuXHRcdH0pXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXHR9XG5cblx0YXN5bmMgbG9naW4oXG5cdFx0ZmluZE9iajogYW55LFxuXHRcdHBhc3N3b3JkOiBzdHJpbmdcblx0KTogUHJvbWlzZTx7IGVudGl0eTogVDsgdG9rZW46IHN0cmluZyB9IHwgbnVsbD4ge1xuXHRcdGNvbnN0IGVudGl0eSA9IHRoaXMucGFyc2UoXG5cdFx0XHRhd2FpdCB0aGlzLk1vZGVsLmZpbmRPbmUoZmluZE9iaikuc2VsZWN0KCcraGFzaCcpLmxlYW4oKS5leGVjKClcblx0XHQpO1xuXG5cdFx0aWYgKCFlbnRpdHkgfHwgIShhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgZW50aXR5Lmhhc2gpKSkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdG9rZW4gPSBqd3Quc2lnbihcblx0XHRcdHsgaWQ6IGVudGl0eS5pZCwgcm9sZTogdGhpcy5yb2xlIH0sXG5cdFx0XHRlbnYuSldUX1NFQ1JFVCxcblx0XHRcdHt9XG5cdFx0KTsgLy8gTmV2ZXIgZXhwaXJlc1xuXG5cdFx0ZGVsZXRlIGVudGl0eS5oYXNoO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGVudGl0eSxcblx0XHRcdHRva2VuLFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRva2VuIC0gdGhlIGp3dCB0b2tlblxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cblx0ICovXG5cdGFzeW5jIGlzQXV0aGVudGljYXRlZCh0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHsgaWQsIHJvbGUgfSA9IGp3dC52ZXJpZnkodG9rZW4sIGVudi5KV1RfU0VDUkVUKSBhcyB7XG5cdFx0XHRcdGlkOiBUWydpZCddO1xuXHRcdFx0XHRyb2xlOiBzdHJpbmc7XG5cdFx0XHR9O1xuXG5cdFx0XHRjb25zdCBlbnRpdHkgPSBhd2FpdCB0aGlzLk1vZGVsLmZpbmRCeUlkKGlkKS5sZWFuKCkuZXhlYygpO1xuXG5cdFx0XHRpZiAoIWVudGl0eSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByb2xlID09PSB0aGlzLnJvbGU7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRpZiAoZXJyIGluc3RhbmNlb2YgSnNvbldlYlRva2VuRXJyb3IpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgZXJyO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgdHlwZSBBdXRoU2VydmljZUZhY3RvcnkgPSA8VCBleHRlbmRzIElBdXRoYWJsZT4oXG5cdGNvbmZpZzogQXV0aFNlcnZpY2VDb25maWc8VD5cbikgPT4gQXV0aFNlcnZpY2U8VD47XG5cbmV4cG9ydCBjb25zdCBhdXRoU2VydmljZUZhY3RvcnkgPSAoXG5cdGNvbnRleHQ6IGludGVyZmFjZXMuQ29udGV4dFxuKTogQXV0aFNlcnZpY2VGYWN0b3J5ID0+IHtcblx0cmV0dXJuIDxUIGV4dGVuZHMgSUF1dGhhYmxlPihjb25maWc6IEF1dGhTZXJ2aWNlQ29uZmlnPFQ+KSA9PiB7XG5cdFx0Y29uc3QgYXV0aFNlcnZpY2UgPSBjb250ZXh0LmNvbnRhaW5lci5nZXQ8QXV0aFNlcnZpY2U8VD4+KEF1dGhTZXJ2aWNlKTtcblx0XHRhdXRoU2VydmljZS5zZXRDb25maWcoY29uZmlnKTtcblx0XHRyZXR1cm4gYXV0aFNlcnZpY2U7XG5cdH07XG59O1xuIiwiaW1wb3J0IHsgRXh0cmFjdEp3dCB9IGZyb20gJ3Bhc3Nwb3J0LWp3dCc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyBmaXJzdCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgTGF6eVNlcnZpY2VJZGVudGlmZXIgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgcm91dGVyTmFtZSB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCB7IFdhcmVob3VzZXNTZXJ2aWNlIH0gZnJvbSAnLi4vd2FyZWhvdXNlcyc7XG5pbXBvcnQgeyBDYXJyaWVyc1NlcnZpY2UgfSBmcm9tICcuLi9jYXJyaWVycyc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi8uLi9lbnYnO1xuXG5jb25zdCBqd3RTZWNyZXQgPSBlbnYuSldUX1NFQ1JFVDtcblxuaWYgKGp3dFNlY3JldCA9PT0gJ2RlZmF1bHQnKSB7XG5cdGNvbnNvbGUubG9nKFxuXHRcdCdXYXJuaW5nOiBkZWZhdWx0IEpXVF9TRUNSRVQgdXNlZC4gUGxlYXNlIGFkZCB5b3VyIG93biB0byBjb25maWchJ1xuXHQpO1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlSnd0RGF0YSA9IHtcblx0and0RnJvbVJlcXVlc3Q6IEV4dHJhY3RKd3QuZnJvbUF1dGhIZWFkZXJBc0JlYXJlclRva2VuKCksXG5cdHNlY3JldE9yS2V5OiBqd3RTZWNyZXQsXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEp3dFBheWxvYWQge1xuXHQvLyBpZCBvZiBjYXJyaWVyIG9yIHdhcmVob3VzZVxuXHRpZDogc3RyaW5nO1xuXHQvLyBuYW1lIG9mIGFwcCwgZS5nLiAnY2Fycmllcicgb3IgJ3dhcmVob3VzZScuIFRPRE86IHN3aXRjaCB0byB1c2UgZW51bVxuXHRhcHBOYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUb2tlbihpZDogc3RyaW5nLCBhcHBOYW1lOiBzdHJpbmcpIHtcblx0Y29uc3QgdXNlcjogSnd0UGF5bG9hZCA9IHsgaWQsIGFwcE5hbWUgfTtcblx0cmV0dXJuIGp3dC5zaWduKHVzZXIsICdzZWNyZXRLZXknLCB7XG5cdFx0Ly8gVE9ETzogYWRkIGV4cGlyZXMgdGltZW91dCB0byBjb25maWcgKC5lbnYpXG5cdFx0ZXhwaXJlc0luOiAzNjAwLFxuXHR9KTtcbn1cblxuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ2F1dGgnKVxuZXhwb3J0IGNsYXNzIEF1dGhlbnRpY2F0aW9uU2VydmljZSB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdEBpbmplY3QobmV3IExhenlTZXJ2aWNlSWRlbnRpZmVyKCgpID0+IFdhcmVob3VzZXNTZXJ2aWNlKSlcblx0XHRwcm90ZWN0ZWQgd2FyZWhvdXNlc1NlcnZpY2U6IFdhcmVob3VzZXNTZXJ2aWNlLFxuXHRcdEBpbmplY3QobmV3IExhenlTZXJ2aWNlSWRlbnRpZmVyKCgpID0+IENhcnJpZXJzU2VydmljZSkpXG5cdFx0cHJvdGVjdGVkIGNhcnJpZXJzU2VydmljZTogQ2FycmllcnNTZXJ2aWNlXG5cdCkge31cblxuXHRhc3luYyB2YWxpZGF0ZVVzZXIocGF5bG9hZDogSnd0UGF5bG9hZCk6IFByb21pc2U8YW55PiB7XG5cdFx0aWYgKHBheWxvYWQuYXBwTmFtZSA9PT0gJ2NhcnJpZXInKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jYXJyaWVyc1NlcnZpY2Vcblx0XHRcdFx0LmdldChwYXlsb2FkLmlkKVxuXHRcdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0XHQudG9Qcm9taXNlKCk7XG5cdFx0fSBlbHNlIGlmIChwYXlsb2FkLmFwcE5hbWUgPT09ICd3YXJlaG91c2UnKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy53YXJlaG91c2VzU2VydmljZVxuXHRcdFx0XHQuZ2V0KHBheWxvYWQuaWQpXG5cdFx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHRcdC50b1Byb21pc2UoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9XG59XG4iLCJleHBvcnQgKiBmcm9tICcuL0F1dGhlbnRpY2F0aW9uU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL0F1dGhTZXJ2aWNlJztcbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IHsgUHJvZHVjdHNTZXJ2aWNlIH0gZnJvbSAnLi4vcHJvZHVjdHMnO1xuaW1wb3J0IHsgT3JkZXJzU2VydmljZSB9IGZyb20gJy4uL29yZGVycyc7XG5pbXBvcnQgQ2FycmllcnNTZXJ2aWNlIGZyb20gJy4vQ2FycmllcnNTZXJ2aWNlJztcbmltcG9ydCBDYXJyaWVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvQ2Fycmllcic7XG5pbXBvcnQgT3JkZXJDYXJyaWVyU3RhdHVzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW51bXMvT3JkZXJDYXJyaWVyU3RhdHVzJztcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyBXYXJlaG91c2VzT3JkZXJzU2VydmljZSB9IGZyb20gJy4uL3dhcmVob3VzZXMnO1xuaW1wb3J0IElDYXJyaWVyT3JkZXJzUm91dGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JQ2Fycmllck9yZGVyc1JvdXRlcic7XG5pbXBvcnQgeyBhc3luY0xpc3RlbmVyLCBvYnNlcnZhYmxlTGlzdGVuZXIsIHJvdXRlck5hbWUgfSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnLi4vSVNlcnZpY2UnO1xuaW1wb3J0IE9yZGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvT3JkZXInO1xuaW1wb3J0IElPcmRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSU9yZGVyJztcbmltcG9ydCB7XG5cdEdlb0xvY2F0aW9uc09yZGVyc1NlcnZpY2UsXG5cdEdlb0xvY2F0aW9uT3JkZXJzT3B0aW9ucyxcbn0gZnJvbSAnLi4vZ2VvLWxvY2F0aW9ucyc7XG5pbXBvcnQgeyBnZXREaXN0YW5jZSB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vdXRpbHMnO1xuaW1wb3J0IHsgRXhpc3RlbmNlRXZlbnRUeXBlIH0gZnJvbSAnQHB5cm8vZGItc2VydmVyJztcbmltcG9ydCB7XG5cdGNvbmNhdCxcblx0ZGlzdGluY3RVbnRpbENoYW5nZWQsXG5cdGV4aGF1c3RNYXAsXG5cdGZpbHRlcixcblx0Zmlyc3QsXG5cdG1hcCxcblx0c2hhcmUsXG5cdHN3aXRjaE1hcCxcbn0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgdGhyb3dFcnJvciwgb2YsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCBPcmRlcldhcmVob3VzZVN0YXR1cyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudW1zL09yZGVyV2FyZWhvdXNlU3RhdHVzJztcblxuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ2NhcnJpZXItb3JkZXJzJylcbmV4cG9ydCBjbGFzcyBDYXJyaWVyc09yZGVyc1NlcnZpY2UgaW1wbGVtZW50cyBJQ2Fycmllck9yZGVyc1JvdXRlciwgSVNlcnZpY2Uge1xuXHQvKipcblx0ICogVHJhY2tpbmcgZGlzdGFuY2UgaW4ga21cblx0ICogVE9ETzogdGhpcyBzZXR0aW5nIHNob3VsZCBiZSBwZXIgc29tZXRoaW5nIChlLmcuIHBlciB3YXJlaG91c2UsIHBlciBjYXJyaWVyKSBzdG9yZWQgaW4gdGhlIERCXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlcm9mIENhcnJpZXJzT3JkZXJzU2VydmljZVxuXHQgKi9cblx0c3RhdGljIENhcnJpZXJUcmFja2luZ0Rpc3RhbmNlID0gNTAwMDA7XG5cblx0cHJvdGVjdGVkIGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7XG5cdFx0bmFtZTogJ2NhcnJpZXJzT3JkZXJzU2VydmljZScsXG5cdH0pO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdEBpbmplY3QoQ2FycmllcnNTZXJ2aWNlKVxuXHRcdHByb3RlY3RlZCBjYXJyaWVyc1NlcnZpY2U6IENhcnJpZXJzU2VydmljZSxcblx0XHRAaW5qZWN0KFByb2R1Y3RzU2VydmljZSlcblx0XHRwcm90ZWN0ZWQgcHJvZHVjdHNTZXJ2aWNlOiBQcm9kdWN0c1NlcnZpY2UsXG5cdFx0QGluamVjdChPcmRlcnNTZXJ2aWNlKVxuXHRcdHByb3RlY3RlZCBvcmRlcnNTZXJ2aWNlOiBPcmRlcnNTZXJ2aWNlLFxuXHRcdEBpbmplY3QoR2VvTG9jYXRpb25zT3JkZXJzU2VydmljZSlcblx0XHRwcm90ZWN0ZWQgZ2VvTG9jYXRpb25zT3JkZXJzU2VydmljZTogR2VvTG9jYXRpb25zT3JkZXJzU2VydmljZSxcblx0XHRAaW5qZWN0KFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlKVxuXHRcdHByb3RlY3RlZCB3YXJlaG91c2VzT3JkZXJzU2VydmljZTogV2FyZWhvdXNlc09yZGVyc1NlcnZpY2Vcblx0KSB7fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgc2VsZWN0ZWRGb3JEZWxpdmVyeShcblx0XHRjYXJyaWVySWQ6IHN0cmluZyxcblx0XHRvcmRlcklkczogc3RyaW5nW11cblx0KTogUHJvbWlzZTxDYXJyaWVyPiB7XG5cdFx0bGV0IGNhcnJpZXIgPSBhd2FpdCB0aGlzLmNhcnJpZXJzU2VydmljZVxuXHRcdFx0LmdldChjYXJyaWVySWQpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKGNhcnJpZXIgIT0gbnVsbCkge1xuXHRcdFx0aWYgKG9yZGVySWRzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0Ly8gVE9ETzogY2hlY2sgaGVyZSB0aGF0IG5vdCBmcm9tIGFueSBzdGF0dXMgaXQgaXMgcG9zc2libGUgdG8gbW92ZSB0byBhbnkgb3RoZXIuXG5cdFx0XHRcdC8vIE1lYW4gaWYgb3JkZXIgaXMgc3RhdHVzIDMsIGl0J3Mgbm90IHNpbXBseSBwb3NzaWJsZSB0byB1cGRhdGUgaXQgdG8gc3RhdHVzIDIuXG5cblx0XHRcdFx0YXdhaXQgdGhpcy5vcmRlcnNTZXJ2aWNlLnVwZGF0ZU11bHRpcGxlQnlJZHMob3JkZXJJZHMsIHtcblx0XHRcdFx0XHRjYXJyaWVyOiBjYXJyaWVySWQsXG5cdFx0XHRcdFx0Y2FycmllclN0YXR1czogT3JkZXJDYXJyaWVyU3RhdHVzLkNhcnJpZXJTZWxlY3RlZE9yZGVyLFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0Y2FycmllciA9IGF3YWl0IHRoaXMuY2FycmllcnNTZXJ2aWNlXG5cdFx0XHRcdC5nZXQoY2FycmllcklkKVxuXHRcdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0XHQudG9Qcm9taXNlKCk7XG5cblx0XHRcdHJldHVybiBjYXJyaWVyIGFzIENhcnJpZXI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQ2FycmllciB3aXRoIHN1Y2ggaWQgaXMgbm90IGZvdW5kIScpO1xuXHRcdH1cblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZ2V0Q291bnQoY2FycmllcklkOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj4ge1xuXHRcdGF3YWl0IHRoaXMuY2FycmllcnNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHMoY2FycmllcklkKTtcblxuXHRcdHJldHVybiB0aGlzLm9yZGVyc1NlcnZpY2UuY291bnQoXG5cdFx0XHRfLmV4dGVuZChcblx0XHRcdFx0eyBjYXJyaWVyOiBjYXJyaWVySWQgfSxcblx0XHRcdFx0T3JkZXJzU2VydmljZS5GaW5kT2JqZWN0cy5pc0NvbXBsZXRlZFxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHNraXBPcmRlcnMoY2FycmllcklkOiBzdHJpbmcsIG9yZGVyc0lkczogc3RyaW5nW10pOiBQcm9taXNlPENhcnJpZXI+IHtcblx0XHRhd2FpdCB0aGlzLmNhcnJpZXJzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKGNhcnJpZXJJZCk7XG5cblx0XHRyZXR1cm4gdGhpcy5jYXJyaWVyc1NlcnZpY2UudXBkYXRlKGNhcnJpZXJJZCwge1xuXHRcdFx0JHB1c2g6IHtcblx0XHRcdFx0c2tpcHBlZE9yZGVySWRzOiB7XG5cdFx0XHRcdFx0JGVhY2g6IG9yZGVyc0lkcyxcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0fSk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHVwZGF0ZVN0YXR1cyhcblx0XHRjYXJyaWVySWQ6IHN0cmluZyxcblx0XHRzdGF0dXM6IE9yZGVyQ2FycmllclN0YXR1c1xuXHQpOiBQcm9taXNlPENhcnJpZXI+IHtcblx0XHQvLyBUT0RPOiBjaGVjayBoZXJlIHRoYXQgbm90IGZyb20gYW55IHN0YXR1cyBpdCBpcyBwb3NzaWJsZSB0byBtb3ZlIHRvIGFueSBvdGhlci5cblx0XHQvLyBNZWFuIGlmIG9yZGVyIGlzIHN0YXR1cyAzLCBpdCdzIG5vdCBzaW1wbHkgcG9zc2libGUgdG8gdXBkYXRlIGl0IHRvIHN0YXR1cyAyLlxuXG5cdFx0YXdhaXQgdGhpcy5jYXJyaWVyc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhjYXJyaWVySWQpO1xuXG5cdFx0Y29uc3QgZmluZE9iaiA9IF8uZXh0ZW5kKFxuXHRcdFx0eyBjYXJyaWVyOiBjYXJyaWVySWQgfSxcblx0XHRcdE9yZGVyc1NlcnZpY2UuRmluZE9iamVjdHMuaXNOb3RDb21wbGV0ZWRcblx0XHQpO1xuXG5cdFx0Y29uc3QgdXBkYXRlT2JqOiBhbnkgPSB7XG5cdFx0XHRjYXJyaWVyU3RhdHVzOiBzdGF0dXMsXG5cdFx0fTtcblxuXHRcdGlmIChzdGF0dXMgPT09IE9yZGVyQ2FycmllclN0YXR1cy5EZWxpdmVyeUNvbXBsZXRlZCkge1xuXHRcdFx0dXBkYXRlT2JqLmlzUGFpZCA9IHRydWU7XG5cdFx0XHR1cGRhdGVPYmouZGVsaXZlcnlUaW1lID0gRGF0ZS5ub3coKTtcblx0XHR9XG5cblx0XHRpZiAoXG5cdFx0XHRzdGF0dXMgPT09IE9yZGVyQ2FycmllclN0YXR1cy5DYXJyaWVyU3RhcnREZWxpdmVyeSB8fFxuXHRcdFx0c3RhdHVzID09PSBPcmRlckNhcnJpZXJTdGF0dXMuQ2FycmllclBpY2tlZFVwT3JkZXJcblx0XHQpIHtcblx0XHRcdHVwZGF0ZU9iai5zdGFydERlbGl2ZXJ5VGltZSA9IERhdGUubm93KCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZmluaXNoZWRQcm9jZXNzaW5nU3RhdHVzZXMgPSBbXG5cdFx0XHRPcmRlckNhcnJpZXJTdGF0dXMuQ2xpZW50UmVmdXNlVGFraW5nT3JkZXIsXG5cdFx0XHRPcmRlckNhcnJpZXJTdGF0dXMuRGVsaXZlcnlDb21wbGV0ZWQsXG5cdFx0XHRPcmRlckNhcnJpZXJTdGF0dXMuSXNzdWVzRHVyaW5nRGVsaXZlcnksXG5cdFx0XTtcblxuXHRcdGlmIChmaW5pc2hlZFByb2Nlc3NpbmdTdGF0dXNlcy5pbmNsdWRlcyhzdGF0dXMpKSB7XG5cdFx0XHR1cGRhdGVPYmouZmluaXNoZWRQcm9jZXNzaW5nVGltZSA9IERhdGUubm93KCk7XG5cdFx0fVxuXG5cdFx0aWYgKChhd2FpdCB0aGlzLmNhcnJpZXJzU2VydmljZS5nZXRDdXJyZW50KGNhcnJpZXJJZCkpICE9IG51bGwpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IG9yZGVycyA9IGF3YWl0IHRoaXMub3JkZXJzU2VydmljZS51cGRhdGVNdWx0aXBsZShcblx0XHRcdFx0XHRmaW5kT2JqLFxuXHRcdFx0XHRcdHVwZGF0ZU9ialxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmIChzdGF0dXMgPT09IE9yZGVyQ2FycmllclN0YXR1cy5EZWxpdmVyeUNvbXBsZXRlZCkge1xuXHRcdFx0XHRcdHJldHVybiBhd2FpdCB0aGlzLmNhcnJpZXJzU2VydmljZS5pbmNyZWFzZU51bWJlck9mRGVsaXZlcmllcyhcblx0XHRcdFx0XHRcdGNhcnJpZXJJZCxcblx0XHRcdFx0XHRcdG9yZGVycy5sZW5ndGhcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiAoYXdhaXQgdGhpcy5jYXJyaWVyc1NlcnZpY2UuZ2V0Q3VycmVudChcblx0XHRcdFx0XHRcdGNhcnJpZXJJZFxuXHRcdFx0XHRcdCkpIGFzIENhcnJpZXI7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHR0aGlzLmxvZy5lcnJvcihlcnIpO1xuXHRcdFx0XHR0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQ2FycmllciB3aXRoIHN1Y2ggaWQgaXMgbm90IGZvdW5kIScpO1xuXHRcdH1cblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgY2FuY2VsRGVsaXZlcnkoXG5cdFx0Y2FycmllcklkOiBzdHJpbmcsXG5cdFx0b3JkZXJJZHM6IHN0cmluZ1tdXG5cdCk6IFByb21pc2U8Q2Fycmllcj4ge1xuXHRcdGF3YWl0IHRoaXMuY2FycmllcnNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHMoY2FycmllcklkKTtcblxuXHRcdGNvbnN0IF9vcmRlcnMgPSBhd2FpdCB0aGlzLm9yZGVyc1NlcnZpY2UuZmluZCh7XG5cdFx0XHRfaWQ6IHsgJGluOiBvcmRlcklkcyB9LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblx0XHRjb25zdCBvcmRlcnNJZHNGaWx0ZXJlZCA9IF9vcmRlcnMubWFwKChkKSA9PiBkLmlkKTtcblxuXHRcdGNvbnN0IG9yZGVycyA9IGF3YWl0IHRoaXMub3JkZXJzU2VydmljZS51cGRhdGVNdWx0aXBsZUJ5SWRzKFxuXHRcdFx0b3JkZXJzSWRzRmlsdGVyZWQsXG5cdFx0XHR7XG5cdFx0XHRcdCR1bnNldDogeyBjYXJyaWVyOiAxIH0sXG5cdFx0XHRcdGNhcnJpZXJTdGF0dXM6IE9yZGVyQ2FycmllclN0YXR1cy5Ob0NhcnJpZXIsXG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdGF3YWl0IHRoaXMuc2tpcE9yZGVycyhcblx0XHRcdGNhcnJpZXJJZCxcblx0XHRcdF8ubWFwKG9yZGVycywgKG9yZGVyKSA9PiBvcmRlci5pZClcblx0XHQpO1xuXG5cdFx0cmV0dXJuIHRoaXMuY2FycmllcnNTZXJ2aWNlLnVwZGF0ZVN0YXR1cyhjYXJyaWVySWQsIDApO1xuXHR9XG5cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldEF2YWlsYWJsZShcblx0XHRjYXJyaWVySWQ6IHN0cmluZyxcblx0XHRvcHRpb25zOiB7IHBvcHVsYXRlV2FyZWhvdXNlOiBib29sZWFuIH0gPSB7XG5cdFx0XHRwb3B1bGF0ZVdhcmVob3VzZTogZmFsc2UsXG5cdFx0fVxuXHQpOiBPYnNlcnZhYmxlPE9yZGVyW10+IHtcblx0XHRyZXR1cm4gdGhpcy5jYXJyaWVyc1NlcnZpY2UuZ2V0KGNhcnJpZXJJZCkucGlwZShcblx0XHRcdG1hcCgoY2FycmllcikgPT4gKGNhcnJpZXIgIT0gbnVsbCA/IGNhcnJpZXIuZ2VvTG9jYXRpb24gOiBudWxsKSksXG5cdFx0XHRkaXN0aW5jdFVudGlsQ2hhbmdlZCgoZ2VvTG9jYXRpb24xLCBnZW9Mb2NhdGlvbjIpID0+IHtcblx0XHRcdFx0Ly8gVE9ETyBtYXliZSBjb21wYXJlIGZ1bGwgZ2VvTG9jYXRpb24gbm90IG9ubHkgY29vcmRpbmF0ZXMhXG5cdFx0XHRcdGlmIChnZW9Mb2NhdGlvbjEgPT0gbnVsbCB8fCBnZW9Mb2NhdGlvbjIgPT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiBnZXREaXN0YW5jZShnZW9Mb2NhdGlvbjEsIGdlb0xvY2F0aW9uMikgPD0gMC4wMDE7XG5cdFx0XHRcdH1cblx0XHRcdH0pLFxuXHRcdFx0c3dpdGNoTWFwKChnZW9Mb2NhdGlvbikgPT5cblx0XHRcdFx0Z2VvTG9jYXRpb24gIT0gbnVsbFxuXHRcdFx0XHRcdD8gdGhpcy5nZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlLmdldChnZW9Mb2NhdGlvbiwge1xuXHRcdFx0XHRcdFx0XHRwb3B1bGF0ZVdhcmVob3VzZTogb3B0aW9ucy5wb3B1bGF0ZVdhcmVob3VzZSxcblx0XHRcdFx0XHQgIH0pXG5cdFx0XHRcdFx0OiB0aHJvd0Vycm9yKFxuXHRcdFx0XHRcdFx0XHRuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRcdFx0YE5vIHN1Y2ggYSBjYXJyaWVyIHdpdGggdGhlIGlkICR7Y2FycmllcklkfSA9PiBjYW4ndCBnZXRBdmFpbGFibGVgXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQgIClcblx0XHRcdClcblx0XHQpO1xuXHR9XG5cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldChcblx0XHRjYXJyaWVySWQ6IHN0cmluZyxcblx0XHRvcHRpb25zOiB7XG5cdFx0XHRwb3B1bGF0ZVdhcmVob3VzZTogYm9vbGVhbjtcblx0XHRcdGNvbXBsZXRpb246ICdjb21wbGV0ZWQnIHwgJ25vdC1jb21wbGV0ZWQnIHwgJ2FsbCc7XG5cdFx0fSA9IHtcblx0XHRcdHBvcHVsYXRlV2FyZWhvdXNlOiBmYWxzZSxcblx0XHRcdGNvbXBsZXRpb246ICdub3QtY29tcGxldGVkJyxcblx0XHR9XG5cdCk6IE9ic2VydmFibGU8T3JkZXJbXT4ge1xuXHRcdHJldHVybiBvZihudWxsKS5waXBlKFxuXHRcdFx0bWFwKGFzeW5jIChyZXMpID0+IHtcblx0XHRcdFx0YXdhaXQgdGhpcy5jYXJyaWVyc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhjYXJyaWVySWQpO1xuXHRcdFx0XHRyZXR1cm4gcmVzO1xuXHRcdFx0fSksXG5cdFx0XHRzd2l0Y2hNYXAoKHJlcykgPT4gcmVzKSxcblx0XHRcdGNvbmNhdChcblx0XHRcdFx0dGhpcy5vcmRlcnNTZXJ2aWNlLmV4aXN0ZW5jZS5waXBlKFxuXHRcdFx0XHRcdGZpbHRlcigoZXhpc3RlbmNlRXZlbnQpID0+IHtcblx0XHRcdFx0XHRcdHN3aXRjaCAoZXhpc3RlbmNlRXZlbnQudHlwZSBhcyBFeGlzdGVuY2VFdmVudFR5cGUpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSBFeGlzdGVuY2VFdmVudFR5cGUuQ3JlYXRlZDpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZXhpc3RlbmNlRXZlbnQudmFsdWUgIT0gbnVsbFxuXHRcdFx0XHRcdFx0XHRcdFx0PyBleGlzdGVuY2VFdmVudC52YWx1ZS5jYXJyaWVySWQgPT09XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FycmllcklkXG5cdFx0XHRcdFx0XHRcdFx0XHQ6IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRjYXNlIEV4aXN0ZW5jZUV2ZW50VHlwZS5VcGRhdGVkOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdFx0XHQoZXhpc3RlbmNlRXZlbnQudmFsdWUgIT0gbnVsbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ/IGV4aXN0ZW5jZUV2ZW50LnZhbHVlLmNhcnJpZXJJZCA9PT1cblx0XHRcdFx0XHRcdFx0XHRcdFx0ICBjYXJyaWVySWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0OiBmYWxzZSkgfHxcblx0XHRcdFx0XHRcdFx0XHRcdChleGlzdGVuY2VFdmVudC5sYXN0VmFsdWUgIT0gbnVsbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ/IGV4aXN0ZW5jZUV2ZW50Lmxhc3RWYWx1ZS5jYXJyaWVySWQgPT09XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCAgY2FycmllcklkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDogZmFsc2UpXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0Y2FzZSBFeGlzdGVuY2VFdmVudFR5cGUuUmVtb3ZlZDpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZXhpc3RlbmNlRXZlbnQubGFzdFZhbHVlICE9IG51bGxcblx0XHRcdFx0XHRcdFx0XHRcdD8gZXhpc3RlbmNlRXZlbnQubGFzdFZhbHVlLmNhcnJpZXJJZCA9PT1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXJyaWVySWRcblx0XHRcdFx0XHRcdFx0XHRcdDogZmFsc2U7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0c2hhcmUoKVxuXHRcdFx0XHQpXG5cdFx0XHQpLFxuXHRcdFx0ZXhoYXVzdE1hcCgoKSA9PiB0aGlzLl9nZXQoY2FycmllcklkLCBvcHRpb25zKSlcblx0XHQpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXRDYXJyaWVyT3JkZXJzKFxuXHRcdGNhcnJpZXJJZDogc3RyaW5nLFxuXHRcdG9wdGlvbnM6IHtcblx0XHRcdHBvcHVsYXRlV2FyZWhvdXNlOiBib29sZWFuO1xuXHRcdFx0Y29tcGxldGlvbjogJ2NvbXBsZXRlZCcgfCAnbm90LWNvbXBsZXRlZCcgfCAnYWxsJztcblx0XHR9ID0ge1xuXHRcdFx0cG9wdWxhdGVXYXJlaG91c2U6IGZhbHNlLFxuXHRcdFx0Y29tcGxldGlvbjogJ25vdC1jb21wbGV0ZWQnLFxuXHRcdH1cblx0KTogUHJvbWlzZTxJT3JkZXJbXT4ge1xuXHRcdGNvbnN0IG9yZGVyc1JhdyA9IChhd2FpdCB0aGlzLm9yZGVyc1NlcnZpY2UuTW9kZWwuZmluZChcblx0XHRcdF8uZXh0ZW5kKFxuXHRcdFx0XHR7IGNhcnJpZXI6IGNhcnJpZXJJZCwgaXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSB9LFxuXHRcdFx0XHQoKCkgPT4ge1xuXHRcdFx0XHRcdHN3aXRjaCAob3B0aW9ucy5jb21wbGV0aW9uKSB7XG5cdFx0XHRcdFx0XHRjYXNlICdjb21wbGV0ZWQnOlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gT3JkZXJzU2VydmljZS5GaW5kT2JqZWN0cy5pc0NvbXBsZXRlZDtcblx0XHRcdFx0XHRcdGNhc2UgJ25vdC1jb21wbGV0ZWQnOlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gT3JkZXJzU2VydmljZS5GaW5kT2JqZWN0cy5pc05vdENvbXBsZXRlZDtcblx0XHRcdFx0XHRcdGNhc2UgJ2FsbCc6XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pKClcblx0XHRcdClcblx0XHQpXG5cdFx0XHQucG9wdWxhdGUob3B0aW9ucy5wb3B1bGF0ZVdhcmVob3VzZSA/ICd3YXJlaG91c2UnIDogJycpXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpKSBhcyBJT3JkZXJbXTtcblxuXHRcdHJldHVybiBvcmRlcnNSYXcubWFwKChvcmRlclJhdykgPT4ge1xuXHRcdFx0b3JkZXJSYXdbJ2lkJ10gPSBvcmRlclJhdy5faWQ7XG5cdFx0XHRvcmRlclJhdy5wcm9kdWN0cyA9IG9yZGVyUmF3LnByb2R1Y3RzLm1hcCgocCkgPT4ge1xuXHRcdFx0XHRwWydpZCddID0gcC5faWQ7XG5cdFx0XHRcdHAucHJvZHVjdFsnaWQnXSA9IHAucHJvZHVjdC5faWQ7XG5cdFx0XHRcdHJldHVybiBwO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gb3JkZXJSYXc7XG5cdFx0fSk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldENhcnJpZXJDdXJyZW50T3JkZXIoY2FycmllcklkOiBzdHJpbmcpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0YXdhaXQgdGhpcy5jYXJyaWVyc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhjYXJyaWVySWQpO1xuXG5cdFx0cmV0dXJuIHRoaXMub3JkZXJzU2VydmljZS5Nb2RlbC5maW5kT25lKFxuXHRcdFx0Xy5hc3NpZ24odGhpcy5nZXRPcmRlcnNGb3JXb3JrRmlsdGVyKGNhcnJpZXJJZCksIHtcblx0XHRcdFx0Y2FycmllcjogY2FycmllcklkLFxuXHRcdFx0fSlcblx0XHQpXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXRDb3VudE9mQ2Fycmllck9yZGVyc0hpc3RvcnkoY2FycmllcklkOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj4ge1xuXHRcdGF3YWl0IHRoaXMuY2FycmllcnNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHMoY2FycmllcklkKTtcblx0XHRyZXR1cm4gdGhpcy5vcmRlcnNTZXJ2aWNlLk1vZGVsLmZpbmQoeyBjYXJyaWVyOiBjYXJyaWVySWQgfSlcblx0XHRcdC5jb3VudERvY3VtZW50cygpXG5cdFx0XHQuZXhlYygpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXRDYXJyaWVyT3JkZXJzSGlzdG9yeShcblx0XHRjYXJyaWVySWQ6IHN0cmluZyxcblx0XHRvcHRpb25zOiBHZW9Mb2NhdGlvbk9yZGVyc09wdGlvbnNcblx0KTogUHJvbWlzZTxPcmRlcltdPiB7XG5cdFx0YXdhaXQgdGhpcy5jYXJyaWVyc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhjYXJyaWVySWQpO1xuXG5cdFx0Y29uc3QgZGJPcmRlcnMgPSBhd2FpdCB0aGlzLm9yZGVyc1NlcnZpY2UuTW9kZWwuZmluZCh7XG5cdFx0XHRjYXJyaWVyOiBjYXJyaWVySWQsXG5cdFx0fSlcblx0XHRcdC5zb3J0KHtcblx0XHRcdFx0X2NyZWF0ZWRBdDpcblx0XHRcdFx0XHRvcHRpb25zLnNvcnQgJiYgb3B0aW9ucy5zb3J0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2Rlc2MnKVxuXHRcdFx0XHRcdFx0PyAnZGVzYydcblx0XHRcdFx0XHRcdDogJ2FzYycsXG5cdFx0XHR9KVxuXHRcdFx0LnNraXAob3B0aW9ucy5za2lwIHx8IDApXG5cdFx0XHQubGltaXQob3B0aW9ucy5saW1pdCB8fCAxKVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdHJldHVybiBkYk9yZGVycy5tYXAoKG86IElPcmRlcikgPT4gbmV3IE9yZGVyKG8pKTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgX2dldChcblx0XHRjYXJyaWVySWQ6IHN0cmluZyxcblx0XHRvcHRpb25zOiB7XG5cdFx0XHRwb3B1bGF0ZVdhcmVob3VzZTogYm9vbGVhbjtcblx0XHRcdGNvbXBsZXRpb246ICdjb21wbGV0ZWQnIHwgJ25vdC1jb21wbGV0ZWQnIHwgJ2FsbCc7XG5cdFx0fVxuXHQpOiBQcm9taXNlPE9yZGVyW10+IHtcblx0XHRhd2FpdCB0aGlzLmNhcnJpZXJzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKGNhcnJpZXJJZCk7XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgb3JkZXJzUmF3ID0gKGF3YWl0IHRoaXMub3JkZXJzU2VydmljZS5Nb2RlbC5maW5kKFxuXHRcdFx0XHRfLmV4dGVuZChcblx0XHRcdFx0XHR7IGNhcnJpZXI6IGNhcnJpZXJJZCwgaXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSB9LFxuXHRcdFx0XHRcdCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRzd2l0Y2ggKG9wdGlvbnMuY29tcGxldGlvbikge1xuXHRcdFx0XHRcdFx0XHRjYXNlICdjb21wbGV0ZWQnOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBPcmRlcnNTZXJ2aWNlLkZpbmRPYmplY3RzLmlzQ29tcGxldGVkO1xuXHRcdFx0XHRcdFx0XHRjYXNlICdub3QtY29tcGxldGVkJzpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gT3JkZXJzU2VydmljZS5GaW5kT2JqZWN0cy5pc05vdENvbXBsZXRlZDtcblx0XHRcdFx0XHRcdFx0Y2FzZSAnYWxsJzpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4ge307XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSkoKVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0XHRcdC5wb3B1bGF0ZShvcHRpb25zLnBvcHVsYXRlV2FyZWhvdXNlID8gJ3dhcmVob3VzZScgOiAnJylcblx0XHRcdFx0LmxlYW4oKVxuXHRcdFx0XHQuZXhlYygpKSBhcyBJT3JkZXJbXTtcblxuXHRcdFx0cmV0dXJuIF8ubWFwKG9yZGVyc1JhdywgKG9yZGVyUmF3KSA9PiBuZXcgT3JkZXIob3JkZXJSYXcpKTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHRoaXMubG9nLmVycm9yKGVycik7XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBnZXRPcmRlcnNGb3JXb3JrRmlsdGVyKGNhcnJpZXJJZDogc3RyaW5nKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGNhcnJpZXJTdGF0dXM6IHtcblx0XHRcdFx0JG5pbjogW1xuXHRcdFx0XHRcdE9yZGVyQ2FycmllclN0YXR1cy5Jc3N1ZXNEdXJpbmdEZWxpdmVyeSxcblx0XHRcdFx0XHRPcmRlckNhcnJpZXJTdGF0dXMuQ2xpZW50UmVmdXNlVGFraW5nT3JkZXIsXG5cdFx0XHRcdFx0T3JkZXJDYXJyaWVyU3RhdHVzLkRlbGl2ZXJ5Q29tcGxldGVkLFxuXHRcdFx0XHRdLFxuXHRcdFx0fSxcblx0XHRcdHdhcmVob3VzZVN0YXR1czoge1xuXHRcdFx0XHQkaW46IFtcblx0XHRcdFx0XHRPcmRlcldhcmVob3VzZVN0YXR1cy5QYWNrYWdpbmdGaW5pc2hlZCxcblx0XHRcdFx0XHRPcmRlcldhcmVob3VzZVN0YXR1cy5HaXZlblRvQ2Fycmllcixcblx0XHRcdFx0XSxcblx0XHRcdH0sXG5cdFx0XHQkb3I6IFt7IGNhcnJpZXI6IG51bGwgfSwgeyBjYXJyaWVyOiBjYXJyaWVySWQgfV0sXG5cdFx0fTtcblx0fVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IENhcnJpZXJTdGF0dXMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnVtcy9DYXJyaWVyU3RhdHVzJztcbmltcG9ydCBDYXJyaWVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvQ2Fycmllcic7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IHsgREJTZXJ2aWNlIH0gZnJvbSAnQHB5cm8vZGItc2VydmVyJztcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgSUNhcnJpZXJSb3V0ZXIsIHtcblx0SUNhcnJpZXJMb2dpblJlc3BvbnNlLFxuXHRJQ2FycmllclJlZ2lzdHJhdGlvbklucHV0LFxufSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL3JvdXRlcnMvSUNhcnJpZXJSb3V0ZXInO1xuaW1wb3J0IHtcblx0YXN5bmNMaXN0ZW5lcixcblx0b2JzZXJ2YWJsZUxpc3RlbmVyLFxuXHRyb3V0ZXJOYW1lLFxuXHRzZXJpYWxpemF0aW9uLFxufSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnLi4vSVNlcnZpY2UnO1xuaW1wb3J0IEdlb0xvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvR2VvTG9jYXRpb24nO1xuaW1wb3J0IElHZW9Mb2NhdGlvbiBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSUdlb0xvY2F0aW9uJztcbmltcG9ydCB7IGNvbmNhdCwgb2YsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGV4aGF1c3RNYXAsIGZpbHRlciwgZmlyc3QsIG1hcCwgc3dpdGNoTWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgZW52IH0gZnJvbSAnLi4vLi4vZW52JztcbmltcG9ydCB7IEF1dGhTZXJ2aWNlLCBBdXRoU2VydmljZUZhY3RvcnkgfSBmcm9tICcuLi9hdXRoJztcbmltcG9ydCBJUGFnaW5nT3B0aW9ucyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSVBhZ2luZ09wdGlvbnMnO1xuXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgnY2FycmllcicpXG5leHBvcnQgY2xhc3MgQ2FycmllcnNTZXJ2aWNlIGV4dGVuZHMgREJTZXJ2aWNlPENhcnJpZXI+XG5cdGltcGxlbWVudHMgSUNhcnJpZXJSb3V0ZXIsIElTZXJ2aWNlIHtcblx0cHVibGljIHJlYWRvbmx5IERCT2JqZWN0OiBhbnkgPSBDYXJyaWVyO1xuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHtcblx0XHRuYW1lOiAnY2FycmllcnNTZXJ2aWNlJyxcblx0fSk7XG5cblx0cHJpdmF0ZSByZWFkb25seSBhdXRoU2VydmljZTogQXV0aFNlcnZpY2U8Q2Fycmllcj47XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0QGluamVjdCgnRmFjdG9yeTxBdXRoU2VydmljZT4nKVxuXHRcdHByaXZhdGUgcmVhZG9ubHkgYXV0aFNlcnZpY2VGYWN0b3J5OiBBdXRoU2VydmljZUZhY3Rvcnlcblx0KSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmF1dGhTZXJ2aWNlID0gdGhpcy5hdXRoU2VydmljZUZhY3Rvcnkoe1xuXHRcdFx0cm9sZTogJ2NhcnJpZXInLFxuXHRcdFx0RW50aXR5OiBDYXJyaWVyLFxuXHRcdFx0c2FsdFJvdW5kczogZW52LkNBUlJJRVJfUEFTU1dPUkRfQkNSWVBUX1NBTFRfUk9VTkRTLFxuXHRcdH0pO1xuXHR9XG5cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldChpZDogQ2FycmllclsnaWQnXSkge1xuXHRcdHJldHVybiBzdXBlci5nZXQoaWQpLnBpcGUoXG5cdFx0XHRtYXAoYXN5bmMgKGNhcnJpZXIpID0+IHtcblx0XHRcdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRcdFx0cmV0dXJuIGNhcnJpZXI7XG5cdFx0XHR9KSxcblx0XHRcdHN3aXRjaE1hcCgoY2FycmllcikgPT4ge1xuXHRcdFx0XHRyZXR1cm4gY2Fycmllcjtcblx0XHRcdH0pXG5cdFx0KTtcblx0fVxuXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXRBbGxBY3RpdmUoKTogT2JzZXJ2YWJsZTxDYXJyaWVyW10+IHtcblx0XHRyZXR1cm4gY29uY2F0KG9mKG51bGwpLCB0aGlzLmV4aXN0ZW5jZSkucGlwZShcblx0XHRcdGV4aGF1c3RNYXAoKCkgPT4gdGhpcy5fZ2V0QWxsQWN0aXZlKCkpXG5cdFx0KTtcblx0fVxuXG5cdHByb3RlY3RlZCBhc3luYyBfZ2V0QWxsQWN0aXZlKCkge1xuXHRcdHJldHVybiBzdXBlci5maW5kKHsgaXNBY3RpdmU6IHRydWUsIGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0gfSk7XG5cdH1cblxuXHRhc3luYyBnZXRNdWx0aXBsZUJ5SWRzKFxuXHRcdGNhcnJpZXJJZHM6IHN0cmluZ1tdXG5cdCk6IFByb21pc2U8T2JzZXJ2YWJsZTxDYXJyaWVyW10+PiB7XG5cdFx0Y29uc3QgY2FycmllcnMgPSBhd2FpdCB0aGlzLmZpbmQoe1xuXHRcdFx0X2lkOiB7ICRpbjogY2FycmllcklkcyB9LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IGNhcnJpZXJzSWRzVG9SZXR1cm4gPSBjYXJyaWVycy5tYXAoKGMpID0+IGMuaWQpO1xuXHRcdHJldHVybiB0aGlzLmdldE11bHRpcGxlKGNhcnJpZXJzSWRzVG9SZXR1cm4pO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyByZWdpc3RlcihpbnB1dDogSUNhcnJpZXJSZWdpc3RyYXRpb25JbnB1dCkge1xuXHRcdGNvbnN0IGNhcnJpZXIgPSBhd2FpdCBzdXBlci5jcmVhdGUoe1xuXHRcdFx0Li4uaW5wdXQuY2Fycmllcixcblx0XHRcdC4uLihpbnB1dC5wYXNzd29yZFxuXHRcdFx0XHQ/IHtcblx0XHRcdFx0XHRcdGhhc2g6IGF3YWl0IHRoaXMuYXV0aFNlcnZpY2UuZ2V0UGFzc3dvcmRIYXNoKFxuXHRcdFx0XHRcdFx0XHRpbnB1dC5wYXNzd29yZFxuXHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0ICB9XG5cdFx0XHRcdDoge30pLFxuXHRcdH0pO1xuXHRcdHJldHVybiBjYXJyaWVyO1xuXHR9XG5cblx0YXN5bmMgdXBkYXRlUGFzc3dvcmQoXG5cdFx0aWQ6IENhcnJpZXJbJ2lkJ10sXG5cdFx0cGFzc3dvcmQ6IHsgY3VycmVudDogc3RyaW5nOyBuZXc6IHN0cmluZyB9XG5cdCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0YXdhaXQgdGhpcy5hdXRoU2VydmljZS51cGRhdGVQYXNzd29yZChpZCwgcGFzc3dvcmQpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBsb2dpbihcblx0XHR1c2VybmFtZTogc3RyaW5nLFxuXHRcdHBhc3N3b3JkOiBzdHJpbmdcblx0KTogUHJvbWlzZTxJQ2FycmllckxvZ2luUmVzcG9uc2UgfCBudWxsPiB7XG5cdFx0Y29uc3QgcmVzID0gYXdhaXQgdGhpcy5hdXRoU2VydmljZS5sb2dpbih7IHVzZXJuYW1lIH0sIHBhc3N3b3JkKTtcblxuXHRcdGlmICghcmVzKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9IGVsc2UgaWYgKHJlcy5lbnRpdHkuaXNEZWxldGVkKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0Y2FycmllcjogcmVzLmVudGl0eSxcblx0XHRcdHRva2VuOiByZXMudG9rZW4sXG5cdFx0fTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgdXBkYXRlU3RhdHVzKFxuXHRcdGNhcnJpZXJJZDogQ2FycmllclsnaWQnXSxcblx0XHRzdGF0dXM6IENhcnJpZXJTdGF0dXNcblx0KTogUHJvbWlzZTxDYXJyaWVyPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGNhcnJpZXJJZCk7XG5cdFx0cmV0dXJuIHN1cGVyLnVwZGF0ZShjYXJyaWVySWQsIHsgc3RhdHVzIH0pO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyB1cGRhdGVBY3Rpdml0eShcblx0XHRjYXJyaWVySWQ6IENhcnJpZXJbJ2lkJ10sXG5cdFx0aXNBY3RpdmU6IGJvb2xlYW5cblx0KTogUHJvbWlzZTxDYXJyaWVyPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGNhcnJpZXJJZCk7XG5cdFx0cmV0dXJuIHN1cGVyLnVwZGF0ZShjYXJyaWVySWQsIHsgaXNBY3RpdmUgfSk7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlIGVtYWlsIGZvciBnaXZlbiBDYXJyaWVyIChieSBjYXJyaWVyIElkKVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY2FycmllcklkXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxDYXJyaWVyPn1cblx0ICogQG1lbWJlcm9mIENhcnJpZXJzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyB1cGRhdGVFbWFpbChjYXJyaWVySWQ6IHN0cmluZywgZW1haWw6IHN0cmluZyk6IFByb21pc2U8Q2Fycmllcj4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhjYXJyaWVySWQpO1xuXHRcdHJldHVybiB0aGlzLnVwZGF0ZShjYXJyaWVySWQsIHsgZW1haWwgfSk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHVwZGF0ZUdlb0xvY2F0aW9uKFxuXHRcdGNhcnJpZXJJZDogQ2FycmllclsnaWQnXSxcblx0XHRAc2VyaWFsaXphdGlvbigoZ2w6IElHZW9Mb2NhdGlvbikgPT4gbmV3IEdlb0xvY2F0aW9uKGdsKSlcblx0XHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb25cblx0KTogUHJvbWlzZTxDYXJyaWVyPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGNhcnJpZXJJZCk7XG5cdFx0cmV0dXJuIHN1cGVyLnVwZGF0ZShjYXJyaWVySWQsIHsgZ2VvTG9jYXRpb24gfSk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHVwZGF0ZUJ5SWQoXG5cdFx0aWQ6IENhcnJpZXJbJ2lkJ10sXG5cdFx0dXBkYXRlT2JqZWN0OiBQYXJ0aWFsPENhcnJpZXI+XG5cdCk6IFByb21pc2U8Q2Fycmllcj4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHN1cGVyLnVwZGF0ZShpZCwgdXBkYXRlT2JqZWN0KTtcblx0fVxuXG5cdGFzeW5jIGluY3JlYXNlTnVtYmVyT2ZEZWxpdmVyaWVzKFxuXHRcdGNhcnJpZXJJZDogQ2FycmllclsnaWQnXSxcblx0XHRuOiBudW1iZXJcblx0KTogUHJvbWlzZTxDYXJyaWVyPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGNhcnJpZXJJZCk7XG5cblx0XHRyZXR1cm4gc3VwZXIudXBkYXRlKGNhcnJpZXJJZCwge1xuXHRcdFx0JGluYzogeyBudW1iZXJPZkRlbGl2ZXJpZXM6IG4gfSxcblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIHRocm93SWZOb3RFeGlzdHMoY2FycmllcklkOiBzdHJpbmcpIHtcblx0XHRjb25zdCBjYXJyaWVyID0gYXdhaXQgc3VwZXIuZ2V0KGNhcnJpZXJJZCkucGlwZShmaXJzdCgpKS50b1Byb21pc2UoKTtcblxuXHRcdGlmICghY2FycmllciB8fCBjYXJyaWVyLmlzRGVsZXRlZCkge1xuXHRcdFx0dGhyb3cgRXJyb3IoYENhcnJpZXIgd2l0aCBpZCAnJHtjYXJyaWVySWR9JyBkb2VzIG5vdCBleGlzdHMhYCk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgZ2V0Q2FycmllcnMoZmluZElucHV0LCBwYWdpbmdPcHRpb25zOiBJUGFnaW5nT3B0aW9ucykge1xuXHRcdGNvbnN0IHNvcnRPYmogPSB7fTtcblx0XHRpZiAocGFnaW5nT3B0aW9ucy5zb3J0KSB7XG5cdFx0XHRzb3J0T2JqW3BhZ2luZ09wdGlvbnMuc29ydC5maWVsZF0gPSBwYWdpbmdPcHRpb25zLnNvcnQuc29ydEJ5O1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLk1vZGVsLmZpbmQoe1xuXHRcdFx0Li4uZmluZElucHV0LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KVxuXHRcdFx0LnNvcnQoc29ydE9iailcblx0XHRcdC5za2lwKHBhZ2luZ09wdGlvbnMuc2tpcClcblx0XHRcdC5saW1pdChwYWdpbmdPcHRpb25zLmxpbWl0KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJyaWVyc1NlcnZpY2U7XG4iLCJleHBvcnQgKiBmcm9tICcuL0NhcnJpZXJzU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL0NhcnJpZXJzT3JkZXJzU2VydmljZSc7XG4iLCJpbXBvcnQgQ3VycmVuY3kgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9DdXJyZW5jeSc7XG5pbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IHJvdXRlck5hbWUgfSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgeyBEQlNlcnZpY2UgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJ3NlcnZpY2VzL0lTZXJ2aWNlJztcbmltcG9ydCB7IElDdXJyZW5jeUNyZWF0ZU9iamVjdCB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JQ3VycmVuY3knO1xuaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4uLy4uL2hlbHBlcnMvTG9nJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcblxuZXhwb3J0IGludGVyZmFjZSBDdXJyZW5jeU11dGF0aW9uUmVzcG9uZSB7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdG1lc3NhZ2U/OiBzdHJpbmc7XG5cdGRhdGE/OiBDdXJyZW5jeTtcbn1cblxuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ2N1cnJlbmN5JylcbmV4cG9ydCBjbGFzcyBDdXJyZW5jaWVzU2VydmljZSBleHRlbmRzIERCU2VydmljZTxDdXJyZW5jeT4gaW1wbGVtZW50cyBJU2VydmljZSB7XG5cdHB1YmxpYyByZWFkb25seSBEQk9iamVjdDogYW55ID0gQ3VycmVuY3k7XG5cblx0cHJvdGVjdGVkIHJlYWRvbmx5IGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7XG5cdFx0bmFtZTogJ2N1cnJlbmNpZXNTZXJ2aWNlJyxcblx0fSk7XG5cblx0YXN5bmMgY3JlYXRlQ3VycmVuY3koXG5cdFx0Y3VycmVuY3k6IElDdXJyZW5jeUNyZWF0ZU9iamVjdFxuXHQpOiBQcm9taXNlPEN1cnJlbmN5TXV0YXRpb25SZXNwb25lPiB7XG5cdFx0bGV0IHN1Y2Nlc3M7XG5cdFx0bGV0IG1lc3NhZ2U7XG5cdFx0bGV0IGRhdGE7XG5cblx0XHR0cnkge1xuXHRcdFx0ZGF0YSA9IGF3YWl0IHRoaXMuY3JlYXRlKGN1cnJlbmN5KTtcblx0XHRcdHN1Y2Nlc3MgPSB0cnVlO1xuXHRcdFx0bWVzc2FnZSA9IGBTdWNjZXNzZnVsbHkgY3JlYXRlIGN1cnJlbmN5ICR7ZGF0YS5jdXJyZW5jeUNvZGV9YDtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0c3VjY2VzcyA9IGZhbHNlO1xuXHRcdFx0bWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzcywgbWVzc2FnZSwgZGF0YSB9O1xuXHR9XG5cblx0YXN5bmMgZ2V0QWxsQ3VycmVuY2llcygpOiBQcm9taXNlPEN1cnJlbmN5W10+IHtcblx0XHRjb25zdCBjdXJyZW5jaWVzID0gYXdhaXQgdGhpcy5maW5kKHtcblx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gY3VycmVuY2llcztcblx0fVxufVxuIiwiaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyBJRGV2aWNlQ3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lEZXZpY2UnO1xuaW1wb3J0IERldmljZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0RldmljZSc7XG5pbXBvcnQgeyBEQlNlcnZpY2UgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4uLy4uL2hlbHBlcnMvTG9nJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGFzeW5jTGlzdGVuZXIsIG9ic2VydmFibGVMaXN0ZW5lciwgcm91dGVyTmFtZSB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCBJRGV2aWNlUm91dGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JRGV2aWNlUm91dGVyJztcbmltcG9ydCBJTGFuZ3VhZ2UgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lMYW5ndWFnZSc7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnLi4vSVNlcnZpY2UnO1xuaW1wb3J0IHsgZmlyc3QsIHN3aXRjaE1hcCwgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgnZGV2aWNlJylcbmV4cG9ydCBjbGFzcyBEZXZpY2VzU2VydmljZSBleHRlbmRzIERCU2VydmljZTxEZXZpY2U+XG5cdGltcGxlbWVudHMgSURldmljZVJvdXRlciwgSVNlcnZpY2Uge1xuXHRwdWJsaWMgcmVhZG9ubHkgREJPYmplY3Q6IGFueSA9IERldmljZTtcblxuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHtcblx0XHRuYW1lOiAnZGV2aWNlc1NlcnZpY2UnLFxuXHR9KTtcblxuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KGlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPERldmljZSB8IG51bGw+IHtcblx0XHRyZXR1cm4gc3VwZXIuZ2V0KGlkKS5waXBlKFxuXHRcdFx0bWFwKGFzeW5jIChkZXZpY2UpID0+IHtcblx0XHRcdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRcdFx0cmV0dXJuIGRldmljZTtcblx0XHRcdH0pLFxuXHRcdFx0c3dpdGNoTWFwKChkZXZpY2UpID0+IGRldmljZSlcblx0XHQpO1xuXHR9XG5cblx0YXN5bmMgZ2V0TXVsdGlwbGVEZXZpY2VzKFxuXHRcdGlkczogQXJyYXk8RGV2aWNlWydpZCddPlxuXHQpOiBQcm9taXNlPE9ic2VydmFibGU8RGV2aWNlW10+PiB7XG5cdFx0Y29uc3QgZGV2aWNlcyA9IGF3YWl0IHRoaXMuZmluZCh7XG5cdFx0XHRfaWQ6IHsgJGluOiBpZHMgfSxcblx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0fSk7XG5cblx0XHRjb25zdCBkZXZpY2VzSWRzID0gZGV2aWNlcy5tYXAoKGRldmljZSkgPT4gZGV2aWNlLmlkKTtcblxuXHRcdHJldHVybiBzdXBlci5nZXRNdWx0aXBsZShkZXZpY2VzSWRzKTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgY3JlYXRlKGRldmljZTogSURldmljZUNyZWF0ZU9iamVjdCk6IFByb21pc2U8RGV2aWNlPiB7XG5cdFx0cmV0dXJuIHN1cGVyLmNyZWF0ZShkZXZpY2UpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyB1cGRhdGVMYW5ndWFnZShcblx0XHRkZXZpY2VJZDogc3RyaW5nLFxuXHRcdGxhbmd1YWdlOiBJTGFuZ3VhZ2Vcblx0KTogUHJvbWlzZTxEZXZpY2U+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoZGV2aWNlSWQpO1xuXG5cdFx0cmV0dXJuIHRoaXMudXBkYXRlKGRldmljZUlkLCB7XG5cdFx0XHRsYW5ndWFnZSxcblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIHRocm93SWZOb3RFeGlzdHMoZGV2aWNlSWQ6IHN0cmluZykge1xuXHRcdGNvbnN0IGRldmljZSA9IGF3YWl0IHN1cGVyLmdldChkZXZpY2VJZCkucGlwZShmaXJzdCgpKS50b1Byb21pc2UoKTtcblxuXHRcdGlmICghZGV2aWNlIHx8IGRldmljZS5pc0RlbGV0ZWQpIHtcblx0XHRcdHRocm93IEVycm9yKGBEZXZpY2Ugd2l0aCBpZCAnJHtkZXZpY2VJZH0nIGRvZXMgbm90IGV4aXN0cyFgKTtcblx0XHR9XG5cdH1cbn1cbiIsImV4cG9ydCAqIGZyb20gJy4vRGV2aWNlc1NlcnZpY2UnO1xuIiwiaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9Qcm9kdWN0JztcbmltcG9ydCBVc2VyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvVXNlcic7XG5pbXBvcnQgV2FyZWhvdXNlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvV2FyZWhvdXNlJztcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEZha2VPcmRlcnNTZXJ2aWNlIHtcblx0cHJpdmF0ZSBfb3JkZXJOdW1iZXI6IG51bWJlcjtcblx0cHJpdmF0ZSBfc3RvcmVJZDogc3RyaW5nO1xuXHRwcml2YXRlIF9jYXJyaWVySWQ6IHN0cmluZztcblx0cHJpdmF0ZSBfb3JkZXJDcmVhdGVkQXQ6IERhdGU7XG5cblx0Z2V0T3JkZXJSYXcoXG5cdFx0b3JkZXJOdW1iZXI6IG51bWJlcixcblx0XHRzdG9yZUlkOiBzdHJpbmcsXG5cdFx0c3RvcmVDcmVhdGVkQXQ6IERhdGUsXG5cdFx0Y2FycmllcklkOiBzdHJpbmcsXG5cdFx0Y3VzdG9tZXJzOiBVc2VyW10sXG5cdFx0cHJvZHVjdHM6IFByb2R1Y3RbXVxuXHQpIHtcblx0XHR0aGlzLl9vcmRlck51bWJlciA9IG9yZGVyTnVtYmVyO1xuXHRcdHRoaXMuX3N0b3JlSWQgPSBzdG9yZUlkO1xuXHRcdHRoaXMuX2NhcnJpZXJJZCA9IGNhcnJpZXJJZDtcblx0XHR0aGlzLl9vcmRlckNyZWF0ZWRBdCA9IHRoaXMuZ2V0T3JkZXJEYXRlKHN0b3JlQ3JlYXRlZEF0KTtcblxuXHRcdHN3aXRjaCAodHJ1ZSkge1xuXHRcdFx0Y2FzZSBvcmRlck51bWJlciA8PSAyNTpcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2dldE9yZGVySnVzdENyZWF0ZWQoY3VzdG9tZXJzLCBwcm9kdWN0cyk7XG5cblx0XHRcdGNhc2Ugb3JkZXJOdW1iZXIgPD0gNTA6XG5cdFx0XHRcdHJldHVybiB0aGlzLl9nZXRPcmRlclJlYWR5Rm9yUHJvY2Vzc2luZyhjdXN0b21lcnMsIHByb2R1Y3RzKTtcblxuXHRcdFx0Y2FzZSBvcmRlck51bWJlciA8PSA3NTpcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2dldE9yZGVyU3RvcmVTdGFydFByb2Nlc3NpbmcoY3VzdG9tZXJzLCBwcm9kdWN0cyk7XG5cblx0XHRcdGNhc2Ugb3JkZXJOdW1iZXIgPD0gMTAwOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0T3JkZXJDb25maXJtZWQoY3VzdG9tZXJzLCBwcm9kdWN0cyk7XG5cblx0XHRcdGNhc2Ugb3JkZXJOdW1iZXIgPD0gMTI1OlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0T3JkZXJTdGFydEFsbG9jYXRpb24oY3VzdG9tZXJzLCBwcm9kdWN0cyk7XG5cblx0XHRcdGNhc2Ugb3JkZXJOdW1iZXIgPD0gMTUwOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0T3JkZXJQYWNrYWdpbmdTdGFydGVkKGN1c3RvbWVycywgcHJvZHVjdHMpO1xuXG5cdFx0XHRjYXNlIG9yZGVyTnVtYmVyIDw9IDIwMDpcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2dldE9yZGVyQWxsb2NhdGlvbkZhaWxzKGN1c3RvbWVycywgcHJvZHVjdHMpO1xuXG5cdFx0XHRjYXNlIG9yZGVyTnVtYmVyIDw9IDI1MDpcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2dldE9yZGVyUGFja2FnaW5nRmFpbHMoY3VzdG9tZXJzLCBwcm9kdWN0cyk7XG5cblx0XHRcdGNhc2Ugb3JkZXJOdW1iZXIgPD0gMzAwOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0T3JkZXJJc3N1ZXNEdXJpbmdEZWxpdmVyeShjdXN0b21lcnMsIHByb2R1Y3RzKTtcblxuXHRcdFx0Y2FzZSBvcmRlck51bWJlciA8PSAzNTA6XG5cdFx0XHRcdHJldHVybiB0aGlzLl9nZXRPcmRlckNsaWVudFJlZnVzZU9yZGVyKGN1c3RvbWVycywgcHJvZHVjdHMpO1xuXG5cdFx0XHRjYXNlIG9yZGVyTnVtYmVyIDw9IDQwMDpcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2dldE9yZGVyQWxsb2NhdGlvbkZpbmlzaGVkKGN1c3RvbWVycywgcHJvZHVjdHMpO1xuXG5cdFx0XHRjYXNlIG9yZGVyTnVtYmVyIDw9IDQ1MDpcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2dldE9yZGVyUGFja2FnaW5nRmluaXNoZWQoY3VzdG9tZXJzLCBwcm9kdWN0cyk7XG5cblx0XHRcdGNhc2Ugb3JkZXJOdW1iZXIgPD0gNDc1OlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0T3JkZXJDYXJyaWVyU2VsZWN0ZWQoY3VzdG9tZXJzLCBwcm9kdWN0cyk7XG5cblx0XHRcdGNhc2Ugb3JkZXJOdW1iZXIgPD0gNTAwOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0T3JkZXJDYXJyaWVyUGlja3VwKGN1c3RvbWVycywgcHJvZHVjdHMpO1xuXG5cdFx0XHRjYXNlIG9yZGVyTnVtYmVyIDw9IDUyNTpcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2dldE9yZGVyQ2FycmllckFycml2ZVRvQ3VzdG9tZXIoXG5cdFx0XHRcdFx0Y3VzdG9tZXJzLFxuXHRcdFx0XHRcdHByb2R1Y3RzXG5cdFx0XHRcdCk7XG5cblx0XHRcdGNhc2Ugb3JkZXJOdW1iZXIgPD0gNjUwOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0T3JkZXJDYW5jZWxsZWQoY3VzdG9tZXJzLCBwcm9kdWN0cyk7XG5cblx0XHRcdGNhc2Ugb3JkZXJOdW1iZXIgPD0gMTAwMDpcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2dldE9yZGVyRGVsaXZlcnlDb21wbGV0ZWQoY3VzdG9tZXJzLCBwcm9kdWN0cyk7XG5cdFx0fVxuXHR9XG5cblx0Z2V0T3JkZXJEYXRlKHN0YXJ0RGF0ZTogRGF0ZSk6IERhdGUge1xuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cblx0XHRjb25zdCBvcmRlclllYXIgPSBfLnJhbmRvbShzdGFydERhdGUuZ2V0RnVsbFllYXIoKSwgbm93LmdldEZ1bGxZZWFyKCkpO1xuXHRcdGNvbnN0IG9yZGVyTW9udGggPSBfLnJhbmRvbSgxMSk7XG5cdFx0Y29uc3Qgb3JkZXJEYXRlID0gXy5yYW5kb20oMzEpO1xuXHRcdGNvbnN0IG9yZGVySG91cnMgPSBfLnJhbmRvbSgyMyk7XG5cdFx0Y29uc3Qgb3JkZXJNaW51dGVzID0gXy5yYW5kb20oNTkpO1xuXG5cdFx0Y29uc3Qgb3JkZXJDcmVhdGVkQXQgPSBuZXcgRGF0ZShcblx0XHRcdG9yZGVyWWVhcixcblx0XHRcdG9yZGVyTW9udGgsXG5cdFx0XHRvcmRlckRhdGUsXG5cdFx0XHRvcmRlckhvdXJzLFxuXHRcdFx0b3JkZXJNaW51dGVzXG5cdFx0KTtcblxuXHRcdGlmIChvcmRlckNyZWF0ZWRBdCA8IHN0YXJ0RGF0ZSB8fCBvcmRlckNyZWF0ZWRBdCA+IG5vdykge1xuXHRcdFx0Y29uc3QgZGlmZiA9IG5vdy5nZXRUaW1lKCkgLSBzdGFydERhdGUuZ2V0VGltZSgpO1xuXHRcdFx0b3JkZXJDcmVhdGVkQXQuc2V0VGltZShzdGFydERhdGUuZ2V0VGltZSgpICsgXy5yYW5kb20oZGlmZikpO1xuXHRcdH1cblxuXHRcdHJldHVybiBvcmRlckNyZWF0ZWRBdDtcblx0fVxuXG5cdGdldE9yZGVyTmV4dFRpbWUoZGF0ZTogRGF0ZSk6IERhdGUge1xuXHRcdGNvbnN0IHJhbmRvbU1pbnV0ZXMgPSBfLnJhbmRvbSgxLCAzMCk7XG5cdFx0Y29uc3QgcmFuZG9tU2VjID0gXy5yYW5kb20oMSwgNjApO1xuXHRcdGNvbnN0IG9sZERhdGUgPSBuZXcgRGF0ZShkYXRlKTtcblxuXHRcdG9sZERhdGUuc2V0U2Vjb25kcyhyYW5kb21TZWMpO1xuXG5cdFx0cmV0dXJuIG5ldyBEYXRlKG9sZERhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSArIHJhbmRvbU1pbnV0ZXMpKTtcblx0fVxuXG5cdGdldFJhbmRvbU51bWJlck9mUHJvZHVjdHMoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fb3JkZXJOdW1iZXIgJSA3IHx8IDE7XG5cdH1cblxuXHRnZXRSYW5kb21PcmRlclByb2R1Y3RDb3VudCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9vcmRlck51bWJlciAlIDMgfHwgMTtcblx0fVxuXG5cdGdldFJhbmRvbU9yZGVyUHJvZHVjdFByaWNlKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyTnVtYmVyICUgMTEwIHx8IDE7XG5cdH1cblxuXHRnZXRSYW5kb21Qcm9kdWN0KG9yZGVyTnVtYmVyOiBudW1iZXIsIHByb2R1Y3RzOiBQcm9kdWN0W10pOiBQcm9kdWN0IHtcblx0XHRyZXR1cm4gcHJvZHVjdHNbb3JkZXJOdW1iZXIgJSBwcm9kdWN0cy5sZW5ndGhdO1xuXHR9XG5cblx0Z2VuZXJhdGVSYW5kb21PcmRlclByb2R1Y3RzKHByb2R1Y3RzOiBQcm9kdWN0W10pIHtcblx0XHRjb25zdCBudW1iZXJPZlByb2R1Y3RzID0gdGhpcy5nZXRSYW5kb21OdW1iZXJPZlByb2R1Y3RzKCk7XG5cblx0XHRjb25zdCBvcmRlclByb2R1Y3RzID0gW107XG5cblx0XHRmb3IgKFxuXHRcdFx0bGV0IHByb2R1Y3ROdW1iZXIgPSAxO1xuXHRcdFx0cHJvZHVjdE51bWJlciA8PSBudW1iZXJPZlByb2R1Y3RzO1xuXHRcdFx0cHJvZHVjdE51bWJlciArPSAxXG5cdFx0KSB7XG5cdFx0XHRjb25zdCBvcmRlclByaWNlID0gdGhpcy5nZXRSYW5kb21PcmRlclByb2R1Y3RQcmljZSgpO1xuXG5cdFx0XHRvcmRlclByb2R1Y3RzLnB1c2goe1xuXHRcdFx0XHRjb3VudDogdGhpcy5nZXRSYW5kb21PcmRlclByb2R1Y3RDb3VudCgpLFxuXHRcdFx0XHRwcm9kdWN0OiB0aGlzLmdldFJhbmRvbVByb2R1Y3QocHJvZHVjdE51bWJlciwgcHJvZHVjdHMpLFxuXHRcdFx0XHRpc01hbnVmYWN0dXJpbmc6IHRydWUsXG5cdFx0XHRcdHByaWNlOiBvcmRlclByaWNlLFxuXHRcdFx0XHRpbml0aWFsUHJpY2U6IG9yZGVyUHJpY2UsXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb3JkZXJQcm9kdWN0cztcblx0fVxuXG5cdGdldFJhbmRvbU9yZGVyQ3VzdG9tZXIoY3VzdG9tZXJzOiBVc2VyW10pOiBVc2VyIHtcblx0XHRyZXR1cm4gY3VzdG9tZXJzW3RoaXMuX29yZGVyTnVtYmVyICUgY3VzdG9tZXJzLmxlbmd0aF07XG5cdH1cblxuXHRwcml2YXRlIF9nZXRPcmRlckRlbGl2ZXJ5Q29tcGxldGVkKGN1c3RvbWVyczogVXNlcltdLCBwcm9kdWN0czogUHJvZHVjdFtdKSB7XG5cdFx0Y29uc3Qgc3RhcnREZWxpdmVyeVRpbWUgPSB0aGlzLmdldE9yZGVyTmV4dFRpbWUodGhpcy5fb3JkZXJDcmVhdGVkQXQpO1xuXHRcdGNvbnN0IGRlbGl2ZXJ5VGltZSA9IHRoaXMuZ2V0T3JkZXJOZXh0VGltZShzdGFydERlbGl2ZXJ5VGltZSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aXNDb25maXJtZWQ6IGZhbHNlLFxuXHRcdFx0aXNDYW5jZWxsZWQ6IGZhbHNlLFxuXHRcdFx0aXNQYWlkOiB0cnVlLFxuXHRcdFx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IDAsXG5cdFx0XHR3YXJlaG91c2VTdGF0dXM6IDYsXG5cdFx0XHRjYXJyaWVyU3RhdHVzOiA1LFxuXHRcdFx0aXNEZWxldGVkOiBmYWxzZSxcblx0XHRcdG9yZGVyTnVtYmVyOiB0aGlzLl9vcmRlck51bWJlcixcblx0XHRcdHdhcmVob3VzZTogdGhpcy5fc3RvcmVJZCxcblx0XHRcdGNhcnJpZXI6IHRoaXMuX2NhcnJpZXJJZCxcblx0XHRcdHN0YXJ0RGVsaXZlcnlUaW1lLFxuXHRcdFx0ZGVsaXZlcnlUaW1lLFxuXHRcdFx0dXNlcjogdGhpcy5nZXRSYW5kb21PcmRlckN1c3RvbWVyKGN1c3RvbWVycyksXG5cdFx0XHRwcm9kdWN0czogdGhpcy5nZW5lcmF0ZVJhbmRvbU9yZGVyUHJvZHVjdHMocHJvZHVjdHMpLFxuXHRcdFx0X2NyZWF0ZWRBdDogdGhpcy5fb3JkZXJDcmVhdGVkQXQsXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgX2dldE9yZGVyQ2FycmllckFycml2ZVRvQ3VzdG9tZXIoXG5cdFx0Y3VzdG9tZXJzOiBVc2VyW10sXG5cdFx0cHJvZHVjdHM6IFByb2R1Y3RbXVxuXHQpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aXNDb25maXJtZWQ6IGZhbHNlLFxuXHRcdFx0aXNDYW5jZWxsZWQ6IGZhbHNlLFxuXHRcdFx0aXNQYWlkOiBmYWxzZSxcblx0XHRcdGRlbGl2ZXJ5VGltZUVzdGltYXRlOiAwLFxuXHRcdFx0d2FyZWhvdXNlU3RhdHVzOiA2LFxuXHRcdFx0Y2FycmllclN0YXR1czogNCxcblx0XHRcdGlzRGVsZXRlZDogZmFsc2UsXG5cdFx0XHRvcmRlck51bWJlcjogdGhpcy5fb3JkZXJOdW1iZXIsXG5cdFx0XHR3YXJlaG91c2U6IHRoaXMuX3N0b3JlSWQsXG5cdFx0XHRjYXJyaWVyOiB0aGlzLl9jYXJyaWVySWQsXG5cdFx0XHR1c2VyOiB0aGlzLmdldFJhbmRvbU9yZGVyQ3VzdG9tZXIoY3VzdG9tZXJzKSxcblx0XHRcdHByb2R1Y3RzOiB0aGlzLmdlbmVyYXRlUmFuZG9tT3JkZXJQcm9kdWN0cyhwcm9kdWN0cyksXG5cdFx0XHRzdGFydERlbGl2ZXJ5VGltZTogdGhpcy5nZXRPcmRlck5leHRUaW1lKHRoaXMuX29yZGVyQ3JlYXRlZEF0KSxcblx0XHRcdF9jcmVhdGVkQXQ6IHRoaXMuX29yZGVyQ3JlYXRlZEF0LFxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIF9nZXRPcmRlckNhcnJpZXJQaWNrdXAoY3VzdG9tZXJzOiBVc2VyW10sIHByb2R1Y3RzOiBQcm9kdWN0W10pIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aXNDb25maXJtZWQ6IGZhbHNlLFxuXHRcdFx0aXNDYW5jZWxsZWQ6IGZhbHNlLFxuXHRcdFx0aXNQYWlkOiBmYWxzZSxcblx0XHRcdGRlbGl2ZXJ5VGltZUVzdGltYXRlOiAwLFxuXHRcdFx0d2FyZWhvdXNlU3RhdHVzOiA2LFxuXHRcdFx0Y2FycmllclN0YXR1czogMixcblx0XHRcdGlzRGVsZXRlZDogZmFsc2UsXG5cdFx0XHRvcmRlck51bWJlcjogdGhpcy5fb3JkZXJOdW1iZXIsXG5cdFx0XHR3YXJlaG91c2U6IHRoaXMuX3N0b3JlSWQsXG5cdFx0XHRjYXJyaWVyOiB0aGlzLl9jYXJyaWVySWQsXG5cdFx0XHRzdGFydERlbGl2ZXJ5VGltZTogdGhpcy5nZXRPcmRlck5leHRUaW1lKHRoaXMuX29yZGVyQ3JlYXRlZEF0KSxcblx0XHRcdHVzZXI6IHRoaXMuZ2V0UmFuZG9tT3JkZXJDdXN0b21lcihjdXN0b21lcnMpLFxuXHRcdFx0cHJvZHVjdHM6IHRoaXMuZ2VuZXJhdGVSYW5kb21PcmRlclByb2R1Y3RzKHByb2R1Y3RzKSxcblx0XHRcdF9jcmVhdGVkQXQ6IHRoaXMuX29yZGVyQ3JlYXRlZEF0LFxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIF9nZXRPcmRlckNhcnJpZXJTZWxlY3RlZChjdXN0b21lcnM6IFVzZXJbXSwgcHJvZHVjdHM6IFByb2R1Y3RbXSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpc0NvbmZpcm1lZDogZmFsc2UsXG5cdFx0XHRpc0NhbmNlbGxlZDogZmFsc2UsXG5cdFx0XHRpc1BhaWQ6IGZhbHNlLFxuXHRcdFx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IDAsXG5cdFx0XHR3YXJlaG91c2VTdGF0dXM6IDYsXG5cdFx0XHRjYXJyaWVyU3RhdHVzOiAxLFxuXHRcdFx0aXNEZWxldGVkOiBmYWxzZSxcblx0XHRcdG9yZGVyTnVtYmVyOiB0aGlzLl9vcmRlck51bWJlcixcblx0XHRcdHdhcmVob3VzZTogdGhpcy5fc3RvcmVJZCxcblx0XHRcdGNhcnJpZXI6IHRoaXMuX2NhcnJpZXJJZCxcblx0XHRcdHVzZXI6IHRoaXMuZ2V0UmFuZG9tT3JkZXJDdXN0b21lcihjdXN0b21lcnMpLFxuXHRcdFx0cHJvZHVjdHM6IHRoaXMuZ2VuZXJhdGVSYW5kb21PcmRlclByb2R1Y3RzKHByb2R1Y3RzKSxcblx0XHRcdF9jcmVhdGVkQXQ6IHRoaXMuX29yZGVyQ3JlYXRlZEF0LFxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIF9nZXRPcmRlclBhY2thZ2luZ0ZpbmlzaGVkKGN1c3RvbWVyczogVXNlcltdLCBwcm9kdWN0czogUHJvZHVjdFtdKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGlzQ29uZmlybWVkOiBmYWxzZSxcblx0XHRcdGlzQ2FuY2VsbGVkOiBmYWxzZSxcblx0XHRcdGlzUGFpZDogZmFsc2UsXG5cdFx0XHRkZWxpdmVyeVRpbWVFc3RpbWF0ZTogMCxcblx0XHRcdHdhcmVob3VzZVN0YXR1czogNixcblx0XHRcdGNhcnJpZXJTdGF0dXM6IDAsXG5cdFx0XHRpc0RlbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0b3JkZXJOdW1iZXI6IHRoaXMuX29yZGVyTnVtYmVyLFxuXHRcdFx0d2FyZWhvdXNlOiB0aGlzLl9zdG9yZUlkLFxuXHRcdFx0dXNlcjogdGhpcy5nZXRSYW5kb21PcmRlckN1c3RvbWVyKGN1c3RvbWVycyksXG5cdFx0XHRwcm9kdWN0czogdGhpcy5nZW5lcmF0ZVJhbmRvbU9yZGVyUHJvZHVjdHMocHJvZHVjdHMpLFxuXHRcdFx0X2NyZWF0ZWRBdDogdGhpcy5fb3JkZXJDcmVhdGVkQXQsXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgX2dldE9yZGVyQWxsb2NhdGlvbkZpbmlzaGVkKFxuXHRcdGN1c3RvbWVyczogVXNlcltdLFxuXHRcdHByb2R1Y3RzOiBQcm9kdWN0W11cblx0KSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGlzQ29uZmlybWVkOiBmYWxzZSxcblx0XHRcdGlzQ2FuY2VsbGVkOiBmYWxzZSxcblx0XHRcdGlzUGFpZDogZmFsc2UsXG5cdFx0XHRkZWxpdmVyeVRpbWVFc3RpbWF0ZTogMCxcblx0XHRcdHdhcmVob3VzZVN0YXR1czogNCxcblx0XHRcdGNhcnJpZXJTdGF0dXM6IDAsXG5cdFx0XHRpc0RlbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0b3JkZXJOdW1iZXI6IHRoaXMuX29yZGVyTnVtYmVyLFxuXHRcdFx0d2FyZWhvdXNlOiB0aGlzLl9zdG9yZUlkLFxuXHRcdFx0dXNlcjogdGhpcy5nZXRSYW5kb21PcmRlckN1c3RvbWVyKGN1c3RvbWVycyksXG5cdFx0XHRwcm9kdWN0czogdGhpcy5nZW5lcmF0ZVJhbmRvbU9yZGVyUHJvZHVjdHMocHJvZHVjdHMpLFxuXHRcdFx0X2NyZWF0ZWRBdDogdGhpcy5fb3JkZXJDcmVhdGVkQXQsXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgX2dldE9yZGVyQ2xpZW50UmVmdXNlT3JkZXIoY3VzdG9tZXJzOiBVc2VyW10sIHByb2R1Y3RzOiBQcm9kdWN0W10pIHtcblx0XHRjb25zdCBzdGFydERlbGl2ZXJ5VGltZSA9IHRoaXMuZ2V0T3JkZXJOZXh0VGltZSh0aGlzLl9vcmRlckNyZWF0ZWRBdCk7XG5cdFx0Y29uc3QgZmluaXNoZWRQcm9jZXNzaW5nVGltZSA9IHRoaXMuZ2V0T3JkZXJOZXh0VGltZShzdGFydERlbGl2ZXJ5VGltZSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aXNDb25maXJtZWQ6IGZhbHNlLFxuXHRcdFx0aXNDYW5jZWxsZWQ6IGZhbHNlLFxuXHRcdFx0aXNQYWlkOiBmYWxzZSxcblx0XHRcdGRlbGl2ZXJ5VGltZUVzdGltYXRlOiAwLFxuXHRcdFx0d2FyZWhvdXNlU3RhdHVzOiA2LFxuXHRcdFx0Y2FycmllclN0YXR1czogMjA1LFxuXHRcdFx0aXNEZWxldGVkOiBmYWxzZSxcblx0XHRcdG9yZGVyTnVtYmVyOiB0aGlzLl9vcmRlck51bWJlcixcblx0XHRcdHdhcmVob3VzZTogdGhpcy5fc3RvcmVJZCxcblx0XHRcdGNhcnJpZXI6IHRoaXMuX2NhcnJpZXJJZCxcblx0XHRcdHVzZXI6IHRoaXMuZ2V0UmFuZG9tT3JkZXJDdXN0b21lcihjdXN0b21lcnMpLFxuXHRcdFx0cHJvZHVjdHM6IHRoaXMuZ2VuZXJhdGVSYW5kb21PcmRlclByb2R1Y3RzKHByb2R1Y3RzKSxcblx0XHRcdHN0YXJ0RGVsaXZlcnlUaW1lLFxuXHRcdFx0ZmluaXNoZWRQcm9jZXNzaW5nVGltZSxcblx0XHRcdF9jcmVhdGVkQXQ6IHRoaXMuX29yZGVyQ3JlYXRlZEF0LFxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIF9nZXRPcmRlcklzc3Vlc0R1cmluZ0RlbGl2ZXJ5KFxuXHRcdGN1c3RvbWVyczogVXNlcltdLFxuXHRcdHByb2R1Y3RzOiBQcm9kdWN0W11cblx0KSB7XG5cdFx0Y29uc3Qgc3RhcnREZWxpdmVyeVRpbWUgPSB0aGlzLmdldE9yZGVyTmV4dFRpbWUodGhpcy5fb3JkZXJDcmVhdGVkQXQpO1xuXHRcdGNvbnN0IGZpbmlzaGVkUHJvY2Vzc2luZ1RpbWUgPSB0aGlzLmdldE9yZGVyTmV4dFRpbWUoc3RhcnREZWxpdmVyeVRpbWUpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGlzQ29uZmlybWVkOiBmYWxzZSxcblx0XHRcdGlzQ2FuY2VsbGVkOiBmYWxzZSxcblx0XHRcdGlzUGFpZDogZmFsc2UsXG5cdFx0XHRkZWxpdmVyeVRpbWVFc3RpbWF0ZTogMCxcblx0XHRcdHdhcmVob3VzZVN0YXR1czogNixcblx0XHRcdGNhcnJpZXJTdGF0dXM6IDIwNCxcblx0XHRcdGlzRGVsZXRlZDogZmFsc2UsXG5cdFx0XHRvcmRlck51bWJlcjogdGhpcy5fb3JkZXJOdW1iZXIsXG5cdFx0XHR3YXJlaG91c2U6IHRoaXMuX3N0b3JlSWQsXG5cdFx0XHRjYXJyaWVyOiB0aGlzLl9jYXJyaWVySWQsXG5cdFx0XHRzdGFydERlbGl2ZXJ5VGltZSxcblx0XHRcdGZpbmlzaGVkUHJvY2Vzc2luZ1RpbWUsXG5cdFx0XHR1c2VyOiB0aGlzLmdldFJhbmRvbU9yZGVyQ3VzdG9tZXIoY3VzdG9tZXJzKSxcblx0XHRcdHByb2R1Y3RzOiB0aGlzLmdlbmVyYXRlUmFuZG9tT3JkZXJQcm9kdWN0cyhwcm9kdWN0cyksXG5cdFx0XHRfY3JlYXRlZEF0OiB0aGlzLl9vcmRlckNyZWF0ZWRBdCxcblx0XHR9O1xuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0T3JkZXJQYWNrYWdpbmdGYWlscyhjdXN0b21lcnM6IFVzZXJbXSwgcHJvZHVjdHM6IFByb2R1Y3RbXSkge1xuXHRcdGNvbnN0IGZpbmlzaGVkUHJvY2Vzc2luZ1RpbWUgPSB0aGlzLmdldE9yZGVyTmV4dFRpbWUoXG5cdFx0XHR0aGlzLl9vcmRlckNyZWF0ZWRBdFxuXHRcdCk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aXNDb25maXJtZWQ6IGZhbHNlLFxuXHRcdFx0aXNDYW5jZWxsZWQ6IGZhbHNlLFxuXHRcdFx0aXNQYWlkOiBmYWxzZSxcblx0XHRcdGRlbGl2ZXJ5VGltZUVzdGltYXRlOiAwLFxuXHRcdFx0d2FyZWhvdXNlU3RhdHVzOiAyMDEsXG5cdFx0XHRjYXJyaWVyU3RhdHVzOiAwLFxuXHRcdFx0aXNEZWxldGVkOiBmYWxzZSxcblx0XHRcdG9yZGVyTnVtYmVyOiB0aGlzLl9vcmRlck51bWJlcixcblx0XHRcdHdhcmVob3VzZTogdGhpcy5fc3RvcmVJZCxcblx0XHRcdGZpbmlzaGVkUHJvY2Vzc2luZ1RpbWUsXG5cdFx0XHR1c2VyOiB0aGlzLmdldFJhbmRvbU9yZGVyQ3VzdG9tZXIoY3VzdG9tZXJzKSxcblx0XHRcdHByb2R1Y3RzOiB0aGlzLmdlbmVyYXRlUmFuZG9tT3JkZXJQcm9kdWN0cyhwcm9kdWN0cyksXG5cdFx0XHRfY3JlYXRlZEF0OiB0aGlzLl9vcmRlckNyZWF0ZWRBdCxcblx0XHR9O1xuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0T3JkZXJBbGxvY2F0aW9uRmFpbHMoY3VzdG9tZXJzOiBVc2VyW10sIHByb2R1Y3RzOiBQcm9kdWN0W10pIHtcblx0XHRjb25zdCBmaW5pc2hlZFByb2Nlc3NpbmdUaW1lID0gdGhpcy5nZXRPcmRlck5leHRUaW1lKFxuXHRcdFx0dGhpcy5fb3JkZXJDcmVhdGVkQXRcblx0XHQpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGlzQ29uZmlybWVkOiBmYWxzZSxcblx0XHRcdGlzQ2FuY2VsbGVkOiBmYWxzZSxcblx0XHRcdGlzUGFpZDogZmFsc2UsXG5cdFx0XHRkZWxpdmVyeVRpbWVFc3RpbWF0ZTogMCxcblx0XHRcdHdhcmVob3VzZVN0YXR1czogMjAwLFxuXHRcdFx0Y2FycmllclN0YXR1czogMCxcblx0XHRcdGlzRGVsZXRlZDogZmFsc2UsXG5cdFx0XHRvcmRlck51bWJlcjogdGhpcy5fb3JkZXJOdW1iZXIsXG5cdFx0XHR3YXJlaG91c2U6IHRoaXMuX3N0b3JlSWQsXG5cdFx0XHRmaW5pc2hlZFByb2Nlc3NpbmdUaW1lLFxuXHRcdFx0dXNlcjogdGhpcy5nZXRSYW5kb21PcmRlckN1c3RvbWVyKGN1c3RvbWVycyksXG5cdFx0XHRwcm9kdWN0czogdGhpcy5nZW5lcmF0ZVJhbmRvbU9yZGVyUHJvZHVjdHMocHJvZHVjdHMpLFxuXHRcdFx0X2NyZWF0ZWRBdDogdGhpcy5fb3JkZXJDcmVhdGVkQXQsXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgX2dldE9yZGVyUGFja2FnaW5nU3RhcnRlZChjdXN0b21lcnM6IFVzZXJbXSwgcHJvZHVjdHM6IFByb2R1Y3RbXSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpc0NvbmZpcm1lZDogZmFsc2UsXG5cdFx0XHRpc0NhbmNlbGxlZDogZmFsc2UsXG5cdFx0XHRpc1BhaWQ6IGZhbHNlLFxuXHRcdFx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IDAsXG5cdFx0XHR3YXJlaG91c2VTdGF0dXM6IDUsXG5cdFx0XHRjYXJyaWVyU3RhdHVzOiAwLFxuXHRcdFx0aXNEZWxldGVkOiBmYWxzZSxcblx0XHRcdG9yZGVyTnVtYmVyOiB0aGlzLl9vcmRlck51bWJlcixcblx0XHRcdHdhcmVob3VzZTogdGhpcy5fc3RvcmVJZCxcblx0XHRcdHVzZXI6IHRoaXMuZ2V0UmFuZG9tT3JkZXJDdXN0b21lcihjdXN0b21lcnMpLFxuXHRcdFx0cHJvZHVjdHM6IHRoaXMuZ2VuZXJhdGVSYW5kb21PcmRlclByb2R1Y3RzKHByb2R1Y3RzKSxcblx0XHRcdF9jcmVhdGVkQXQ6IHRoaXMuX29yZGVyQ3JlYXRlZEF0LFxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIF9nZXRPcmRlclN0YXJ0QWxsb2NhdGlvbihjdXN0b21lcnM6IFVzZXJbXSwgcHJvZHVjdHM6IFByb2R1Y3RbXSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpc0NvbmZpcm1lZDogZmFsc2UsXG5cdFx0XHRpc0NhbmNlbGxlZDogZmFsc2UsXG5cdFx0XHRpc1BhaWQ6IGZhbHNlLFxuXHRcdFx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IDAsXG5cdFx0XHR3YXJlaG91c2VTdGF0dXM6IDMsXG5cdFx0XHRjYXJyaWVyU3RhdHVzOiAwLFxuXHRcdFx0aXNEZWxldGVkOiBmYWxzZSxcblx0XHRcdG9yZGVyTnVtYmVyOiB0aGlzLl9vcmRlck51bWJlcixcblx0XHRcdHdhcmVob3VzZTogdGhpcy5fc3RvcmVJZCxcblx0XHRcdHVzZXI6IHRoaXMuZ2V0UmFuZG9tT3JkZXJDdXN0b21lcihjdXN0b21lcnMpLFxuXHRcdFx0cHJvZHVjdHM6IHRoaXMuZ2VuZXJhdGVSYW5kb21PcmRlclByb2R1Y3RzKHByb2R1Y3RzKSxcblx0XHRcdF9jcmVhdGVkQXQ6IHRoaXMuX29yZGVyQ3JlYXRlZEF0LFxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIF9nZXRPcmRlclN0b3JlU3RhcnRQcm9jZXNzaW5nKFxuXHRcdGN1c3RvbWVyczogVXNlcltdLFxuXHRcdHByb2R1Y3RzOiBQcm9kdWN0W11cblx0KSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGlzQ29uZmlybWVkOiBmYWxzZSxcblx0XHRcdGlzQ2FuY2VsbGVkOiBmYWxzZSxcblx0XHRcdGlzUGFpZDogZmFsc2UsXG5cdFx0XHRkZWxpdmVyeVRpbWVFc3RpbWF0ZTogMCxcblx0XHRcdHdhcmVob3VzZVN0YXR1czogMixcblx0XHRcdGNhcnJpZXJTdGF0dXM6IDAsXG5cdFx0XHRpc0RlbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0b3JkZXJOdW1iZXI6IHRoaXMuX29yZGVyTnVtYmVyLFxuXHRcdFx0d2FyZWhvdXNlOiB0aGlzLl9zdG9yZUlkLFxuXHRcdFx0dXNlcjogdGhpcy5nZXRSYW5kb21PcmRlckN1c3RvbWVyKGN1c3RvbWVycyksXG5cdFx0XHRwcm9kdWN0czogdGhpcy5nZW5lcmF0ZVJhbmRvbU9yZGVyUHJvZHVjdHMocHJvZHVjdHMpLFxuXHRcdFx0X2NyZWF0ZWRBdDogdGhpcy5fb3JkZXJDcmVhdGVkQXQsXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgX2dldE9yZGVyUmVhZHlGb3JQcm9jZXNzaW5nKFxuXHRcdGN1c3RvbWVyczogVXNlcltdLFxuXHRcdHByb2R1Y3RzOiBQcm9kdWN0W11cblx0KSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGlzQ29uZmlybWVkOiBmYWxzZSxcblx0XHRcdGlzQ2FuY2VsbGVkOiBmYWxzZSxcblx0XHRcdGlzUGFpZDogZmFsc2UsXG5cdFx0XHRkZWxpdmVyeVRpbWVFc3RpbWF0ZTogMCxcblx0XHRcdHdhcmVob3VzZVN0YXR1czogMSxcblx0XHRcdGNhcnJpZXJTdGF0dXM6IDAsXG5cdFx0XHRpc0RlbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0b3JkZXJOdW1iZXI6IHRoaXMuX29yZGVyTnVtYmVyLFxuXHRcdFx0d2FyZWhvdXNlOiB0aGlzLl9zdG9yZUlkLFxuXHRcdFx0dXNlcjogdGhpcy5nZXRSYW5kb21PcmRlckN1c3RvbWVyKGN1c3RvbWVycyksXG5cdFx0XHRwcm9kdWN0czogdGhpcy5nZW5lcmF0ZVJhbmRvbU9yZGVyUHJvZHVjdHMocHJvZHVjdHMpLFxuXHRcdFx0X2NyZWF0ZWRBdDogdGhpcy5fb3JkZXJDcmVhdGVkQXQsXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgX2dldE9yZGVyQ2FuY2VsbGVkKGN1c3RvbWVyczogVXNlcltdLCBwcm9kdWN0czogUHJvZHVjdFtdKSB7XG5cdFx0Y29uc3QgZmluaXNoZWRQcm9jZXNzaW5nVGltZSA9IHRoaXMuZ2V0T3JkZXJOZXh0VGltZShcblx0XHRcdHRoaXMuX29yZGVyQ3JlYXRlZEF0XG5cdFx0KTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRpc0NvbmZpcm1lZDogdHJ1ZSxcblx0XHRcdGlzQ2FuY2VsbGVkOiB0cnVlLFxuXHRcdFx0aXNQYWlkOiBmYWxzZSxcblx0XHRcdGRlbGl2ZXJ5VGltZUVzdGltYXRlOiAwLFxuXHRcdFx0d2FyZWhvdXNlU3RhdHVzOiAwLFxuXHRcdFx0Y2FycmllclN0YXR1czogMCxcblx0XHRcdGlzRGVsZXRlZDogZmFsc2UsXG5cdFx0XHRvcmRlck51bWJlcjogMSxcblx0XHRcdHdhcmVob3VzZTogdGhpcy5fc3RvcmVJZCxcblx0XHRcdHVzZXI6IHRoaXMuZ2V0UmFuZG9tT3JkZXJDdXN0b21lcihjdXN0b21lcnMpLFxuXHRcdFx0cHJvZHVjdHM6IHRoaXMuZ2VuZXJhdGVSYW5kb21PcmRlclByb2R1Y3RzKHByb2R1Y3RzKSxcblx0XHRcdGZpbmlzaGVkUHJvY2Vzc2luZ1RpbWUsXG5cdFx0XHRfY3JlYXRlZEF0OiB0aGlzLl9vcmRlckNyZWF0ZWRBdCxcblx0XHR9O1xuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0T3JkZXJDb25maXJtZWQoY3VzdG9tZXJzOiBVc2VyW10sIHByb2R1Y3RzOiBQcm9kdWN0W10pIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aXNDb25maXJtZWQ6IHRydWUsXG5cdFx0XHRpc0NhbmNlbGxlZDogZmFsc2UsXG5cdFx0XHRpc1BhaWQ6IGZhbHNlLFxuXHRcdFx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IDAsXG5cdFx0XHR3YXJlaG91c2VTdGF0dXM6IDAsXG5cdFx0XHRjYXJyaWVyU3RhdHVzOiAwLFxuXHRcdFx0aXNEZWxldGVkOiBmYWxzZSxcblx0XHRcdG9yZGVyTnVtYmVyOiAxLFxuXHRcdFx0d2FyZWhvdXNlOiB0aGlzLl9zdG9yZUlkLFxuXHRcdFx0dXNlcjogdGhpcy5nZXRSYW5kb21PcmRlckN1c3RvbWVyKGN1c3RvbWVycyksXG5cdFx0XHRwcm9kdWN0czogdGhpcy5nZW5lcmF0ZVJhbmRvbU9yZGVyUHJvZHVjdHMocHJvZHVjdHMpLFxuXHRcdFx0X2NyZWF0ZWRBdDogdGhpcy5fb3JkZXJDcmVhdGVkQXQsXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgX2dldE9yZGVySnVzdENyZWF0ZWQoY3VzdG9tZXJzOiBVc2VyW10sIHByb2R1Y3RzOiBQcm9kdWN0W10pIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aXNDb25maXJtZWQ6IGZhbHNlLFxuXHRcdFx0aXNDYW5jZWxsZWQ6IGZhbHNlLFxuXHRcdFx0aXNQYWlkOiBmYWxzZSxcblx0XHRcdGRlbGl2ZXJ5VGltZUVzdGltYXRlOiAwLFxuXHRcdFx0d2FyZWhvdXNlU3RhdHVzOiAwLFxuXHRcdFx0Y2FycmllclN0YXR1czogMCxcblx0XHRcdGlzRGVsZXRlZDogZmFsc2UsXG5cdFx0XHRvcmRlck51bWJlcjogdGhpcy5fb3JkZXJOdW1iZXIsXG5cdFx0XHR3YXJlaG91c2U6IHRoaXMuX3N0b3JlSWQsXG5cdFx0XHR1c2VyOiB0aGlzLmdldFJhbmRvbU9yZGVyQ3VzdG9tZXIoY3VzdG9tZXJzKSxcblx0XHRcdHByb2R1Y3RzOiB0aGlzLmdlbmVyYXRlUmFuZG9tT3JkZXJQcm9kdWN0cyhwcm9kdWN0cyksXG5cdFx0XHRfY3JlYXRlZEF0OiB0aGlzLl9vcmRlckNyZWF0ZWRBdCxcblx0XHR9O1xuXHR9XG59XG4iLCJpbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgT3JkZXJzU2VydmljZSB9IGZyb20gJy4uL29yZGVycyc7XG5pbXBvcnQgV2FyZWhvdXNlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvV2FyZWhvdXNlJztcbmltcG9ydCBHZW9Mb2NhdGlvbiBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0dlb0xvY2F0aW9uJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgT3JkZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9PcmRlcic7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IHsgR2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UgfSBmcm9tICcuL0dlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlJztcbmltcG9ydCBCbHVlYmlyZCBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQge1xuXHRXYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLFxuXHRXYXJlaG91c2VzT3JkZXJzU2VydmljZSxcblx0V2FyZWhvdXNlc1NlcnZpY2UsXG59IGZyb20gJy4uL3dhcmVob3VzZXMnO1xuaW1wb3J0IHtcblx0b2JzZXJ2YWJsZUxpc3RlbmVyLFxuXHRyb3V0ZXJOYW1lLFxuXHRzZXJpYWxpemF0aW9uLFxuXHRhc3luY0xpc3RlbmVyLFxufSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgSUdlb0xvY2F0aW9uT3JkZXJzUm91dGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JR2VvTG9jYXRpb25PcmRlcnNSb3V0ZXInO1xuaW1wb3J0IElHZW9Mb2NhdGlvbiBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSUdlb0xvY2F0aW9uJztcbmltcG9ydCBJU2VydmljZSBmcm9tICcuLi9JU2VydmljZSc7XG5pbXBvcnQgeyBFeGlzdGVuY2VFdmVudFR5cGUgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IHsgY29uY2F0LCBleGhhdXN0TWFwLCBmaWx0ZXIsIGZpcnN0LCBzaGFyZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IG9mIH0gZnJvbSAncnhqcy9vYnNlcnZhYmxlL29mJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICdyeGpzL29ic2VydmFibGUvZnJvbSc7XG5pbXBvcnQgT3JkZXJXYXJlaG91c2VTdGF0dXMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnVtcy9PcmRlcldhcmVob3VzZVN0YXR1cyc7XG5pbXBvcnQgT3JkZXJDYXJyaWVyU3RhdHVzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW51bXMvT3JkZXJDYXJyaWVyU3RhdHVzJztcbmltcG9ydCB7IEdlb0xvY2F0aW9uT3JkZXJzT3B0aW9ucyB9IGZyb20gJy4vR2VvTG9jYXRpb25PcmRlcnNPcHRpb25zJztcbmltcG9ydCB7IE9iamVjdElkIH0gZnJvbSAnYnNvbic7XG5cbkBpbmplY3RhYmxlKClcbkByb3V0ZXJOYW1lKCdnZW8tbG9jYXRpb24tb3JkZXJzJylcbmV4cG9ydCBjbGFzcyBHZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlXG5cdGltcGxlbWVudHMgSUdlb0xvY2F0aW9uT3JkZXJzUm91dGVyLCBJU2VydmljZSB7XG5cdHByb3RlY3RlZCByZWFkb25seSBsb2c6IExvZ2dlciA9IGNyZWF0ZUV2ZXJMb2dnZXIoe1xuXHRcdG5hbWU6ICdnZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlJyxcblx0fSk7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0QGluamVjdChPcmRlcnNTZXJ2aWNlKSBwcm90ZWN0ZWQgb3JkZXJzU2VydmljZTogT3JkZXJzU2VydmljZSxcblx0XHRAaW5qZWN0KFdhcmVob3VzZXNTZXJ2aWNlKVxuXHRcdHByb3RlY3RlZCB3YXJlaG91c2VzU2VydmljZTogV2FyZWhvdXNlc1NlcnZpY2UsXG5cdFx0QGluamVjdChHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZSlcblx0XHRwcm90ZWN0ZWQgZ2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2U6IEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlLFxuXHRcdEBpbmplY3QoV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZSlcblx0XHRwcm90ZWN0ZWQgd2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZTogV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZSxcblx0XHRAaW5qZWN0KFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlKVxuXHRcdHByb3RlY3RlZCB3YXJlaG91c2VzT3JkZXJzU2VydmljZTogV2FyZWhvdXNlc09yZGVyc1NlcnZpY2Vcblx0KSB7fVxuXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXQoXG5cdFx0QHNlcmlhbGl6YXRpb24oXG5cdFx0XHQoZ2VvTG9jYXRpb25QYXJhbTogSUdlb0xvY2F0aW9uKSA9PlxuXHRcdFx0XHRuZXcgR2VvTG9jYXRpb24oZ2VvTG9jYXRpb25QYXJhbSlcblx0XHQpXG5cdFx0Z2VvTG9jYXRpb246IEdlb0xvY2F0aW9uLFxuXHRcdG9wdGlvbnM6IHsgcG9wdWxhdGVXYXJlaG91c2U/OiBib29sZWFuOyBwb3B1bGF0ZUNhcnJpZXI/OiBib29sZWFuIH0gPSB7fVxuXHQpIHtcblx0XHRyZXR1cm4gb2YobnVsbCkucGlwZShcblx0XHRcdGNvbmNhdChcblx0XHRcdFx0dGhpcy5vcmRlcnNTZXJ2aWNlLmV4aXN0ZW5jZS5waXBlKFxuXHRcdFx0XHRcdGV4aGF1c3RNYXAoKGV4aXN0ZW5jZUV2ZW50KSA9PiB7XG5cdFx0XHRcdFx0XHRzd2l0Y2ggKGV4aXN0ZW5jZUV2ZW50LnR5cGUgYXMgRXhpc3RlbmNlRXZlbnRUeXBlKSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgRXhpc3RlbmNlRXZlbnRUeXBlLkNyZWF0ZWQ6XG5cdFx0XHRcdFx0XHRcdGNhc2UgRXhpc3RlbmNlRXZlbnRUeXBlLlVwZGF0ZWQ6XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGV4aXN0ZW5jZUV2ZW50LnZhbHVlICE9IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLndhcmVob3VzZXNTZXJ2aWNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5nZXQoZXhpc3RlbmNlRXZlbnQudmFsdWUud2FyZWhvdXNlSWQpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5waXBlKGZpcnN0KCkpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy53YXJlaG91c2VzU2VydmljZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZ2V0KCd3cm9uZycpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5waXBlKGZpcnN0KCkpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0Y2FzZSBFeGlzdGVuY2VFdmVudFR5cGUuUmVtb3ZlZDpcblx0XHRcdFx0XHRcdFx0XHRpZiAoZXhpc3RlbmNlRXZlbnQubGFzdFZhbHVlICE9IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLndhcmVob3VzZXNTZXJ2aWNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5nZXQoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXhpc3RlbmNlRXZlbnQubGFzdFZhbHVlLndhcmVob3VzZUlkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LnBpcGUoZmlyc3QoKSk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLndhcmVob3VzZXNTZXJ2aWNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5nZXQoJ3dyb25nJylcblx0XHRcdFx0XHRcdFx0XHRcdFx0LnBpcGUoZmlyc3QoKSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdGZpbHRlcigod2FyZWhvdXNlKSA9PlxuXHRcdFx0XHRcdFx0d2FyZWhvdXNlICE9IG51bGxcblx0XHRcdFx0XHRcdFx0PyBHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZS5pc05lYXJseShcblx0XHRcdFx0XHRcdFx0XHRcdHdhcmVob3VzZSxcblx0XHRcdFx0XHRcdFx0XHRcdGdlb0xvY2F0aW9uXG5cdFx0XHRcdFx0XHRcdCAgKVxuXHRcdFx0XHRcdFx0XHQ6IHRydWVcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdHNoYXJlKClcblx0XHRcdFx0KVxuXHRcdFx0KSxcblx0XHRcdGV4aGF1c3RNYXAoKCkgPT4gZnJvbSh0aGlzLl9nZXQoZ2VvTG9jYXRpb24sIG9wdGlvbnMpKSlcblx0XHQpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXRDb3VudE9mT3JkZXJzRm9yV29yayhcblx0XHRnZW9Mb2NhdGlvbjogSUdlb0xvY2F0aW9uLFxuXHRcdHNraXBwZWRPcmRlcklkczogc3RyaW5nW10gPSBbXSxcblx0XHRzZWFyY2hPYmo/OiB7IGJ5UmVnZXg6IEFycmF5PHsga2V5OiBzdHJpbmc7IHZhbHVlOiBzdHJpbmcgfT4gfVxuXHQpOiBQcm9taXNlPG51bWJlcj4ge1xuXHRcdGNvbnN0IG1lcmNoYW50cyA9IGF3YWl0IHRoaXMuZ2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UuZ2V0TWVyY2hhbnRzKFxuXHRcdFx0Z2VvTG9jYXRpb24sXG5cdFx0XHRHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZS5UcmFja2luZ0Rpc3RhbmNlLFxuXHRcdFx0eyBmdWxsUHJvZHVjdHM6IGZhbHNlLCBhY3RpdmVPbmx5OiB0cnVlIH1cblx0XHQpO1xuXG5cdFx0Y29uc3QgbWVyY2hhbnRzSWRzID0gbWVyY2hhbnRzLm1hcCgobSkgPT4gbS5faWQpO1xuXG5cdFx0bGV0IHNlYXJjaEJ5UmVnZXggPSBbXTtcblxuXHRcdGlmIChzZWFyY2hPYmogJiYgc2VhcmNoT2JqLmJ5UmVnZXgubGVuZ3RoID4gMCkge1xuXHRcdFx0c2VhcmNoQnlSZWdleCA9IHNlYXJjaE9iai5ieVJlZ2V4Lm1hcCgocykgPT4ge1xuXHRcdFx0XHRyZXR1cm4geyBbcy5rZXldOiB7ICRyZWdleDogcy52YWx1ZSwgJG9wdGlvbnM6ICdpJyB9IH07XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5vcmRlcnNTZXJ2aWNlLk1vZGVsLmZpbmQoXG5cdFx0XHRfLmFzc2lnbihcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHdhcmVob3VzZTogeyAkaW46IG1lcmNoYW50c0lkcyB9LFxuXHRcdFx0XHRcdHdhcmVob3VzZVN0YXR1czoge1xuXHRcdFx0XHRcdFx0JGVxOiBPcmRlcldhcmVob3VzZVN0YXR1cy5QYWNrYWdpbmdGaW5pc2hlZCxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGNhcnJpZXJTdGF0dXM6IHtcblx0XHRcdFx0XHRcdCRsdGU6IE9yZGVyQ2FycmllclN0YXR1cy5DYXJyaWVyU2VsZWN0ZWRPcmRlcixcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdF9pZDogeyAkbmluOiBza2lwcGVkT3JkZXJJZHMgfSxcblx0XHRcdFx0fSxcblx0XHRcdFx0Li4uc2VhcmNoQnlSZWdleFxuXHRcdFx0KVxuXHRcdClcblx0XHRcdC5jb3VudERvY3VtZW50cygpXG5cdFx0XHQuZXhlYygpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXRPcmRlcnNGb3JXb3JrKFxuXHRcdGdlb0xvY2F0aW9uOiBJR2VvTG9jYXRpb24sXG5cdFx0c2tpcHBlZE9yZGVySWRzOiBzdHJpbmdbXSA9IFtdLFxuXHRcdG9wdGlvbnM6IEdlb0xvY2F0aW9uT3JkZXJzT3B0aW9ucyxcblx0XHRzZWFyY2hPYmo/OiB7XG5cdFx0XHRpc0NhbmNlbGxlZD86IGJvb2xlYW47XG5cdFx0XHRieVJlZ2V4PzogQXJyYXk8eyBrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9Pjtcblx0XHR9XG5cdCk6IFByb21pc2U8T3JkZXJbXT4ge1xuXHRcdGNvbnN0IG1lcmNoYW50cyA9IGF3YWl0IHRoaXMuZ2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UuZ2V0TWVyY2hhbnRzKFxuXHRcdFx0Z2VvTG9jYXRpb24sXG5cdFx0XHRHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZS5UcmFja2luZ0Rpc3RhbmNlLFxuXHRcdFx0eyBmdWxsUHJvZHVjdHM6IGZhbHNlLCBhY3RpdmVPbmx5OiB0cnVlIH1cblx0XHQpO1xuXG5cdFx0Y29uc3QgbWVyY2hhbnRzSWRzID0gbWVyY2hhbnRzLm1hcCgobSkgPT4gbS5faWQudG9TdHJpbmcoKSk7XG5cblx0XHRsZXQgc2VhcmNoQnlSZWdleCA9IFtdO1xuXG5cdFx0aWYgKHNlYXJjaE9iaikge1xuXHRcdFx0Y29uc3QgYnlSZWdleCA9IHNlYXJjaE9iai5ieVJlZ2V4O1xuXG5cdFx0XHRpZiAoYnlSZWdleCAmJiBieVJlZ2V4Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0c2VhcmNoQnlSZWdleCA9IGJ5UmVnZXgubWFwKChzKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHsgW3Mua2V5XTogeyAkcmVnZXg6IHMudmFsdWUsICRvcHRpb25zOiAnaScgfSB9O1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgaXNDYW5jZWxsZWQgPSBzZWFyY2hPYmouaXNDYW5jZWxsZWQ7XG5cblx0XHRcdGlmIChpc0NhbmNlbGxlZCAhPSBudWxsKSB7XG5cdFx0XHRcdHNlYXJjaEJ5UmVnZXgucHVzaCh7IGlzQ2FuY2VsbGVkIH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IG9yZGVycyA9IGF3YWl0IHRoaXMub3JkZXJzU2VydmljZS5Nb2RlbC5hZ2dyZWdhdGUoW1xuXHRcdFx0e1xuXHRcdFx0XHQkbWF0Y2g6IF8uYXNzaWduKFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdHdhcmVob3VzZTogeyAkaW46IG1lcmNoYW50c0lkcyB9LFxuXHRcdFx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOiB7XG5cdFx0XHRcdFx0XHRcdCRlcTogT3JkZXJXYXJlaG91c2VTdGF0dXMuUGFja2FnaW5nRmluaXNoZWQsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0Y2FycmllclN0YXR1czoge1xuXHRcdFx0XHRcdFx0XHQkbHRlOiBPcmRlckNhcnJpZXJTdGF0dXMuQ2FycmllclNlbGVjdGVkT3JkZXIsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0X2lkOiB7XG5cdFx0XHRcdFx0XHRcdCRuaW46IHNraXBwZWRPcmRlcklkcy5tYXAoKGlkKSA9PiBuZXcgT2JqZWN0SWQoaWQpKSxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQuLi5zZWFyY2hCeVJlZ2V4XG5cdFx0XHRcdCksXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkc29ydDoge1xuXHRcdFx0XHRcdF9jcmVhdGVkQXQ6XG5cdFx0XHRcdFx0XHRvcHRpb25zLnNvcnQgJiZcblx0XHRcdFx0XHRcdG9wdGlvbnMuc29ydC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdkZXNjJylcblx0XHRcdFx0XHRcdFx0PyAtMVxuXHRcdFx0XHRcdFx0XHQ6IDEsXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdF0pXG5cdFx0XHQuYWxsb3dEaXNrVXNlKHRydWUpXG5cdFx0XHQuc2tpcChvcHRpb25zLnNraXAgfHwgMClcblx0XHRcdC5saW1pdChvcHRpb25zLmxpbWl0IHx8IDEpXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0cmV0dXJuIG9yZGVycy5maWx0ZXIoKG8pID0+IG8gIT09IG51bGwpLm1hcCgobykgPT4gbmV3IE9yZGVyKG8pKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgT3JkZXJzIGZyb20gV2FyZWhvdXNlcyBuZWFyIHRoZSBnaXZlbiBsb2NhdGlvblxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0dlb0xvY2F0aW9ufSBnZW9Mb2NhdGlvblxuXHQgKiBAcGFyYW0ge3sgcG9wdWxhdGVXYXJlaG91c2U/OiBib29sZWFuOyBwb3B1bGF0ZUNhcnJpZXI/OiBib29sZWFuIH19IFtvcHRpb25zPXt9XVxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxPcmRlcltdPn1cblx0ICogQG1lbWJlcm9mIEdlb0xvY2F0aW9uc09yZGVyc1NlcnZpY2Vcblx0ICovXG5cdHByaXZhdGUgYXN5bmMgX2dldChcblx0XHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb24sXG5cdFx0b3B0aW9uczogeyBwb3B1bGF0ZVdhcmVob3VzZT86IGJvb2xlYW47IHBvcHVsYXRlQ2Fycmllcj86IGJvb2xlYW4gfSA9IHt9XG5cdCk6IFByb21pc2U8T3JkZXJbXT4ge1xuXHRcdC8vIEZpcnN0IHdlIGxvb2sgdXAgd2FyZWhvdXNlcyB3aGljaCBjYW4gY29udGFpbiBpbnRlcmVzdGluZyBvcmRlcnMgYmVjYXVzZSB0aGV5IGFyZSBjbG9zZSBlbm91Z2ggdG8gZ2l2ZW4gbG9jYXRpb25cblx0XHQvLyBOb3RlOiB3ZSBjYW4ndCBlbWJlZCB3YXJlaG91c2UgbG9jYXRpb24gaW50byBvcmRlciBkb2N1bWVudCBpdHNlbGYsXG5cdFx0Ly8gYmVjYXVzZSB3YXJlaG91c2VzIGNvdWxkIE1PVkUgaW4gdGhlb3J5IHdoaWxlIHdlIHByb2Nlc3Mgb3JkZXIuXG5cdFx0Ly8gTmV4dCB3ZSB3aWxsIGdldCBhbGwgb3JkZXJzIGZyb20gZm91bmRlZCB3YXJlaG91c2VzXG5cblx0XHRjb25zdCB3YXJlaG91c2VzID0gYXdhaXQgdGhpcy5nZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZVxuXHRcdFx0LmdldChnZW9Mb2NhdGlvbiwgeyBhY3RpdmVPbmx5OiB0cnVlIH0pXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHtcblx0XHRcdFx0Z2VvTG9jYXRpb24sXG5cdFx0XHRcdHdhcmVob3VzZXMsXG5cdFx0XHR9LFxuXHRcdFx0J3dhcmVob3VzZXMgYnkgbG9jYXRpb24nXG5cdFx0KTtcblxuXHRcdGNvbnN0IG9yZGVycyA9IF8uZmxhdHRlbihcblx0XHRcdGF3YWl0IEJsdWViaXJkLm1hcCh3YXJlaG91c2VzLCBhc3luYyAod2FyZWhvdXNlOiBXYXJlaG91c2UpID0+IHtcblx0XHRcdFx0Y29uc3Qgd2FyZWhvdXNlT3JkZXJzID0gYXdhaXQgdGhpcy53YXJlaG91c2VzT3JkZXJzU2VydmljZVxuXHRcdFx0XHRcdC5nZXQod2FyZWhvdXNlLmlkLCB7XG5cdFx0XHRcdFx0XHRwb3B1bGF0ZUNhcnJpZXI6ICEhb3B0aW9ucy5wb3B1bGF0ZUNhcnJpZXIsXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0XHRcdC50b1Byb21pc2UoKTtcblxuXHRcdFx0XHRpZiAob3B0aW9ucy5wb3B1bGF0ZVdhcmVob3VzZSkge1xuXHRcdFx0XHRcdF8uZWFjaChcblx0XHRcdFx0XHRcdHdhcmVob3VzZU9yZGVycyxcblx0XHRcdFx0XHRcdChvcmRlcikgPT4gKG9yZGVyLndhcmVob3VzZSA9IHdhcmVob3VzZSlcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdFx0XHRcdHdhcmVob3VzZU9yZGVycyxcblx0XHRcdFx0XHRcdHdhcmVob3VzZSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdvcmRlcnMgYnkgd2FyZWhvdXNlJ1xuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHJldHVybiB3YXJlaG91c2VPcmRlcnM7XG5cdFx0XHR9KVxuXHRcdCk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0e1xuXHRcdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdFx0b3JkZXJzLFxuXHRcdFx0fSxcblx0XHRcdCdvcmRlcnMgYnkgd2FyZWhvdXNlcydcblx0XHQpO1xuXG5cdFx0cmV0dXJuIG9yZGVycztcblx0fVxufVxuIiwiaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCB7IFdhcmVob3VzZXNTZXJ2aWNlIH0gZnJvbSAnLi4vd2FyZWhvdXNlcyc7XG5pbXBvcnQgV2FyZWhvdXNlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvV2FyZWhvdXNlJztcbmltcG9ydCBHZW9Mb2NhdGlvbiBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0dlb0xvY2F0aW9uJztcbmltcG9ydCBQcm9kdWN0SW5mbyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1Byb2R1Y3RJbmZvJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi91dGlscyc7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IHsgR2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UgfSBmcm9tICcuL0dlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlJztcbmltcG9ydCBJR2VvTG9jYXRpb24gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lHZW9Mb2NhdGlvbic7XG5pbXBvcnQge1xuXHRvYnNlcnZhYmxlTGlzdGVuZXIsXG5cdHJvdXRlck5hbWUsXG5cdHNlcmlhbGl6YXRpb24sXG5cdGFzeW5jTGlzdGVuZXIsXG59IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCBJR2VvTG9jYXRpb25Qcm9kdWN0c1JvdXRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL3JvdXRlcnMvSUdlb0xvY2F0aW9uUHJvZHVjdHNSb3V0ZXInO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJy4uL0lTZXJ2aWNlJztcbmltcG9ydCB7IG1hcCwgZmlyc3QgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgSVdhcmVob3VzZVByb2R1Y3QgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lXYXJlaG91c2VQcm9kdWN0JztcbmltcG9ydCB7XG5cdElQcm9kdWN0VGl0bGUsXG5cdElQcm9kdWN0RGVzY3JpcHRpb24sXG5cdElQcm9kdWN0RGV0YWlscyxcbn0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lQcm9kdWN0JztcbmltcG9ydCBXYXJlaG91c2VQcm9kdWN0IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvV2FyZWhvdXNlUHJvZHVjdCc7XG5pbXBvcnQgeyBJR2V0R2VvTG9jYXRpb25Qcm9kdWN0c09wdGlvbnMgfSBmcm9tICdncmFwaHFsL2dlby1sb2NhdGlvbnMvZ2VvLWxvY2F0aW9uLnJlc29sdmVyJztcblxuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ2dlby1sb2NhdGlvbi1wcm9kdWN0cycpXG5leHBvcnQgY2xhc3MgR2VvTG9jYXRpb25zUHJvZHVjdHNTZXJ2aWNlXG5cdGltcGxlbWVudHMgSUdlb0xvY2F0aW9uUHJvZHVjdHNSb3V0ZXIsIElTZXJ2aWNlIHtcblx0cHJvdGVjdGVkIGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7XG5cdFx0bmFtZTogJ2dlb0xvY2F0aW9uc1Byb2R1Y3RzU2VydmljZScsXG5cdH0pO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdEBpbmplY3QoV2FyZWhvdXNlc1NlcnZpY2UpXG5cdFx0cHJvdGVjdGVkIHdhcmVob3VzZXNTZXJ2aWNlOiBXYXJlaG91c2VzU2VydmljZSxcblx0XHRAaW5qZWN0KEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlKVxuXHRcdHByb3RlY3RlZCBnZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZTogR2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2Vcblx0KSB7fVxuXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXQoXG5cdFx0QHNlcmlhbGl6YXRpb24oKGc6IElHZW9Mb2NhdGlvbikgPT4gbmV3IEdlb0xvY2F0aW9uKGcpKVxuXHRcdGdlb0xvY2F0aW9uOiBHZW9Mb2NhdGlvbixcblx0XHRvcHRpb25zPzogSUdldEdlb0xvY2F0aW9uUHJvZHVjdHNPcHRpb25zXG5cdCkge1xuXHRcdHJldHVybiB0aGlzLmdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlXG5cdFx0XHQuZ2V0KGdlb0xvY2F0aW9uLCB7IGZ1bGxQcm9kdWN0czogdHJ1ZSwgYWN0aXZlT25seTogdHJ1ZSB9KVxuXHRcdFx0LnBpcGUoXG5cdFx0XHRcdG1hcCgod2FyZWhvdXNlcykgPT5cblx0XHRcdFx0XHR0aGlzLl9nZXRQcm9kdWN0c0Zyb21XYXJlaG91c2VzKFxuXHRcdFx0XHRcdFx0Z2VvTG9jYXRpb24sXG5cdFx0XHRcdFx0XHR3YXJlaG91c2VzLFxuXHRcdFx0XHRcdFx0b3B0aW9uc1xuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZ2V0Q291bnRPZkdlb0xvY2F0aW9uUHJvZHVjdHMoXG5cdFx0Z2VvTG9jYXRpb246IElHZW9Mb2NhdGlvbixcblx0XHRvcHRpb25zPzogSUdldEdlb0xvY2F0aW9uUHJvZHVjdHNPcHRpb25zLFxuXHRcdHNlYXJjaFRleHQ/OiBzdHJpbmdcblx0KTogUHJvbWlzZTxudW1iZXI+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgbWVyY2hhbnRzID0gYXdhaXQgdGhpcy5nZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZS5nZXRNZXJjaGFudHMoXG5cdFx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0XHRHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZS5UcmFja2luZ0Rpc3RhbmNlLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZnVsbFByb2R1Y3RzOiB0cnVlLFxuXHRcdFx0XHRcdGFjdGl2ZU9ubHk6IHRydWUsXG5cdFx0XHRcdFx0bWVyY2hhbnRzSWRzOiBvcHRpb25zID8gb3B0aW9ucy5tZXJjaGFudElkcyA6IG51bGwsXG5cdFx0XHRcdH1cblx0XHRcdCk7XG5cdFx0XHRjb25zdCBwcm9kdWN0c0lkcyA9IG1lcmNoYW50cy5tYXAoKG0pID0+IHtcblx0XHRcdFx0bGV0IHByb2R1Y3RzID0gbS5wcm9kdWN0c1xuXHRcdFx0XHRcdC5maWx0ZXIoKHdQcm9kdWN0KSA9PlxuXHRcdFx0XHRcdFx0dGhpcy5wcm9kdWN0c0ZpbHRlcih3UHJvZHVjdCwgb3B0aW9ucylcblx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0LmZpbHRlcigod1Byb2R1Y3QpID0+XG5cdFx0XHRcdFx0XHR0aGlzLmZpbHRlckJ5U2VhcmNoVGV4dCh3UHJvZHVjdCwgc2VhcmNoVGV4dClcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy53aXRob3V0Q291bnQpIHtcblx0XHRcdFx0XHRwcm9kdWN0cyA9IHByb2R1Y3RzLmZpbHRlcihcblx0XHRcdFx0XHRcdCh3UHJvZHVjdCkgPT4gd1Byb2R1Y3QuY291bnQgPiAwXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBwcm9kdWN0cy5tYXAoKHApID0+IG5ldyBXYXJlaG91c2VQcm9kdWN0KHApLnByb2R1Y3RJZCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0cHJvZHVjdHNJZHMuZmxhdCgpLmZpbHRlcigoeCwgaSwgYSkgPT4gYS5pbmRleE9mKHgpID09IGkpXG5cdFx0XHRcdFx0Lmxlbmd0aCB8fCAwXG5cdFx0XHQpO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdlb0xvY2F0aW9uUHJvZHVjdHNCeVBhZ2luZyhcblx0XHRAc2VyaWFsaXphdGlvbigoZzogSUdlb0xvY2F0aW9uKSA9PiBuZXcgR2VvTG9jYXRpb24oZykpXG5cdFx0Z2VvTG9jYXRpb246IEdlb0xvY2F0aW9uLFxuXHRcdHBhZ2luZ09wdGlvbnMsXG5cdFx0b3B0aW9ucz86IElHZXRHZW9Mb2NhdGlvblByb2R1Y3RzT3B0aW9ucyxcblx0XHRzZWFyY2hUZXh0Pzogc3RyaW5nXG5cdCk6IFByb21pc2U8UHJvZHVjdEluZm9bXT4ge1xuXHRcdGNvbnN0IG1lcmNoYW50cyA9IGF3YWl0IHRoaXMuZ2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UuZ2V0TWVyY2hhbnRzKFxuXHRcdFx0Z2VvTG9jYXRpb24sXG5cdFx0XHRHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZS5UcmFja2luZ0Rpc3RhbmNlLFxuXHRcdFx0e1xuXHRcdFx0XHRmdWxsUHJvZHVjdHM6IHRydWUsXG5cdFx0XHRcdGFjdGl2ZU9ubHk6IHRydWUsXG5cdFx0XHRcdG1lcmNoYW50c0lkczogb3B0aW9ucyA/IG9wdGlvbnMubWVyY2hhbnRJZHMgOiBudWxsLFxuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHRjb25zdCBwcm9kdWN0cyA9IHRoaXMuX2dldFByb2R1Y3RzRnJvbVdhcmVob3VzZXMoXG5cdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdG1lcmNoYW50cy5tYXAoKG0pID0+IG5ldyBXYXJlaG91c2UobSkpLFxuXHRcdFx0b3B0aW9ucyxcblx0XHRcdHNlYXJjaFRleHRcblx0XHQpO1xuXG5cdFx0cmV0dXJuIHByb2R1Y3RzLnNsaWNlKHBhZ2luZ09wdGlvbnMuc2tpcCkuc2xpY2UoMCwgcGFnaW5nT3B0aW9ucy5saW1pdCk7XG5cdH1cblxuXHRwcml2YXRlIF9nZXRQcm9kdWN0c0Zyb21XYXJlaG91c2VzKFxuXHRcdGdlb0xvY2F0aW9uOiBHZW9Mb2NhdGlvbixcblx0XHR3YXJlaG91c2VzOiBXYXJlaG91c2VbXSxcblx0XHRvcHRpb25zPzogSUdldEdlb0xvY2F0aW9uUHJvZHVjdHNPcHRpb25zLFxuXHRcdHNlYXJjaFRleHQ/OiBzdHJpbmdcblx0KTogUHJvZHVjdEluZm9bXSB7XG5cdFx0Y29uc3QgdW5kZXJzY29yZV86IGFueSA9IF87IC8vIFRPRE86IHJlbW92ZSBzaC4udFxuXHRcdHJldHVybiB1bmRlcnNjb3JlXyh3YXJlaG91c2VzKVxuXHRcdFx0Lm1hcCgoX3dhcmVob3VzZSkgPT4ge1xuXHRcdFx0XHRjb25zdCB3YXJlaG91c2UgPSBfLmNsb25lKF93YXJlaG91c2UpO1xuXG5cdFx0XHRcdGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy53aXRob3V0Q291bnQpIHtcblx0XHRcdFx0XHR3YXJlaG91c2UucHJvZHVjdHMgPSB3YXJlaG91c2UucHJvZHVjdHMuZmlsdGVyKFxuXHRcdFx0XHRcdFx0KHdQcm9kdWN0KSA9PiB3UHJvZHVjdC5jb3VudCA+IDBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKG9wdGlvbnMpIHtcblx0XHRcdFx0XHR3YXJlaG91c2UucHJvZHVjdHMgPSB3YXJlaG91c2UucHJvZHVjdHMuZmlsdGVyKCh3UHJvZHVjdCkgPT5cblx0XHRcdFx0XHRcdHRoaXMucHJvZHVjdHNGaWx0ZXIod1Byb2R1Y3QsIG9wdGlvbnMpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHdhcmVob3VzZS5wcm9kdWN0cyA9IHdhcmVob3VzZS5wcm9kdWN0cy5maWx0ZXIoKHdQcm9kdWN0KSA9PlxuXHRcdFx0XHRcdHRoaXMuZmlsdGVyQnlTZWFyY2hUZXh0KHdQcm9kdWN0LCBzZWFyY2hUZXh0KVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHJldHVybiB3YXJlaG91c2U7XG5cdFx0XHR9KSAvLyByZW1vdmUgYWxsIHdhcmVob3VzZSBwcm9kdWN0cyB3aGljaCBjb3VudCBpcyAwLlxuXHRcdFx0Lm1hcCgod2FyZWhvdXNlKSA9PlxuXHRcdFx0XHRfLm1hcCh3YXJlaG91c2UucHJvZHVjdHMsICh3YXJlaG91c2VQcm9kdWN0KSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBQcm9kdWN0SW5mbyh7XG5cdFx0XHRcdFx0XHR3YXJlaG91c2VJZDogd2FyZWhvdXNlLmlkLFxuXHRcdFx0XHRcdFx0d2FyZWhvdXNlTG9nbzogd2FyZWhvdXNlLmxvZ28sXG5cdFx0XHRcdFx0XHR3YXJlaG91c2VQcm9kdWN0LFxuXHRcdFx0XHRcdFx0ZGlzdGFuY2U6IFV0aWxzLmdldERpc3RhbmNlKFxuXHRcdFx0XHRcdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdFx0XHRcdFx0d2FyZWhvdXNlLmdlb0xvY2F0aW9uXG5cdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KVxuXHRcdFx0KVxuXHRcdFx0LmZsYXR0ZW4oKVxuXHRcdFx0Lmdyb3VwQnkoKHByb2R1Y3RJbmZvKSA9PiBwcm9kdWN0SW5mby53YXJlaG91c2VQcm9kdWN0LnByb2R1Y3RJZClcblx0XHRcdC5tYXAoKHByb2R1Y3RJbmZvczogUHJvZHVjdEluZm9bXSwgcHJvZHVjdElkKSA9PiB7XG5cdFx0XHRcdHJldHVybiBfLm1pbkJ5KFxuXHRcdFx0XHRcdHByb2R1Y3RJbmZvcyxcblx0XHRcdFx0XHQocHJvZHVjdEluZm8pID0+IHByb2R1Y3RJbmZvLmRpc3RhbmNlXG5cdFx0XHRcdCk7XG5cdFx0XHR9KVxuXHRcdFx0LmZpbHRlcigocHJvZHVjdEluZm8pID0+ICFfLmlzVW5kZWZpbmVkKHByb2R1Y3RJbmZvKSlcblx0XHRcdC5tYXAoKHByb2R1Y3RJbmZvKSA9PiBwcm9kdWN0SW5mbyBhcyBQcm9kdWN0SW5mbylcblx0XHRcdC52YWx1ZSgpO1xuXHR9XG5cblx0cHJpdmF0ZSBwcm9kdWN0c0ZpbHRlcih3UHJvZHVjdCwgb3B0aW9ucykge1xuXHRcdGlmICghb3B0aW9ucykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0d1Byb2R1Y3QucHJvZHVjdC5pbWFnZXMgPSB3UHJvZHVjdC5wcm9kdWN0LmltYWdlcy5maWx0ZXIoKGkpID0+IHtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdChvcHRpb25zLmltYWdlT3JpZW50YXRpb24gIT09IHVuZGVmaW5lZFxuXHRcdFx0XHRcdD8gb3B0aW9ucy5pbWFnZU9yaWVudGF0aW9uID09PSAxXG5cdFx0XHRcdFx0XHQ/IGkub3JpZW50YXRpb24gPT09IDFcblx0XHRcdFx0XHRcdDogaS5vcmllbnRhdGlvbiA9PT0gMCB8fCBpLm9yaWVudGF0aW9uID09PSAyXG5cdFx0XHRcdFx0OiB0cnVlKSAmJlxuXHRcdFx0XHQob3B0aW9ucy5sb2NhbGUgIT09IHVuZGVmaW5lZFxuXHRcdFx0XHRcdD8gaS5sb2NhbGUgPT09IG9wdGlvbnMubG9jYWxlXG5cdFx0XHRcdFx0OiB0cnVlKVxuXHRcdFx0KTtcblx0XHR9KTtcblxuXHRcdGlmICghd1Byb2R1Y3QucHJvZHVjdC5pbWFnZXMgfHwgd1Byb2R1Y3QucHJvZHVjdC5pbWFnZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9wdGlvbnMuaXNEZWxpdmVyeVJlcXVpcmVkXG5cdFx0XHQ/IHdQcm9kdWN0LmlzRGVsaXZlcnlSZXF1aXJlZCA9PT0gb3B0aW9ucy5pc0RlbGl2ZXJ5UmVxdWlyZWRcblx0XHRcdDogdHJ1ZSAmJiBvcHRpb25zLmlzVGFrZWF3YXlcblx0XHRcdD8gd1Byb2R1Y3QuaXNUYWtlYXdheSA9PT0gb3B0aW9ucy5pc1Rha2Vhd2F5XG5cdFx0XHQ6IHRydWU7XG5cdH1cblxuXHRwcml2YXRlIGZpbHRlckJ5U2VhcmNoVGV4dCh3UHJvZHVjdCwgc2VhcmNoVGV4dCkge1xuXHRcdGlmICghc2VhcmNoVGV4dCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0bGV0IHRpdGxlcyA9IHdQcm9kdWN0LnByb2R1Y3RbJ3RpdGxlJ107XG5cdFx0dGl0bGVzID0gdGl0bGVzID8gdGl0bGVzLm1hcCgodDogSVByb2R1Y3RUaXRsZSkgPT4gdC52YWx1ZSkgOiBbXTtcblx0XHRsZXQgZGVzY3JpcHRpb25zID0gd1Byb2R1Y3QucHJvZHVjdFsnZGVzY3JpcHRpb24nXTtcblx0XHRkZXNjcmlwdGlvbnMgPSBkZXNjcmlwdGlvbnNcblx0XHRcdD8gZGVzY3JpcHRpb25zLm1hcCgoZDogSVByb2R1Y3REZXNjcmlwdGlvbikgPT4gZC52YWx1ZSlcblx0XHRcdDogW107XG5cdFx0bGV0IGRldGFpbHMgPSB3UHJvZHVjdC5wcm9kdWN0WydkZXRhaWxzJ107XG5cdFx0ZGV0YWlscyA9IGRldGFpbHMgPyBkZXRhaWxzLm1hcCgoZDogSVByb2R1Y3REZXRhaWxzKSA9PiBkLnZhbHVlKSA6IFtdO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdCh0aXRsZXMgJiZcblx0XHRcdFx0dGl0bGVzXG5cdFx0XHRcdFx0LmpvaW4oKVxuXHRcdFx0XHRcdC50b0xvY2FsZUxvd2VyQ2FzZSgpXG5cdFx0XHRcdFx0LmluY2x1ZGVzKHNlYXJjaFRleHQudG9Mb2NhbGVMb3dlckNhc2UoKSkpIHx8XG5cdFx0XHQoZGVzY3JpcHRpb25zICYmXG5cdFx0XHRcdGRlc2NyaXB0aW9uc1xuXHRcdFx0XHRcdC5qb2luKClcblx0XHRcdFx0XHQudG9Mb2NhbGVMb3dlckNhc2UoKVxuXHRcdFx0XHRcdC5pbmNsdWRlcyhzZWFyY2hUZXh0LnRvTG9jYWxlTG93ZXJDYXNlKCkpKSB8fFxuXHRcdFx0KGRldGFpbHMgJiZcblx0XHRcdFx0ZGV0YWlsc1xuXHRcdFx0XHRcdC5qb2luKClcblx0XHRcdFx0XHQudG9Mb2NhbGVMb3dlckNhc2UoKVxuXHRcdFx0XHRcdC5pbmNsdWRlcyhzZWFyY2hUZXh0LnRvTG9jYWxlTG93ZXJDYXNlKCkpKVxuXHRcdCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgeyByb3V0ZXJOYW1lLCBhc3luY0xpc3RlbmVyIH0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJy4uL0lTZXJ2aWNlJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgSUdlb0xvY2F0aW9uc1JvdXRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL3JvdXRlcnMvSUdlb0xvY2F0aW9uc1JvdXRlcic7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi8uLi9lbnYnO1xuaW1wb3J0IHsgaW5zcGVjdCB9IGZyb20gJ3V0aWwnO1xuXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgnZ2VvLWxvY2F0aW9uJylcbmV4cG9ydCBjbGFzcyBHZW9Mb2NhdGlvbnNTZXJ2aWNlIGltcGxlbWVudHMgSUdlb0xvY2F0aW9uc1JvdXRlciwgSVNlcnZpY2Uge1xuXHRwcm90ZWN0ZWQgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHtcblx0XHRuYW1lOiAnR2VvTG9jYXRpb25zU2VydmljZScsXG5cdH0pO1xuXG5cdHByaXZhdGUgYXJjZ2lzQ2xpZW50SUQ6IHN0cmluZztcblx0cHJpdmF0ZSBhcmNnaXNDbGllbnRTZWNyZXQ6IHN0cmluZztcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLmFyY2dpc0NsaWVudElEID0gZW52LkFSQ0dJU19DTElFTlRfSUQ7XG5cdFx0dGhpcy5hcmNnaXNDbGllbnRTZWNyZXQgPSBlbnYuQVJDR0lTX0NMSUVOVF9TRUNSRVQ7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldEFkZHJlc3NCeUNvb3JkaW5hdGVzVXNpbmdBcmNHSVMoXG5cdFx0bGF0OiBudW1iZXIsXG5cdFx0bG5nOiBudW1iZXJcblx0KTogUHJvbWlzZTxhbnkgfCBudWxsPiB7XG5cdFx0aWYgKCF0aGlzLmFyY2dpc0NsaWVudElEIHx8ICF0aGlzLmFyY2dpc0NsaWVudFNlY3JldCkge1xuXHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0YENhbm5vdCB1c2UgZ2V0QWRkcmVzc0J5Q29vcmRpbmF0ZXNVc2luZ0FyY0dJUyB3aXRob3V0JHtcblx0XHRcdFx0XHR0aGlzLmFyY2dpc0NsaWVudElEID8gJycgOiAnIGFyY2dpc0NsaWVudElEJ1xuXHRcdFx0XHR9JHt0aGlzLmFyY2dpc0NsaWVudFNlY3JldCA/ICcnIDogJyBhcmNnaXNDbGllbnRTZWNyZXQnfWBcblx0XHRcdCk7XG5cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0XHRgQXR0ZW1wdCB0byByZXZlcnNlIEdlb2NvZGUgY29vcmRpbmF0ZXM6ICR7bGF0fSwke2xuZ31gXG5cdFx0XHQpO1xuXG5cdFx0XHRjb25zdCB0b2tlblJlcXVlc3RVcmwgPSBgaHR0cHM6Ly93d3cuYXJjZ2lzLmNvbS9zaGFyaW5nL29hdXRoMi90b2tlbj9jbGllbnRfaWQ9JHt0aGlzLmFyY2dpc0NsaWVudElEfSZjbGllbnRfc2VjcmV0PSR7dGhpcy5hcmNnaXNDbGllbnRTZWNyZXR9JmdyYW50X3R5cGU9Y2xpZW50X2NyZWRlbnRpYWxzJmY9anNvbmA7XG5cblx0XHRcdGNvbnN0IHRva2VuUmVzdWx0ID0gYXdhaXQgYXhpb3MuZ2V0KHRva2VuUmVxdWVzdFVybCk7XG5cblx0XHRcdGlmIChcblx0XHRcdFx0IXRva2VuUmVzdWx0IHx8XG5cdFx0XHRcdCF0b2tlblJlc3VsdC5kYXRhIHx8XG5cdFx0XHRcdCF0b2tlblJlc3VsdC5kYXRhWydhY2Nlc3NfdG9rZW4nXVxuXHRcdFx0KSB7XG5cdFx0XHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRcdFx0YENhbm5vdCBnZXQgYXJjZ2lzIHRva2VuIHdpdGggY2xpZW50X2lkPSR7dGhpcy5hcmNnaXNDbGllbnRJRH0sIGNsaWVudF9zZWNyZXQ9JHt0aGlzLmFyY2dpc0NsaWVudFNlY3JldH1gXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgdG9rZW4gPSB0b2tlblJlc3VsdC5kYXRhWydhY2Nlc3NfdG9rZW4nXTtcblxuXHRcdFx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG5cdFx0XHRcdGNvbnN0IHJlcXVlc3RCYXNlVXJsID0gYGh0dHBzOi8vZ2VvY29kZS5hcmNnaXMuY29tL2FyY2dpcy9yZXN0L3NlcnZpY2VzL1dvcmxkL0dlb2NvZGVTZXJ2ZXIvcmV2ZXJzZUdlb2NvZGU/bG9jYXRpb249JHtsbmd9JTJDJHtsYXR9JmRpc3RhbmNlPTIwMCZmPWpzb25gO1xuXG5cdFx0XHRcdGNvbnN0IHJlcXVlc3RVcmwgPSBgJHtyZXF1ZXN0QmFzZVVybH0mZm9yU3RvcmFnZT10cnVlJnRva2VuPSR7dG9rZW59YDtcblxuXHRcdFx0XHRjb25zdCByZXNwID0gYXdhaXQgYXhpb3MuZ2V0KHJlcXVlc3RVcmwpO1xuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRyZXNwICYmXG5cdFx0XHRcdFx0cmVzcC5kYXRhICYmXG5cdFx0XHRcdFx0cmVzcC5kYXRhWydhZGRyZXNzJ10gJiZcblx0XHRcdFx0XHQocmVzcC5kYXRhWydhZGRyZXNzJ10uQ2l0eSB8fFxuXHRcdFx0XHRcdFx0cmVzcC5kYXRhWydhZGRyZXNzJ10uUmVnaW9uIHx8XG5cdFx0XHRcdFx0XHRyZXNwLmRhdGFbJ2FkZHJlc3MnXS5TdWJyZWdpb24pXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGxldCBsb2NhbGl0eTogc3RyaW5nO1xuXG5cdFx0XHRcdFx0aWYgKHJlc3AuZGF0YVsnYWRkcmVzcyddLkNpdHkpIHtcblx0XHRcdFx0XHRcdGxvY2FsaXR5ID0gcmVzcC5kYXRhWydhZGRyZXNzJ10uQ2l0eTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHJlc3AuZGF0YVsnYWRkcmVzcyddLlN1YnJlZ2lvbikge1xuXHRcdFx0XHRcdFx0bG9jYWxpdHkgPSByZXNwLmRhdGFbJ2FkZHJlc3MnXS5TdWJyZWdpb247XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChyZXNwLmRhdGFbJ2FkZHJlc3MnXS5SZWdpb24pIHtcblx0XHRcdFx0XHRcdGxvY2FsaXR5ID0gcmVzcC5kYXRhWydhZGRyZXNzJ10uUmVnaW9uO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnN0IHJlc3VsdCA9IHtcblx0XHRcdFx0XHRcdGxvY2FsaXR5LFxuXG5cdFx0XHRcdFx0XHQvLyByZXBsYWNlIHJlbW92ZXMgbnVtYmVycyBhbmQgdHJpbSBzcGFjZXMgKHRoZXkgYXJlIHVzdWFsbHkgd3JvbmcgYW55d2F5ISlcblx0XHRcdFx0XHRcdHRob3JvdWdoZmFyZTogcmVzcC5kYXRhWydhZGRyZXNzJ10uQWRkcmVzc1xuXHRcdFx0XHRcdFx0XHQ/IHJlc3AuZGF0YVsnYWRkcmVzcyddLkFkZHJlc3MucmVwbGFjZShcblx0XHRcdFx0XHRcdFx0XHRcdC9cXGQrfF5cXHMrfFxccyskL2csXG5cdFx0XHRcdFx0XHRcdFx0XHQnJ1xuXHRcdFx0XHRcdFx0XHQgICkucmVwbGFjZShcblx0XHRcdFx0XHRcdFx0XHRcdC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcblx0XHRcdFx0XHRcdFx0XHRcdCcnXG5cdFx0XHRcdFx0XHRcdCAgKVxuXHRcdFx0XHRcdFx0XHQ6IG51bGwsXG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRcdFx0XHRgQXR0ZW1wdGVkIHRvIHJldmVyc2UgR2VvY29kZSBjb29yZGluYXRlczogJHtsYXR9LCAke2xuZ30uIEdvdCByZXN1bHRzOiBgICtcblx0XHRcdFx0XHRcdFx0YCR7SlNPTi5zdHJpbmdpZnkocmVzdWx0KX1gXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0XHRcdGBBdHRlbXB0ZWQgdG8gcmV2ZXJzZSBHZW9jb2RlIGNvb3JkaW5hdGVzOiAke2xhdH0sICR7bG5nfS4gYCArXG5cdFx0XHRcdFx0XHRcdGBHb3QgZW1wdHkgcmVzcG9uc2U6ICR7cmVzcCA/IGluc3BlY3QocmVzcCkgOiAnJ31gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0Ly8gRG8gbm90IHJlcG9ydCBpdCBhcyBlcnJvciBiZWNhdXNlIGdlby1jb2RpbmcgbWF5IHNpbXBseSBub3Qgd29yayBmb3IgZ2l2ZW4gY29vcmRpbmF0ZXNcblx0XHRcdHRoaXMubG9nLmluZm8oZXJyKTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFV0aWxzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vdXRpbHMnO1xuaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4uLy4uL2hlbHBlcnMvTG9nJztcbmltcG9ydCB7IFdhcmVob3VzZXNTZXJ2aWNlIH0gZnJvbSAnLi4vd2FyZWhvdXNlcyc7XG5pbXBvcnQgR2VvTG9jYXRpb24gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9HZW9Mb2NhdGlvbic7XG5pbXBvcnQgV2FyZWhvdXNlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvV2FyZWhvdXNlJztcbmltcG9ydCBJV2FyZWhvdXNlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JV2FyZWhvdXNlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7XG5cdG9ic2VydmFibGVMaXN0ZW5lcixcblx0cm91dGVyTmFtZSxcblx0c2VyaWFsaXphdGlvbixcblx0YXN5bmNMaXN0ZW5lcixcbn0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IElHZW9Mb2NhdGlvbiBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSUdlb0xvY2F0aW9uJztcbmltcG9ydCBJR2VvTG9jYXRpb25XYXJlaG91c2VzUm91dGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JR2VvTG9jYXRpb25XYXJlaG91c2VzUm91dGVyJztcbmltcG9ydCBJU2VydmljZSBmcm9tICcuLi9JU2VydmljZSc7XG5pbXBvcnQgeyBFeGlzdGVuY2VFdmVudFR5cGUgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IHsgb2YgfSBmcm9tICdyeGpzL29ic2VydmFibGUvb2YnO1xuaW1wb3J0IHsgY29uY2F0LCBleGhhdXN0TWFwLCBmaWx0ZXIsIHNoYXJlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgnZ2VvLWxvY2F0aW9uLXdhcmVob3VzZXMnKVxuZXhwb3J0IGNsYXNzIEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlXG5cdGltcGxlbWVudHMgSUdlb0xvY2F0aW9uV2FyZWhvdXNlc1JvdXRlciwgSVNlcnZpY2Uge1xuXHRwcm90ZWN0ZWQgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHtcblx0XHRuYW1lOiAnZ2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UnLFxuXHR9KTtcblxuXHQvLyBUT0RPOiB0aGlzIHNob3VsZCBiZSBzb21ldGhpbmcgZHluYW1pYyBhbmQgc3RvcmVkIGluIERCIChwZXIgV2FyZWhvdXNlPylcblx0c3RhdGljIFRyYWNraW5nRGlzdGFuY2U6IG51bWJlciA9IDUwMDAwO1xuXG5cdHN0YXRpYyBpc05lYXJseSh3YXJlaG91c2U6IFdhcmVob3VzZSwgZ2VvTG9jYXRpb246IEdlb0xvY2F0aW9uKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIChcblx0XHRcdFV0aWxzLmdldERpc3RhbmNlKHdhcmVob3VzZS5nZW9Mb2NhdGlvbiwgZ2VvTG9jYXRpb24pIDw9XG5cdFx0XHRHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZS5UcmFja2luZ0Rpc3RhbmNlXG5cdFx0KTtcblx0fVxuXG5cdGNvbnN0cnVjdG9yKHByb3RlY3RlZCB3YXJlaG91c2VzU2VydmljZTogV2FyZWhvdXNlc1NlcnZpY2UpIHt9XG5cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldChcblx0XHRAc2VyaWFsaXphdGlvbigoZzogSUdlb0xvY2F0aW9uKSA9PiBuZXcgR2VvTG9jYXRpb24oZykpXG5cdFx0Z2VvTG9jYXRpb246IEdlb0xvY2F0aW9uLFxuXHRcdEBzZXJpYWxpemF0aW9uKChvOiBhbnkpID0+IF8ub21pdChvLCBbJ2Z1bGxQcm9kdWN0cycsICdhY3RpdmVPbmx5J10pKVxuXHRcdF9vcHRpb25zPzogeyBmdWxsUHJvZHVjdHM/OiBib29sZWFuOyBhY3RpdmVPbmx5PzogYm9vbGVhbiB9XG5cdCk6IE9ic2VydmFibGU8V2FyZWhvdXNlW10+IHtcblx0XHRjb25zdCBvcHRpb25zID0ge1xuXHRcdFx0ZnVsbFByb2R1Y3RzOiBfb3B0aW9ucyAhPSBudWxsICYmIF9vcHRpb25zLmZ1bGxQcm9kdWN0cyAhPSBudWxsLFxuXHRcdFx0YWN0aXZlT25seTpcblx0XHRcdFx0X29wdGlvbnMgIT0gbnVsbCAmJiBfb3B0aW9ucy5hY3RpdmVPbmx5ICE9IG51bGxcblx0XHRcdFx0XHQ/IF9vcHRpb25zLmFjdGl2ZU9ubHlcblx0XHRcdFx0XHQ6IGZhbHNlLFxuXHRcdH07XG5cblx0XHRyZXR1cm4gb2YobnVsbCkucGlwZShcblx0XHRcdGNvbmNhdChcblx0XHRcdFx0dGhpcy53YXJlaG91c2VzU2VydmljZS5leGlzdGVuY2UucGlwZShcblx0XHRcdFx0XHRmaWx0ZXIoKGV4aXN0ZW5jZUV2ZW50KSA9PiB7XG5cdFx0XHRcdFx0XHRsZXQgd2FyZWhvdXNlOiBXYXJlaG91c2UgfCBudWxsO1xuXHRcdFx0XHRcdFx0bGV0IG9sZFdhcmVob3VzZTogV2FyZWhvdXNlIHwgbnVsbDtcblxuXHRcdFx0XHRcdFx0c3dpdGNoIChleGlzdGVuY2VFdmVudC50eXBlIGFzIEV4aXN0ZW5jZUV2ZW50VHlwZSkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIEV4aXN0ZW5jZUV2ZW50VHlwZS5DcmVhdGVkOlxuXHRcdFx0XHRcdFx0XHRcdHdhcmVob3VzZSA9IGV4aXN0ZW5jZUV2ZW50LnZhbHVlO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHdhcmVob3VzZSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0XHRcdEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlLmlzTmVhcmx5KFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR3YXJlaG91c2UsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGdlb0xvY2F0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHQpICYmXG5cdFx0XHRcdFx0XHRcdFx0XHQob3B0aW9ucy5hY3RpdmVPbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdD8gd2FyZWhvdXNlLmlzQWN0aXZlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDogdHJ1ZSlcblx0XHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgRXhpc3RlbmNlRXZlbnRUeXBlLlVwZGF0ZWQ6XG5cdFx0XHRcdFx0XHRcdFx0d2FyZWhvdXNlID0gZXhpc3RlbmNlRXZlbnQudmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0b2xkV2FyZWhvdXNlID0gZXhpc3RlbmNlRXZlbnQubGFzdFZhbHVlO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHdhcmVob3VzZSA9PSBudWxsIHx8IG9sZFdhcmVob3VzZSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0XHRcdEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlLmlzTmVhcmx5KFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR3YXJlaG91c2UsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGdlb0xvY2F0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHQpICE9PVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZS5pc05lYXJseShcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbGRXYXJlaG91c2UsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Z2VvTG9jYXRpb25cblx0XHRcdFx0XHRcdFx0XHRcdFx0KSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0KG9wdGlvbnMuYWN0aXZlT25seVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ/IHdhcmVob3VzZS5pc0FjdGl2ZSAhPT1cblx0XHRcdFx0XHRcdFx0XHRcdFx0ICBvbGRXYXJlaG91c2UuaXNBY3RpdmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0OiB0cnVlKVxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSBFeGlzdGVuY2VFdmVudFR5cGUuUmVtb3ZlZDpcblx0XHRcdFx0XHRcdFx0XHRvbGRXYXJlaG91c2UgPSBleGlzdGVuY2VFdmVudC5sYXN0VmFsdWU7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAob2xkV2FyZWhvdXNlID09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdFx0XHRcdFx0R2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UuaXNOZWFybHkoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9sZFdhcmVob3VzZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Z2VvTG9jYXRpb25cblx0XHRcdFx0XHRcdFx0XHRcdCkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdChvcHRpb25zLmFjdGl2ZU9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0PyBvbGRXYXJlaG91c2UuaXNBY3RpdmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0OiB0cnVlKVxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0c2hhcmUoKVxuXHRcdFx0XHQpXG5cdFx0XHQpLFxuXHRcdFx0ZXhoYXVzdE1hcCgoKSA9PlxuXHRcdFx0XHR0aGlzLl9nZXQoXG5cdFx0XHRcdFx0Z2VvTG9jYXRpb24sXG5cdFx0XHRcdFx0R2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UuVHJhY2tpbmdEaXN0YW5jZSxcblx0XHRcdFx0XHRvcHRpb25zXG5cdFx0XHRcdClcblx0XHRcdCksXG5cdFx0XHRzaGFyZSgpXG5cdFx0KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZ2V0TWVyY2hhbnRzKFxuXHRcdGdlb0xvY2F0aW9uOiBJR2VvTG9jYXRpb24sXG5cdFx0bWF4RGlzdGFuY2U6IG51bWJlcixcblx0XHRvcHRpb25zOiB7XG5cdFx0XHRmdWxsUHJvZHVjdHM6IGJvb2xlYW47XG5cdFx0XHRhY3RpdmVPbmx5OiBib29sZWFuO1xuXHRcdFx0bWVyY2hhbnRzSWRzPzogc3RyaW5nW107XG5cdFx0fVxuXHQpOiBQcm9taXNlPElXYXJlaG91c2VbXT4ge1xuXHRcdGNvbnN0IG1lcmNoYW50c0lkcyA9IG9wdGlvbnMubWVyY2hhbnRzSWRzO1xuXHRcdGNvbnN0IG1lcmNoYW50cyA9IChhd2FpdCB0aGlzLndhcmVob3VzZXNTZXJ2aWNlLk1vZGVsLmZpbmQoXG5cdFx0XHRfLmFzc2lnbihcblx0XHRcdFx0e1xuXHRcdFx0XHRcdCdnZW9Mb2NhdGlvbi5sb2MnOiB7XG5cdFx0XHRcdFx0XHQkbmVhcjoge1xuXHRcdFx0XHRcdFx0XHQkZ2VvbWV0cnk6IHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnUG9pbnQnLFxuXHRcdFx0XHRcdFx0XHRcdGNvb3JkaW5hdGVzOiBnZW9Mb2NhdGlvbi5sb2MuY29vcmRpbmF0ZXMsXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdCRtYXhEaXN0YW5jZTogbWF4RGlzdGFuY2UsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG9wdGlvbnMuYWN0aXZlT25seSA/IHsgaXNBY3RpdmU6IHRydWUgfSA6IHt9LFxuXHRcdFx0XHRtZXJjaGFudHNJZHMgJiYgbWVyY2hhbnRzSWRzLmxlbmd0aCA+IDBcblx0XHRcdFx0XHQ/IHtcblx0XHRcdFx0XHRcdFx0X2lkOiB7ICRpbjogbWVyY2hhbnRzSWRzIH0sXG5cdFx0XHRcdFx0ICB9XG5cdFx0XHRcdFx0OiB7fVxuXHRcdFx0KVxuXHRcdClcblx0XHRcdC5wb3B1bGF0ZShvcHRpb25zLmZ1bGxQcm9kdWN0cyA/ICdwcm9kdWN0cy5wcm9kdWN0JyA6ICcnKVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKSkgYXMgSVdhcmVob3VzZVtdO1xuXG5cdFx0cmV0dXJuIG1lcmNoYW50cztcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgd2FyZWhvdXNlcyBhdmFpbGFibGUgZm9yIGdpdmVuIGxvY2F0aW9uXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7R2VvTG9jYXRpb259IGdlb0xvY2F0aW9uXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBtYXhEaXN0YW5jZVxuXHQgKiBAcGFyYW0ge3sgZnVsbFByb2R1Y3RzOiBib29sZWFuOyBhY3RpdmVPbmx5OiBib29sZWFuIH19IG9wdGlvbnNcblx0ICogQHJldHVybnMge1Byb21pc2U8V2FyZWhvdXNlW10+fVxuXHQgKiBAbWVtYmVyb2YgR2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2Vcblx0ICovXG5cdHByaXZhdGUgYXN5bmMgX2dldChcblx0XHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb24sXG5cdFx0bWF4RGlzdGFuY2U6IG51bWJlcixcblx0XHRvcHRpb25zOiB7IGZ1bGxQcm9kdWN0czogYm9vbGVhbjsgYWN0aXZlT25seTogYm9vbGVhbiB9XG5cdCk6IFByb21pc2U8V2FyZWhvdXNlW10+IHtcblx0XHQvLyBUT0RPOiBmaXJzdCBmaWx0ZXIgYnkgQ2l0eSAvIENvdW50cnkgYW5kIG9ubHkgdGhlbiBsb29rIHVwIGJ5IGNvb3JkaW5hdGVzXG5cdFx0Y29uc3Qgd2FyZWhvdXNlcyA9IChhd2FpdCB0aGlzLndhcmVob3VzZXNTZXJ2aWNlLk1vZGVsLmZpbmQoXG5cdFx0XHRfLmFzc2lnbihcblx0XHRcdFx0e1xuXHRcdFx0XHRcdCdnZW9Mb2NhdGlvbi5sb2MnOiB7XG5cdFx0XHRcdFx0XHQkbmVhcjoge1xuXHRcdFx0XHRcdFx0XHQkZ2VvbWV0cnk6IHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnUG9pbnQnLFxuXHRcdFx0XHRcdFx0XHRcdGNvb3JkaW5hdGVzOiBnZW9Mb2NhdGlvbi5sb2MuY29vcmRpbmF0ZXMsXG5cdFx0XHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRcdFx0Ly8gVE9ETzogc2V0IGRpc3RhbmNlIFBFUiB3YXJlaG91c2U/XG5cdFx0XHRcdFx0XHRcdC8vIEl0J3MgaGFyZCB0byBtYWtlIHRoaXMgd29yayBob3dldmVyLCBhcyBzZWVtcyB0aGlzIHNob3VsZCBiZSBjb25zdGFudCB2YWx1ZS4uLlxuXHRcdFx0XHRcdFx0XHQvLyBob3dldmVyIHdlIG1heSB3YW50IHRvIGNoZWNrIE1vbmdvREIgZG9jcyFcblx0XHRcdFx0XHRcdFx0JG1heERpc3RhbmNlOiBtYXhEaXN0YW5jZSxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSxcblx0XHRcdFx0b3B0aW9ucy5hY3RpdmVPbmx5ID8geyBpc0FjdGl2ZTogdHJ1ZSB9IDoge31cblx0XHRcdClcblx0XHQpXG5cdFx0XHQucG9wdWxhdGUob3B0aW9ucy5mdWxsUHJvZHVjdHMgPyAncHJvZHVjdHMucHJvZHVjdCcgOiAnJylcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCkpIGFzIElXYXJlaG91c2VbXTtcblxuXHRcdHJldHVybiB3YXJlaG91c2VzLm1hcCgod2FyZWhvdXNlKSA9PiBuZXcgV2FyZWhvdXNlKHdhcmVob3VzZSkpO1xuXHR9XG59XG4iLCJleHBvcnQgKiBmcm9tICcuL0dlb0xvY2F0aW9uc09yZGVyc1NlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9HZW9Mb2NhdGlvbk9yZGVyc09wdGlvbnMnO1xuZXhwb3J0ICogZnJvbSAnLi9HZW9Mb2NhdGlvbnNQcm9kdWN0c1NlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9HZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL0dlb0xvY2F0aW9uc1NlcnZpY2UnO1xuIiwiaW1wb3J0ICdyZWZsZWN0LW1ldGFkYXRhJztcbmltcG9ydCB7IENvbnRhaW5lciwgaW50ZXJmYWNlcywgQ29udGFpbmVyTW9kdWxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBJUm91dGVyc01hbmFnZXIsIFJvdXRlcnNNYW5hZ2VyLCBSb3V0ZXJTeW1ib2wgfSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgeyBDYXJyaWVyc09yZGVyc1NlcnZpY2UsIENhcnJpZXJzU2VydmljZSB9IGZyb20gJy4vY2FycmllcnMnO1xuaW1wb3J0IHtcblx0U29jaWFsUmVnaXN0ZXJTZXJ2aWNlLFxuXHRTb2NpYWxTdHJhdGVnaWVzU2VydmljZSxcblx0VXNlcnNPcmRlcnNTZXJ2aWNlLFxuXHRVc2Vyc1Byb2R1Y3RzU2VydmljZSxcblx0VXNlcnNTZXJ2aWNlLFxuXHRVc2VyQ29tbWFuZFNlcnZpY2UsXG59IGZyb20gJy4vdXNlcnMnO1xuaW1wb3J0IHsgUHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZSwgUHJvZHVjdHNTZXJ2aWNlIH0gZnJvbSAnLi9wcm9kdWN0cyc7XG5pbXBvcnQge1xuXHRXYXJlaG91c2VzQ2FycmllcnNTZXJ2aWNlLFxuXHRXYXJlaG91c2VzT3JkZXJzU2VydmljZSxcblx0V2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZSxcblx0V2FyZWhvdXNlc1NlcnZpY2UsXG5cdFdhcmVob3VzZXNVc2Vyc1NlcnZpY2UsXG59IGZyb20gJy4vd2FyZWhvdXNlcyc7XG5pbXBvcnQgeyBPcmRlcnNTZXJ2aWNlIH0gZnJvbSAnLi9vcmRlcnMnO1xuaW1wb3J0IHsgSW52aXRlc1JlcXVlc3RzU2VydmljZSwgSW52aXRlc1NlcnZpY2UgfSBmcm9tICcuL2ludml0ZXMnO1xuaW1wb3J0IHtcblx0R2VvTG9jYXRpb25zT3JkZXJzU2VydmljZSxcblx0R2VvTG9jYXRpb25zUHJvZHVjdHNTZXJ2aWNlLFxuXHRHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZSxcblx0R2VvTG9jYXRpb25zU2VydmljZSxcbn0gZnJvbSAnLi9nZW8tbG9jYXRpb25zJztcbmltcG9ydCB7IERldmljZXNTZXJ2aWNlIH0gZnJvbSAnLi9kZXZpY2VzJztcbmltcG9ydCB7IFNlcnZpY2VTeW1ib2wgfSBmcm9tICcuL0lTZXJ2aWNlJztcbmltcG9ydCB7IENvbmZpZ1NlcnZpY2UgfSBmcm9tICcuLi9jb25maWcvY29uZmlnLnNlcnZpY2UnO1xuaW1wb3J0IHsgU2VydmljZXNBcHAgfSBmcm9tICcuL3NlcnZpY2VzLmFwcCc7XG5pbXBvcnQgeyBBdXRoZW50aWNhdGlvblNlcnZpY2UsIEF1dGhTZXJ2aWNlLCBhdXRoU2VydmljZUZhY3RvcnkgfSBmcm9tICcuL2F1dGgnO1xuaW1wb3J0IHsgVXNlcnNBdXRoU2VydmljZSB9IGZyb20gJy4vdXNlcnMvVXNlcnNBdXRoU2VydmljZSc7XG5pbXBvcnQgeyBBZG1pbnNTZXJ2aWNlIH0gZnJvbSAnLi9hZG1pbnMnO1xuaW1wb3J0IHsgZ2V0Q29ubmVjdGlvbiwgUmVwb3NpdG9yeSB9IGZyb20gJ3R5cGVvcm0nO1xuaW1wb3J0IEFkbWluIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvQWRtaW4nO1xuaW1wb3J0IERldmljZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0RldmljZSc7XG5pbXBvcnQgeyBGYWtlT3JkZXJzU2VydmljZSB9IGZyb20gJy4vZmFrZS1kYXRhL0Zha2VPcmRlcnNTZXJ2aWNlJztcbmltcG9ydCB7IEN1cnJlbmNpZXNTZXJ2aWNlIH0gZnJvbSAnLi9jdXJyZW5jeS9DdXJyZW5jeVNlcnZpY2UnO1xuXG5mdW5jdGlvbiBnZXRSZXBvc2l0b3J5KHQ6IGFueSk6IGFueSB7XG5cdGNvbnN0IGNvbm4gPSBnZXRDb25uZWN0aW9uKCd0eXBlb3JtJyk7XG5cdHJldHVybiBjb25uLmdldFJlcG9zaXRvcnkodCk7XG59XG5cbmNvbnN0IGJpbmRpbmdzID0gbmV3IENvbnRhaW5lck1vZHVsZSgoYmluZDogaW50ZXJmYWNlcy5CaW5kKSA9PiB7XG5cdGJpbmQ8UmVwb3NpdG9yeTxBZG1pbj4+KCdBZG1pblJlcG9zaXRvcnknKVxuXHRcdC50b0R5bmFtaWNWYWx1ZSgoKSA9PiB7XG5cdFx0XHRyZXR1cm4gZ2V0UmVwb3NpdG9yeShBZG1pbik7XG5cdFx0fSlcblx0XHQuaW5SZXF1ZXN0U2NvcGUoKTtcblxuXHRiaW5kPFJlcG9zaXRvcnk8RGV2aWNlPj4oJ0RldmljZVJlcG9zaXRvcnknKVxuXHRcdC50b0R5bmFtaWNWYWx1ZSgoKSA9PiB7XG5cdFx0XHRyZXR1cm4gZ2V0UmVwb3NpdG9yeShEZXZpY2UpO1xuXHRcdH0pXG5cdFx0LmluUmVxdWVzdFNjb3BlKCk7XG5cblx0Xy5lYWNoKFxuXHRcdFtcblx0XHRcdENvbmZpZ1NlcnZpY2UsXG5cdFx0XHRVc2VyQ29tbWFuZFNlcnZpY2UsXG5cdFx0XHRBZG1pbnNTZXJ2aWNlLFxuXHRcdFx0Q2FycmllcnNPcmRlcnNTZXJ2aWNlLFxuXHRcdFx0Q2FycmllcnNTZXJ2aWNlLFxuXHRcdFx0RGV2aWNlc1NlcnZpY2UsXG5cdFx0XHRHZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlLFxuXHRcdFx0R2VvTG9jYXRpb25zUHJvZHVjdHNTZXJ2aWNlLFxuXHRcdFx0R2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UsXG5cdFx0XHRHZW9Mb2NhdGlvbnNTZXJ2aWNlLFxuXHRcdFx0SW52aXRlc1JlcXVlc3RzU2VydmljZSxcblx0XHRcdEludml0ZXNTZXJ2aWNlLFxuXHRcdFx0T3JkZXJzU2VydmljZSxcblx0XHRcdFByb2R1Y3RzU2VydmljZSxcblx0XHRcdFByb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2UsXG5cdFx0XHRVc2Vyc09yZGVyc1NlcnZpY2UsXG5cdFx0XHRVc2Vyc1NlcnZpY2UsXG5cdFx0XHRVc2Vyc0F1dGhTZXJ2aWNlLFxuXHRcdFx0U29jaWFsU3RyYXRlZ2llc1NlcnZpY2UsXG5cdFx0XHRTb2NpYWxSZWdpc3RlclNlcnZpY2UsXG5cdFx0XHRXYXJlaG91c2VzT3JkZXJzU2VydmljZSxcblx0XHRcdFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UsXG5cdFx0XHRXYXJlaG91c2VzVXNlcnNTZXJ2aWNlLFxuXHRcdFx0V2FyZWhvdXNlc0NhcnJpZXJzU2VydmljZSxcblx0XHRcdFdhcmVob3VzZXNTZXJ2aWNlLFxuXHRcdFx0VXNlcnNQcm9kdWN0c1NlcnZpY2UsXG5cdFx0XHRBdXRoZW50aWNhdGlvblNlcnZpY2UsXG5cdFx0XHRGYWtlT3JkZXJzU2VydmljZSxcblx0XHRcdEN1cnJlbmNpZXNTZXJ2aWNlLFxuXHRcdF0sXG5cdFx0KFNlcnZpY2U6IGFueSkgPT4ge1xuXHRcdFx0YmluZChTZXJ2aWNlKS50byhTZXJ2aWNlKS5pblNpbmdsZXRvblNjb3BlKCk7XG5cblx0XHRcdGJpbmQ8YW55PihTZXJ2aWNlU3ltYm9sKS50b0ZhY3Rvcnk8YW55PigoY29udGV4dCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jb250YWluZXIuZ2V0PGFueT4oU2VydmljZSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0YmluZDxhbnk+KFJvdXRlclN5bWJvbCkudG9GYWN0b3J5PGFueT4oKGNvbnRleHQpID0+IHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuY29udGFpbmVyLmdldDxhbnk+KFNlcnZpY2UpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHQpO1xuXG5cdGJpbmQoQXV0aFNlcnZpY2UpLnRvU2VsZigpO1xuXG5cdGJpbmQoJ0ZhY3Rvcnk8QXV0aFNlcnZpY2U+JykudG9GYWN0b3J5KGF1dGhTZXJ2aWNlRmFjdG9yeSk7XG5cblx0YmluZDxJUm91dGVyc01hbmFnZXI+KCdSb3V0ZXJzTWFuYWdlcicpXG5cdFx0LnRvKFJvdXRlcnNNYW5hZ2VyKVxuXHRcdC5pblNpbmdsZXRvblNjb3BlKCk7XG5cblx0YmluZDxTZXJ2aWNlc0FwcD4oU2VydmljZXNBcHApLnRvU2VsZigpLmluU2luZ2xldG9uU2NvcGUoKTtcbn0pO1xuXG5jb25zdCBjb250YWluZXIgPSBuZXcgQ29udGFpbmVyKCk7XG5cbmNvbnRhaW5lci5sb2FkKGJpbmRpbmdzKTtcblxuZXhwb3J0IGNvbnN0IHNlcnZpY2VzQ29udGFpbmVyID0gY29udGFpbmVyO1xuIiwiaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgeyBJSW52aXRlUmVxdWVzdENyZWF0ZU9iamVjdCB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JSW52aXRlUmVxdWVzdCc7XG5pbXBvcnQgSW52aXRlUmVxdWVzdCBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0ludml0ZVJlcXVlc3QnO1xuaW1wb3J0IHsgREJTZXJ2aWNlLCBFeGlzdGVuY2VFdmVudFR5cGUgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IHsgSW52aXRlc1NlcnZpY2UgfSBmcm9tICcuL0ludml0ZXNTZXJ2aWNlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMvU3Vic2NyaXB0aW9uJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgSW52aXRlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvSW52aXRlJztcbmltcG9ydCBJTGFuZ3VhZ2UgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lMYW5ndWFnZSc7XG5pbXBvcnQgcmVxdWVzdFByb21pc2UgZnJvbSAncmVxdWVzdC1wcm9taXNlJztcbmltcG9ydCBCbHVlYmlyZCBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQgeyBEZXZpY2VzU2VydmljZSB9IGZyb20gJy4uL2RldmljZXMnO1xuaW1wb3J0IERldmljZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0RldmljZSc7XG5pbXBvcnQgeyBsYXVuY2hlZCB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vbm90aWZpY2F0aW9ucyc7XG5pbXBvcnQgSUludml0ZVJlcXVlc3RSb3V0ZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lJbnZpdGVSZXF1ZXN0Um91dGVyJztcbmltcG9ydCB7IGFzeW5jTGlzdGVuZXIsIG9ic2VydmFibGVMaXN0ZW5lciwgcm91dGVyTmFtZSB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCBJU2VydmljZSBmcm9tICcuLi9JU2VydmljZSc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi8uLi9lbnYnO1xuaW1wb3J0IHsgZmlsdGVyLCBmaXJzdCwgbWFwLCBzd2l0Y2hNYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBJR2VvTG9jYXRpb25DcmVhdGVPYmplY3QgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSUdlb0xvY2F0aW9uJztcbmltcG9ydCB7IENvdW50cnkgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0dlb0xvY2F0aW9uJztcbmltcG9ydCBJUGFnaW5nT3B0aW9ucyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSVBhZ2luZ09wdGlvbnMnO1xuaW1wb3J0IGZha2VyIGZyb20gJ2Zha2VyJztcblxuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ2ludml0ZS1yZXF1ZXN0JylcbmV4cG9ydCBjbGFzcyBJbnZpdGVzUmVxdWVzdHNTZXJ2aWNlIGV4dGVuZHMgREJTZXJ2aWNlPEludml0ZVJlcXVlc3Q+XG5cdGltcGxlbWVudHMgSUludml0ZVJlcXVlc3RSb3V0ZXIsIElTZXJ2aWNlIHtcblx0cHVibGljIHJlYWRvbmx5IERCT2JqZWN0OiBhbnkgPSBJbnZpdGVSZXF1ZXN0O1xuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHtcblx0XHRuYW1lOiAnaW52aXRlc1JlcXVlc3RzU2VydmljZScsXG5cdH0pO1xuXG5cdHByb3RlY3RlZCBwdXNoU2VuZGluZ0ludml0ZXNTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbiA9IFN1YnNjcmlwdGlvbi5FTVBUWTtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRAaW5qZWN0KEludml0ZXNTZXJ2aWNlKSBwcm90ZWN0ZWQgaW52aXRlc1NlcnZpY2U6IEludml0ZXNTZXJ2aWNlLFxuXHRcdEBpbmplY3QoRGV2aWNlc1NlcnZpY2UpIHByb3RlY3RlZCBkZXZpY2VzU2VydmljZTogRGV2aWNlc1NlcnZpY2Vcblx0KSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdHRoaXMucHVzaFNlbmRpbmdJbnZpdGVzU3Vic2NyaXB0aW9uID0gdGhpcy5pbnZpdGVzU2VydmljZS5leGlzdGVuY2Vcblx0XHRcdC5waXBlKFxuXHRcdFx0XHRmaWx0ZXIoXG5cdFx0XHRcdFx0KGV4aXN0ZW5jZUV2ZW50KSA9PlxuXHRcdFx0XHRcdFx0ZXhpc3RlbmNlRXZlbnQudHlwZSA9PT0gRXhpc3RlbmNlRXZlbnRUeXBlLkNyZWF0ZWRcblx0XHRcdFx0KSxcblx0XHRcdFx0bWFwKChleGlzdGVuY2VFdmVudCkgPT4gZXhpc3RlbmNlRXZlbnQudmFsdWUgYXMgSW52aXRlKVxuXHRcdFx0KVxuXHRcdFx0LnN1YnNjcmliZShhc3luYyAoaW52aXRlKSA9PiB7XG5cdFx0XHRcdGludGVyZmFjZSBBZ2dyZWdhdGVSZXN1bHQge1xuXHRcdFx0XHRcdF9pZDogc3RyaW5nOyAvLyBkZXZpY2VJZFxuXHRcdFx0XHRcdGNyZWF0ZWRBdDogc3RyaW5nO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgcmVzdWx0czogQWdncmVnYXRlUmVzdWx0W10gPSBhd2FpdCB0aGlzLk1vZGVsLmFnZ3JlZ2F0ZSgpXG5cdFx0XHRcdFx0LnNvcnQoeyBjaGFubmVsSWQ6IDEsIF9jcmVhdGVkQXQ6IDEgfSlcblx0XHRcdFx0XHQuZ3JvdXAoe1xuXHRcdFx0XHRcdFx0X2lkOiAnJGRldmljZUlkJyxcblx0XHRcdFx0XHRcdGNyZWF0ZWRBdDogeyAkbGFzdDogJyRfY3JlYXRlZEF0JyB9LFxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0LmV4ZWMoKTtcblxuXHRcdFx0XHRpZiAocmVzdWx0cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5ub3RpZnlBYm91dExhdW5jaChcblx0XHRcdFx0XHRcdGludml0ZSxcblx0XHRcdFx0XHRcdF8ubWFwKHJlc3VsdHMsIChyZXN1bHQpID0+IHJlc3VsdC5faWQpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cblxuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KGlkOiBzdHJpbmcpIHtcblx0XHRyZXR1cm4gc3VwZXIuZ2V0KGlkKS5waXBlKFxuXHRcdFx0bWFwKGFzeW5jIChpbnZpdGVSZXEpID0+IHtcblx0XHRcdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRcdFx0cmV0dXJuIGludml0ZVJlcTtcblx0XHRcdH0pLFxuXHRcdFx0c3dpdGNoTWFwKChpbnZpdGVSZXEpID0+IGludml0ZVJlcSlcblx0XHQpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBjcmVhdGUoXG5cdFx0aW52aXRlUmVxdWVzdDogSUludml0ZVJlcXVlc3RDcmVhdGVPYmplY3Rcblx0KTogUHJvbWlzZTxJbnZpdGVSZXF1ZXN0PiB7XG5cdFx0cmV0dXJuIHN1cGVyLmNyZWF0ZShpbnZpdGVSZXF1ZXN0KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgbm90aWZ5QWJvdXRMYXVuY2goXG5cdFx0aW52aXRlOiBJbnZpdGUsXG5cdFx0ZGV2aWNlc0lkczogc3RyaW5nW11cblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgZGV2aWNlcyA9IGF3YWl0IChcblx0XHRcdGF3YWl0IHRoaXMuZGV2aWNlc1NlcnZpY2UuZ2V0TXVsdGlwbGVEZXZpY2VzKGRldmljZXNJZHMpXG5cdFx0KVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblxuXHRcdGNvbnN0IGRldmljZXNCeUxhbmd1YWdlcyA9IF8uZ3JvdXBCeShcblx0XHRcdGRldmljZXMsXG5cdFx0XHQoZGV2aWNlKSA9PiBkZXZpY2UubGFuZ3VhZ2Vcblx0XHQpO1xuXHRcdGNvbnN0IGxhbmd1YWdlcyA9IF8ua2V5cyhkZXZpY2VzQnlMYW5ndWFnZXMpIGFzIElMYW5ndWFnZVtdO1xuXG5cdFx0YXdhaXQgKDxhbnk+Qmx1ZWJpcmQpLm1hcChsYW5ndWFnZXMsIGFzeW5jIChsYW5ndWFnZTogSUxhbmd1YWdlKSA9PiB7XG5cdFx0XHRjb25zdCBkZXZpY2VzQnlMYW5ndWFnZTogRGV2aWNlW10gPSBkZXZpY2VzQnlMYW5ndWFnZXNbbGFuZ3VhZ2VdO1xuXG5cdFx0XHRjb25zdCByZXF1ZXN0ID0ge1xuXHRcdFx0XHRhdWRpZW5jZTogdGhpcy5fZ2V0TGF1bmNoQXVkaWVuY2UoZGV2aWNlc0J5TGFuZ3VhZ2UpLFxuXHRcdFx0XHRkZXZpY2VfdHlwZXM6ICdhbGwnLFxuXHRcdFx0XHRub3RpZmljYXRpb246IHRoaXMuX2dldExhdW5jaE5vdGlmaWNhdGlvbihsYW5ndWFnZSwgaW52aXRlKSxcblx0XHRcdH07XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IHJwOiBhbnkgPSByZXF1ZXN0UHJvbWlzZTtcblxuXHRcdFx0XHRhd2FpdCBycCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdFx0dXJpOiAnaHR0cHM6Ly9nby51cmJhbmFpcnNoaXAuY29tL2FwaS9wdXNoJyxcblx0XHRcdFx0XHRib2R5OiByZXF1ZXN0LFxuXHRcdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHRcdEFjY2VwdDogJ2FwcGxpY2F0aW9uL3ZuZC51cmJhbmFpcnNoaXAranNvbjsgdmVyc2lvbj0zOycsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRhdXRoOiB7XG5cdFx0XHRcdFx0XHR1c2VyOiBlbnYuVVJCQU5fQUlSU0hJUF9LRVksXG5cdFx0XHRcdFx0XHRwYXNzOiBlbnYuVVJCQU5fQUlSU0hJUF9TRUNSRVQsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRqc29uOiB0cnVlLFxuXHRcdFx0XHR9KTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihgLm5vdGlmeUFib3V0TGF1bmNoKC4uLikgZXJyb3I6ICR7ZS5tZXNzYWdlfWApO1xuXHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXRJbnZpdGVzUmVxdWVzdHMoXG5cdFx0ZmluZElucHV0OiBhbnksXG5cdFx0aW52aXRlZDogYW55LFxuXHRcdHBhZ2luZ09wdGlvbnM6IElQYWdpbmdPcHRpb25zXG5cdCk6IFByb21pc2U8YW55PiB7XG5cdFx0Y29uc3Qgc29ydE9iaiA9IHt9O1xuXG5cdFx0Y29uc3QgZmluZE5vdEludml0ZWQgPSB7XG5cdFx0XHQuLi5maW5kSW5wdXQsXG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdFx0aXNJbnZpdGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9O1xuXG5cdFx0aWYgKHBhZ2luZ09wdGlvbnMuc29ydCkge1xuXHRcdFx0c29ydE9ialtwYWdpbmdPcHRpb25zLnNvcnQuZmllbGRdID0gcGFnaW5nT3B0aW9ucy5zb3J0LnNvcnRCeTtcblx0XHR9XG5cblx0XHRjb25zdCBpbnZpdGVSZXF1ZXN0cyA9IGF3YWl0IHRoaXMuTW9kZWwuZmluZChmaW5kTm90SW52aXRlZClcblx0XHRcdC5zb3J0KHNvcnRPYmopXG5cdFx0XHQuc2tpcChwYWdpbmdPcHRpb25zLnNraXApXG5cdFx0XHQubGltaXQocGFnaW5nT3B0aW9ucy5saW1pdClcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cblx0XHRjb25zdCBhbGxOb3RJbnZpdGVkQ291bnQgPSBhd2FpdCB0aGlzLk1vZGVsLmZpbmQoZmluZE5vdEludml0ZWQpXG5cdFx0XHQuY291bnREb2N1bWVudHMoKVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdGNvbnN0IHNraXBJbnZpdGVkID1cblx0XHRcdHBhZ2luZ09wdGlvbnMuc2tpcCArIGludml0ZVJlcXVlc3RzLmxlbmd0aCAtIGFsbE5vdEludml0ZWRDb3VudDtcblxuXHRcdGlmIChpbnZpdGVkICYmIHNraXBJbnZpdGVkID49IDApIHtcblx0XHRcdGNvbnN0IGludml0ZWRGcm9tREIgPSBhd2FpdCB0aGlzLk1vZGVsLmZpbmQoe1xuXHRcdFx0XHQuLi5maW5kSW5wdXQsXG5cdFx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0XHRcdGlzSW52aXRlZDogeyAkZXE6IHRydWUgfSxcblx0XHRcdH0pXG5cdFx0XHRcdC5zb3J0KHsgaW52aXRlZERhdGU6ICdkZXNjJyB9KVxuXHRcdFx0XHQuc2tpcChza2lwSW52aXRlZClcblx0XHRcdFx0LmxpbWl0KHBhZ2luZ09wdGlvbnMubGltaXQgLSBpbnZpdGVSZXF1ZXN0cy5sZW5ndGgpXG5cdFx0XHRcdC5sZWFuKClcblx0XHRcdFx0LmV4ZWMoKTtcblxuXHRcdFx0cmV0dXJuIFsuLi5pbnZpdGVSZXF1ZXN0cywgLi4uaW52aXRlZEZyb21EQl07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGludml0ZVJlcXVlc3RzO1xuXHR9XG5cblx0YXN5bmMgdGhyb3dJZk5vdEV4aXN0cyhpbnZpdGVSZXF1ZXN0SWQ6IHN0cmluZykge1xuXHRcdGNvbnN0IGludml0ZVJlcXVlc3QgPSBhd2FpdCBzdXBlclxuXHRcdFx0LmdldChpbnZpdGVSZXF1ZXN0SWQpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKCFpbnZpdGVSZXF1ZXN0IHx8IGludml0ZVJlcXVlc3QuaXNEZWxldGVkKSB7XG5cdFx0XHR0aHJvdyBFcnJvcihcblx0XHRcdFx0YEludml0ZSByZXF1ZXN0IHdpdGggaWQgJyR7aW52aXRlUmVxdWVzdElkfScgZG9lcyBub3QgZXhpc3RzIWBcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgZ2VuZXJhdGUxMDAwSW52aXRlUmVxdWVzdHMoZGVmYXVsdExuZzogbnVtYmVyLCBkZWZhdWx0TGF0OiBudW1iZXIpIHtcblx0XHRjb25zdCBpbnZpdGVzUmVxdWVzdHNUb0NyZWF0ZTogSUludml0ZVJlcXVlc3RDcmVhdGVPYmplY3RbXSA9IFtdO1xuXG5cdFx0bGV0IGludml0ZVJlcXVlc3RzQ291bnQgPSAxO1xuXG5cdFx0d2hpbGUgKGludml0ZVJlcXVlc3RzQ291bnQgPD0gMTAwMCkge1xuXHRcdFx0Y29uc3QgaG91c2VOdW1iZXIgPSBgJHtpbnZpdGVSZXF1ZXN0c0NvdW50fWA7XG5cblx0XHRcdGNvbnN0IHJlcXVlc3RMb2NhdGlvbiA9IHRoaXMuX2dldEludml0ZVJlcXVlc3RHZW9Mb2NhdGlvbkNyZWF0ZU9iaihcblx0XHRcdFx0aG91c2VOdW1iZXIsXG5cdFx0XHRcdGRlZmF1bHRMbmcsXG5cdFx0XHRcdGRlZmF1bHRMYXRcblx0XHRcdCk7XG5cblx0XHRcdGludml0ZXNSZXF1ZXN0c1RvQ3JlYXRlLnB1c2goe1xuXHRcdFx0XHRpc0ludml0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRhcGFydG1lbnQ6IGAke2ludml0ZVJlcXVlc3RzQ291bnR9YCxcblx0XHRcdFx0Z2VvTG9jYXRpb246IHJlcXVlc3RMb2NhdGlvbixcblx0XHRcdH0pO1xuXG5cdFx0XHRpbnZpdGVSZXF1ZXN0c0NvdW50ICs9IDE7XG5cdFx0fVxuXG5cdFx0YXdhaXQgdGhpcy5Nb2RlbC5pbnNlcnRNYW55KGludml0ZXNSZXF1ZXN0c1RvQ3JlYXRlKTtcblx0fVxuXG5cdHByaXZhdGUgX2dldExhdW5jaEF1ZGllbmNlKGRldmljZXM6IERldmljZVtdKSB7XG5cdFx0Y29uc3QgYXVkaWVuY2U6IHtcblx0XHRcdG9yOiBBcnJheTxcblx0XHRcdFx0fCB7IGlvc19jaGFubmVsOiBzdHJpbmdbXSB8IHN0cmluZyB9XG5cdFx0XHRcdHwgeyBhbmRyb2lkX2NoYW5uZWw6IHN0cmluZ1tdIHwgc3RyaW5nIH1cblx0XHRcdD47XG5cdFx0fSA9IHtcblx0XHRcdG9yOiBbXSxcblx0XHR9O1xuXG5cdFx0Y29uc3QgaW9zX2RldmljZXMgPSBfLmZpbHRlcihcblx0XHRcdGRldmljZXMsXG5cdFx0XHQoZGV2aWNlKSA9PiBkZXZpY2UudHlwZSA9PT0gJ2lvcydcblx0XHQpO1xuXG5cdFx0aWYgKGlvc19kZXZpY2VzLmxlbmd0aCA+IDApIHtcblx0XHRcdGF1ZGllbmNlLm9yLnB1c2goe1xuXHRcdFx0XHRpb3NfY2hhbm5lbDogaW9zX2RldmljZXNcblx0XHRcdFx0XHQubWFwKChkZXZpY2UpID0+IGRldmljZS5jaGFubmVsSWQpXG5cdFx0XHRcdFx0LmZpbHRlcigoY2hhbm5lbElkKSA9PiBjaGFubmVsSWQgIT0gbnVsbClcblx0XHRcdFx0XHQubWFwKChjaGFubmVsSWQpID0+IGNoYW5uZWxJZCBhcyBzdHJpbmcpLFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgYW5kcm9pZF9kZXZpY2VzID0gXy5maWx0ZXIoXG5cdFx0XHRkZXZpY2VzLFxuXHRcdFx0KGRldmljZSkgPT4gZGV2aWNlLnR5cGUgPT09ICdhbmRyb2lkJ1xuXHRcdCk7XG5cblx0XHRpZiAoYW5kcm9pZF9kZXZpY2VzLmxlbmd0aCA+IDApIHtcblx0XHRcdGF1ZGllbmNlLm9yLnB1c2goe1xuXHRcdFx0XHRhbmRyb2lkX2NoYW5uZWw6IGFuZHJvaWRfZGV2aWNlc1xuXHRcdFx0XHRcdC5tYXAoKGRldmljZSkgPT4gZGV2aWNlLmNoYW5uZWxJZClcblx0XHRcdFx0XHQuZmlsdGVyKChjaGFubmVsSWQpID0+IGNoYW5uZWxJZCAhPSBudWxsKVxuXHRcdFx0XHRcdC5tYXAoKGNoYW5uZWxJZCkgPT4gY2hhbm5lbElkIGFzIHN0cmluZyksXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYXVkaWVuY2U7XG5cdH1cblxuXHRwcml2YXRlIF9nZXRMYXVuY2hOb3RpZmljYXRpb24obGFuZ3VhZ2U6IElMYW5ndWFnZSwgaW52aXRlOiBJbnZpdGUpOiBhbnkge1xuXHRcdHN3aXRjaCAobGFuZ3VhZ2UpIHtcblx0XHRcdGNhc2UgJ2VuLVVTJzpcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRhbmRyb2lkOiB7XG5cdFx0XHRcdFx0XHR0aXRsZTogJ0V2ZXIganVzdCBsYXVuY2hlZCEnLFxuXHRcdFx0XHRcdFx0YWxlcnQ6ICdDbGljayB0byBzZWUgc29tZSBhdmFpbGFibGUgcHJvZHVjdHMuJyxcblx0XHRcdFx0XHRcdGV4dHJhOiB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50OiBsYXVuY2hlZCxcblx0XHRcdFx0XHRcdFx0aW52aXRlOiBKU09OLnN0cmluZ2lmeShpbnZpdGUpLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGlvczoge1xuXHRcdFx0XHRcdFx0YWxlcnQ6ICdFdmVyIGp1c3QgbGF1bmNoZWQgYXQgeW91ciBhZGRyZXNzLiBIYXZlIGZ1biEnLFxuXHRcdFx0XHRcdFx0ZXh0cmE6IHtcblx0XHRcdFx0XHRcdFx0ZXZlbnQ6IGxhdW5jaGVkLFxuXHRcdFx0XHRcdFx0XHRpbnZpdGU6IEpTT04uc3RyaW5naWZ5KGludml0ZSksXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH07XG5cdFx0XHRjYXNlICdydS1SVSc6XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0YW5kcm9pZDoge1xuXHRcdFx0XHRcdFx0dGl0bGU6ICdFdmVyINGC0L7Qu9GM0LrQviDRh9GC0L4g0LfQsNC/0YPRgdGC0LjQu9GB0Y8hJyxcblx0XHRcdFx0XHRcdGFsZXJ0OiAn0JrQu9C40LrQvdC40YLQtSDRh9GC0L7QsdGLINGD0LLQuNC00LjRgtGMINC00L7RgdGC0YPQv9C90YvQtSDQv9GA0L7QtNGD0LrRgtGLLicsXG5cdFx0XHRcdFx0XHRleHRyYToge1xuXHRcdFx0XHRcdFx0XHRldmVudDogbGF1bmNoZWQsXG5cdFx0XHRcdFx0XHRcdGludml0ZTogSlNPTi5zdHJpbmdpZnkoaW52aXRlKSxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRpb3M6IHtcblx0XHRcdFx0XHRcdGFsZXJ0OlxuXHRcdFx0XHRcdFx0XHQnRXZlciDRgtC+0LvRjNGD0L4g0YfRgtC+INC30LDQv9GD0YHRgtC40LvRgdGPINC/0L4g0JLQsNGI0LXQvNGDINCw0LTRgNC10YHRgy4g0KPQtNCw0YfQuCEnLFxuXHRcdFx0XHRcdFx0ZXh0cmE6IHtcblx0XHRcdFx0XHRcdFx0ZXZlbnQ6IGxhdW5jaGVkLFxuXHRcdFx0XHRcdFx0XHRpbnZpdGU6IEpTT04uc3RyaW5naWZ5KGludml0ZSksXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH07XG5cdFx0XHRjYXNlICdiZy1CRyc6XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0YW5kcm9pZDoge1xuXHRcdFx0XHRcdFx0dGl0bGU6ICdFdmVyINGB0YLQsNGA0YLQuNGA0LAhJyxcblx0XHRcdFx0XHRcdGFsZXJ0OiAn0JrQu9C40LrQvdC10YLQtSwg0LfQsCDQtNCwINCy0LjQtNC40YLQtSDQvdGP0LrQvtC4INC90LDQu9C40YfQvdC4INC/0YDQvtC00YPQutGC0LguJyxcblx0XHRcdFx0XHRcdGV4dHJhOiB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50OiBsYXVuY2hlZCxcblx0XHRcdFx0XHRcdFx0aW52aXRlOiBKU09OLnN0cmluZ2lmeShpbnZpdGUpLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGlvczoge1xuXHRcdFx0XHRcdFx0YWxlcnQ6ICdFdmVyINGB0YLQsNGA0YLQuNGA0LAg0L3QsCDQstCw0YjQuNGPINCw0LTRgNC10YEuINCX0LDQsdCw0LLQu9GP0LLQsNC5INGB0LUhJyxcblx0XHRcdFx0XHRcdGV4dHJhOiB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50OiBsYXVuY2hlZCxcblx0XHRcdFx0XHRcdFx0aW52aXRlOiBKU09OLnN0cmluZ2lmeShpbnZpdGUpLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9O1xuXHRcdFx0Y2FzZSAnaGUtSUwnOlxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRhbmRyb2lkOiB7XG5cdFx0XHRcdFx0XHR0aXRsZTogJ9eU15XXqden16DXlSDXkdeb16rXldeR16og16nXnNeaIScsXG5cdFx0XHRcdFx0XHRhbGVydDogJ9eq15zXl9elINeb15PXmSDXnNem16TXldeqINeR157Xldem16jXmdedIScsXG5cdFx0XHRcdFx0XHRleHRyYToge1xuXHRcdFx0XHRcdFx0XHRldmVudDogbGF1bmNoZWQsXG5cdFx0XHRcdFx0XHRcdGludml0ZTogSlNPTi5zdHJpbmdpZnkoaW52aXRlKSxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRpb3M6IHtcblx0XHRcdFx0XHRcdGFsZXJ0OiAnRXZlciDXlNeV16nXpyDXkdeb16rXldeR16og16nXnNeaISDXqtec15fXpSDXm9eT15kg15zXptek15XXqiDXkdee15XXpteo15nXnSEnLFxuXHRcdFx0XHRcdFx0ZXh0cmE6IHtcblx0XHRcdFx0XHRcdFx0ZXZlbnQ6IGxhdW5jaGVkLFxuXHRcdFx0XHRcdFx0XHRpbnZpdGU6IEpTT04uc3RyaW5naWZ5KGludml0ZSksXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH07XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0SW52aXRlUmVxdWVzdEdlb0xvY2F0aW9uQ3JlYXRlT2JqKFxuXHRcdGhvdXNlTnVtYmVyOiBzdHJpbmcsXG5cdFx0ZGVmYXVsdExuZzogbnVtYmVyLFxuXHRcdGRlZmF1bHRMYXQ6IG51bWJlclxuXHQpOiBJR2VvTG9jYXRpb25DcmVhdGVPYmplY3Qge1xuXHRcdGNvbnN0IEdlb0xvY2F0aW9uOiBJR2VvTG9jYXRpb25DcmVhdGVPYmplY3QgPSB7XG5cdFx0XHRjb3VudHJ5SWQ6IGZha2VyLnJhbmRvbS5udW1iZXIoQ291bnRyeS5aVykgYXMgQ291bnRyeSxcblx0XHRcdGNpdHk6IGZha2VyLmFkZHJlc3MuY2l0eSgpLFxuXHRcdFx0aG91c2U6IGhvdXNlTnVtYmVyLFxuXHRcdFx0bG9jOiB7XG5cdFx0XHRcdHR5cGU6ICdQb2ludCcsXG5cdFx0XHRcdGNvb3JkaW5hdGVzOiBbZGVmYXVsdExuZywgZGVmYXVsdExhdF0sXG5cdFx0XHR9LFxuXHRcdFx0c3RyZWV0QWRkcmVzczogZmFrZXIuYWRkcmVzcy5zdHJlZXRBZGRyZXNzKCksXG5cdFx0fTtcblx0XHRyZXR1cm4gR2VvTG9jYXRpb247XG5cdH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IFV0aWxzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vdXRpbHMnO1xuaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4uLy4uL2hlbHBlcnMvTG9nJztcbmltcG9ydCBJbnZpdGUgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9JbnZpdGUnO1xuaW1wb3J0IHsgREJTZXJ2aWNlLCBFeGlzdGVuY2VFdmVudFR5cGUgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IHsgSUludml0ZUNyZWF0ZU9iamVjdCB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JSW52aXRlJztcbmltcG9ydCBJRW50ZXJCeUNvZGUgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lFbnRlckJ5Q29kZSc7XG5pbXBvcnQgSUVudGVyQnlMb2NhdGlvbiBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSUVudGVyQnlMb2NhdGlvbic7XG5pbXBvcnQgSVN0cmVldExvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JU3RyZWV0TG9jYXRpb24nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IElJbnZpdGVSb3V0ZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lJbnZpdGVSb3V0ZXInO1xuaW1wb3J0IHsgYXN5bmNMaXN0ZW5lciwgb2JzZXJ2YWJsZUxpc3RlbmVyLCByb3V0ZXJOYW1lIH0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJy4uL0lTZXJ2aWNlJztcbmltcG9ydCB7IG9mIH0gZnJvbSAncnhqcy9vYnNlcnZhYmxlL29mJztcbmltcG9ydCB7XG5cdGNvbmNhdCxcblx0ZXhoYXVzdE1hcCxcblx0ZmlsdGVyLFxuXHRtYXAsXG5cdGZpcnN0LFxuXHRzd2l0Y2hNYXAsXG59IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICdyeGpzL29ic2VydmFibGUvZnJvbSc7XG5pbXBvcnQgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuaW1wb3J0IHsgZW52IH0gZnJvbSAnLi4vLi4vZW52JztcbmltcG9ydCB7IElHZW9Mb2NhdGlvbkNyZWF0ZU9iamVjdCB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JR2VvTG9jYXRpb24nO1xuaW1wb3J0IHsgSUludml0ZVJlcXVlc3RDcmVhdGVPYmplY3QgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSUludml0ZVJlcXVlc3QnO1xuaW1wb3J0IGZha2VyIGZyb20gJ2Zha2VyJztcbmltcG9ydCB7IENvdW50cnkgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0dlb0xvY2F0aW9uJztcbmltcG9ydCBJUGFnaW5nT3B0aW9ucyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSVBhZ2luZ09wdGlvbnMnO1xuXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgnaW52aXRlJylcbmV4cG9ydCBjbGFzcyBJbnZpdGVzU2VydmljZSBleHRlbmRzIERCU2VydmljZTxJbnZpdGU+XG5cdGltcGxlbWVudHMgSUludml0ZVJvdXRlciwgSVNlcnZpY2Uge1xuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHtcblx0XHRuYW1lOiAnaW52aXRlc1NlcnZpY2UnLFxuXHR9KTtcblxuXHRwdWJsaWMgcmVhZG9ubHkgREJPYmplY3Q6IGFueSA9IEludml0ZTtcblxuXHRwcm90ZWN0ZWQgX2ludml0ZWRTdHJlZXRMb2NhdGlvbnM6IE9ic2VydmFibGU8SVN0cmVldExvY2F0aW9uW10+O1xuXG5cdHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEludml0ZVdvcmtpbmdEaXN0YW5jZSA9IDUwMDAwO1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHN1cGVyKCk7XG5cblx0XHR0aGlzLl9pbnZpdGVkU3RyZWV0TG9jYXRpb25zID0gb2YobnVsbCkucGlwZShcblx0XHRcdGNvbmNhdCh0aGlzLmV4aXN0ZW5jZSksXG5cdFx0XHRleGhhdXN0TWFwKCgpID0+IHRoaXMuX2dldEludml0ZWRTdHJlZXRMb2NhdGlvbnMoKSlcblx0XHQpO1xuXHR9XG5cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldChpZDogc3RyaW5nKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmdldChpZCkucGlwZShcblx0XHRcdG1hcChhc3luYyAoaW52aXRlKSA9PiB7XG5cdFx0XHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0XHRcdHJldHVybiBpbnZpdGU7XG5cdFx0XHR9KSxcblx0XHRcdHN3aXRjaE1hcCgoaW52aXRlKSA9PiB7XG5cdFx0XHRcdHJldHVybiBpbnZpdGU7XG5cdFx0XHR9KVxuXHRcdCk7XG5cdH1cblxuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0SW52aXRlZFN0cmVldExvY2F0aW9ucygpIHtcblx0XHRyZXR1cm4gdGhpcy5faW52aXRlZFN0cmVldExvY2F0aW9ucztcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0Y3JlYXRlKGludml0ZTogSUludml0ZUNyZWF0ZU9iamVjdCk6IFByb21pc2U8SW52aXRlPiB7XG5cdFx0aWYgKCFpbnZpdGUuY29kZSkge1xuXHRcdFx0aW52aXRlLmNvZGUgPSBVdGlscy5nZXRSYW5kb21JbnQoMTAwMSwgOTk5OSkgKyAnJztcblx0XHR9XG5cdFx0cmV0dXJuIHN1cGVyLmNyZWF0ZShpbnZpdGUpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRnZXRJbnZpdGVzU2V0dGluZ3MoKTogUHJvbWlzZTx7IGlzRW5hYmxlZDogYm9vbGVhbiB9PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlPHsgaXNFbmFibGVkOiBib29sZWFuIH0+KChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHJlc29sdmUoeyBpc0VuYWJsZWQ6IGVudi5TRVRUSU5HX0lOVklURVNfRU5BQkxFRCB9KTtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgSW52aXRlIGJ5IENvZGVcblx0ICogV2FybmluZzogY2FuIGVtaXQgbnVsbCBvbiBzdGFydCFcblx0ICpcblx0ICogQHBhcmFtIHtJRW50ZXJCeUNvZGV9IGluZm9cblx0ICogQHJldHVybnMgeyhPYnNlcnZhYmxlPEludml0ZSB8IG51bGw+KX1cblx0ICogQG1lbWJlcm9mIEludml0ZXNTZXJ2aWNlXG5cdCAqL1xuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0QnlDb2RlKGluZm86IElFbnRlckJ5Q29kZSk6IE9ic2VydmFibGU8SW52aXRlIHwgbnVsbD4ge1xuXHRcdGNvbnN0IGZpbmRPYmplY3QgPSB7XG5cdFx0XHRjb2RlOiBpbmZvLmludml0ZUNvZGUsXG5cdFx0fTtcblxuXHRcdGlmIChpbmZvLmludml0ZUNvZGUgIT09IGVudi5GQUtFX0lOVklURV9DT0RFLnRvU3RyaW5nKCkpIHtcblx0XHRcdGZpbmRPYmplY3RbJ2dlb0xvY2F0aW9uLmxvYyddID0ge1xuXHRcdFx0XHQkbmVhcjoge1xuXHRcdFx0XHRcdCRnZW9tZXRyeToge1xuXHRcdFx0XHRcdFx0dHlwZTogJ1BvaW50Jyxcblx0XHRcdFx0XHRcdGNvb3JkaW5hdGVzOiBpbmZvLmxvY2F0aW9uLmNvb3JkaW5hdGVzLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0JG1heERpc3RhbmNlOiBJbnZpdGVzU2VydmljZS5JbnZpdGVXb3JraW5nRGlzdGFuY2UsIC8vIDUwS20gZGlzdGFuY2UgZm9yIHRlc3Rpbmcgb25seSFcblx0XHRcdFx0fSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZyb20oXG5cdFx0XHR0aGlzLmZpbmRPbmUoeyAuLi5maW5kT2JqZWN0LCBpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9IH0pXG5cdFx0KS5waXBlKFxuXHRcdFx0Y29uY2F0KFxuXHRcdFx0XHR0aGlzLmV4aXN0ZW5jZS5waXBlKFxuXHRcdFx0XHRcdGZpbHRlcihcblx0XHRcdFx0XHRcdChldmVudCkgPT4gZXZlbnQudHlwZSAhPT0gRXhpc3RlbmNlRXZlbnRUeXBlLlJlbW92ZWRcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdG1hcCgoZXZlbnQpID0+IGV2ZW50LnZhbHVlIGFzIEludml0ZSksXG5cdFx0XHRcdFx0ZmlsdGVyKChpbnZpdGUpID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdFV0aWxzLmdldExvY0Rpc3RhbmNlKFxuXHRcdFx0XHRcdFx0XHRcdGludml0ZS5nZW9Mb2NhdGlvbi5sb2MsXG5cdFx0XHRcdFx0XHRcdFx0aW5mby5sb2NhdGlvblxuXHRcdFx0XHRcdFx0XHQpIDw9IEludml0ZXNTZXJ2aWNlLkludml0ZVdvcmtpbmdEaXN0YW5jZSAmJlxuXHRcdFx0XHRcdFx0XHRpbnZpdGUuY29kZSA9PT0gaW5mby5pbnZpdGVDb2RlXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBJbnZpdGUgYnkgQ3VzdG9tZXIgTG9jYXRpb25cblx0ICpcblx0ICogQHBhcmFtIHtJRW50ZXJCeUxvY2F0aW9ufSBpbmZvXG5cdCAqIEByZXR1cm5zIHsoT2JzZXJ2YWJsZTxJbnZpdGUgfCBudWxsPil9XG5cdCAqIEBtZW1iZXJvZiBJbnZpdGVzU2VydmljZVxuXHQgKi9cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldEJ5TG9jYXRpb24oaW5mbzogSUVudGVyQnlMb2NhdGlvbik6IE9ic2VydmFibGU8SW52aXRlIHwgbnVsbD4ge1xuXHRcdGNvbnN0IGZpbmRPYmplY3QgPSB7XG5cdFx0XHQnZ2VvTG9jYXRpb24uY2l0eSc6IGluZm8uY2l0eSxcblx0XHRcdCdnZW9Mb2NhdGlvbi5zdHJlZXRBZGRyZXNzJzogaW5mby5zdHJlZXRBZGRyZXNzLFxuXHRcdFx0J2dlb0xvY2F0aW9uLmhvdXNlJzogaW5mby5ob3VzZSxcblx0XHRcdCdnZW9Mb2NhdGlvbi5jb3VudHJ5SWQnOiBpbmZvLmNvdW50cnlJZCxcblx0XHRcdGFwYXJ0bWVudDogaW5mby5hcGFydG1lbnQsXG5cdFx0fTtcblxuXHRcdGlmIChpbmZvLnBvc3Rjb2RlICE9IG51bGwpIHtcblx0XHRcdGZpbmRPYmplY3RbJ2dlb0xvY2F0aW9uLnBvc3Rjb2RlJ10gPSBpbmZvLnBvc3Rjb2RlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmcm9tKFxuXHRcdFx0dGhpcy5maW5kT25lKHsgLi4uZmluZE9iamVjdCwgaXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSB9KVxuXHRcdCkucGlwZShcblx0XHRcdGNvbmNhdChcblx0XHRcdFx0dGhpcy5leGlzdGVuY2UucGlwZShcblx0XHRcdFx0XHRmaWx0ZXIoXG5cdFx0XHRcdFx0XHQoZXZlbnQpID0+IGV2ZW50LnR5cGUgIT09IEV4aXN0ZW5jZUV2ZW50VHlwZS5SZW1vdmVkXG5cdFx0XHRcdFx0KSxcblx0XHRcdFx0XHRtYXAoKGV2ZW50KSA9PiBldmVudC52YWx1ZSBhcyBJbnZpdGUpLFxuXHRcdFx0XHRcdGZpbHRlcigoaW52aXRlKSA9PiB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdFx0XHRpbnZpdGUuZ2VvTG9jYXRpb24uY2l0eSA9PT0gaW5mby5jaXR5ICYmXG5cdFx0XHRcdFx0XHRcdGludml0ZS5nZW9Mb2NhdGlvbi5zdHJlZXRBZGRyZXNzID09PVxuXHRcdFx0XHRcdFx0XHRcdGluZm8uc3RyZWV0QWRkcmVzcyAmJlxuXHRcdFx0XHRcdFx0XHRpbnZpdGUuZ2VvTG9jYXRpb24uaG91c2UgPT09IGluZm8uaG91c2UgJiZcblx0XHRcdFx0XHRcdFx0aW52aXRlLmdlb0xvY2F0aW9uLmNvdW50cnlJZCA9PT0gaW5mby5jb3VudHJ5SWQgJiZcblx0XHRcdFx0XHRcdFx0aW52aXRlLmFwYXJ0bWVudCA9PT0gaW5mby5hcGFydG1lbnRcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldEludml0ZXMoXG5cdFx0ZmluZElucHV0OiBhbnksXG5cdFx0cGFnaW5nT3B0aW9uczogSVBhZ2luZ09wdGlvbnNcblx0KTogUHJvbWlzZTxhbnk+IHtcblx0XHRjb25zdCBzb3J0T2JqID0ge307XG5cdFx0aWYgKHBhZ2luZ09wdGlvbnMuc29ydCkge1xuXHRcdFx0c29ydE9ialtwYWdpbmdPcHRpb25zLnNvcnQuZmllbGRdID0gcGFnaW5nT3B0aW9ucy5zb3J0LnNvcnRCeTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5Nb2RlbC5maW5kKHtcblx0XHRcdC4uLmZpbmRJbnB1dCxcblx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0fSlcblx0XHRcdC5zb3J0KHNvcnRPYmopXG5cdFx0XHQuc2tpcChwYWdpbmdPcHRpb25zLnNraXApXG5cdFx0XHQubGltaXQocGFnaW5nT3B0aW9ucy5saW1pdClcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cdH1cblxuXHRhc3luYyB0aHJvd0lmTm90RXhpc3RzKGludml0ZUlkOiBzdHJpbmcpIHtcblx0XHRjb25zdCBpbnZpdGUgPSBhd2FpdCBzdXBlci5nZXQoaW52aXRlSWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cblx0XHRpZiAoIWludml0ZSB8fCBpbnZpdGUuaXNEZWxldGVkKSB7XG5cdFx0XHR0aHJvdyBFcnJvcihgSW52aXRlIHdpdGggaWQgJyR7aW52aXRlSWR9JyBkb2VzIG5vdCBleGlzdHMhYCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdlbmVyYXRlcyBGYWtlIEludml0ZXMsIGNvbm5lY3RlZCB0byBGYWtlIEludml0ZSBSZXF1ZXN0c1xuXHQgKiBUT0RPOiByZW5hbWUsIG1ha2UgYXN5bmMgYW5kIGFkZCAxMDAwIGFzIHBhcmFtZXRlci4gTW92ZSB0byBzZXBhcmF0ZSBGYWtlIERhdGEgc2VydmljZVxuXHQgKlxuXHQgKiBAcGFyYW0ge251bWJlcn0gZGVmYXVsdExuZ1xuXHQgKiBAcGFyYW0ge251bWJlcn0gZGVmYXVsdExhdFxuXHQgKiBAbWVtYmVyb2YgSW52aXRlc1NlcnZpY2Vcblx0ICovXG5cdGdlbmVyYXRlMTAwMEludml0ZXNDb25uZWN0ZWRUb0ludml0ZVJlcXVlc3RzKFxuXHRcdGRlZmF1bHRMbmc6IG51bWJlcixcblx0XHRkZWZhdWx0TGF0OiBudW1iZXJcblx0KToge1xuXHRcdGludml0ZXNSZXF1ZXN0c1RvQ3JlYXRlOiBJSW52aXRlUmVxdWVzdENyZWF0ZU9iamVjdFtdO1xuXHRcdGludml0ZXNUb0NyZWF0ZTogSUludml0ZUNyZWF0ZU9iamVjdFtdO1xuXHR9IHtcblx0XHRjb25zdCBpbnZpdGVzVG9DcmVhdGU6IElJbnZpdGVDcmVhdGVPYmplY3RbXSA9IFtdO1xuXHRcdGNvbnN0IGludml0ZXNSZXF1ZXN0c1RvQ3JlYXRlOiBJSW52aXRlUmVxdWVzdENyZWF0ZU9iamVjdFtdID0gW107XG5cblx0XHRsZXQgaW52aXRlQ291bnQgPSAxO1xuXG5cdFx0d2hpbGUgKGludml0ZUNvdW50IDw9IDEwMDApIHtcblx0XHRcdGNvbnN0IGFwYXJ0bWVudDogc3RyaW5nID0gYCR7aW52aXRlQ291bnR9YDtcblx0XHRcdGNvbnN0IGhvdXNlTnVtYmVyID0gYCR7aW52aXRlQ291bnR9YDtcblx0XHRcdGNvbnN0IGdlb0xvY2F0aW9uOiBJR2VvTG9jYXRpb25DcmVhdGVPYmplY3QgPSB0aGlzLl9nZXRJbnZpdGVHZW9Mb2NhdGlvbkNyZWF0ZU9iaihcblx0XHRcdFx0aG91c2VOdW1iZXIsXG5cdFx0XHRcdGRlZmF1bHRMbmcsXG5cdFx0XHRcdGRlZmF1bHRMYXRcblx0XHRcdCk7XG5cblx0XHRcdGludml0ZXNSZXF1ZXN0c1RvQ3JlYXRlLnB1c2goe1xuXHRcdFx0XHRhcGFydG1lbnQsXG5cdFx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0XHRpc0ludml0ZWQ6IHRydWUsXG5cdFx0XHRcdGludml0ZWREYXRlOiBuZXcgRGF0ZSgpLFxuXHRcdFx0fSk7XG5cblx0XHRcdGludml0ZXNUb0NyZWF0ZS5wdXNoKHtcblx0XHRcdFx0Y29kZTogYCR7OTk5ICsgaW52aXRlQ291bnR9YCxcblx0XHRcdFx0YXBhcnRtZW50LFxuXHRcdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdH0pO1xuXG5cdFx0XHRpbnZpdGVDb3VudCArPSAxO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRpbnZpdGVzUmVxdWVzdHNUb0NyZWF0ZSxcblx0XHRcdGludml0ZXNUb0NyZWF0ZSxcblx0XHR9O1xuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0SW52aXRlR2VvTG9jYXRpb25DcmVhdGVPYmooXG5cdFx0aG91c2VOdW1iZXI6IHN0cmluZyxcblx0XHRkZWZhdWx0TG5nOiBudW1iZXIsXG5cdFx0ZGVmYXVsdExhdDogbnVtYmVyXG5cdCk6IElHZW9Mb2NhdGlvbkNyZWF0ZU9iamVjdCB7XG5cdFx0Ly8gVE9ETzogbWFrZSBUU2xpbnQgaGFwcHlcblx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tb2JqZWN0LWxpdGVyYWwtdHlwZS1hc3NlcnRpb25cblx0XHRyZXR1cm4ge1xuXHRcdFx0Y291bnRyeUlkOiBmYWtlci5yYW5kb20ubnVtYmVyKENvdW50cnkuWlcpIGFzIENvdW50cnksXG5cdFx0XHRjaXR5OiBmYWtlci5hZGRyZXNzLmNpdHkoKSxcblx0XHRcdGhvdXNlOiBob3VzZU51bWJlcixcblx0XHRcdGxvYzoge1xuXHRcdFx0XHR0eXBlOiAnUG9pbnQnLFxuXHRcdFx0XHRjb29yZGluYXRlczogW2RlZmF1bHRMbmcsIGRlZmF1bHRMYXRdLFxuXHRcdFx0fSxcblx0XHRcdHN0cmVldEFkZHJlc3M6IGZha2VyLmFkZHJlc3Muc3RyZWV0QWRkcmVzcygpLFxuXHRcdH0gYXMgSUdlb0xvY2F0aW9uQ3JlYXRlT2JqZWN0O1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBfZ2V0SW52aXRlZFN0cmVldExvY2F0aW9ucygpOiBQcm9taXNlPElTdHJlZXRMb2NhdGlvbltdPiB7XG5cdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMuTW9kZWwuYWdncmVnYXRlKClcblx0XHRcdC5ncm91cCh7XG5cdFx0XHRcdF9pZDoge1xuXHRcdFx0XHRcdHN0cmVldEFkZHJlc3M6ICckZ2VvTG9jYXRpb24uc3RyZWV0QWRkcmVzcycsXG5cdFx0XHRcdFx0Y2l0eTogJyRnZW9Mb2NhdGlvbi5jaXR5Jyxcblx0XHRcdFx0XHRjb3VudHJ5OiAnJGdlb0xvY2F0aW9uLmNvdW50cnlJZCcsXG5cdFx0XHRcdH0sXG5cdFx0XHR9KVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdHJldHVybiBfLm1hcChyZXN1bHRzLCAocmVzdWx0OiB7IF9pZDogSVN0cmVldExvY2F0aW9uIH0pID0+IHJlc3VsdC5faWQpO1xuXHR9XG59XG4iLCJleHBvcnQgKiBmcm9tICcuL0ludml0ZXNTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vSW52aXRlc1JlcXVlc3RzU2VydmljZSc7XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgQmx1ZWJpcmQgZnJvbSAnYmx1ZWJpcmQnO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlLCBMYXp5U2VydmljZUlkZW50aWZlciB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi8uLi9lbnYnO1xuaW1wb3J0IHsgV2FyZWhvdXNlc1NlcnZpY2UsIFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UgfSBmcm9tICcuLi93YXJlaG91c2VzJztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgT3JkZXJDYXJyaWVyU3RhdHVzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW51bXMvT3JkZXJDYXJyaWVyU3RhdHVzJztcbmltcG9ydCBPcmRlcldhcmVob3VzZVN0YXR1cyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudW1zL09yZGVyV2FyZWhvdXNlU3RhdHVzJztcbmltcG9ydCB7IFVzZXJzU2VydmljZSB9IGZyb20gJy4uL3VzZXJzJztcbmltcG9ydCBPcmRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL09yZGVyJztcbmltcG9ydCB7IERCU2VydmljZSB9IGZyb20gJ0BweXJvL2RiLXNlcnZlcic7XG5pbXBvcnQge1xuXHRkZWZhdWx0IGFzIElPcmRlcixcblx0SU9yZGVyQ3JlYXRlT2JqZWN0LFxufSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSU9yZGVyJztcbmltcG9ydCBDYXJyaWVyc1NlcnZpY2UgZnJvbSAnLi4vY2FycmllcnMvQ2FycmllcnNTZXJ2aWNlJztcbmltcG9ydCBJT3JkZXJSb3V0ZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lPcmRlclJvdXRlcic7XG5pbXBvcnQgeyBhc3luY0xpc3RlbmVyLCBvYnNlcnZhYmxlTGlzdGVuZXIsIHJvdXRlck5hbWUgfSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnLi4vSVNlcnZpY2UnO1xuaW1wb3J0IHsgZXhoYXVzdE1hcCwgZmlyc3QsIHN3aXRjaE1hcCwgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgdjEgYXMgdXVpZCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IE9yZGVyUHJvZHVjdCBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL09yZGVyUHJvZHVjdCc7XG5pbXBvcnQgeyBJT3JkZXJQcm9kdWN0Q3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lPcmRlclByb2R1Y3QnO1xuaW1wb3J0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmltcG9ydCBQcm9kdWN0IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvUHJvZHVjdCc7XG5pbXBvcnQgV2FyZWhvdXNlLCB7XG5cdFdpdGhGdWxsUHJvZHVjdHMsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvV2FyZWhvdXNlJztcbmltcG9ydCBPcmRlclN0YXR1cyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudW1zL09yZGVyU3RhdHVzJztcbmltcG9ydCBVc2VyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvVXNlcic7XG5pbXBvcnQgeyBQcm9kdWN0c1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9wcm9kdWN0cyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgU3RyaXBlID0gcmVxdWlyZSgnc3RyaXBlJyk7XG5cbkBpbmplY3RhYmxlKClcbkByb3V0ZXJOYW1lKCdvcmRlcicpXG5leHBvcnQgY2xhc3MgT3JkZXJzU2VydmljZSBleHRlbmRzIERCU2VydmljZTxPcmRlcj5cblx0aW1wbGVtZW50cyBJT3JkZXJSb3V0ZXIsIElTZXJ2aWNlIHtcblx0cHVibGljIHJlYWRvbmx5IERCT2JqZWN0OiBhbnkgPSBPcmRlcjtcblxuXHQvLyBUT0RPOiB0aGlzIGFuZCBvdGhlciBTdHJpcGUgcmVsYXRlZCB0aGluZ3Mgc2hvdWxkIGJlIGluc2lkZSBzZXBhcmF0ZSBQYXltZW50cyBTZXJ2aWNlXG5cdHByaXZhdGUgc3RyaXBlOiBTdHJpcGUgPSBuZXcgU3RyaXBlKGVudi5TVFJJUEVfU0VDUkVUX0tFWSk7XG5cblx0cHJvdGVjdGVkIHJlYWRvbmx5IGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7XG5cdFx0bmFtZTogJ29yZGVyc1NlcnZpY2UnLFxuXHR9KTtcblxuXHRzdGF0aWMgcmVhZG9ubHkgRmluZE9iamVjdHMgPSB7XG5cdFx0aXNDb21wbGV0ZWQ6IHtcblx0XHRcdCRvcjogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0aXNQYWlkOiB0cnVlLFxuXHRcdFx0XHRcdGNhcnJpZXJTdGF0dXM6IE9yZGVyQ2FycmllclN0YXR1cy5EZWxpdmVyeUNvbXBsZXRlZCxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGlzQ2FuY2VsbGVkOiB0cnVlLFxuXHRcdFx0XHR9LFxuXHRcdFx0XSxcblx0XHR9LFxuXHRcdGlzTm90Q29tcGxldGVkOiB7XG5cdFx0XHQkYW5kOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRpc1BhaWQ6IGZhbHNlLFxuXHRcdFx0XHRcdGNhcnJpZXJTdGF0dXM6IHtcblx0XHRcdFx0XHRcdCRuZTogT3JkZXJDYXJyaWVyU3RhdHVzLkRlbGl2ZXJ5Q29tcGxldGVkLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRpc0NhbmNlbGxlZDogZmFsc2UsXG5cdFx0XHRcdH0sXG5cdFx0XHRdLFxuXHRcdH0sXG5cdH07XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gV2FyZWhvdXNlc1NlcnZpY2UpKVxuXHRcdHByb3RlY3RlZCB3YXJlaG91c2VzU2VydmljZTogV2FyZWhvdXNlc1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gVXNlcnNTZXJ2aWNlKSlcblx0XHRwcm90ZWN0ZWQgdXNlcnNTZXJ2aWNlOiBVc2Vyc1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gQ2FycmllcnNTZXJ2aWNlKSlcblx0XHRwcm90ZWN0ZWQgY2FycmllcnNTZXJ2aWNlOiBDYXJyaWVyc1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZSkpXG5cdFx0cHJvdGVjdGVkIHdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2U6IFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gV2FyZWhvdXNlc1NlcnZpY2UpKVxuXHRcdHByb3RlY3RlZCBfc3RvcmVzU2VydmljZTogV2FyZWhvdXNlc1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gUHJvZHVjdHNTZXJ2aWNlKSlcblx0XHRwcm90ZWN0ZWQgX3Byb2R1Y3RzU2VydmljZTogUHJvZHVjdHNTZXJ2aWNlXG5cdCkge1xuXHRcdHN1cGVyKCk7XG5cdH1cblxuXHRhc3luYyBnZW5lcmF0ZU9yZGVyc1BlckVhY2hDdXN0b21lcihjdXN0b21lcnM6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3Qgc3RvcmVzID0gYXdhaXQgdGhpcy5fc3RvcmVzU2VydmljZS5maW5kQWxsKHtcblx0XHRcdF9pZDogMSxcblx0XHRcdHByb2R1Y3RzOiAxLFxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgcHJvZHVjdHMgPSBhd2FpdCB0aGlzLl9wcm9kdWN0c1NlcnZpY2UuZmluZEFsbCgpO1xuXG5cdFx0Y29uc3Qgb3JkZXJzOiBJT3JkZXJDcmVhdGVPYmplY3RbXSA9IFtdO1xuXG5cdFx0Y3VzdG9tZXJzLmZvckVhY2goKGN1c3RvbWVyLCBpbmRleCkgPT4ge1xuXHRcdFx0Y29uc3Qgc3RvcmVJZCA9IHN0b3Jlc1tpbmRleCAlIHN0b3Jlcy5sZW5ndGhdLl9pZDtcblx0XHRcdGNvbnN0IHByb2R1Y3QxUHJpY2UgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA5OSk7XG5cdFx0XHRjb25zdCBwcm9kdWN0MlByaWNlID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogOTkpO1xuXG5cdFx0XHRvcmRlcnMucHVzaCh7XG5cdFx0XHRcdHByb2R1Y3RzOiBbXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Y291bnQ6IDIsXG5cdFx0XHRcdFx0XHRpc01hbnVmYWN0dXJpbmc6IHRydWUsXG5cdFx0XHRcdFx0XHRpc0NhcnJpZXJSZXF1aXJlZDogdHJ1ZSxcblx0XHRcdFx0XHRcdGlzRGVsaXZlcnlSZXF1aXJlZDogdHJ1ZSxcblx0XHRcdFx0XHRcdHByaWNlOiBwcm9kdWN0MVByaWNlLFxuXHRcdFx0XHRcdFx0aW5pdGlhbFByaWNlOiBwcm9kdWN0MVByaWNlLFxuXHRcdFx0XHRcdFx0cHJvZHVjdDogcHJvZHVjdHNbaW5kZXggJSBwcm9kdWN0cy5sZW5ndGhdLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Y291bnQ6IDIsXG5cdFx0XHRcdFx0XHRpc01hbnVmYWN0dXJpbmc6IHRydWUsXG5cdFx0XHRcdFx0XHRpc0NhcnJpZXJSZXF1aXJlZDogdHJ1ZSxcblx0XHRcdFx0XHRcdGlzRGVsaXZlcnlSZXF1aXJlZDogdHJ1ZSxcblx0XHRcdFx0XHRcdHByaWNlOiBwcm9kdWN0MlByaWNlLFxuXHRcdFx0XHRcdFx0aW5pdGlhbFByaWNlOiBwcm9kdWN0MlByaWNlLFxuXHRcdFx0XHRcdFx0cHJvZHVjdDogcHJvZHVjdHNbKGluZGV4ICsgMSkgJSBwcm9kdWN0cy5sZW5ndGhdLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdF0sXG5cdFx0XHRcdHVzZXI6IGN1c3RvbWVyLFxuXHRcdFx0XHR3YXJlaG91c2U6IHN0b3JlSWQsXG5cdFx0XHRcdG9yZGVyTnVtYmVyOiBpbmRleCxcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0YXdhaXQgdGhpcy5Nb2RlbC5pbnNlcnRNYW55KG9yZGVycyk7XG5cdH1cblxuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KFxuXHRcdGlkOiBPcmRlclsnaWQnXSxcblx0XHRvcHRpb25zOiB7IHBvcHVsYXRlV2FyZWhvdXNlPzogYm9vbGVhbjsgcG9wdWxhdGVDYXJyaWVyPzogYm9vbGVhbiB9ID0ge31cblx0KTogT2JzZXJ2YWJsZTxPcmRlcj4ge1xuXHRcdGlmIChvcHRpb25zLnBvcHVsYXRlQ2FycmllciB8fCBvcHRpb25zLnBvcHVsYXRlV2FyZWhvdXNlKSB7XG5cdFx0XHRyZXR1cm4gc3VwZXIuZ2V0KGlkKS5waXBlKFxuXHRcdFx0XHRtYXAoYXN5bmMgKG9yZGVyKSA9PiB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5fdGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0XHRcdFx0cmV0dXJuIG9yZGVyO1xuXHRcdFx0XHR9KSxcblx0XHRcdFx0c3dpdGNoTWFwKChvcmRlcikgPT4gb3JkZXIpLFxuXHRcdFx0XHRleGhhdXN0TWFwKCgpID0+IHRoaXMuX2dldChpZCwgb3B0aW9ucykpXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gc3VwZXIuZ2V0KGlkKS5waXBlKFxuXHRcdFx0XHRtYXAoYXN5bmMgKG9yZGVyKSA9PiB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5fdGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0XHRcdFx0cmV0dXJuIG9yZGVyO1xuXHRcdFx0XHR9KSxcblx0XHRcdFx0c3dpdGNoTWFwKChvcmRlcikgPT4gb3JkZXIpXG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgdXBkYXRlQ2FycmllclN0YXR1cyhcblx0XHRvcmRlcklkOiBPcmRlclsnaWQnXSxcblx0XHRzdGF0dXM6IE9yZGVyQ2FycmllclN0YXR1c1xuXHQpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0Ly8gVE9ETzogY2hlY2sgaGVyZSB0aGF0IG5vdCBmcm9tIGFueSBzdGF0dXMgaXQgaXMgcG9zc2libGUgdG8gbW92ZSB0byBhbnkgb3RoZXIuXG5cdFx0Ly8gTWVhbiBpZiBvcmRlciBpcyBzdGF0dXMgMywgaXQncyBub3Qgc2ltcGx5IHBvc3NpYmxlIHRvIHVwZGF0ZSBpdCB0byBzdGF0dXMgMi5cblx0XHRhd2FpdCB0aGlzLl90aHJvd0lmTm90RXhpc3RzKG9yZGVySWQpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHVwZGF0ZU9iajogYW55ID0geyBjYXJyaWVyU3RhdHVzOiBzdGF0dXMgfTtcblxuXHRcdFx0aWYgKHN0YXR1cyA9PT0gT3JkZXJDYXJyaWVyU3RhdHVzLkRlbGl2ZXJ5Q29tcGxldGVkKSB7XG5cdFx0XHRcdHVwZGF0ZU9iai5pc1BhaWQgPSB0cnVlO1xuXHRcdFx0XHR1cGRhdGVPYmouZGVsaXZlcnlUaW1lID0gRGF0ZS5ub3coKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFxuXHRcdFx0XHRzdGF0dXMgPT09IE9yZGVyQ2FycmllclN0YXR1cy5DYXJyaWVyU3RhcnREZWxpdmVyeSB8fFxuXHRcdFx0XHRzdGF0dXMgPT09IE9yZGVyQ2FycmllclN0YXR1cy5DYXJyaWVyUGlja2VkVXBPcmRlclxuXHRcdFx0KSB7XG5cdFx0XHRcdHVwZGF0ZU9iai5zdGFydERlbGl2ZXJ5VGltZSA9IERhdGUubm93KCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGZpbmlzaGVkUHJvY2Vzc2luZ1N0YXR1c2VzID0gW1xuXHRcdFx0XHRPcmRlckNhcnJpZXJTdGF0dXMuQ2xpZW50UmVmdXNlVGFraW5nT3JkZXIsXG5cdFx0XHRcdE9yZGVyQ2FycmllclN0YXR1cy5EZWxpdmVyeUNvbXBsZXRlZCxcblx0XHRcdFx0T3JkZXJDYXJyaWVyU3RhdHVzLklzc3Vlc0R1cmluZ0RlbGl2ZXJ5LFxuXHRcdFx0XTtcblx0XHRcdGlmIChmaW5pc2hlZFByb2Nlc3NpbmdTdGF0dXNlcy5pbmNsdWRlcyhzdGF0dXMpKSB7XG5cdFx0XHRcdHVwZGF0ZU9iai5maW5pc2hlZFByb2Nlc3NpbmdUaW1lID0gRGF0ZS5ub3coKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qgb3JkZXIgPSBhd2FpdCB0aGlzLnVwZGF0ZShvcmRlcklkLCB1cGRhdGVPYmopO1xuXG5cdFx0XHRpZiAob3JkZXIuY2FycmllcklkICE9IG51bGwpIHtcblx0XHRcdFx0aWYgKHN0YXR1cyA9PT0gT3JkZXJDYXJyaWVyU3RhdHVzLkRlbGl2ZXJ5Q29tcGxldGVkKSB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5jYXJyaWVyc1NlcnZpY2UuaW5jcmVhc2VOdW1iZXJPZkRlbGl2ZXJpZXMoXG5cdFx0XHRcdFx0XHRvcmRlci5jYXJyaWVySWQsXG5cdFx0XHRcdFx0XHQxXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBvcmRlcjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcIkNhbid0IHVwZGF0ZUNhcnJpZXJTdGF0dXMob3JkZXJJZCwgc3RhdHVzKSAtIE9yZGVyIGhhcyBubyBjYXJyaWVyIVwiXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR0aGlzLmxvZy5lcnJvcihlcnIpO1xuXHRcdFx0dGhyb3cgZXJyO1xuXHRcdH1cblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgdXBkYXRlV2FyZWhvdXNlU3RhdHVzKFxuXHRcdG9yZGVySWQ6IE9yZGVyWydpZCddLFxuXHRcdHN0YXR1czogT3JkZXJXYXJlaG91c2VTdGF0dXNcblx0KTogUHJvbWlzZTxPcmRlcj4ge1xuXHRcdGF3YWl0IHRoaXMuX3Rocm93SWZOb3RFeGlzdHMob3JkZXJJZCk7XG5cdFx0Y29uc3QgdXBkYXRlT2JqOiBhbnkgPSB7IHdhcmVob3VzZVN0YXR1czogc3RhdHVzIH07XG5cdFx0Y29uc3QgZmluaXNoZWRQcm9jZXNzaW5nU3RhdHVzZXMgPSBbXG5cdFx0XHRPcmRlcldhcmVob3VzZVN0YXR1cy5QYWNrYWdpbmdGYWlsZWQsXG5cdFx0XHRPcmRlcldhcmVob3VzZVN0YXR1cy5BbGxvY2F0aW9uRmFpbGVkLFxuXHRcdF07XG5cdFx0aWYgKGZpbmlzaGVkUHJvY2Vzc2luZ1N0YXR1c2VzLmluY2x1ZGVzKHN0YXR1cykpIHtcblx0XHRcdHVwZGF0ZU9iai5maW5pc2hlZFByb2Nlc3NpbmdUaW1lID0gRGF0ZS5ub3coKTtcblx0XHR9XG5cdFx0aWYgKHN0YXR1cyA9PT0gT3JkZXJXYXJlaG91c2VTdGF0dXMuR2l2ZW5Ub0N1c3RvbWVyKSB7XG5cdFx0XHR1cGRhdGVPYmouaXNQYWlkID0gdHJ1ZTtcblx0XHRcdHVwZGF0ZU9iai5maW5pc2hlZFByb2Nlc3NpbmdUaW1lID0gRGF0ZS5ub3coKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMudXBkYXRlKG9yZGVySWQsIHVwZGF0ZU9iaik7XG5cdH1cblxuXHQvKipcblx0ICogUGF5IHdpdGggU3RyaXBlIGZvciBnaXZlbiBvcmRlciB3aXRoIGdpdmVuIENDXG5cdCAqIFRPRE86IG1vdmUgdG8gc2VwYXJhdGUgUGF5bWVudHMgU2VydmljZVxuXHQgKlxuXHQgKiBAcGFyYW0ge09yZGVyWydpZCddfSBvcmRlcklkXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjYXJkSWQgQ0MgSWQgd2hpY2ggd2lsbCBiZSB1c2VkIHRvIHBheVxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxPcmRlcj59XG5cdCAqIEBtZW1iZXJvZiBPcmRlcnNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHBheVdpdGhTdHJpcGUob3JkZXJJZDogT3JkZXJbJ2lkJ10sIGNhcmRJZDogc3RyaW5nKTogUHJvbWlzZTxPcmRlcj4ge1xuXHRcdGF3YWl0IHRoaXMuX3Rocm93SWZOb3RFeGlzdHMob3JkZXJJZCk7XG5cblx0XHRjb25zdCBjYWxsSWQgPSB1dWlkKCk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0eyBjYWxsSWQsIG9yZGVySWQsIGNhcmRJZCB9LFxuXHRcdFx0Jy5wYXlXaXRoU3RyaXBlKG9yZGVySWQsIGNhcmRJZCkgY2FsbGVkJ1xuXHRcdCk7XG5cblx0XHRsZXQgb3JkZXI6IE9yZGVyO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IF9vcmRlciA9IGF3YWl0IHRoaXMuZ2V0KG9yZGVySWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cblx0XHRcdGlmIChfb3JkZXIgIT0gbnVsbCkge1xuXHRcdFx0XHRvcmRlciA9IF9vcmRlcjtcblxuXHRcdFx0XHRjb25zdCB1c2VyID0gYXdhaXQgdGhpcy51c2Vyc1NlcnZpY2Vcblx0XHRcdFx0XHQuZ2V0KG9yZGVyLnVzZXIuaWQpXG5cdFx0XHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdFx0XHQudG9Qcm9taXNlKCk7XG5cblx0XHRcdFx0aWYgKHVzZXIgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGNvbnN0IGNoYXJnZTogU3RyaXBlLmNoYXJnZXMuSUNoYXJnZSA9IGF3YWl0IHRoaXMuc3RyaXBlLmNoYXJnZXMuY3JlYXRlKFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRhbW91bnQ6IG9yZGVyLnRvdGFsUHJpY2UgKiAxMDAsIC8vIGFtb3VudCBpbiBjZW50cywgYWdhaW5cblx0XHRcdFx0XHRcdFx0Y3VzdG9tZXI6IHVzZXIuc3RyaXBlQ3VzdG9tZXJJZCxcblx0XHRcdFx0XHRcdFx0c291cmNlOiBjYXJkSWQsXG5cdFx0XHRcdFx0XHRcdGN1cnJlbmN5OiAnaWxzJyxcblx0XHRcdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdPcmRlciBpZDogJyArIG9yZGVySWQsXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhOiB7XG5cdFx0XHRcdFx0XHRcdFx0b3JkZXJJZCxcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0b3JkZXIgPSBhd2FpdCB0aGlzLnVwZGF0ZShvcmRlcklkLCB7XG5cdFx0XHRcdFx0XHRzdHJpcGVDaGFyZ2VJZDogY2hhcmdlLmlkLFxuXHRcdFx0XHRcdFx0aXNQYWlkOiB0cnVlLFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignVXNlciBzcGVjaWZpZWQgaW4gb3JkZXIgaXMgbm90IGZvdW5kIScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjb3VsZG4ndCBmaW5kIG9yZGVyIHdpdGggc3VjaCBpZFwiKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHRoaXMubG9nLmVycm9yKFxuXHRcdFx0XHR7IGNhbGxJZCwgb3JkZXJJZCwgY2FyZElkLCBlcnIgfSxcblx0XHRcdFx0Jy5wYXlXaXRoU3RyaXBlKG9yZGVySWQsIGNhcmRJZCkgdGhyb3duIGVycm9yISdcblx0XHRcdCk7XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fVxuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHsgY2FsbElkLCBvcmRlcklkLCBjYXJkSWQsIG9yZGVyIH0sXG5cdFx0XHQnLnBheVdpdGhTdHJpcGUob3JkZXJJZCwgY2FyZElkKSBhY2NlcHRlZCBwYXltZW50J1xuXHRcdCk7XG5cblx0XHRyZXR1cm4gb3JkZXI7XG5cdH1cblxuXHQvKipcblx0ICogUmVmdW5kIG1vbmV5IGZvciBjYW5jZWxsZWQgb3JkZXIgdmlhIFN0cmlwZVxuXHQgKiBUT0RPOiBtb3ZlIHRvIFBheW1lbnRzIFNlcnZpY2Vcblx0ICpcblx0ICogQHBhcmFtIHtPcmRlclsnaWQnXX0gb3JkZXJJZFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxPcmRlcj59XG5cdCAqIEBtZW1iZXJvZiBPcmRlcnNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHJlZnVuZFdpdGhTdHJpcGUob3JkZXJJZDogT3JkZXJbJ2lkJ10pOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0YXdhaXQgdGhpcy5fdGhyb3dJZk5vdEV4aXN0cyhvcmRlcklkKTtcblxuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblxuXHRcdHRoaXMubG9nLmluZm8oeyBjYWxsSWQsIG9yZGVySWQgfSwgJy5yZWZ1bmRXaXRoU3RyaXBlKG9yZGVySWQpIGNhbGxlZCcpO1xuXG5cdFx0bGV0IHJlZnVuZDogU3RyaXBlLnJlZnVuZHMuSVJlZnVuZDtcblx0XHRsZXQgb3JkZXI6IE9yZGVyIHwgbnVsbDtcblxuXHRcdHRyeSB7XG5cdFx0XHRvcmRlciA9IGF3YWl0IHRoaXMuZ2V0KG9yZGVySWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cblx0XHRcdGlmIChvcmRlciAhPSBudWxsKSB7XG5cdFx0XHRcdGlmIChvcmRlci5zdHJpcGVDaGFyZ2VJZCAhPSBudWxsKSB7XG5cdFx0XHRcdFx0cmVmdW5kID0gYXdhaXQgdGhpcy5zdHJpcGUucmVmdW5kcy5jcmVhdGUoe1xuXHRcdFx0XHRcdFx0Y2hhcmdlOiBvcmRlci5zdHJpcGVDaGFyZ2VJZCxcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRcdFx0XHR7IGNhbGxJZCwgb3JkZXJJZCwgcmVmdW5kIH0sXG5cdFx0XHRcdFx0XHQnLnJlZnVuZFdpdGhTdHJpcGUob3JkZXJJZCkgbWFkZSByZWZ1bmQnXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXR1cm4gb3JkZXI7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0YFRoZXJlIGlzIG5vIG9yZGVyIHdpdGggc3RyaXBlQ2hhcmdlSWQgZmllbGQgYW5kIGlkIG9mICR7b3JkZXJJZH0gdG8gcmVmdW5kV2l0aFN0cmlwZSBvbiFgXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGBUaGVyZSBpcyBubyBvcmRlciB3aXRoIGlkIG9mICR7b3JkZXJJZH0gdG8gcmVmdW5kV2l0aFN0cmlwZSBvbiFgXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR0aGlzLmxvZy5lcnJvcihcblx0XHRcdFx0eyBjYWxsSWQsIG9yZGVySWQsIGVyciB9LFxuXHRcdFx0XHQnLnJlZnVuZFdpdGhTdHJpcGUob3JkZXJJZCkgdGhyb3duIGVycm9yISdcblx0XHRcdCk7XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fVxuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBjb25maXJtKG9yZGVySWQ6IE9yZGVyWydpZCddKTogUHJvbWlzZTxPcmRlcj4ge1xuXHRcdGF3YWl0IHRoaXMuX3Rocm93SWZOb3RFeGlzdHMob3JkZXJJZCk7XG5cblx0XHRyZXR1cm4gdGhpcy51cGRhdGUob3JkZXJJZCwge1xuXHRcdFx0aXNDb25maXJtZWQ6IHRydWUsXG5cdFx0XHR3YXJlaG91c2VTdGF0dXM6IE9yZGVyV2FyZWhvdXNlU3RhdHVzLlJlYWR5Rm9yUHJvY2Vzc2luZyxcblx0XHR9KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgYWRkUHJvZHVjdHMoXG5cdFx0b3JkZXJJZDogT3JkZXJbJ2lkJ10sXG5cdFx0cHJvZHVjdHMsXG5cdFx0d2FyZWhvdXNlSWQ6IFdhcmVob3VzZVsnaWQnXVxuXHQpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0YXdhaXQgdGhpcy5fdGhyb3dJZk5vdEV4aXN0cyhvcmRlcklkKTtcblxuXHRcdGNvbnN0IG9yZGVyID0gYXdhaXQgdGhpcy5fZ2V0KG9yZGVySWQpO1xuXHRcdGNvbnN0IG9sZFByb2R1Y3RzSWRzID0gb3JkZXIucHJvZHVjdHMubWFwKFxuXHRcdFx0KHA6IE9yZGVyUHJvZHVjdCkgPT4gcC5wcm9kdWN0LmlkXG5cdFx0KTtcblx0XHRjb25zdCBuZXdQcm9kdWN0c0lkcyA9IHByb2R1Y3RzLm1hcCgocCkgPT4gcC5wcm9kdWN0SWQpO1xuXG5cdFx0Zm9yIChjb25zdCBwcm9kdWN0IG9mIG9yZGVyLnByb2R1Y3RzKSB7XG5cdFx0XHRpZiAobmV3UHJvZHVjdHNJZHMuaW5jbHVkZXMocHJvZHVjdC5wcm9kdWN0LmlkKSkge1xuXHRcdFx0XHRjb25zdCBuZXdQcm9kdWN0ID0gcHJvZHVjdHMuZmluZChcblx0XHRcdFx0XHQocDogeyBwcm9kdWN0SWQ6IHN0cmluZyB9KSA9PlxuXHRcdFx0XHRcdFx0cC5wcm9kdWN0SWQgPT09IHByb2R1Y3QucHJvZHVjdC5pZFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmIChuZXdQcm9kdWN0KSB7XG5cdFx0XHRcdFx0cHJvZHVjdC5jb3VudCArPSBuZXdQcm9kdWN0LmNvdW50O1xuXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy53YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLmRlY3JlYXNlQ291bnQoXG5cdFx0XHRcdFx0XHR3YXJlaG91c2VJZCxcblx0XHRcdFx0XHRcdG5ld1Byb2R1Y3QucHJvZHVjdElkLCAvLyB3aGF0IHByb2R1Y3QgYXZhaWxhYmlsaXR5IHNob3VsZCBiZSBkZWNyZWFzZWRcblx0XHRcdFx0XHRcdG5ld1Byb2R1Y3QuY291bnQgLy8gaG93IG1hbnkgdG8gcmVtb3ZlXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZS5pbmNyZWFzZVNvbGRDb3VudChcblx0XHRcdFx0XHRcdHdhcmVob3VzZUlkLFxuXHRcdFx0XHRcdFx0bmV3UHJvZHVjdC5wcm9kdWN0SWQsXG5cdFx0XHRcdFx0XHRuZXdQcm9kdWN0LmNvdW50XG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHByb2R1Y3RzID0gcHJvZHVjdHMuZmlsdGVyKFxuXHRcdFx0KHA6IHsgW3g6IHN0cmluZ106IHN0cmluZyB9KSA9PlxuXHRcdFx0XHQhb2xkUHJvZHVjdHNJZHMuaW5jbHVkZXMocFsncHJvZHVjdElkJ10pXG5cdFx0KTtcblxuXHRcdGNvbnN0IHdhcmVob3VzZSA9IChhd2FpdCB0aGlzLndhcmVob3VzZXNTZXJ2aWNlXG5cdFx0XHQuZ2V0KHdhcmVob3VzZUlkLCB0cnVlKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKSkgYXMgV2l0aEZ1bGxQcm9kdWN0cztcblxuXHRcdGNvbnN0IHdhcmVob3VzZVByb2R1Y3RzID0gXy5rZXlCeSh3YXJlaG91c2UucHJvZHVjdHMsICdwcm9kdWN0SWQnKTtcblxuXHRcdGNvbnN0IG5ld09yZGVyUHJvZHVjdHMgPSBhd2FpdCBfLm1hcChcblx0XHRcdHByb2R1Y3RzLFxuXHRcdFx0KGFyZ3MpOiBJT3JkZXJQcm9kdWN0Q3JlYXRlT2JqZWN0ID0+IHtcblx0XHRcdFx0Y29uc3Qgd1Byb2R1Y3QgPSB3YXJlaG91c2VQcm9kdWN0c1thcmdzLnByb2R1Y3RJZF07XG5cblx0XHRcdFx0aWYgKCF3UHJvZHVjdCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGBXYXJlaG91c2VPcmRlcnNTZXJ2aWNlIGdvdCBjYWxsIHRvIGNyZWF0ZSh1c2VySWQsIG9yZGVyUHJvZHVjdHMpIC0gQnV0IHRoZXJlIGlzIG5vIHByb2R1Y3Qgd2l0aCB0aGUgaWQgJHthcmdzLnByb2R1Y3RJZH0hYFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGNvdW50OiBhcmdzLmNvdW50LFxuXHRcdFx0XHRcdHByaWNlOiB3UHJvZHVjdC5wcmljZSxcblx0XHRcdFx0XHRpbml0aWFsUHJpY2U6IHdQcm9kdWN0LmluaXRpYWxQcmljZSxcblx0XHRcdFx0XHRkZWxpdmVyeVRpbWVNaW46IHdQcm9kdWN0LmRlbGl2ZXJ5VGltZU1pbixcblx0XHRcdFx0XHRkZWxpdmVyeVRpbWVNYXg6IHdQcm9kdWN0LmRlbGl2ZXJ5VGltZU1heCxcblx0XHRcdFx0XHRwcm9kdWN0OiB3UHJvZHVjdC5wcm9kdWN0IGFzIFByb2R1Y3QsXG5cblx0XHRcdFx0XHRpc01hbnVmYWN0dXJpbmc6IHdQcm9kdWN0LmlzTWFudWZhY3R1cmluZyxcblx0XHRcdFx0XHRpc0NhcnJpZXJSZXF1aXJlZDogd1Byb2R1Y3QuaXNDYXJyaWVyUmVxdWlyZWQsXG5cdFx0XHRcdFx0aXNEZWxpdmVyeVJlcXVpcmVkOiB3UHJvZHVjdC5pc0RlbGl2ZXJ5UmVxdWlyZWQsXG5cdFx0XHRcdFx0aXNUYWtlYXdheTogd1Byb2R1Y3QuaXNUYWtlYXdheSxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0Zm9yIChjb25zdCBwcm9kdWN0IG9mIHByb2R1Y3RzKSB7XG5cdFx0XHRhd2FpdCB0aGlzLndhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UuZGVjcmVhc2VDb3VudChcblx0XHRcdFx0d2FyZWhvdXNlSWQsXG5cdFx0XHRcdHByb2R1Y3QucHJvZHVjdElkLFxuXHRcdFx0XHRwcm9kdWN0LmNvdW50XG5cdFx0XHQpO1xuXG5cdFx0XHRhd2FpdCB0aGlzLndhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UuaW5jcmVhc2VTb2xkQ291bnQoXG5cdFx0XHRcdHdhcmVob3VzZUlkLFxuXHRcdFx0XHRwcm9kdWN0LnByb2R1Y3RJZCxcblx0XHRcdFx0cHJvZHVjdC5jb3VudFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy51cGRhdGUob3JkZXJJZCwge1xuXHRcdFx0cHJvZHVjdHM6IFsuLi5vcmRlci5wcm9kdWN0cywgLi4ubmV3T3JkZXJQcm9kdWN0c10sXG5cdFx0fSk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGRlY3JlYXNlT3JkZXJQcm9kdWN0cyhcblx0XHRvcmRlcklkOiBPcmRlclsnaWQnXSxcblx0XHRwcm9kdWN0czogYW55LCAvLyBUT0RPOiBzcGVjaWZ5IGNvcnJlY3QgVHlwZVxuXHRcdHdhcmVob3VzZUlkOiBXYXJlaG91c2VbJ2lkJ11cblx0KTogUHJvbWlzZTxPcmRlcj4ge1xuXHRcdGF3YWl0IHRoaXMuX3Rocm93SWZOb3RFeGlzdHMob3JkZXJJZCk7XG5cblx0XHRjb25zdCBvcmRlciA9IGF3YWl0IHRoaXMuX2dldChvcmRlcklkKTtcblxuXHRcdGNvbnN0IG9sZFByb2R1Y3RzSWRzID0gb3JkZXIucHJvZHVjdHMubWFwKFxuXHRcdFx0KHA6IE9yZGVyUHJvZHVjdCkgPT4gcC5wcm9kdWN0LmlkXG5cdFx0KTtcblxuXHRcdGNvbnN0IG5ld1Byb2R1Y3RzSWRzID0gcHJvZHVjdHMubWFwKChwKSA9PiBwLnByb2R1Y3RJZCk7XG5cblx0XHRmb3IgKGNvbnN0IHByb2R1Y3Qgb2Ygb3JkZXIucHJvZHVjdHMpIHtcblx0XHRcdGlmIChuZXdQcm9kdWN0c0lkcy5pbmNsdWRlcyhwcm9kdWN0LnByb2R1Y3QuaWQpKSB7XG5cdFx0XHRcdGNvbnN0IG5ld1Byb2R1Y3QgPSBwcm9kdWN0cy5maW5kKFxuXHRcdFx0XHRcdChwOiB7IHByb2R1Y3RJZDogc3RyaW5nIH0pID0+XG5cdFx0XHRcdFx0XHRwLnByb2R1Y3RJZCA9PT0gcHJvZHVjdC5wcm9kdWN0LmlkXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKG5ld1Byb2R1Y3QpIHtcblx0XHRcdFx0XHRwcm9kdWN0LmNvdW50IC09IG5ld1Byb2R1Y3QuY291bnQ7XG5cdFx0XHRcdFx0aWYgKHByb2R1Y3QuY291bnQgPj0gMSkge1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy53YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLmRlY3JlYXNlU29sZENvdW50KFxuXHRcdFx0XHRcdFx0XHR3YXJlaG91c2VJZCxcblx0XHRcdFx0XHRcdFx0Ly8gd2hhdCBwcm9kdWN0IGF2YWlsYWJpbGl0eSBzaG91bGQgYmUgZGVjcmVhc2VkXG5cdFx0XHRcdFx0XHRcdG5ld1Byb2R1Y3QucHJvZHVjdElkLFxuXHRcdFx0XHRcdFx0XHQvLyBob3cgbWFueSB0byByZW1vdmVcblx0XHRcdFx0XHRcdFx0bmV3UHJvZHVjdC5jb3VudFxuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy53YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLmluY3JlYXNlQ291bnQoXG5cdFx0XHRcdFx0XHRcdHdhcmVob3VzZUlkLFxuXHRcdFx0XHRcdFx0XHRuZXdQcm9kdWN0LnByb2R1Y3RJZCxcblx0XHRcdFx0XHRcdFx0bmV3UHJvZHVjdC5jb3VudFxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0XHRgWW91IGNhbiBub3QgZGVjcmVhc2UgcHJvZHVjdCB0byBiZSA9PT0gMCAhYFxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRwcm9kdWN0cyA9IHByb2R1Y3RzLmZpbHRlcihcblx0XHRcdChwOiB7IFt4OiBzdHJpbmddOiBzdHJpbmcgfSkgPT5cblx0XHRcdFx0IW9sZFByb2R1Y3RzSWRzLmluY2x1ZGVzKHBbJ3Byb2R1Y3RJZCddKVxuXHRcdCk7XG5cblx0XHRjb25zdCB3YXJlaG91c2UgPSAoYXdhaXQgdGhpcy53YXJlaG91c2VzU2VydmljZVxuXHRcdFx0LmdldCh3YXJlaG91c2VJZCwgdHJ1ZSlcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCkpIGFzIFdpdGhGdWxsUHJvZHVjdHM7XG5cblx0XHRjb25zdCB3YXJlaG91c2VQcm9kdWN0cyA9IF8ua2V5Qnkod2FyZWhvdXNlLnByb2R1Y3RzLCAncHJvZHVjdElkJyk7XG5cblx0XHRjb25zdCBuZXdPcmRlclByb2R1Y3RzID0gYXdhaXQgXy5tYXAoXG5cdFx0XHRwcm9kdWN0cyxcblx0XHRcdChhcmdzKTogSU9yZGVyUHJvZHVjdENyZWF0ZU9iamVjdCA9PiB7XG5cdFx0XHRcdGNvbnN0IHdQcm9kdWN0ID0gd2FyZWhvdXNlUHJvZHVjdHNbYXJncy5wcm9kdWN0SWRdO1xuXG5cdFx0XHRcdGlmICghd1Byb2R1Y3QpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRgV2FyZWhvdXNlT3JkZXJzU2VydmljZSBnb3QgY2FsbCB0byBjcmVhdGUodXNlcklkLCBvcmRlclByb2R1Y3RzKSAtIEJ1dCB0aGVyZSBpcyBubyBwcm9kdWN0IHdpdGggdGhlIGlkICR7YXJncy5wcm9kdWN0SWR9IWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRjb3VudDogYXJncy5jb3VudCxcblx0XHRcdFx0XHRwcmljZTogd1Byb2R1Y3QucHJpY2UsXG5cdFx0XHRcdFx0aW5pdGlhbFByaWNlOiB3UHJvZHVjdC5pbml0aWFsUHJpY2UsXG5cdFx0XHRcdFx0ZGVsaXZlcnlUaW1lTWluOiB3UHJvZHVjdC5kZWxpdmVyeVRpbWVNaW4sXG5cdFx0XHRcdFx0ZGVsaXZlcnlUaW1lTWF4OiB3UHJvZHVjdC5kZWxpdmVyeVRpbWVNYXgsXG5cdFx0XHRcdFx0cHJvZHVjdDogd1Byb2R1Y3QucHJvZHVjdCBhcyBQcm9kdWN0LFxuXHRcdFx0XHRcdGlzTWFudWZhY3R1cmluZzogd1Byb2R1Y3QuaXNNYW51ZmFjdHVyaW5nLFxuXHRcdFx0XHRcdGlzQ2FycmllclJlcXVpcmVkOiB3UHJvZHVjdC5pc0NhcnJpZXJSZXF1aXJlZCxcblx0XHRcdFx0XHRpc0RlbGl2ZXJ5UmVxdWlyZWQ6IHdQcm9kdWN0LmlzRGVsaXZlcnlSZXF1aXJlZCxcblx0XHRcdFx0XHRpc1Rha2Vhd2F5OiB3UHJvZHVjdC5pc1Rha2Vhd2F5LFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHRmb3IgKGNvbnN0IHByb2R1Y3Qgb2YgcHJvZHVjdHMpIHtcblx0XHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZS5kZWNyZWFzZUNvdW50KFxuXHRcdFx0XHR3YXJlaG91c2VJZCxcblx0XHRcdFx0cHJvZHVjdC5wcm9kdWN0SWQsXG5cdFx0XHRcdHByb2R1Y3QuY291bnRcblx0XHRcdCk7XG5cblx0XHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZS5pbmNyZWFzZVNvbGRDb3VudChcblx0XHRcdFx0d2FyZWhvdXNlSWQsXG5cdFx0XHRcdHByb2R1Y3QucHJvZHVjdElkLFxuXHRcdFx0XHRwcm9kdWN0LmNvdW50XG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnVwZGF0ZShvcmRlcklkLCB7XG5cdFx0XHRwcm9kdWN0czogWy4uLm9yZGVyLnByb2R1Y3RzLCAuLi5uZXdPcmRlclByb2R1Y3RzXSxcblx0XHR9KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgcmVtb3ZlUHJvZHVjdHMoXG5cdFx0b3JkZXJJZDogT3JkZXJbJ2lkJ10sXG5cdFx0cHJvZHVjdHNJZHM6IHN0cmluZ1tdXG5cdCk6IFByb21pc2U8T3JkZXI+IHtcblx0XHRhd2FpdCB0aGlzLl90aHJvd0lmTm90RXhpc3RzKG9yZGVySWQpO1xuXG5cdFx0Y29uc3Qgb3JkZXIgPSBhd2FpdCB0aGlzLl9nZXQob3JkZXJJZCk7XG5cblx0XHRjb25zdCBuZXdQcm9kdWN0cyA9IG9yZGVyLnByb2R1Y3RzLmZpbHRlcihcblx0XHRcdChwOiBPcmRlclByb2R1Y3QpID0+ICFwcm9kdWN0c0lkcy5pbmNsdWRlcyhwLnByb2R1Y3QuaWQpXG5cdFx0KTtcblxuXHRcdGNvbnN0IHJlbW92ZWRQcm9kdWN0cyA9IG9yZGVyLnByb2R1Y3RzLmZpbHRlcigocDogT3JkZXJQcm9kdWN0KSA9PlxuXHRcdFx0cHJvZHVjdHNJZHMuaW5jbHVkZXMocC5wcm9kdWN0LmlkKVxuXHRcdCk7XG5cblx0XHQvLyByZXZlcnQgb3JkZXIgc29sZCBjb3VudFxuXHRcdGF3YWl0ICg8YW55PkJsdWViaXJkKS5tYXAocmVtb3ZlZFByb2R1Y3RzLCBhc3luYyAob3JkZXJQcm9kdWN0KSA9PiB7XG5cdFx0XHRjb25zdCBwcm9kdWN0SWQgPSBvcmRlclByb2R1Y3QucHJvZHVjdC5pZDtcblxuXHRcdFx0YXdhaXQgdGhpcy53YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLmRlY3JlYXNlU29sZENvdW50KFxuXHRcdFx0XHRvcmRlci53YXJlaG91c2VJZCxcblx0XHRcdFx0cHJvZHVjdElkLFxuXHRcdFx0XHRvcmRlclByb2R1Y3QuY291bnRcblx0XHRcdCk7XG5cblx0XHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZS5pbmNyZWFzZUNvdW50KFxuXHRcdFx0XHRvcmRlci53YXJlaG91c2VJZCxcblx0XHRcdFx0cHJvZHVjdElkLFxuXHRcdFx0XHRvcmRlclByb2R1Y3QuY291bnRcblx0XHRcdCk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdGhpcy51cGRhdGUob3JkZXJJZCwge1xuXHRcdFx0cHJvZHVjdHM6IG5ld1Byb2R1Y3RzLFxuXHRcdH0pO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBjYW5jZWwob3JkZXJJZDogT3JkZXJbJ2lkJ10pOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0YXdhaXQgdGhpcy5fdGhyb3dJZk5vdEV4aXN0cyhvcmRlcklkKTtcblxuXHRcdHJldHVybiB0aGlzLnVwZGF0ZShvcmRlcklkLCB7XG5cdFx0XHRpc0NhbmNlbGxlZDogdHJ1ZSxcblx0XHRcdGZpbmlzaGVkUHJvY2Vzc2luZ1RpbWU6IERhdGUubm93KCksXG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogU2V0IG9yZGVyIHdpdGggZ2l2ZW4gSWQgYXMgUGFpZFxuXHQgKlxuXHQgKiBAcGFyYW0ge09yZGVyWydpZCddfSBvcmRlcklkXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPE9yZGVyPn1cblx0ICogQG1lbWJlcm9mIE9yZGVyc1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgcGFpZChvcmRlcklkOiBPcmRlclsnaWQnXSk6IFByb21pc2U8T3JkZXI+IHtcblx0XHRhd2FpdCB0aGlzLl90aHJvd0lmTm90RXhpc3RzKG9yZGVySWQpO1xuXG5cdFx0cmV0dXJuIHRoaXMudXBkYXRlKG9yZGVySWQsIHsgaXNQYWlkOiB0cnVlIH0pO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXRTdG9yZU9yZGVyc0NoYXJ0VG90YWxPcmRlcnMoc3RvcmVJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcblx0XHRjb25zdCBvcmRlcnNSYXcgPSBhd2FpdCB0aGlzLk1vZGVsLmZpbmQoe1xuXHRcdFx0d2FyZWhvdXNlOiBzdG9yZUlkLFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KVxuXHRcdFx0LnNlbGVjdCh7XG5cdFx0XHRcdGlzQ2FuY2VsbGVkOiAxLFxuXHRcdFx0XHRpc1BhaWQ6IDEsXG5cdFx0XHRcdGNhcnJpZXI6IDEsXG5cdFx0XHRcdGNhcnJpZXJTdGF0dXM6IDEsXG5cdFx0XHRcdHdhcmVob3VzZVN0YXR1czogMSxcblx0XHRcdFx0X2NyZWF0ZWRBdDogMSxcblx0XHRcdFx0J3Byb2R1Y3RzLnByaWNlJzogMSxcblx0XHRcdFx0J3Byb2R1Y3RzLmNvdW50JzogMSxcblx0XHRcdH0pXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0Y29uc3Qgb3JkZXJzID0gXy5tYXAob3JkZXJzUmF3LCAobykgPT4ge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dG90YWxQcmljZTogdGhpcy5fZ2V0T3JkZXJUb3RhbFByaWNlKG8pLFxuXHRcdFx0XHRpc0NvbXBsZXRlZDogdGhpcy5faXNPcmRlckNvbXBsZXRlZChvKSxcblx0XHRcdFx0aXNDYW5jZWxsZWQ6IG8uaXNDYW5jZWxsZWQsXG5cdFx0XHRcdF9jcmVhdGVkQXQ6IG8uX2NyZWF0ZWRBdCxcblx0XHRcdH07XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gb3JkZXJzLmZpbHRlcigobykgPT4gby5pc0NvbXBsZXRlZCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldE9yZGVyc0NoYXJ0VG90YWxPcmRlcnMoKTogUHJvbWlzZTxhbnk+IHtcblx0XHRjb25zdCBvcmRlcnNSYXcgPSBhd2FpdCB0aGlzLk1vZGVsLmZpbmQoe1xuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KVxuXHRcdFx0LnNlbGVjdCh7XG5cdFx0XHRcdGlzQ2FuY2VsbGVkOiAxLFxuXHRcdFx0XHRpc1BhaWQ6IDEsXG5cdFx0XHRcdGNhcnJpZXI6IDEsXG5cdFx0XHRcdGNhcnJpZXJTdGF0dXM6IDEsXG5cdFx0XHRcdHdhcmVob3VzZVN0YXR1czogMSxcblx0XHRcdFx0X2NyZWF0ZWRBdDogMSxcblx0XHRcdFx0J3Byb2R1Y3RzLnByaWNlJzogMSxcblx0XHRcdFx0J3Byb2R1Y3RzLmNvdW50JzogMSxcblx0XHRcdH0pXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0Y29uc3Qgb3JkZXJzID0gXy5tYXAob3JkZXJzUmF3LCAobykgPT4ge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dG90YWxQcmljZTogdGhpcy5fZ2V0T3JkZXJUb3RhbFByaWNlKG8pLFxuXHRcdFx0XHRpc0NvbXBsZXRlZDogdGhpcy5faXNPcmRlckNvbXBsZXRlZChvKSxcblx0XHRcdFx0aXNDYW5jZWxsZWQ6IG8uaXNDYW5jZWxsZWQsXG5cdFx0XHRcdF9jcmVhdGVkQXQ6IG8uX2NyZWF0ZWRBdCxcblx0XHRcdH07XG5cdFx0fSk7XG5cblx0XHRjb25zdCBvcmRlcnNSZXMgPSBvcmRlcnMuZmlsdGVyKChvKSA9PiBvLmlzQ29tcGxldGVkKTtcblxuXHRcdHJldHVybiBvcmRlcnNSZXM7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldERhc2hib2FyZENvbXBsZXRlZE9yZGVyc1RvZGF5KCk6IFByb21pc2U8YW55PiB7XG5cdFx0Y29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpO1xuXHRcdGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7XG5cblx0XHRzdGFydC5zZXRIb3VycygwLCAwLCAwLCAwKTtcblx0XHRlbmQuc2V0SG91cnMoMjMsIDU5LCA1OSwgOTk5KTtcblxuXHRcdGNvbnN0IG9yZGVyc1JhdyA9IGF3YWl0IHRoaXMuTW9kZWwuZmluZCh7XG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdFx0aXNDYW5jZWxsZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdFx0X2NyZWF0ZWRBdDogeyAkZ3RlOiBzdGFydCwgJGx0OiBlbmQgfSxcblx0XHR9KVxuXHRcdFx0LnNlbGVjdCh7XG5cdFx0XHRcdGlzQ2FuY2VsbGVkOiAxLFxuXHRcdFx0XHRpc1BhaWQ6IDEsXG5cdFx0XHRcdGNhcnJpZXI6IDEsXG5cdFx0XHRcdGNhcnJpZXJTdGF0dXM6IDEsXG5cdFx0XHRcdHdhcmVob3VzZVN0YXR1czogMSxcblx0XHRcdFx0X2NyZWF0ZWRBdDogMSxcblx0XHRcdFx0d2FyZWhvdXNlOiAxLFxuXHRcdFx0XHR1c2VyOiAxLFxuXHRcdFx0XHQncHJvZHVjdHMucHJpY2UnOiAxLFxuXHRcdFx0XHQncHJvZHVjdHMuY291bnQnOiAxLFxuXHRcdFx0fSlcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cblx0XHRjb25zdCBvcmRlcnMgPSBfLm1hcChvcmRlcnNSYXcsIChvKSA9PiB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0b3RhbFByaWNlOiB0aGlzLl9nZXRPcmRlclRvdGFsUHJpY2UobyksXG5cdFx0XHRcdGlzQ29tcGxldGVkOiB0aGlzLl9pc09yZGVyQ29tcGxldGVkKG8pLFxuXHRcdFx0XHRpc0NhbmNlbGxlZDogby5pc0NhbmNlbGxlZCxcblx0XHRcdFx0dXNlcjogby51c2VyLFxuXHRcdFx0XHR3YXJlaG91c2VJZDogby53YXJlaG91c2UsXG5cdFx0XHRcdF9jcmVhdGVkQXQ6IG8uX2NyZWF0ZWRBdCxcblx0XHRcdH07XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gb3JkZXJzLmZpbHRlcigobykgPT4gby5pc0NvbXBsZXRlZCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldE9yZGVyZWRVc2Vyc0luZm8oc3RvcmVJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcblx0XHRjb25zdCBvcmRlcnMgPSBhd2FpdCB0aGlzLk1vZGVsLmZpbmQoe1xuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHRcdHdhcmVob3VzZTogeyAkZXE6IHN0b3JlSWQgfSxcblx0XHR9KVxuXHRcdFx0LnNlbGVjdCh7XG5cdFx0XHRcdHVzZXI6IDEsXG5cdFx0XHRcdGlzUGFpZDogMSxcblx0XHRcdFx0J3Byb2R1Y3RzLnByaWNlJzogMSxcblx0XHRcdFx0J3Byb2R1Y3RzLmNvdW50JzogMSxcblx0XHRcdH0pXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0Y29uc3QgdW5pcXVlID0gKHZhbHVlLCBpbmRleCwgc2VsZikgPT4ge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0c2VsZlxuXHRcdFx0XHRcdC5tYXAoKHMpID0+IHMudXNlci5faWQudG9TdHJpbmcoKSlcblx0XHRcdFx0XHQuaW5kZXhPZih2YWx1ZS51c2VyLl9pZC50b1N0cmluZygpKSA9PT0gaW5kZXhcblx0XHRcdCk7XG5cdFx0fTtcblxuXHRcdGNvbnN0IG9Vc2VycyA9IG9yZGVycy5maWx0ZXIodW5pcXVlKS5tYXAoKG8pID0+IHtcblx0XHRcdGNvbnN0IHVzZXI6IFVzZXIgPSBuZXcgVXNlcihvLnVzZXIpO1xuXHRcdFx0cmV0dXJuIHVzZXI7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBvVXNlcklkcyA9IG9Vc2Vycy5tYXAoKHUpID0+IHUuaWQpO1xuXHRcdGNvbnN0IHJlYWxVc2VycyA9IGF3YWl0IHRoaXMudXNlcnNTZXJ2aWNlLmZpbmQoe1xuXHRcdFx0aXNEZWxldGVkOiBmYWxzZSxcblx0XHRcdF9pZDogeyAkaW46IG9Vc2VySWRzIH0sXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gb1VzZXJzLm1hcCgodSkgPT4ge1xuXHRcdFx0Y29uc3QgdXNlck9yZGVycyA9IG9yZGVycy5maWx0ZXIoXG5cdFx0XHRcdChvKSA9PiBvLnVzZXIuX2lkLnRvU3RyaW5nKCkgPT09IHUuX2lkLnRvU3RyaW5nKClcblx0XHRcdCk7XG5cblx0XHRcdGxldCB0b3RhbFByaWNlID0gMDtcblxuXHRcdFx0Y29uc3QgcGFpZE9yZGVycyA9IHVzZXJPcmRlcnMuZmlsdGVyKChvOiBPcmRlcikgPT4gby5pc1BhaWQpO1xuXG5cdFx0XHRpZiAocGFpZE9yZGVycy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdHRvdGFsUHJpY2UgPSBwYWlkT3JkZXJzXG5cdFx0XHRcdFx0Lm1hcCgobzogT3JkZXIpID0+IHRoaXMuX2dldE9yZGVyVG90YWxQcmljZShvKSlcblx0XHRcdFx0XHQucmVkdWNlKChhLCBiKSA9PiBhICsgYik7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHVzZXI6IHJlYWxVc2Vycy5maW5kKChydSkgPT4gcnUuaWQgPT09IHUuaWQpLFxuXHRcdFx0XHRvcmRlcnNDb3VudDogdXNlck9yZGVycy5sZW5ndGgsXG5cdFx0XHRcdHRvdGFsUHJpY2UsXG5cdFx0XHR9O1xuXHRcdH0pO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXREYXNoYm9hcmRDb21wbGV0ZWRPcmRlcnMoc3RvcmVJZD86IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG5cdFx0Y29uc3QgcXVhcnlPYmogPSB7XG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdFx0aXNDYW5jZWxsZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH07XG5cblx0XHRpZiAoc3RvcmVJZCkge1xuXHRcdFx0cXVhcnlPYmpbJ3dhcmVob3VzZSddID0geyAkZXE6IHN0b3JlSWQgfTtcblx0XHR9XG5cblx0XHRjb25zdCBvcmRlcnNSYXcgPSBhd2FpdCB0aGlzLk1vZGVsLmZpbmQocXVhcnlPYmopXG5cdFx0XHQuc2VsZWN0KHtcblx0XHRcdFx0aXNDYW5jZWxsZWQ6IDEsXG5cdFx0XHRcdGlzUGFpZDogMSxcblx0XHRcdFx0Y2FycmllcjogMSxcblx0XHRcdFx0Ly8gdXNlcjogMSxcblx0XHRcdFx0Y2FycmllclN0YXR1czogMSxcblx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOiAxLFxuXHRcdFx0XHQvLyBfY3JlYXRlZEF0OiAxLFxuXHRcdFx0XHR3YXJlaG91c2U6IDEsXG5cdFx0XHRcdCdwcm9kdWN0cy5wcmljZSc6IDEsXG5cdFx0XHRcdCdwcm9kdWN0cy5jb3VudCc6IDEsXG5cdFx0XHR9KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdGNvbnN0IG9yZGVycyA9IF8ubWFwKG9yZGVyc1JhdywgKG8pID0+IHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHRvdGFsUHJpY2U6IHRoaXMuX2dldE9yZGVyVG90YWxQcmljZShvKSxcblx0XHRcdFx0d2FyZWhvdXNlSWQ6IG8ud2FyZWhvdXNlLFxuXHRcdFx0XHRpc0NvbXBsZXRlZDogdGhpcy5faXNPcmRlckNvbXBsZXRlZChvKSxcblx0XHRcdFx0Ly8gaXNDYW5jZWxsZWQ6IG8uaXNDYW5jZWxsZWQsXG5cdFx0XHRcdC8vIHVzZXI6IG8udXNlcixcblx0XHRcdFx0Ly8gX2NyZWF0ZWRBdDogby5fY3JlYXRlZEF0XG5cdFx0XHR9O1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIG9yZGVycy5maWx0ZXIoKG8pID0+IG8uaXNDb21wbGV0ZWQpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXRPcmRlcnNJbkRlbGl2ZXJ5KHN0b3JlSWQ6IHN0cmluZyk6IFByb21pc2U8T3JkZXJbXT4ge1xuXHRcdGNvbnN0IG9yZGVyID0gYXdhaXQgdGhpcy5Nb2RlbC5maW5kKHtcblx0XHRcdGlzRGVsZXRlZDogZmFsc2UsXG5cdFx0XHRpc0NhbmNlbGxlZDogZmFsc2UsXG5cdFx0XHR3YXJlaG91c2U6IHN0b3JlSWQsXG5cdFx0XHRjYXJyaWVyU3RhdHVzOiB7XG5cdFx0XHRcdCRpbjogW1xuXHRcdFx0XHRcdE9yZGVyQ2FycmllclN0YXR1cy5DYXJyaWVyUGlja2VkVXBPcmRlcixcblx0XHRcdFx0XHRPcmRlckNhcnJpZXJTdGF0dXMuQ2FycmllclN0YXJ0RGVsaXZlcnksXG5cdFx0XHRcdFx0T3JkZXJDYXJyaWVyU3RhdHVzLkNhcnJpZXJBcnJpdmVkVG9DdXN0b21lcixcblx0XHRcdFx0XSxcblx0XHRcdH0sXG5cdFx0fSlcblx0XHRcdC5wb3B1bGF0ZSgnY2FycmllciB1c2VyJylcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cblx0XHRyZXR1cm4gb3JkZXI7XG5cdH1cblxuXHRwcml2YXRlIF9nZXRPcmRlclRvdGFsUHJpY2Uob3JkZXI6IE9yZGVyKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gXy5zdW0oXy5tYXAob3JkZXIucHJvZHVjdHMsIChwKSA9PiBwLmNvdW50ICogcC5wcmljZSkpO1xuXHR9XG5cblx0cHJpdmF0ZSBfaXNPcmRlckNvbXBsZXRlZChvcmRlcjogT3JkZXIpOiBib29sZWFuIHtcblx0XHRmdW5jdGlvbiBnZXRTdGF0dXMobzogT3JkZXIpOiBPcmRlclN0YXR1cyB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG8uY2FycmllciA9PSBudWxsIHx8XG5cdFx0XHRcdG8uY2FycmllclN0YXR1cyA8PSBPcmRlckNhcnJpZXJTdGF0dXMuQ2FycmllclBpY2tlZFVwT3JkZXJcblx0XHRcdCkge1xuXHRcdFx0XHRpZiAoby53YXJlaG91c2VTdGF0dXMgPj0gMjAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuIE9yZGVyU3RhdHVzLldhcmVob3VzZUlzc3VlO1xuXHRcdFx0XHR9IGVsc2UgaWYgKG8uaXNDYW5jZWxsZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gT3JkZXJTdGF0dXMuQ2FuY2VsZWRXaGlsZVdhcmVob3VzZVByZXBhcmF0aW9uO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiBPcmRlclN0YXR1cy5XYXJlaG91c2VQcmVwYXJhdGlvbjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKG8uY2FycmllclN0YXR1cyA+PSAyMDApIHtcblx0XHRcdFx0XHRyZXR1cm4gT3JkZXJTdGF0dXMuQ2Fycmllcklzc3VlO1xuXHRcdFx0XHR9IGVsc2UgaWYgKG8uaXNDYW5jZWxsZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gT3JkZXJTdGF0dXMuQ2FuY2VsZWRXaGlsZUluRGVsaXZlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdFx0by5pc1BhaWQgJiZcblx0XHRcdFx0XHRvLmNhcnJpZXJTdGF0dXMgPT09IE9yZGVyQ2FycmllclN0YXR1cy5EZWxpdmVyeUNvbXBsZXRlZFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gT3JkZXJTdGF0dXMuRGVsaXZlcmVkO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiBPcmRlclN0YXR1cy5JbkRlbGl2ZXJ5O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiAoXG5cdFx0XHQob3JkZXIuaXNQYWlkICYmIGdldFN0YXR1cyhvcmRlcikgPT09IE9yZGVyU3RhdHVzLkRlbGl2ZXJlZCkgfHxcblx0XHRcdG9yZGVyLmlzQ2FuY2VsbGVkXG5cdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgX2dldChcblx0XHRpZDogc3RyaW5nLFxuXHRcdG9wdGlvbnM6IHsgcG9wdWxhdGVXYXJlaG91c2U/OiBib29sZWFuOyBwb3B1bGF0ZUNhcnJpZXI/OiBib29sZWFuIH0gPSB7fVxuXHQpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0bGV0IHRvUG9wdWxhdGUgPSAnJztcblxuXHRcdGlmIChvcHRpb25zLnBvcHVsYXRlQ2Fycmllcikge1xuXHRcdFx0dG9Qb3B1bGF0ZSArPSAnY2FycmllciAnO1xuXHRcdH1cblxuXHRcdGlmIChvcHRpb25zLnBvcHVsYXRlV2FyZWhvdXNlKSB7XG5cdFx0XHR0b1BvcHVsYXRlICs9ICd3YXJlaG91c2UgJztcblx0XHR9XG5cblx0XHRyZXR1cm4gbmV3IE9yZGVyKFxuXHRcdFx0KGF3YWl0IHRoaXMuTW9kZWwuZmluZEJ5SWQoaWQpXG5cdFx0XHRcdC5wb3B1bGF0ZSh0b1BvcHVsYXRlKVxuXHRcdFx0XHQuc29ydCh7IF9jcmVhdGVkQXQ6IC0xLCBvcmRlck51bWJlcjogLTEgfSlcblx0XHRcdFx0LmxlYW4oKVxuXHRcdFx0XHQuZXhlYygpKSBhcyBJT3JkZXJcblx0XHQpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBfdGhyb3dJZk5vdEV4aXN0cyhvcmRlcklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBvcmRlciA9IGF3YWl0IHN1cGVyLmdldChvcmRlcklkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKCFvcmRlciB8fCBvcmRlci5pc0RlbGV0ZWQpIHtcblx0XHRcdHRocm93IEVycm9yKGBPcmRlciB3aXRoIGlkICcke29yZGVySWR9JyBkb2VzIG5vdCBleGlzdHMhYCk7XG5cdFx0fVxuXHR9XG59XG4iLCJleHBvcnQgKiBmcm9tICcuL09yZGVyc1NlcnZpY2UnO1xuIiwiaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IHsgREJTZXJ2aWNlIH0gZnJvbSAnQHB5cm8vZGItc2VydmVyJztcbmltcG9ydCBJUHJvZHVjdHNDYXRlZ29yeVJvdXRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL3JvdXRlcnMvSVByb2R1Y3RzQ2F0ZWdvcnlSb3V0ZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgYXN5bmNMaXN0ZW5lciwgb2JzZXJ2YWJsZUxpc3RlbmVyLCByb3V0ZXJOYW1lIH0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJy4uL0lTZXJ2aWNlJztcbmltcG9ydCBQcm9kdWN0c0NhdGVnb3J5IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvUHJvZHVjdHNDYXRlZ29yeSc7XG5pbXBvcnQgeyBVcGRhdGVPYmplY3QgfSBmcm9tICdAcHlyby9kYi9kYi11cGRhdGUtb2JqZWN0JztcbmltcG9ydCB7IENyZWF0ZU9iamVjdCB9IGZyb20gJ0BweXJvL2RiL2RiLWNyZWF0ZS1vYmplY3QnO1xuaW1wb3J0IHsgZmlyc3QsIHN3aXRjaE1hcCwgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgncHJvZHVjdHMtY2F0ZWdvcnknKVxuZXhwb3J0IGNsYXNzIFByb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2UgZXh0ZW5kcyBEQlNlcnZpY2U8UHJvZHVjdHNDYXRlZ29yeT5cblx0aW1wbGVtZW50cyBJUHJvZHVjdHNDYXRlZ29yeVJvdXRlciwgSVNlcnZpY2Uge1xuXHRwdWJsaWMgcmVhZG9ubHkgREJPYmplY3Q6IGFueSA9IFByb2R1Y3RzQ2F0ZWdvcnk7XG5cblx0cHJvdGVjdGVkIHJlYWRvbmx5IGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7XG5cdFx0bmFtZTogJ3Byb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2UnLFxuXHR9KTtcblxuXHQvKipcblx0ICogR2V0IFByb2R1Y3QgQ2F0ZWdvcnkgYnkgSWRcblx0ICpcblx0ICogQHBhcmFtIHtQcm9kdWN0c0NhdGVnb3J5WydpZCddfSBpZFxuXHQgKiBAcmV0dXJucyB7KE9ic2VydmFibGU8UHJvZHVjdHNDYXRlZ29yeSB8IG51bGw+KX1cblx0ICogQG1lbWJlcm9mIFByb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2Vcblx0ICovXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXQoaWQ6IFByb2R1Y3RzQ2F0ZWdvcnlbJ2lkJ10pOiBPYnNlcnZhYmxlPFByb2R1Y3RzQ2F0ZWdvcnkgfCBudWxsPiB7XG5cdFx0cmV0dXJuIHN1cGVyLmdldChpZCkucGlwZShcblx0XHRcdG1hcChhc3luYyAoY2F0ZWdvcnkpID0+IHtcblx0XHRcdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRcdFx0cmV0dXJuIGNhdGVnb3J5O1xuXHRcdFx0fSksXG5cdFx0XHRzd2l0Y2hNYXAoKGNhdGVnb3J5KSA9PiBjYXRlZ29yeSlcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBuZXcgUHJvZHVjdCBDYXRlZ29yeVxuXHQgKlxuXHQgKiBAcGFyYW0ge0NyZWF0ZU9iamVjdDxQcm9kdWN0c0NhdGVnb3J5Pn0gY2F0ZWdvcnlcblx0ICogQHJldHVybnMge1Byb21pc2U8UHJvZHVjdHNDYXRlZ29yeT59XG5cdCAqIEBtZW1iZXJvZiBQcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGNyZWF0ZShcblx0XHRjYXRlZ29yeTogQ3JlYXRlT2JqZWN0PFByb2R1Y3RzQ2F0ZWdvcnk+XG5cdCk6IFByb21pc2U8UHJvZHVjdHNDYXRlZ29yeT4ge1xuXHRcdHJldHVybiBzdXBlci5jcmVhdGUoY2F0ZWdvcnkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgZXhpc3RlZCBQcm9kdWN0IENhdGVnb3J5XG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuXHQgKiBAcGFyYW0ge1VwZGF0ZU9iamVjdDxQcm9kdWN0c0NhdGVnb3J5Pn0gdXBkYXRlT2JqZWN0XG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPFByb2R1Y3RzQ2F0ZWdvcnk+fVxuXHQgKiBAbWVtYmVyb2YgUHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyB1cGRhdGUoXG5cdFx0aWQ6IHN0cmluZyxcblx0XHR1cGRhdGVPYmplY3Q6IFVwZGF0ZU9iamVjdDxQcm9kdWN0c0NhdGVnb3J5PlxuXHQpOiBQcm9taXNlPFByb2R1Y3RzQ2F0ZWdvcnk+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdHJldHVybiBzdXBlci51cGRhdGUoaWQsIHVwZGF0ZU9iamVjdCk7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyBQcm9kdWN0IENhdGVnb3J5XG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cblx0ICogQG1lbWJlcm9mIFByb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgcmVtb3ZlKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdHJldHVybiBzdXBlci5yZW1vdmUoaWQpO1xuXHR9XG5cblx0YXN5bmMgdGhyb3dJZk5vdEV4aXN0cyhjYXRlZ29yeUlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBjYXRlZ29yeSA9IGF3YWl0IHN1cGVyLmdldChjYXRlZ29yeUlkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKCFjYXRlZ29yeSB8fCBjYXRlZ29yeS5pc0RlbGV0ZWQpIHtcblx0XHRcdHRocm93IEVycm9yKGBDYXRlZ29yeSB3aXRoIGlkICcke2NhdGVnb3J5SWR9JyBkb2VzIG5vdCBleGlzdHMhYCk7XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgUHJvZHVjdCBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1Byb2R1Y3QnO1xuaW1wb3J0IHsgREJTZXJ2aWNlIH0gZnJvbSAnQHB5cm8vZGItc2VydmVyJztcbmltcG9ydCB7IGRlZmF1bHQgYXMgSVByb2R1Y3QgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSVByb2R1Y3QnO1xuaW1wb3J0IElQcm9kdWN0Um91dGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JUHJvZHVjdFJvdXRlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge1xuXHRhc3luY0xpc3RlbmVyLFxuXHRvYnNlcnZhYmxlTGlzdGVuZXIsXG5cdHJvdXRlck5hbWUsXG5cdHNlcmlhbGl6YXRpb24sXG59IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCBJU2VydmljZSBmcm9tICcuLi9JU2VydmljZSc7XG5pbXBvcnQgeyBDcmVhdGVPYmplY3QgfSBmcm9tICdAcHlyby9kYi9kYi1jcmVhdGUtb2JqZWN0JztcbmltcG9ydCB7IFVwZGF0ZU9iamVjdCB9IGZyb20gJ0BweXJvL2RiL2RiLXVwZGF0ZS1vYmplY3QnO1xuaW1wb3J0IHsgZmlyc3QsIHN3aXRjaE1hcCwgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IElQYWdpbmdPcHRpb25zIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JUGFnaW5nT3B0aW9ucyc7XG5cbkBpbmplY3RhYmxlKClcbkByb3V0ZXJOYW1lKCdwcm9kdWN0JylcbmV4cG9ydCBjbGFzcyBQcm9kdWN0c1NlcnZpY2UgZXh0ZW5kcyBEQlNlcnZpY2U8UHJvZHVjdD5cblx0aW1wbGVtZW50cyBJUHJvZHVjdFJvdXRlciwgSVNlcnZpY2Uge1xuXHRwdWJsaWMgcmVhZG9ubHkgREJPYmplY3Q6IGFueSA9IFByb2R1Y3Q7XG5cblx0cHJvdGVjdGVkIHJlYWRvbmx5IGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7XG5cdFx0bmFtZTogJ3Byb2R1Y3RzU2VydmljZScsXG5cdH0pO1xuXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXQoaWQ6IFByb2R1Y3RbJ2lkJ10pOiBPYnNlcnZhYmxlPFByb2R1Y3QgfCBudWxsPiB7XG5cdFx0cmV0dXJuIHN1cGVyLmdldChpZCkucGlwZShcblx0XHRcdG1hcChhc3luYyAocHJvZHVjdCkgPT4ge1xuXHRcdFx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdFx0XHRyZXR1cm4gcHJvZHVjdDtcblx0XHRcdH0pLFxuXHRcdFx0c3dpdGNoTWFwKChwcm9kdWN0KSA9PiBwcm9kdWN0KVxuXHRcdCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldFByb2R1Y3RzKFxuXHRcdGZpbmRJbnB1dDogYW55LFxuXHRcdHBhZ2luZ09wdGlvbnM6IElQYWdpbmdPcHRpb25zLFxuXHRcdGV4aXN0ZWRQcm9kdWN0c0lkcyA9IFtdXG5cdCk6IFByb21pc2U8YW55PiB7XG5cdFx0Y29uc3Qgc29ydE9iaiA9IHt9O1xuXG5cdFx0aWYgKHBhZ2luZ09wdGlvbnMuc29ydCkge1xuXHRcdFx0c29ydE9ialtwYWdpbmdPcHRpb25zLnNvcnQuZmllbGRdID0gcGFnaW5nT3B0aW9ucy5zb3J0LnNvcnRCeTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5Nb2RlbC5maW5kKHtcblx0XHRcdC4uLmZpbmRJbnB1dCxcblx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0XHRfaWQ6IHsgJG5pbjogZXhpc3RlZFByb2R1Y3RzSWRzIH0sXG5cdFx0fSlcblx0XHRcdC5zb3J0KHNvcnRPYmopXG5cdFx0XHQuc2tpcChwYWdpbmdPcHRpb25zLnNraXApXG5cdFx0XHQubGltaXQocGFnaW5nT3B0aW9ucy5saW1pdClcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGNyZWF0ZShwcm9kdWN0OiBDcmVhdGVPYmplY3Q8UHJvZHVjdD4pOiBQcm9taXNlPFByb2R1Y3Q+IHtcblx0XHRyZXR1cm4gc3VwZXIuY3JlYXRlKHByb2R1Y3QpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyB1cGRhdGUoXG5cdFx0aWQ6IHN0cmluZyxcblx0XHR1cGRhdGVPYmplY3Q6IFVwZGF0ZU9iamVjdDxQcm9kdWN0PlxuXHQpOiBQcm9taXNlPFByb2R1Y3Q+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdHJldHVybiBzdXBlci51cGRhdGUoaWQsIHVwZGF0ZU9iamVjdCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHNhdmUoXG5cdFx0QHNlcmlhbGl6YXRpb24oKHByb2R1Y3Q6IElQcm9kdWN0KSA9PiBuZXcgUHJvZHVjdChwcm9kdWN0KSlcblx0XHR1cGRhdGVkUHJvZHVjdDogUHJvZHVjdFxuXHQpOiBQcm9taXNlPFByb2R1Y3Q+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHModXBkYXRlZFByb2R1Y3QuaWQpO1xuXHRcdHJldHVybiB0aGlzLnVwZGF0ZSh1cGRhdGVkUHJvZHVjdC5pZCwgdXBkYXRlZFByb2R1Y3QpO1xuXHR9XG5cblx0YXN5bmMgdGhyb3dJZk5vdEV4aXN0cyhwcm9kdWN0SWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBzdXBlci5nZXQocHJvZHVjdElkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKCFwcm9kdWN0IHx8IHByb2R1Y3QuaXNEZWxldGVkKSB7XG5cdFx0XHR0aHJvdyBFcnJvcihgUHJvZHVjdCB3aXRoIGlkICcke3Byb2R1Y3RJZH0nIGRvZXMgbm90IGV4aXN0cyFgKTtcblx0XHR9XG5cdH1cbn1cbiIsImV4cG9ydCAqIGZyb20gJy4vUHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL1Byb2R1Y3RzU2VydmljZSc7XG4iLCJpbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUsIG11bHRpSW5qZWN0IH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCBodHRwcyBmcm9tICdodHRwcyc7XG5pbXBvcnQgaHR0cCBmcm9tICdodHRwJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHBlbSBmcm9tICdwZW0nO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IHBhc3Nwb3J0IGZyb20gJ3Bhc3Nwb3J0JztcbmltcG9ydCBtZXRob2RPdmVycmlkZSBmcm9tICdtZXRob2Qtb3ZlcnJpZGUnO1xuaW1wb3J0IGVycm9yaGFuZGxlciBmcm9tICdlcnJvcmhhbmRsZXInO1xuaW1wb3J0IHNvY2tldElPIGZyb20gJ3NvY2tldC5pbyc7XG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgbW9yZ2FuIGZyb20gJ21vcmdhbic7XG5pbXBvcnQgZXhwaGJzIGZyb20gJ2V4cHJlc3MtaGFuZGxlYmFycyc7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IElTZXJ2aWNlLCB7IFNlcnZpY2VTeW1ib2wgfSBmcm9tICcuL0lTZXJ2aWNlJztcbmltcG9ydCB7IElSb3V0ZXJzTWFuYWdlciB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCB7IFdhcmVob3VzZXNTZXJ2aWNlIH0gZnJvbSAnLi93YXJlaG91c2VzJztcbmltcG9ydCB7IFNvY2lhbFN0cmF0ZWdpZXNTZXJ2aWNlIH0gZnJvbSAnLi91c2Vycyc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi9lbnYnO1xuaW1wb3J0IHsgZ2V0TW9kZWwgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IEJsdWViaXJkIGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCB7IEFkbWluc1NlcnZpY2UgfSBmcm9tICcuL2FkbWlucyc7XG5pbXBvcnQgaXBzdGFjayA9IHJlcXVpcmUoJ2lwc3RhY2snKTtcbmltcG9ydCByZXF1ZXN0SXAgPSByZXF1aXJlKCdyZXF1ZXN0LWlwJyk7XG5pbXBvcnQgeyBjcmVhdGVDb25uZWN0aW9uIH0gZnJvbSAndHlwZW9ybSc7XG5pbXBvcnQgeyBJV2FyZWhvdXNlQ3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lXYXJlaG91c2UnO1xuaW1wb3J0IHsgZ2V0RHVtbXlJbWFnZSB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vdXRpbHMnO1xuaW1wb3J0IEFkbWluIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvQWRtaW4nO1xuaW1wb3J0IERldmljZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0RldmljZSc7XG5pbXBvcnQgQ2FycmllciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0NhcnJpZXInO1xuaW1wb3J0IEludml0ZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0ludml0ZSc7XG5pbXBvcnQgSW52aXRlUmVxdWVzdCBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0ludml0ZVJlcXVlc3QnO1xuaW1wb3J0IE9yZGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvT3JkZXInO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9Qcm9kdWN0JztcbmltcG9ydCBQcm9kdWN0c0NhdGVnb3J5IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvUHJvZHVjdHNDYXRlZ29yeSc7XG5pbXBvcnQgVXNlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1VzZXInO1xuaW1wb3J0IFdhcmVob3VzZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1dhcmVob3VzZSc7XG5pbXBvcnQgeyBDb25maWdTZXJ2aWNlIH0gZnJvbSAnLi4vY29uZmlnL2NvbmZpZy5zZXJ2aWNlJztcblxuLy8gbG9jYWwgSVBzXG5jb25zdCBJTlRFUk5BTF9JUFMgPSBbJzEyNy4wLjAuMScsICc6OjEnXTtcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFNlcnZpY2VzQXBwIHtcblx0cHJvdGVjdGVkIGRiX3NlcnZlciA9IHByb2Nlc3MuZW52LkRCX0VOViB8fCAncHJpbWFyeSc7XG5cblx0cHJvdGVjdGVkIGRiOiBtb25nb29zZS5Db25uZWN0aW9uO1xuXG5cdHByb3RlY3RlZCBleHByZXNzQXBwOiBleHByZXNzLkV4cHJlc3M7XG5cdHByb3RlY3RlZCBodHRwc1NlcnZlcjogaHR0cHMuU2VydmVyO1xuXHRwcm90ZWN0ZWQgaHR0cFNlcnZlcjogaHR0cC5TZXJ2ZXI7XG5cblx0cHJpdmF0ZSBsb2cgPSBjcmVhdGVFdmVyTG9nZ2VyKHsgbmFtZTogJ21haW4nIH0pO1xuXG5cdC8vIFRPRE86IHB1dCB0byBjb25maWcgKHdlIGFsc28gbWF5IHdhbnQgdG8gaW5jcmVhc2UgaXQpXG5cdHByaXZhdGUgc3RhdGljIF9wb29sU2l6ZTogbnVtYmVyID0gNTA7XG5cblx0Ly8gVE9ETzogcHV0IHRvIGNvbmZpZ1xuXHRwcml2YXRlIHN0YXRpYyBfY29ubmVjdFRpbWVvdXRNUzogbnVtYmVyID0gNDAwMDA7XG5cblx0cHJpdmF0ZSBjYWxsYmFjazogKCkgPT4gdm9pZDtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRAbXVsdGlJbmplY3QoU2VydmljZVN5bWJvbClcblx0XHRwcm90ZWN0ZWQgc2VydmljZXM6IElTZXJ2aWNlW10sXG5cdFx0QGluamVjdCgnUm91dGVyc01hbmFnZXInKVxuXHRcdHByb3RlY3RlZCByb3V0ZXJzTWFuYWdlcjogSVJvdXRlcnNNYW5hZ2VyLFxuXHRcdEBpbmplY3QoV2FyZWhvdXNlc1NlcnZpY2UpXG5cdFx0cHJvdGVjdGVkIHdhcmVob3VzZXNTZXJ2aWNlOiBXYXJlaG91c2VzU2VydmljZSxcblx0XHRAaW5qZWN0KFNvY2lhbFN0cmF0ZWdpZXNTZXJ2aWNlKVxuXHRcdHByb3RlY3RlZCBzb2NpYWxTdHJhdGVnaWVzU2VydmljZTogU29jaWFsU3RyYXRlZ2llc1NlcnZpY2UsXG5cdFx0QGluamVjdChBZG1pbnNTZXJ2aWNlKVxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2FkbWluc1NlcnZpY2U6IEFkbWluc1NlcnZpY2UsXG5cdFx0QGluamVjdChDb25maWdTZXJ2aWNlKVxuXHRcdF9jb25maWdTZXJ2aWNlOiBDb25maWdTZXJ2aWNlXG5cdCkge1xuXHRcdGNvbnN0IG1heFNvY2tldHMgPSBfY29uZmlnU2VydmljZS5FbnYuTUFYX1NPQ0tFVFM7XG5cblx0XHQvLyBzZWUgaHR0cHM6Ly93ZWJhcHBsb2cuY29tL3NldmVuLXRoaW5ncy15b3Utc2hvdWxkLXN0b3AtZG9pbmctd2l0aC1ub2RlLWpzXG5cdFx0aHR0cC5nbG9iYWxBZ2VudC5tYXhTb2NrZXRzID0gbWF4U29ja2V0cztcblx0XHRodHRwcy5nbG9iYWxBZ2VudC5tYXhTb2NrZXRzID0gbWF4U29ja2V0cztcblxuXHRcdC8vIElmIHRoZSBOb2RlIHByb2Nlc3MgZW5kcywgY2xvc2UgdGhlIE1vbmdvb3NlIGNvbm5lY3Rpb25cblx0XHRwcm9jZXNzXG5cdFx0XHQub24oJ1NJR0lOVCcsIHRoaXMuX2dyYWNlZnVsRXhpdClcblx0XHRcdC5vbignU0lHVEVSTScsIHRoaXMuX2dyYWNlZnVsRXhpdCk7XG5cdH1cblxuXHRhc3luYyBzdGFydChjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuXHRcdHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcblx0XHRhd2FpdCB0aGlzLl9jb25uZWN0REIoKTtcblx0fVxuXG5cdHN0YXRpYyBnZXRFbnRpdGllcygpIHtcblx0XHRjb25zdCBlbnRpdGllcyA9IFtcblx0XHRcdEFkbWluLFxuXHRcdFx0Q2Fycmllcixcblx0XHRcdERldmljZSxcblx0XHRcdEludml0ZSxcblx0XHRcdEludml0ZVJlcXVlc3QsXG5cdFx0XHRPcmRlcixcblx0XHRcdFByb2R1Y3QsXG5cdFx0XHRQcm9kdWN0c0NhdGVnb3J5LFxuXHRcdFx0VXNlcixcblx0XHRcdFdhcmVob3VzZSxcblx0XHRdO1xuXHRcdHJldHVybiBlbnRpdGllcztcblx0fVxuXG5cdHN0YXRpYyBhc3luYyBDcmVhdGVUeXBlT1JNQ29ubmVjdGlvbigpIHtcblx0XHRjb25zdCB0eXBlT1JNTG9nID0gY3JlYXRlRXZlckxvZ2dlcih7IG5hbWU6ICdUeXBlT1JNJyB9KTtcblxuXHRcdC8vIGxpc3Qgb2YgZW50aXRpZXMgZm9yIHdoaWNoIFJlcG9zaXRvcmllcyB3aWxsIGJlIGdyZWF0ZWQgaW4gVHlwZU9STVxuXHRcdGNvbnN0IGVudGl0aWVzID0gU2VydmljZXNBcHAuZ2V0RW50aXRpZXMoKTtcblxuXHRcdGNvbnN0IGNvbm4gPSBhd2FpdCBjcmVhdGVDb25uZWN0aW9uKHtcblx0XHRcdG5hbWU6ICd0eXBlb3JtJyxcblx0XHRcdC8vIFRPRE86IHB1dCB0aGlzIGludG8gc2V0dGluZ3MgKGl0J3MgbW9uZ28gb25seSBkdXJpbmcgdGVzdGluZyBvZiBUeXBlT1JNIGludGVncmF0aW9uISlcblx0XHRcdHR5cGU6ICdtb25nb2RiJyxcblx0XHRcdHVybDogZW52LkRCX1VSSSxcblx0XHRcdGVudGl0aWVzLFxuXHRcdFx0c3luY2hyb25pemU6IHRydWUsXG5cdFx0XHR1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG5cdFx0XHRhdXRvUmVjb25uZWN0OiB0cnVlLFxuXHRcdFx0cmVjb25uZWN0VHJpZXM6IE51bWJlci5NQVhfVkFMVUUsXG5cdFx0XHRwb29sU2l6ZTogU2VydmljZXNBcHAuX3Bvb2xTaXplLFxuXHRcdFx0Y29ubmVjdFRpbWVvdXRNUzogU2VydmljZXNBcHAuX2Nvbm5lY3RUaW1lb3V0TVMsXG5cdFx0XHRsb2dnaW5nOiB0cnVlLFxuXHRcdFx0dXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxuXHRcdH0pO1xuXG5cdFx0Y29uc29sZS5sb2coXG5cdFx0XHRgVHlwZU9STSBEQiBjb25uZWN0aW9uIGNyZWF0ZWQuIERCIGNvbm5lY3RlZDogJHtjb25uLmlzQ29ubmVjdGVkfWBcblx0XHQpO1xuXG5cdFx0dHlwZU9STUxvZy5pbmZvKFxuXHRcdFx0YFR5cGVPUk0gREIgY29ubmVjdGlvbiBjcmVhdGVkLiBEQiBjb25uZWN0ZWQ6ICR7Y29ubi5pc0Nvbm5lY3RlZH1gXG5cdFx0KTtcblxuXHRcdHJldHVybiBjb25uO1xuXHR9XG5cblx0cHJpdmF0ZSBfZ3JhY2VmdWxFeGl0KCkge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAodGhpcy5kYiAhPSBudWxsKSB7XG5cdFx0XHRcdHRoaXMuZGIuY2xvc2UoKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRcdFx0XHQnTW9uZ29vc2UgZGVmYXVsdCBjb25uZWN0aW9uIHdpdGggREIgOicgK1xuXHRcdFx0XHRcdFx0XHR0aGlzLmRiX3NlcnZlciArXG5cdFx0XHRcdFx0XHRcdCcgaXMgZGlzY29ubmVjdGVkIHRocm91Z2ggYXBwIHRlcm1pbmF0aW9uJ1xuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0cHJvY2Vzcy5leGl0KDApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHByb2Nlc3MuZXhpdCgwKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIF9jb25uZWN0REIoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGNvbm5lY3Rpb25PcHRpb25zOiBtb25nb29zZS5Db25uZWN0aW9uT3B0aW9ucyA9IHtcblx0XHRcdFx0dXNlQ3JlYXRlSW5kZXg6IHRydWUsXG5cdFx0XHRcdHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcblx0XHRcdFx0YXV0b1JlY29ubmVjdDogdHJ1ZSxcblx0XHRcdFx0dXNlRmluZEFuZE1vZGlmeTogZmFsc2UsXG5cdFx0XHRcdHJlY29ubmVjdFRyaWVzOiBOdW1iZXIuTUFYX1ZBTFVFLFxuXHRcdFx0XHRwb29sU2l6ZTogU2VydmljZXNBcHAuX3Bvb2xTaXplLFxuXHRcdFx0XHRjb25uZWN0VGltZW91dE1TOiBTZXJ2aWNlc0FwcC5fY29ubmVjdFRpbWVvdXRNUyxcblx0XHRcdFx0dXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxuXHRcdFx0fTtcblxuXHRcdFx0Y29uc3QgbW9uZ29Db25uZWN0OiBtb25nb29zZS5Nb25nb29zZSA9IGF3YWl0IG1vbmdvb3NlLmNvbm5lY3QoXG5cdFx0XHRcdGVudi5EQl9VUkksXG5cdFx0XHRcdGNvbm5lY3Rpb25PcHRpb25zXG5cdFx0XHQpO1xuXG5cdFx0XHR0aGlzLmRiID0gbW9uZ29Db25uZWN0LmNvbm5lY3Rpb247XG5cblx0XHRcdHRoaXMuX2NvbmZpZ0RCRXZlbnRzKCk7XG5cblx0XHRcdHRoaXMuX29uREJDb25uZWN0KCk7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR0aGlzLmxvZy5lcnJvcihcblx0XHRcdFx0ZXJyLFxuXHRcdFx0XHQnU2V2ZXIgaW5pdGlhbGl6YXRpb24gZmFpbGVkISBDYW5ub3QgY29ubmVjdCB0byBEQidcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBfY29uZmlnREJFdmVudHMoKSB7XG5cdFx0dGhpcy5kYi5vbignZXJyb3InLCAoZXJyKSA9PiB0aGlzLmxvZy5lcnJvcihlcnIpKTtcblxuXHRcdHRoaXMuZGIub24oJ2Rpc2Nvbm5lY3RlZCcsICgpID0+IHtcblx0XHRcdHRoaXMubG9nLndhcm4oXG5cdFx0XHRcdCdNb25nb29zZSBkZWZhdWx0IGNvbm5lY3Rpb24gdG8gREIgOicgK1xuXHRcdFx0XHRcdHRoaXMuZGJfc2VydmVyICtcblx0XHRcdFx0XHQnIGRpc2Nvbm5lY3RlZCdcblx0XHRcdCk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLmRiLm9uKCdjb25uZWN0ZWQnLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0XHQnTW9uZ29vc2UgZGVmYXVsdCBjb25uZWN0aW9uIHRvIERCIDonICtcblx0XHRcdFx0XHR0aGlzLmRiX3NlcnZlciArXG5cdFx0XHRcdFx0JyBjb25uZWN0ZWQnXG5cdFx0XHQpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBfb25EQkNvbm5lY3QoKSB7XG5cdFx0Ly8gdGhhdCdzIGltcG9ydGFudCB0byBzZWUgZXZlbiBpZiBsb2dzIGRpc2FibGVkLCBkbyBub3QgcmVtb3ZlIVxuXHRcdGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gREInKTtcblxuXHRcdHRoaXMubG9nLmluZm8oeyBkYjogdGhpcy5kYl9zZXJ2ZXIgfSwgJ0Nvbm5lY3RlZCB0byBEQicpO1xuXG5cdFx0YXdhaXQgdGhpcy5fcmVnaXN0ZXJNb2RlbHMoKTtcblx0XHRhd2FpdCB0aGlzLl9yZWdpc3RlckVudGl0eUFkbWluaXN0cmF0b3IoKTtcblx0XHR0aGlzLl9wYXNzcG9ydFNldHVwKCk7XG5cdFx0YXdhaXQgdGhpcy5fc3RhcnRFeHByZXNzKCk7XG5cdFx0YXdhaXQgdGhpcy5fc3RhcnRTb2NrZXRJTygpO1xuXG5cdFx0Ly8gZXhlY3V0ZSBjYWxsYmFjayBkZWZpbmVkIGF0IG1haW4udHNcblx0XHRhd2FpdCB0aGlzLmNhbGxiYWNrKCk7XG5cblx0XHQvLyBsZXQncyByZXBvcnQgUkFNIHVzYWdlIGFmdGVyIGFsbCBpcyBib290c3RyYXBwZWRcblx0XHRhd2FpdCB0aGlzLnJlcG9ydE1lbW9yeVVzYWdlKCk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIHJlcG9ydE1lbW9yeVVzYWdlKCkge1xuXHRcdGNvbnNvbGUubG9nKCdNZW1vcnkgdXNhZ2U6ICcpO1xuXHRcdGNvbnNvbGUubG9nKHByb2Nlc3MubWVtb3J5VXNhZ2UoKSk7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlIGluaXRpYWwgKGRlZmF1bHQpIEFkbWluIHVzZXIgd2l0aCBkZWZhdWx0IGNyZWRlbnRpYWxzOlxuXHQgKiBFbWFpbDogYWRtaW5AZXZlci5jb1xuXHQgKiBQYXNzd29yZDogYWRtaW5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQG1lbWJlcm9mIFNlcnZpY2VzQXBwXG5cdCAqL1xuXHRwcml2YXRlIGFzeW5jIF9yZWdpc3RlckVudGl0eUFkbWluaXN0cmF0b3IoKSB7XG5cdFx0Y29uc3QgYWRtaW5FbWFpbCA9ICdhZG1pbkBldmVyLmNvJzsgLy8gVE9ETzogcHV0IHRvIGNvbmZpZ1xuXHRcdGNvbnN0IGFkbWluUGFzc3dvcmQgPSAnYWRtaW4nOyAvLyBUT0RPOiBwdXQgdG8gY29uZmlnXG5cblx0XHRjb25zdCBhZG1pbkNvbGxlY3Rpb25Db3VudCA9IGF3YWl0IHRoaXMuX2FkbWluc1NlcnZpY2UuY291bnQoe1xuXHRcdFx0ZW1haWw6IGFkbWluRW1haWwsXG5cdFx0fSk7XG5cblx0XHRpZiAoYWRtaW5Db2xsZWN0aW9uQ291bnQgPT09IDApIHtcblx0XHRcdHRoaXMuX2FkbWluc1NlcnZpY2UucmVnaXN0ZXIoe1xuXHRcdFx0XHRhZG1pbjoge1xuXHRcdFx0XHRcdGVtYWlsOiBhZG1pbkVtYWlsLFxuXHRcdFx0XHRcdG5hbWU6ICdBZG1pbicsXG5cdFx0XHRcdFx0aGFzaDogbnVsbCxcblx0XHRcdFx0XHRwaWN0dXJlVXJsOiBnZXREdW1teUltYWdlKDMwMCwgMzAwLCAnQScpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRwYXNzd29yZDogYWRtaW5QYXNzd29yZCxcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgX2dldEJhc2VVcmwodXJsOiBzdHJpbmcpIHtcblx0XHRpZiAodXJsKSB7XG5cdFx0XHRyZXR1cm4gdXJsLnNsaWNlKDAsIHVybC5sYXN0SW5kZXhPZignLycpICsgMSkudG9TdHJpbmcoKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIF9wYXNzcG9ydFNldHVwKCkge1xuXHRcdHBhc3Nwb3J0LnNlcmlhbGl6ZVVzZXIoKHVzZXIsIGRvbmUpID0+IHtcblx0XHRcdGRvbmUobnVsbCwgdXNlcik7XG5cdFx0fSk7XG5cblx0XHRwYXNzcG9ydC5kZXNlcmlhbGl6ZVVzZXIoKGlkLCBkb25lKSA9PiB7XG5cdFx0XHQvLyBUT0RPID9cblx0XHR9KTtcblxuXHRcdC8vIEdvb2dsZSBTdHJhdGVneVxuXHRcdGNvbnN0IGdvb2dsZVN0cmF0ZWd5ID0gdGhpcy5zb2NpYWxTdHJhdGVnaWVzU2VydmljZS5nZXRHb29nbGVTdHJhdGVneSgpO1xuXHRcdGlmIChnb29nbGVTdHJhdGVneSAhPSBudWxsKSB7XG5cdFx0XHRwYXNzcG9ydC51c2UoZ29vZ2xlU3RyYXRlZ3kpO1xuXHRcdH1cblxuXHRcdC8vIEZhY2Vib29rIFN0cmF0ZWd5XG5cdFx0Y29uc3QgZmFjZWJvb2tTdHJhdGVneSA9IHRoaXMuc29jaWFsU3RyYXRlZ2llc1NlcnZpY2UuZ2V0RmFjZWJvb2tTdHJhdGVneSgpO1xuXHRcdGlmIChmYWNlYm9va1N0cmF0ZWd5ICE9IG51bGwpIHtcblx0XHRcdHBhc3Nwb3J0LnVzZShmYWNlYm9va1N0cmF0ZWd5KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIF9yZWdpc3Rlck1vZGVscygpIHtcblx0XHRhd2FpdCAoPGFueT5CbHVlYmlyZCkubWFwKHRoaXMuc2VydmljZXMsIGFzeW5jIChzZXJ2aWNlKSA9PiB7XG5cdFx0XHRpZiAoKHNlcnZpY2UgYXMgYW55KS5EQk9iamVjdCAhPSBudWxsKSB7XG5cdFx0XHRcdC8vIGdldCB0aGUgbW9kZWwgdG8gcmVnaXN0ZXIgaXQncyBzY2hlbWEgaW5kZXhlcyBpbiBkYlxuXHRcdFx0XHRhd2FpdCBnZXRNb2RlbCgoc2VydmljZSBhcyBhbnkpLkRCT2JqZWN0KS5jcmVhdGVJbmRleGVzKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIF9zdGFydEV4cHJlc3MoKSB7XG5cdFx0dGhpcy5leHByZXNzQXBwID0gKDxhbnk+ZXhwcmVzcykoKTtcblxuXHRcdGNvbnN0IGhicyA9IGV4cGhicy5jcmVhdGUoe1xuXHRcdFx0ZXh0bmFtZTogJy5oYnMnLFxuXHRcdFx0ZGVmYXVsdExheW91dDogJ21haW4nLFxuXHRcdFx0bGF5b3V0c0RpcjogcGF0aC5qb2luKCdyZXMnLCAndmlld3MnLCAnbGF5b3V0cycpLFxuXHRcdFx0cGFydGlhbHNEaXI6IHBhdGguam9pbigncmVzJywgJ3RlbXBsYXRlcycpLFxuXHRcdH0pO1xuXG5cdFx0Ly8gY29uZmlndXJlIEhhbmRsZWJhcnMgdGVtcGxhdGVzXG5cdFx0dGhpcy5leHByZXNzQXBwLmVuZ2luZSgnLmhicycsIGhicy5lbmdpbmUpO1xuXG5cdFx0dGhpcy5leHByZXNzQXBwLnNldCgndmlld3MnLCBwYXRoLmpvaW4oJ3JlcycsICd2aWV3cycpKTtcblxuXHRcdHRoaXMuZXhwcmVzc0FwcC5zZXQoJ3ZpZXcgZW5naW5lJywgJy5oYnMnKTtcblxuXHRcdHRoaXMuZXhwcmVzc0FwcC5zZXQoJ3ZpZXcgY2FjaGUnLCBmYWxzZSk7XG5cblx0XHQvLyBub3cgd2UgY2hlY2sgaWYgQ2VydCBmaWxlcyBleGlzdHMgYW5kIGlmIG5vdCBnZW5lcmF0ZSB0aGVtIGZvciBsb2NhbGhvc3Rcblx0XHRjb25zdCBodHRwc0NlcnRQYXRoID0gZW52LkhUVFBTX0NFUlRfUEFUSDtcblx0XHRjb25zdCBodHRwc0tleVBhdGggPSBlbnYuSFRUUFNfS0VZX1BBVEg7XG5cblx0XHRjb25zdCBoYXNIdHRwc0NlcnQgPSBmcy5leGlzdHNTeW5jKGh0dHBzQ2VydFBhdGgpO1xuXHRcdGNvbnN0IGhhc0h0dHBzS2V5ID0gZnMuZXhpc3RzU3luYyhodHRwc0tleVBhdGgpO1xuXG5cdFx0bGV0IGhhc0RlZmF1bHRIdHRwc0NlcnQgPSBmYWxzZTtcblxuXHRcdGlmICghaGFzSHR0cHNDZXJ0IHx8ICFoYXNIdHRwc0tleSkge1xuXHRcdFx0aGFzRGVmYXVsdEh0dHBzQ2VydCA9IGF3YWl0IHRoaXMuX2dldENlcnRpZmljYXRlcyhcblx0XHRcdFx0aHR0cHNDZXJ0UGF0aCxcblx0XHRcdFx0aHR0cHNLZXlQYXRoXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmICgoaGFzSHR0cHNDZXJ0ICYmIGhhc0h0dHBzS2V5KSB8fCBoYXNEZWZhdWx0SHR0cHNDZXJ0KSB7XG5cdFx0XHR0aGlzLmh0dHBzU2VydmVyID0gaHR0cHMuY3JlYXRlU2VydmVyKFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y2VydDogZnMucmVhZEZpbGVTeW5jKGh0dHBzQ2VydFBhdGgpLFxuXHRcdFx0XHRcdGtleTogZnMucmVhZEZpbGVTeW5jKGh0dHBzS2V5UGF0aCksXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRoaXMuZXhwcmVzc0FwcFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHR0aGlzLmh0dHBTZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcih0aGlzLmV4cHJlc3NBcHApO1xuXG5cdFx0Ly8gVE9ETzogYWRkIHRvIHNldHRpbmdzIGZpbGVcblx0XHQvLyBzZXQgY29ubmVjdGlvbnMgdGltZW91dHMgdG8gMzAgbWludXRlcyAoZm9yIGxvbmcgcnVubmluZyByZXF1ZXN0cylcblx0XHRjb25zdCB0aW1lb3V0ID0gMzAgKiA2MCAqIDEwMDA7XG5cblx0XHRpZiAodGhpcy5odHRwc1NlcnZlcikge1xuXHRcdFx0dGhpcy5odHRwc1NlcnZlci5zZXRUaW1lb3V0KHRpbWVvdXQpO1xuXHRcdH1cblxuXHRcdHRoaXMuaHR0cFNlcnZlci5zZXRUaW1lb3V0KHRpbWVvdXQpO1xuXG5cdFx0dGhpcy5leHByZXNzQXBwLnNldCgnaHR0cHNQb3J0JywgZW52LkhUVFBTUE9SVCk7XG5cdFx0dGhpcy5leHByZXNzQXBwLnNldCgnaHR0cFBvcnQnLCBlbnYuSFRUUFBPUlQpO1xuXHRcdHRoaXMuZXhwcmVzc0FwcC5zZXQoJ2Vudmlyb25tZW50JywgZW52Lk5PREVfRU5WKTtcblxuXHRcdC8vIENPUlMgY29uZmlndXJhdGlvblxuXHRcdC8vIFRPRE86IHdlIG1heSB3YW50IHRvIHJlc3RyaWMgYWNjZXNzIHNvbWUgd2F5XG5cdFx0Ly8gKGJ1dCBuZWVkcyB0byBiZSBjYXJlZnVsIGJlY2F1c2Ugd2Ugc2VydmUgc29tZSBIVE1MIHBhZ2VzIGZvciBhbGwgY2xpZW50cyB0b28sIGUuZy4gQWJvdXQgVXMpXG5cdFx0dGhpcy5leHByZXNzQXBwLnVzZShcblx0XHRcdCg8YW55PmNvcnMpKHtcblx0XHRcdFx0b3JpZ2luOiB0cnVlLFxuXHRcdFx0XHRjcmVkZW50aWFsczogdHJ1ZSxcblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdHRoaXMuZXhwcmVzc0FwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcblx0XHR0aGlzLmV4cHJlc3NBcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcblx0XHR0aGlzLmV4cHJlc3NBcHAudXNlKFxuXHRcdFx0Ym9keVBhcnNlci5qc29uKHsgdHlwZTogJ2FwcGxpY2F0aW9uL3ZuZC5hcGkranNvbicgfSlcblx0XHQpO1xuXG5cdFx0Y29uc3QgbW86IGFueSA9IG1ldGhvZE92ZXJyaWRlO1xuXG5cdFx0dGhpcy5leHByZXNzQXBwLnVzZShtbygnWC1IVFRQLU1ldGhvZCcpKTsgLy8gTWljcm9zb2Z0XG5cdFx0dGhpcy5leHByZXNzQXBwLnVzZShtbygnWC1IVFRQLU1ldGhvZC1PdmVycmlkZScpKTsgLy8gR29vZ2xlL0dEYXRhXG5cdFx0dGhpcy5leHByZXNzQXBwLnVzZShtbygnWC1NZXRob2QtT3ZlcnJpZGUnKSk7IC8vIElCTVxuXHRcdHRoaXMuZXhwcmVzc0FwcC51c2UobW9yZ2FuKCdkZXYnKSk7XG5cdFx0dGhpcy5leHByZXNzQXBwLnVzZShwYXNzcG9ydC5pbml0aWFsaXplKCkpO1xuXHRcdHRoaXMuZXhwcmVzc0FwcC51c2UocmVxdWVzdElwLm13KCkpO1xuXG5cdFx0aWYgKHRoaXMuZXhwcmVzc0FwcC5nZXQoJ2Vudmlyb25tZW50JykgPT09ICdkZXZlbG9wbWVudCcpIHtcblx0XHRcdGNvbnN0IGVoOiBhbnkgPSBlcnJvcmhhbmRsZXI7XG5cdFx0XHR0aGlzLmV4cHJlc3NBcHAudXNlKGVoKCkpO1xuXHRcdH1cblxuXHRcdHRoaXMuZXhwcmVzc0FwcC5nZXQoJy8nLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcblx0XHRcdHJlcy5yZW5kZXIoJ2luZGV4Jyk7XG5cdFx0fSk7XG5cblx0XHQvLyBHZXQgbG9jYXRpb24gKGxhdCwgbG9uZykgYnkgSVAgYWRkcmVzc1xuXHRcdC8vIFRPRE86IHB1dCBpbnRvIHNlcGFyYXRlIHNlcnZpY2Vcblx0XHR0aGlzLmV4cHJlc3NBcHAuZ2V0KCcvZ2V0TG9jYXRpb25CeUlQJywgKHJlcSwgcmVzKSA9PiB7XG5cdFx0XHRjb25zdCBpcFN0YWNrS2V5ID0gZW52LklQX1NUQUNLX0FQSV9LRVk7XG5cdFx0XHRpZiAoaXBTdGFja0tleSkge1xuXHRcdFx0XHRjb25zdCBjbGllbnRJcCA9IHJlcVsnY2xpZW50SXAnXTtcblxuXHRcdFx0XHRpZiAoIUlOVEVSTkFMX0lQUy5pbmNsdWRlcyhjbGllbnRJcCkpIHtcblx0XHRcdFx0XHRpcHN0YWNrKGNsaWVudElwLCBpcFN0YWNrS2V5LCAoZXJyLCByZXNwb25zZSkgPT4ge1xuXHRcdFx0XHRcdFx0cmVzLmpzb24oe1xuXHRcdFx0XHRcdFx0XHRsYXRpdHVkZTogcmVzcG9uc2UubGF0aXR1ZGUsXG5cdFx0XHRcdFx0XHRcdGxvbmdpdHVkZTogcmVzcG9uc2UubG9uZ2l0dWRlLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0XHRcdGBDYW4ndCB1c2UgaXBzdGFjayB3aXRoIGludGVybmFsIGlwIGFkZHJlc3MgJHtjbGllbnRJcH1gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXMuc3RhdHVzKDIwNCkuZW5kKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMubG9nLmVycm9yKCdOb3QgcHJvdmlkZWQgS2V5IGZvciBJcFN0YWNrJyk7XG5cdFx0XHRcdHJlcy5zdGF0dXMoNTAwKS5lbmQoKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIFRPRE86IHdoeSBpcyB0aGlzIGhlcmU/IEl0IHNob3VsZCBiZSBpbiBzb21lIE5lc3QgQ29udHJvbGxlclxuXHRcdHRoaXMuZXhwcmVzc0FwcC5wb3N0KCcvd2FyZWhvdXNlL2NyZWF0ZScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuXHRcdFx0Y29uc3Qgd2FyZWhvdXNlQ3JlYXRlT2JqZWN0OiBJV2FyZWhvdXNlQ3JlYXRlT2JqZWN0ID0gSlNPTi5wYXJzZShcblx0XHRcdFx0cmVxLmJvZHkud2FyZWhvdXNlXG5cdFx0XHQpO1xuXG5cdFx0XHRjb25zdCB3YXJlaG91c2UgPSBhd2FpdCB0aGlzLndhcmVob3VzZXNTZXJ2aWNlLmNyZWF0ZShcblx0XHRcdFx0d2FyZWhvdXNlQ3JlYXRlT2JqZWN0XG5cdFx0XHQpO1xuXHRcdFx0cmVzLmpzb24od2FyZWhvdXNlKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuX3NldHVwQXV0aFJvdXRlcygpO1xuXHRcdHRoaXMuX3NldHVwU3RhdGljUm91dGVzKCk7XG5cblx0XHRjb25zdCBodHRwc1BvcnQgPSB0aGlzLmV4cHJlc3NBcHAuZ2V0KCdodHRwc1BvcnQnKTtcblx0XHRjb25zdCBodHRwUG9ydCA9IHRoaXMuZXhwcmVzc0FwcC5nZXQoJ2h0dHBQb3J0Jyk7XG5cblx0XHRjb25zdCBjb25mID0gcmVxdWlyZSgnZG90ZW52JykuY29uZmlnKCk7XG5cblx0XHRjb25zdCBlbnZpcm9ubWVudCA9IHRoaXMuZXhwcmVzc0FwcC5nZXQoJ2Vudmlyb25tZW50Jyk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0e1xuXHRcdFx0XHRodHRwc1BvcnQsXG5cdFx0XHRcdGh0dHBQb3J0LFxuXHRcdFx0XHRlbnZpcm9ubWVudCxcblx0XHRcdFx0J3Byb2Nlc3MuZW52JzogcHJvY2Vzcy5lbnYsXG5cdFx0XHRcdGRvdGVudjogY29uZixcblx0XHRcdH0sXG5cdFx0XHQnRXhwcmVzcyBzZXJ2ZXIgcHJlcGFyZSB0byBsaXN0ZW4nXG5cdFx0KTtcblxuXHRcdGlmIChodHRwc1BvcnQgJiYgaHR0cHNQb3J0ID4gMCAmJiB0aGlzLmh0dHBzU2VydmVyKSB7XG5cdFx0XHQvLyBhcHAgbGlzdGVuIG9uIGh0dHBzXG5cdFx0XHR0aGlzLmh0dHBzU2VydmVyLmxpc3RlbihodHRwc1BvcnQsICgpID0+IHtcblx0XHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0XHR7IHBvcnQ6IGh0dHBzUG9ydCB9LFxuXHRcdFx0XHRcdCdFeHByZXNzIGh0dHBzIHNlcnZlciBsaXN0ZW5pbmcnXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFxuXHRcdFx0XHRcdGBFeHByZXNzIGh0dHBzIHNlcnZlciBsaXN0ZW5pbmcgb24gcG9ydCAke2h0dHBzUG9ydH1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5sb2cud2Fybihcblx0XHRcdFx0YE5vIFNTTCBDZXJ0aWZpY2F0ZSBleGlzdHMsIEhUVFBTIGVuZHBvaW50IHdpbGwgYmUgZGlzYWJsZWRgXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmIChodHRwUG9ydCAmJiBodHRwUG9ydCA+IDApIHtcblx0XHRcdC8vIGFwcCBsaXN0ZW4gb24gaHR0cFxuXHRcdFx0dGhpcy5odHRwU2VydmVyLmxpc3RlbihodHRwUG9ydCwgKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0XHRcdHsgcG9ydDogaHR0cFBvcnQgfSxcblx0XHRcdFx0XHQnRXhwcmVzcyBodHRwIHNlcnZlciBsaXN0ZW5pbmcnXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFxuXHRcdFx0XHRcdGBFeHByZXNzIGh0dHAgc2VydmVyIGxpc3RlbmluZyBvbiBwb3J0ICR7aHR0cFBvcnR9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBfZ2V0Q2VydGlmaWNhdGVzKFxuXHRcdGh0dHBzQ2VydFBhdGg6IHN0cmluZyxcblx0XHRodHRwc0tleVBhdGg6IHN0cmluZ1xuXHQpIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5sb2cuaW5mbygnR2VuZXJhdGluZyBTU0wgQ2VydGlmaWNhdGVzIGZvciBIVFRQUycpO1xuXG5cdFx0XHRjb25zdCB7IHN1Y2Nlc3MgfSA9IGF3YWl0IHRoaXMuX2NyZWF0ZUNlcnRpZmljYXRlQXN5bmMoXG5cdFx0XHRcdGh0dHBzQ2VydFBhdGgsXG5cdFx0XHRcdGh0dHBzS2V5UGF0aFxuXHRcdFx0KTtcblxuXHRcdFx0dGhpcy5sb2cuaW5mbygnQ2VydGlmaWNhdGVzIHdlcmUgZ2VuZXJhdGVkJyk7XG5cblx0XHRcdHJldHVybiBzdWNjZXNzO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLmxvZy53YXJuKFxuXHRcdFx0XHRgQ2VydGlmaWNhdGVzIHdlcmUgbm90IGdlbmVyYXRlZCBkdWUgdG8gZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gXG5cdFx0XHQpO1xuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBfY3JlYXRlQ2VydGlmaWNhdGVBc3luYyhcblx0XHRodHRwc0NlcnRQYXRoOiBzdHJpbmcsXG5cdFx0aHR0cHNLZXlQYXRoOiBzdHJpbmdcblx0KTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW4gfT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRwZW0uY3JlYXRlQ2VydGlmaWNhdGUoXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0ZGF5czogMzY1LFxuXHRcdFx0XHRcdFx0c2VsZlNpZ25lZDogdHJ1ZSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdChlcnIsIGtleXMpID0+IHtcblx0XHRcdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRcdFx0cmVqZWN0KHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IGVyci5tZXNzYWdlIH0pO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnN0IGh0dHBzQ2VydERpclBhdGggPSBwYXRoLmRpcm5hbWUoaHR0cHNDZXJ0UGF0aCk7XG5cdFx0XHRcdFx0XHRjb25zdCBodHRwc0tleURpclBhdGggPSBwYXRoLmRpcm5hbWUoaHR0cHNLZXlQYXRoKTtcblxuXHRcdFx0XHRcdFx0aWYgKCFmcy5leGlzdHNTeW5jKGh0dHBzQ2VydERpclBhdGgpKSB7XG5cdFx0XHRcdFx0XHRcdGZzLm1rZGlyU3luYyhodHRwc0NlcnREaXJQYXRoLCB7XG5cdFx0XHRcdFx0XHRcdFx0cmVjdXJzaXZlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKCFmcy5leGlzdHNTeW5jKGh0dHBzS2V5RGlyUGF0aCkpIHtcblx0XHRcdFx0XHRcdFx0ZnMubWtkaXJTeW5jKGh0dHBzS2V5RGlyUGF0aCwge1xuXHRcdFx0XHRcdFx0XHRcdHJlY3Vyc2l2ZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGZzLndyaXRlRmlsZVN5bmMoaHR0cHNDZXJ0UGF0aCwga2V5cy5jZXJ0aWZpY2F0ZSk7XG5cdFx0XHRcdFx0XHRmcy53cml0ZUZpbGVTeW5jKGh0dHBzS2V5UGF0aCwga2V5cy5zZXJ2aWNlS2V5KTtcblxuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUgfSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdHJlamVjdCh7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBlcnIubWVzc2FnZSB9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgX3N0YXJ0U29ja2V0SU8oKSB7XG5cdFx0Y29uc3Qgc286IGFueSA9IHNvY2tldElPO1xuXHRcdGNvbnN0IGlvSHR0cHMgPSBzbyh0aGlzLmh0dHBzU2VydmVyKTtcblx0XHRjb25zdCBpb0h0dHAgPSBzbyh0aGlzLmh0dHBTZXJ2ZXIpO1xuXG5cdFx0YXdhaXQgdGhpcy5yb3V0ZXJzTWFuYWdlci5zdGFydExpc3RlbmluZyhpb0h0dHBzKTtcblx0XHRhd2FpdCB0aGlzLnJvdXRlcnNNYW5hZ2VyLnN0YXJ0TGlzdGVuaW5nKGlvSHR0cCk7XG5cdH1cblxuXHRwcml2YXRlIF9zZXR1cFN0YXRpY1JvdXRlcygpIHtcblx0XHR0aGlzLmV4cHJlc3NBcHAuZ2V0KCcvZW4vYWJvdXQnLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcblx0XHRcdHJlcy5yZW5kZXIoJ2Fib3V0X3VzX2VuJyk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLmV4cHJlc3NBcHAuZ2V0KCcvaGUvYWJvdXQnLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcblx0XHRcdHJlcy5yZW5kZXIoJ2Fib3V0X3VzX2hlJyk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLmV4cHJlc3NBcHAuZ2V0KCcvcnUvYWJvdXQnLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcblx0XHRcdHJlcy5yZW5kZXIoJ2Fib3V0X3VzX3J1Jyk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLmV4cHJlc3NBcHAuZ2V0KCcvZW4vcHJpdmFjeScsIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuXHRcdFx0cmVzLnJlbmRlcigncHJpdmFjeV9lbicpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5leHByZXNzQXBwLmdldCgnL2hlL3ByaXZhY3knLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcblx0XHRcdHJlcy5yZW5kZXIoJ3ByaXZhY3lfaGUnKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuZXhwcmVzc0FwcC5nZXQoJy9ydS9wcml2YWN5JywgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG5cdFx0XHRyZXMucmVuZGVyKCdwcml2YWN5X3J1Jyk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLmV4cHJlc3NBcHAuZ2V0KCcvZW4vdGVybXMnLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcblx0XHRcdHJlcy5yZW5kZXIoJ3Rlcm1zX29mX3VzZV9lbicpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5leHByZXNzQXBwLmdldCgnL2hlL3Rlcm1zJywgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG5cdFx0XHRyZXMucmVuZGVyKCd0ZXJtc19vZl91c2VfaGUnKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuZXhwcmVzc0FwcC5nZXQoJy9ydS90ZXJtcycsIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuXHRcdFx0cmVzLnJlbmRlcigndGVybXNfb2ZfdXNlX3J1Jyk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLmV4cHJlc3NBcHAuZ2V0KCcvYmcvdGVybXMnLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcblx0XHRcdHJlcy5yZW5kZXIoJ3Rlcm1zX29mX3VzZV9iZycpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBfc2V0dXBBdXRoUm91dGVzKCkge1xuXHRcdC8vIEZhY2Vib29rIHJvdXRlIGF1dGhcblx0XHR0aGlzLmV4cHJlc3NBcHAuZ2V0KFxuXHRcdFx0Jy9hdXRoL2ZhY2Vib29rJyxcblx0XHRcdChyZXEsIHJlcywgbmV4dCkgPT4ge1xuXHRcdFx0XHRwYXNzcG9ydFtcblx0XHRcdFx0XHQnX3N0cmF0ZWdpZXMnXG5cdFx0XHRcdF0uc2Vzc2lvbi5iYXNlX3JlZGlyZWN0X3VybCA9IHRoaXMuX2dldEJhc2VVcmwoXG5cdFx0XHRcdFx0cmVxLmhlYWRlcnMucmVmZXJlclxuXHRcdFx0XHQpO1xuXHRcdFx0XHRuZXh0KCk7XG5cdFx0XHR9LFxuXHRcdFx0cGFzc3BvcnQuYXV0aGVudGljYXRlKCdmYWNlYm9vaycsIHtcblx0XHRcdFx0c2NvcGU6IFsnZW1haWwnLCAncHVibGljX3Byb2ZpbGUnXSxcblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdHRoaXMuZXhwcmVzc0FwcC5nZXQoXG5cdFx0XHQnL2F1dGgvZmFjZWJvb2svY2FsbGJhY2snLFxuXHRcdFx0cGFzc3BvcnQuYXV0aGVudGljYXRlKCdmYWNlYm9vaycsIHsgZmFpbHVyZVJlZGlyZWN0OiAnL2xvZ2luJyB9KSxcblx0XHRcdGFzeW5jIChyZXEsIHJlcykgPT4ge1xuXHRcdFx0XHRjb25zdCBiYXNlUmVkaXJlY3RVciA9XG5cdFx0XHRcdFx0cGFzc3BvcnRbJ19zdHJhdGVnaWVzJ10uc2Vzc2lvbi5iYXNlX3JlZGlyZWN0X3VybDtcblx0XHRcdFx0aWYgKHJlcS51c2VyKSB7XG5cdFx0XHRcdFx0cmVzLnJlZGlyZWN0KGJhc2VSZWRpcmVjdFVyICsgKDxhbnk+cmVxLnVzZXIpLnJlZGlyZWN0VXJsKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXMucmVkaXJlY3QoYmFzZVJlZGlyZWN0VXIgfHwgJycpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHBhc3Nwb3J0Wydfc3RyYXRlZ2llcyddLnNlc3Npb24uYmFzZV9yZWRpcmVjdF91cmwgPSAnJztcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0Ly8gR29vZ2xlIHJvdXRlIGF1dGhcblx0XHR0aGlzLmV4cHJlc3NBcHAuZ2V0KFxuXHRcdFx0Jy9hdXRoL2dvb2dsZScsXG5cdFx0XHQocmVxLCByZXMsIG5leHQpID0+IHtcblx0XHRcdFx0cGFzc3BvcnRbXG5cdFx0XHRcdFx0J19zdHJhdGVnaWVzJ1xuXHRcdFx0XHRdLnNlc3Npb24uYmFzZV9yZWRpcmVjdF91cmwgPSB0aGlzLl9nZXRCYXNlVXJsKFxuXHRcdFx0XHRcdHJlcS5oZWFkZXJzLnJlZmVyZXJcblx0XHRcdFx0KTtcblx0XHRcdFx0bmV4dCgpO1xuXHRcdFx0fSxcblx0XHRcdHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnZ29vZ2xlJywgeyBzY29wZTogWydwcm9maWxlJywgJ2VtYWlsJ10gfSlcblx0XHQpO1xuXG5cdFx0dGhpcy5leHByZXNzQXBwLmdldChcblx0XHRcdCcvYXV0aC9nb29nbGUvY2FsbGJhY2snLFxuXHRcdFx0cGFzc3BvcnQuYXV0aGVudGljYXRlKCdnb29nbGUnLCB7IGZhaWx1cmVSZWRpcmVjdDogJy9sb2dpbicgfSksXG5cdFx0XHRhc3luYyAocmVxLCByZXMpID0+IHtcblx0XHRcdFx0Y29uc3QgYmFzZVJlZGlyZWN0VXIgPVxuXHRcdFx0XHRcdHBhc3Nwb3J0Wydfc3RyYXRlZ2llcyddLnNlc3Npb24uYmFzZV9yZWRpcmVjdF91cmw7XG5cdFx0XHRcdGlmIChyZXEudXNlcikge1xuXHRcdFx0XHRcdHJlcy5yZWRpcmVjdChiYXNlUmVkaXJlY3RVciArICg8YW55PnJlcS51c2VyKS5yZWRpcmVjdFVybCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVzLnJlZGlyZWN0KGJhc2VSZWRpcmVjdFVyIHx8ICcnKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRwYXNzcG9ydFsnX3N0cmF0ZWdpZXMnXS5zZXNzaW9uLmJhc2VfcmVkaXJlY3RfdXJsID0gJyc7XG5cdFx0XHR9XG5cdFx0KTtcblx0fVxufVxuIiwiaW1wb3J0IHsgR2xvYmFsLCBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBTZXJ2aWNlU3ltYm9sIH0gZnJvbSAnLi9JU2VydmljZSc7XG5pbXBvcnQgeyBzZXJ2aWNlc0NvbnRhaW5lciB9IGZyb20gJy4vaW52ZXJzaWZ5LmNvbmZpZyc7XG5cbmZ1bmN0aW9uIGdldFNlcnZpY2VzKCkge1xuXHRyZXR1cm4gc2VydmljZXNDb250YWluZXIuZ2V0QWxsKFNlcnZpY2VTeW1ib2wpLm1hcCgoc2VydmljZSkgPT4ge1xuXHRcdHJldHVybiB7XG5cdFx0XHRwcm92aWRlOiBzZXJ2aWNlLmNvbnN0cnVjdG9yLFxuXHRcdFx0dXNlVmFsdWU6IHNlcnZpY2UsXG5cdFx0fTtcblx0fSk7XG59XG5cbmNvbnN0IHNlcnZpY2VzID0gZ2V0U2VydmljZXMoKTtcblxuQEdsb2JhbCgpXG5ATW9kdWxlKHtcblx0cHJvdmlkZXJzOiBzZXJ2aWNlcyxcblx0ZXhwb3J0czogc2VydmljZXMsXG59KVxuZXhwb3J0IGNsYXNzIFNlcnZpY2VzTW9kdWxlIHtcblx0Y29uc3RydWN0b3IoKSB7fVxufVxuIiwiaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IFVzZXJzU2VydmljZSB9IGZyb20gJy4vVXNlcnNTZXJ2aWNlJztcbmltcG9ydCB7IHJvdXRlck5hbWUgfSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnc2VydmljZXMvSVNlcnZpY2UnO1xuXG5Acm91dGVyTmFtZSgnc29jaWFsLXJlZ2lzdGVyLXNlcnZpY2UnKVxuQGluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFNvY2lhbFJlZ2lzdGVyU2VydmljZSBpbXBsZW1lbnRzIElTZXJ2aWNlIHtcblx0Y29uc3RydWN0b3IoQGluamVjdChVc2Vyc1NlcnZpY2UpIHByb3RlY3RlZCB1c2Vyc1NlcnZpY2U6IFVzZXJzU2VydmljZSkge31cblxuXHRhc3luYyByZWdpc3Rlcihwcm9maWxlSW5mbzogb2JqZWN0KTogUHJvbWlzZTx7IHJlZGlyZWN0VXJsOiBzdHJpbmcgfT4ge1xuXHRcdGNvbnN0IHNvY2lhbElkID0gcHJvZmlsZUluZm9bJ2lkJ107XG5cblx0XHRjb25zdCBjdXJyZW50VXNlciA9IGF3YWl0IHRoaXMudXNlcnNTZXJ2aWNlLmdldFNvY2lhbChzb2NpYWxJZCk7XG5cblx0XHRsZXQgcmVkaXJlY3RVcmwgPSAnJztcblxuXHRcdGlmIChjdXJyZW50VXNlcikge1xuXHRcdFx0Y3VycmVudFVzZXIuaXNSZWdpc3RyYXRpb25Db21wbGV0ZWRcblx0XHRcdFx0PyAocmVkaXJlY3RVcmwgPSAnbG9naW4vc29jaWUvJyArIGN1cnJlbnRVc2VyWydfaWQnXSlcblx0XHRcdFx0OiAocmVkaXJlY3RVcmwgPSAnbG9naW4vYnlMb2NhdGlvbi8nICsgY3VycmVudFVzZXJbJ19pZCddKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgW2ZpcnN0bmFtZSwgbGFzdG5hbWVdID0gcHJvZmlsZUluZm9bJ2Rpc3BsYXlOYW1lJ10uc3BsaXQoJyAnKTtcblxuXHRcdFx0Y29uc3QgZW1haWwgPSBwcm9maWxlSW5mb1snZW1haWxzJ11bMF1bJ3ZhbHVlJ107XG5cblx0XHRcdGNvbnN0IHNvY2lhbElkT25Qcm9maWxlID0gcHJvZmlsZUluZm9bJ2lkJ107XG5cblx0XHRcdGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB0aGlzLnVzZXJzU2VydmljZS5pbml0VXNlcih7XG5cdFx0XHRcdGZpcnN0TmFtZTogZmlyc3RuYW1lLFxuXHRcdFx0XHRsYXN0TmFtZTogbGFzdG5hbWUsXG5cdFx0XHRcdGVtYWlsLFxuXHRcdFx0XHRzb2NpYWxJZHM6IFtzb2NpYWxJZE9uUHJvZmlsZV0sXG5cdFx0XHRcdGlzUmVnaXN0cmF0aW9uQ29tcGxldGVkOiBmYWxzZSxcblx0XHRcdH0pO1xuXG5cdFx0XHRyZWRpcmVjdFVybCA9ICdsb2dpbi9ieUxvY2F0aW9uLycgKyBuZXdVc2VyWydfaWQnXTtcblx0XHR9XG5cblx0XHRyZXR1cm4geyByZWRpcmVjdFVybCB9O1xuXHR9XG59XG4iLCJpbXBvcnQgR29vZ2xlU3RyYXRlZ3kgZnJvbSAncGFzc3BvcnQtZ29vZ2xlLW9hdXRoMjAnO1xuaW1wb3J0IEZhY2Vib29rU3RyYXRlZ3kgZnJvbSAncGFzc3BvcnQtZmFjZWJvb2snO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IFNvY2lhbFJlZ2lzdGVyU2VydmljZSB9IGZyb20gJy4vU29jaWFsUmVnaXN0ZXJTZXJ2aWNlJztcbmltcG9ydCB7IHJvdXRlck5hbWUgfSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi8uLi9lbnYnO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJ3NlcnZpY2VzL0lTZXJ2aWNlJztcblxuQHJvdXRlck5hbWUoJ3NvY2lhbC1zdHJhdGVnaWVzLXNlcnZpY2UnKVxuQGluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFNvY2lhbFN0cmF0ZWdpZXNTZXJ2aWNlIGltcGxlbWVudHMgSVNlcnZpY2Uge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRAaW5qZWN0KFNvY2lhbFJlZ2lzdGVyU2VydmljZSlcblx0XHRwcm90ZWN0ZWQgc29jaWFsUmVnaXN0ZXI6IFNvY2lhbFJlZ2lzdGVyU2VydmljZVxuXHQpIHt9XG5cblx0Z2V0R29vZ2xlU3RyYXRlZ3koKTogR29vZ2xlU3RyYXRlZ3kgfCBudWxsIHtcblx0XHRpZiAoZW52LkdPT0dMRV9BUFBfSUQgIT09ICcnICYmIGVudi5HT09HTEVfQVBQX1NFQ1JFVCAhPT0gJycpIHtcblx0XHRcdHJldHVybiBuZXcgR29vZ2xlU3RyYXRlZ3koXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjbGllbnRJRDogZW52LkdPT0dMRV9BUFBfSUQsXG5cdFx0XHRcdFx0Y2xpZW50U2VjcmV0OiBlbnYuR09PR0xFX0FQUF9TRUNSRVQsXG5cdFx0XHRcdFx0Y2FsbGJhY2tVUkw6ICcvYXV0aC9nb29nbGUvY2FsbGJhY2snLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRhc3luYyAoYWNjZXNzVG9rZW4sIHJlZnJlc2hUb2tlbiwgcHJvZmlsZSwgZG9uZSkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IHsgcmVkaXJlY3RVcmwgfSA9IGF3YWl0IHRoaXMuc29jaWFsUmVnaXN0ZXIucmVnaXN0ZXIoXG5cdFx0XHRcdFx0XHRwcm9maWxlXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdGRvbmUobnVsbCwgeyByZWRpcmVjdFVybCB9KTtcblx0XHRcdFx0fVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zb2xlLmxvZyhcblx0XHRcdGBXYXJuaW5nOiBHb29nbGUgT0F1dGggZGlzYWJsZWQgYmVjYXVzZSBubyBkZXRhaWxzIHByb3ZpZGVkIGluIHRoZSBzZXR0aW5ncy9lbnZpcm9ubWVudGBcblx0XHQpO1xuXG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRnZXRGYWNlYm9va1N0cmF0ZWd5KCk6IEZhY2Vib29rU3RyYXRlZ3kgfCBudWxsIHtcblx0XHRpZiAoZW52LkZBQ0VCT09LX0FQUF9JRCAhPT0gJycgJiYgZW52LkZBQ0VCT09LX0FQUF9TRUNSRVQgIT09ICcnKSB7XG5cdFx0XHRyZXR1cm4gbmV3IEZhY2Vib29rU3RyYXRlZ3koXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjbGllbnRJRDogZW52LkZBQ0VCT09LX0FQUF9JRCxcblx0XHRcdFx0XHRjbGllbnRTZWNyZXQ6IGVudi5GQUNFQk9PS19BUFBfU0VDUkVULFxuXHRcdFx0XHRcdGNhbGxiYWNrVVJMOiAnL2F1dGgvZmFjZWJvb2svY2FsbGJhY2snLFxuXHRcdFx0XHRcdHByb2ZpbGVGaWVsZHM6IFtcblx0XHRcdFx0XHRcdCdpZCcsXG5cdFx0XHRcdFx0XHQnZGlzcGxheU5hbWUnLFxuXHRcdFx0XHRcdFx0J3BpY3R1cmUnLFxuXHRcdFx0XHRcdFx0J2VtYWlsJyxcblx0XHRcdFx0XHRcdCdnZW5kZXInLFxuXHRcdFx0XHRcdF0sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFzeW5jIChhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuLCBwcm9maWxlLCBkb25lKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgeyByZWRpcmVjdFVybCB9ID0gYXdhaXQgdGhpcy5zb2NpYWxSZWdpc3Rlci5yZWdpc3Rlcihcblx0XHRcdFx0XHRcdHByb2ZpbGVcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGRvbmUobnVsbCwgeyByZWRpcmVjdFVybCB9KTtcblx0XHRcdFx0fVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zb2xlLmxvZyhcblx0XHRcdGBXYXJuaW5nOiBGYWNlYm9vayBPQXV0aCBkaXNhYmxlZCBiZWNhdXNlIG5vIGRldGFpbHMgcHJvdmlkZWQgaW4gdGhlIHNldHRpbmdzL2Vudmlyb25tZW50YFxuXHRcdCk7XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxufVxuIiwiaW1wb3J0IHtcblx0Q29tbWFuZEJ1cyxcblx0Q29tbWFuZEhhbmRsZXIsXG5cdElDb21tYW5kLFxuXHRJQ29tbWFuZEhhbmRsZXIsXG59IGZyb20gJ0BuZXN0anMvY3Fycyc7XG5pbXBvcnQgeyByb3V0ZXJOYW1lIH0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IHsgaW5qZWN0YWJsZSwgb3B0aW9uYWwgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgVXNlcnNTZXJ2aWNlIH0gZnJvbSAnLi9Vc2Vyc1NlcnZpY2UnO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJ3NlcnZpY2VzL0lTZXJ2aWNlJztcblxuLyoqXG4gKiBBYm91dFVzIENvbW1hbmRcbiAqIEluIHRoaXMgZXhwZXJpbWVudCwgd2UgYXNzdW1lIHRoYXQgdGV4dCBvZiBhYm91dCB1cyBjb3VsZCBkZXBlbmQgb24gdXNlcklkIGFuZCBoaXMgZGV2aWNlIDopXG4gKiBFLmcuIHRvIHVzZXIgQSB3ZSBjb3VsZCByZXNwb25kIFwiV2UgYXJlIEV2ZXIhXCIsIHRvIHVzZXIgQiB3ZSBjb3VsZCByZXNwb25kIFwiV2UgYXJlIEV2ZXIgUGxhdGZvcm0hXCIsIGV0Yy5cbiAqXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgR2V0QWJvdXRVc0NvbW1hbmRcbiAqIEBpbXBsZW1lbnRzIHtJQ29tbWFuZH1cbiAqL1xuZXhwb3J0IGNsYXNzIEdldEFib3V0VXNDb21tYW5kIGltcGxlbWVudHMgSUNvbW1hbmQge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwdWJsaWMgcmVhZG9ubHkgdXNlcklkOiBzdHJpbmcsXG5cdFx0cHVibGljIHJlYWRvbmx5IGRldmljZUlkOiBzdHJpbmdcblx0KSB7fVxufVxuXG4vKipcbiAqIENRUlMgZXhwZXJpbWVudGFsIGludGVncmF0aW9uXG4gKiBUaGlzIHNlcnZpY2UgYmFzaWNhbGx5IGp1c3QgbGlzdGVuIG9uICd1c2VyQ29tbWFuZFNlcnZpY2UnIGFuZCBleGVjdXRlIGNvbW1hbmQgJ0dldEFib3V0VXNDb21tYW5kJ1xuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBVc2VyQ29tbWFuZFNlcnZpY2VcbiAqL1xuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ3VzZXJDb21tYW5kU2VydmljZScpXG5leHBvcnQgY2xhc3MgVXNlckNvbW1hbmRTZXJ2aWNlIGltcGxlbWVudHMgSVNlcnZpY2Uge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRAb3B0aW9uYWwoKVxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2NvbW1hbmRCdXM6IENvbW1hbmRCdXNcblx0KSB7fVxuXG5cdGFzeW5jIGV4ZWModXNlcklkOiBzdHJpbmcsIGRldmljZUlkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdHJldHVybiB0aGlzLl9jb21tYW5kQnVzLmV4ZWN1dGUoXG5cdFx0XHRuZXcgR2V0QWJvdXRVc0NvbW1hbmQodXNlcklkLCBkZXZpY2VJZClcblx0XHQpO1xuXHR9XG59XG5cbi8qKlxuICogSGFuZGxlciBmb3IgR2V0QWJvdXRVc0NvbW1hbmRcbiAqIERvIG5vdGhpbmcgZm9yIG5vdyA6KVxuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBHZXRBYm91dFVzSGFuZGxlclxuICogQGltcGxlbWVudHMge0lDb21tYW5kSGFuZGxlcjxHZXRBYm91dFVzQ29tbWFuZD59XG4gKi9cbkBDb21tYW5kSGFuZGxlcihHZXRBYm91dFVzQ29tbWFuZClcbmV4cG9ydCBjbGFzcyBHZXRBYm91dFVzSGFuZGxlciBpbXBsZW1lbnRzIElDb21tYW5kSGFuZGxlcjxHZXRBYm91dFVzQ29tbWFuZD4ge1xuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IF91c2VyU2VydmljZTogVXNlcnNTZXJ2aWNlKSB7fVxuXG5cdGFzeW5jIGV4ZWN1dGUoY29tbWFuZDogR2V0QWJvdXRVc0NvbW1hbmQpIHtcblx0XHRjb25zdCB7IHVzZXJJZCwgZGV2aWNlSWQgfSA9IGNvbW1hbmQ7XG5cblx0XHRjb25zb2xlLmxvZygnQ09NTUFORCBQQVJBTSAxOicsIHVzZXJJZCk7XG5cdFx0Y29uc29sZS5sb2coJ0NPTU1BTkQgUEFSQU0gMjonLCBkZXZpY2VJZCk7XG5cblx0XHRjb25zdCByZXN1bHQgPSB0aGlzLl91c2VyU2VydmljZS5nZXRBYm91dFVzKHVzZXJJZCwgZGV2aWNlSWQpO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxufVxuIiwiaW1wb3J0IElTZXJ2aWNlIGZyb20gJy4uL0lTZXJ2aWNlJztcbmltcG9ydCBVc2VyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvVXNlcic7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IHsgRW50aXR5U2VydmljZSB9IGZyb20gJ0BweXJvL2RiLXNlcnZlci9lbnRpdHktc2VydmljZSc7XG5pbXBvcnQgeyBhc3luY0xpc3RlbmVyLCByb3V0ZXJOYW1lIH0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IHsgVXNlcnNTZXJ2aWNlIH0gZnJvbSAnLi9Vc2Vyc1NlcnZpY2UnO1xuaW1wb3J0IHsgTm90SW52aXRlZEVycm9yIH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lcnJvcnMvTm90SW52aXRlZEVycm9yJztcbmltcG9ydCB7IElVc2VyQ3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lVc2VyJztcbmltcG9ydCB7IEludml0ZXNTZXJ2aWNlIH0gZnJvbSAnLi4vaW52aXRlcyc7XG5pbXBvcnQgSVVzZXJBdXRoUm91dGVyLCB7XG5cdEFkZGFibGVSZWdpc3RyYXRpb25JbmZvLFxuXHRJVXNlckxvZ2luUmVzcG9uc2UsXG5cdElVc2VyUmVnaXN0cmF0aW9uSW5wdXQsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JVXNlckF1dGhSb3V0ZXInO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IEF1dGhTZXJ2aWNlLCBBdXRoU2VydmljZUZhY3RvcnkgfSBmcm9tICcuLi9hdXRoJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uL2Vudic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5cbi8qKlxuICogQ3VzdG9tZXJzIEF1dGhlbnRpY2F0aW9uIFNlcnZpY2VcbiAqIFRPRE86IHJlbmFtZSBcIlVzZXJzXCIgdG8gXCJDdXN0b21lcnNcIlxuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBVc2Vyc0F1dGhTZXJ2aWNlXG4gKiBAZXh0ZW5kcyB7RW50aXR5U2VydmljZTxVc2VyPn1cbiAqIEBpbXBsZW1lbnRzIHtJVXNlckF1dGhSb3V0ZXJ9XG4gKiBAaW1wbGVtZW50cyB7SVNlcnZpY2V9XG4gKi9cbkBpbmplY3RhYmxlKClcbkByb3V0ZXJOYW1lKCd1c2VyLWF1dGgnKVxuZXhwb3J0IGNsYXNzIFVzZXJzQXV0aFNlcnZpY2UgZXh0ZW5kcyBFbnRpdHlTZXJ2aWNlPFVzZXI+XG5cdGltcGxlbWVudHMgSVVzZXJBdXRoUm91dGVyLCBJU2VydmljZSB7XG5cdHJlYWRvbmx5IERCT2JqZWN0OiBhbnkgPSBVc2VyO1xuXG5cdC8vIFRPRE86IHdoeSBpdCdzIG5vdCBpbiB0aGUgc2V0dGluZ3MgYW5kIGhhcmRjb2RlZCB0byBzb21lIGRlZmF1bHQgdmFsdWUgaGVyZT9cblx0cHJpdmF0ZSBzdGF0aWMgSVNfSU5WSVRFU19TWVNURU1fT046IGJvb2xlYW4gPSBmYWxzZTtcblxuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHtcblx0XHRuYW1lOiAndXNlckF1dGhTZXJ2aWNlJyxcblx0fSk7XG5cblx0cHJpdmF0ZSByZWFkb25seSBhdXRoU2VydmljZTogQXV0aFNlcnZpY2U8VXNlcj47XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSB1c2Vyc1NlcnZpY2U6IFVzZXJzU2VydmljZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IGludml0ZXNTZXJ2aWNlOiBJbnZpdGVzU2VydmljZSxcblx0XHRAaW5qZWN0KCdGYWN0b3J5PEF1dGhTZXJ2aWNlPicpXG5cdFx0cHJpdmF0ZSByZWFkb25seSBhdXRoU2VydmljZUZhY3Rvcnk6IEF1dGhTZXJ2aWNlRmFjdG9yeVxuXHQpIHtcblx0XHRzdXBlcigpO1xuXG5cdFx0dGhpcy5hdXRoU2VydmljZSA9IHRoaXMuYXV0aFNlcnZpY2VGYWN0b3J5KHtcblx0XHRcdHJvbGU6ICd1c2VyJyxcblx0XHRcdEVudGl0eTogVXNlcixcblx0XHRcdHNhbHRSb3VuZHM6IGVudi5VU0VSX1BBU1NXT1JEX0JDUllQVF9TQUxUX1JPVU5EUyxcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZWdpc3RlciBDdXN0b21lci5cblx0ICogVGhyb3cgTm90SW52aXRlZEVycm9yIGlmIGN1c3RvbWVyIG5vdCBpbnZpdGVkIGFuZCBpbnZpdGVzIHN5c3RlbSBlbmFibGVkXG5cdCAqXG5cdCAqXG5cdCAqIEBwYXJhbSB7SVVzZXJSZWdpc3RyYXRpb25JbnB1dH0gaW5wdXRcblx0ICogQHJldHVybnMge1Byb21pc2U8VXNlcj59XG5cdCAqIEBtZW1iZXJvZiBVc2Vyc0F1dGhTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHJlZ2lzdGVyKGlucHV0OiBJVXNlclJlZ2lzdHJhdGlvbklucHV0KTogUHJvbWlzZTxVc2VyPiB7XG5cdFx0aWYgKFxuXHRcdFx0VXNlcnNBdXRoU2VydmljZS5JU19JTlZJVEVTX1NZU1RFTV9PTiAmJlxuXHRcdFx0IShhd2FpdCB0aGlzLl9pc0ludml0ZWQoaW5wdXQudXNlcikpXG5cdFx0KSB7XG5cdFx0XHR0aHJvdyBuZXcgTm90SW52aXRlZEVycm9yKCk7XG5cdFx0fVxuXG5cdFx0aWYgKGlucHV0LnVzZXIuZmlyc3ROYW1lID09PSAnJykge1xuXHRcdFx0ZGVsZXRlIGlucHV0LnVzZXIuZmlyc3ROYW1lO1xuXHRcdH1cblxuXHRcdGlmIChpbnB1dC51c2VyLmxhc3ROYW1lID09PSAnJykge1xuXHRcdFx0ZGVsZXRlIGlucHV0LnVzZXIubGFzdE5hbWU7XG5cdFx0fVxuXG5cdFx0aWYgKGlucHV0LnVzZXIuZW1haWwgPT09ICcnKSB7XG5cdFx0XHRkZWxldGUgaW5wdXQudXNlci5lbWFpbDtcblx0XHR9XG5cblx0XHRjb25zdCB1c2VyID0gYXdhaXQgdGhpcy51c2Vyc1NlcnZpY2UuY3JlYXRlKHtcblx0XHRcdC4uLmlucHV0LnVzZXIsXG5cdFx0XHQuLi4oaW5wdXQucGFzc3dvcmRcblx0XHRcdFx0PyB7XG5cdFx0XHRcdFx0XHRoYXNoOiBhd2FpdCB0aGlzLmF1dGhTZXJ2aWNlLmdldFBhc3N3b3JkSGFzaChcblx0XHRcdFx0XHRcdFx0aW5wdXQucGFzc3dvcmRcblx0XHRcdFx0XHRcdCksXG5cdFx0XHRcdCAgfVxuXHRcdFx0XHQ6IHt9KSxcblx0XHR9KTtcblxuXHRcdHJldHVybiB1c2VyO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgQ3VzdG9tZXIgcGFzc3dvcmRcblx0ICpcblx0ICogQHBhcmFtIHtVc2VyWydpZCddfSBpZFxuXHQgKiBAcGFyYW0ge3sgY3VycmVudDogc3RyaW5nOyBuZXc6IHN0cmluZyB9fSBwYXNzd29yZFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cblx0ICogQG1lbWJlcm9mIFVzZXJzQXV0aFNlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgdXBkYXRlUGFzc3dvcmQoXG5cdFx0aWQ6IFVzZXJbJ2lkJ10sXG5cdFx0cGFzc3dvcmQ6IHsgY3VycmVudDogc3RyaW5nOyBuZXc6IHN0cmluZyB9XG5cdCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGF3YWl0IHRoaXMudXNlcnNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdGF3YWl0IHRoaXMuYXV0aFNlcnZpY2UudXBkYXRlUGFzc3dvcmQoaWQsIHBhc3N3b3JkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgZXhpdGVkIEN1c3RvbWVyIHdpdGggZ2l2ZW4gcmVnaXN0cmF0aW9uIGRldGFpbHMgKGVtYWlsLCBwYXNzd29yZCwgZXRjKVxuXHQgKlxuXHQgKiBAcGFyYW0ge1VzZXJbJ2lkJ119IGlkXG5cdCAqIEBwYXJhbSB7QWRkYWJsZVJlZ2lzdHJhdGlvbkluZm99IHtcblx0ICogXHRcdFx0ZW1haWwsXG5cdCAqIFx0XHRcdHBhc3N3b3JkLFxuXHQgKiBcdFx0XHRmaXJzdE5hbWUsXG5cdCAqIFx0XHRcdGxhc3ROYW1lLFxuXHQgKiBcdFx0XHRwaG9uZVxuXHQgKiBcdFx0fVxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cblx0ICogQG1lbWJlcm9mIFVzZXJzQXV0aFNlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgYWRkUmVnaXN0cmF0aW9uSW5mbyhcblx0XHRpZDogVXNlclsnaWQnXSxcblx0XHR7IGVtYWlsLCBwYXNzd29yZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgcGhvbmUgfTogQWRkYWJsZVJlZ2lzdHJhdGlvbkluZm9cblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0YXdhaXQgdGhpcy51c2Vyc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cblx0XHRjb25zdCB1c2VyID0gYXdhaXQgdGhpcy51c2Vyc1NlcnZpY2UuZ2V0Q3VycmVudChpZCk7XG5cblx0XHRpZiAodXNlci5lbWFpbCA9PSBudWxsICYmIGVtYWlsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1RvIGFkZCBwYXNzd29yZCB1c2VyIG11c3QgaGF2ZSBlbWFpbCcpO1xuXHRcdH1cblxuXHRcdGF3YWl0IHRoaXMuYXV0aFNlcnZpY2UuYWRkUGFzc3dvcmQoaWQsIHBhc3N3b3JkKTtcblxuXHRcdGF3YWl0IHRoaXMudXNlcnNTZXJ2aWNlLnVwZGF0ZShpZCwge1xuXHRcdFx0Li4uKGVtYWlsID8geyBlbWFpbCB9IDoge30pLFxuXHRcdFx0Li4uKGZpcnN0TmFtZSA/IHsgZmlyc3ROYW1lIH0gOiB7fSksXG5cdFx0XHQuLi4obGFzdE5hbWUgPyB7IGxhc3ROYW1lIH0gOiB7fSksXG5cdFx0XHQuLi4ocGhvbmUgPyB7IHBob25lIH0gOiB7fSksXG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogTG9naW4gQ3VzdG9tZXIgKHJldHVybnMgdXNlciByZWNvcmQgYW5kIEF1dGggdG9rZW4pXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmRcblx0ICogQHJldHVybnMgeyhQcm9taXNlPElVc2VyTG9naW5SZXNwb25zZSB8IG51bGw+KX1cblx0ICogQG1lbWJlcm9mIFVzZXJzQXV0aFNlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgbG9naW4oXG5cdFx0ZW1haWw6IHN0cmluZyxcblx0XHRwYXNzd29yZDogc3RyaW5nXG5cdCk6IFByb21pc2U8SVVzZXJMb2dpblJlc3BvbnNlIHwgbnVsbD4ge1xuXHRcdGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuYXV0aFNlcnZpY2UubG9naW4oeyBlbWFpbCB9LCBwYXNzd29yZCk7XG5cblx0XHRpZiAoIXJlcyB8fCByZXMuZW50aXR5LmlzRGVsZXRlZCkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHVzZXI6IHJlcy5lbnRpdHksXG5cdFx0XHR0b2tlbjogcmVzLnRva2VuLFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogR2V0IGN1cnJlbnQgUmVnaXN0cmF0aW9uIHNldHRpbmdzIChlLmcuIHJlZ2lzdHJhdGlvblJlcXVpcmVkT25TdGFydClcblx0ICogVE9ETzogbWFrZSBhc3luY1xuXHQgKlxuXHQgKiBAbWVtYmVyb2YgVXNlcnNBdXRoU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRnZXRSZWdpc3RyYXRpb25zU2V0dGluZ3MoKTogUHJvbWlzZTx7XG5cdFx0cmVnaXN0cmF0aW9uUmVxdWlyZWRPblN0YXJ0OiBib29sZWFuO1xuXHR9PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlPHsgcmVnaXN0cmF0aW9uUmVxdWlyZWRPblN0YXJ0OiBib29sZWFuIH0+KFxuXHRcdFx0KHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRyZXNvbHZlKHtcblx0XHRcdFx0XHRyZWdpc3RyYXRpb25SZXF1aXJlZE9uU3RhcnQ6XG5cdFx0XHRcdFx0XHRlbnYuU0VUVElOR1NfUkVHSVNUUkFUSU9OU19SRVFVSVJFRF9PTl9TVEFSVCxcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgX2lzSW52aXRlZChcblx0XHR1c2VyQ3JlYXRlT2JqZWN0OiBJVXNlckNyZWF0ZU9iamVjdFxuXHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRjb25zdCBpbnZpdGVGaW5kT2JqZWN0ID0ge1xuXHRcdFx0J2dlb0xvY2F0aW9uLmNvdW50cnlJZCc6IHVzZXJDcmVhdGVPYmplY3QuZ2VvTG9jYXRpb24uY291bnRyeUlkLFxuXHRcdFx0J2dlb0xvY2F0aW9uLmNpdHknOiB1c2VyQ3JlYXRlT2JqZWN0Lmdlb0xvY2F0aW9uLmNpdHksXG5cdFx0XHQnZ2VvTG9jYXRpb24uc3RyZWV0QWRkcmVzcyc6XG5cdFx0XHRcdHVzZXJDcmVhdGVPYmplY3QuZ2VvTG9jYXRpb24uc3RyZWV0QWRkcmVzcyxcblx0XHRcdCdnZW9Mb2NhdGlvbi5ob3VzZSc6IHVzZXJDcmVhdGVPYmplY3QuZ2VvTG9jYXRpb24uaG91c2UsXG5cdFx0XHRhcGFydG1lbnQ6IHVzZXJDcmVhdGVPYmplY3QuYXBhcnRtZW50LFxuXHRcdH07XG5cblx0XHRpZiAodXNlckNyZWF0ZU9iamVjdC5nZW9Mb2NhdGlvbi5wb3N0Y29kZSkge1xuXHRcdFx0aW52aXRlRmluZE9iamVjdFsnZ2VvTG9jYXRpb24ucG9zdGNvZGUnXSA9XG5cdFx0XHRcdHVzZXJDcmVhdGVPYmplY3QuZ2VvTG9jYXRpb24ucG9zdGNvZGU7XG5cdFx0fVxuXG5cdFx0Y29uc3QgaW52aXRlID0gYXdhaXQgdGhpcy5pbnZpdGVzU2VydmljZS5maW5kT25lKGludml0ZUZpbmRPYmplY3QpO1xuXG5cdFx0cmV0dXJuIGludml0ZSAhPSBudWxsO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUsIExhenlTZXJ2aWNlSWRlbnRpZmVyIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBPcmRlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vb3JkZXJzJztcbmltcG9ydCBPcmRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL09yZGVyJztcbmltcG9ydCB7IFVzZXJzU2VydmljZSB9IGZyb20gJy4vVXNlcnNTZXJ2aWNlJztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgSVVzZXJPcmRlcnNSb3V0ZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lVc2VyT3JkZXJzUm91dGVyJztcbmltcG9ydCB7IG9ic2VydmFibGVMaXN0ZW5lciwgcm91dGVyTmFtZSB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCBJU2VydmljZSBmcm9tICcuLi9JU2VydmljZSc7XG5pbXBvcnQgeyBFeGlzdGVuY2VFdmVudFR5cGUgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IHsgY29uY2F0LCBvZiwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZXhoYXVzdE1hcCwgZmlsdGVyLCBzaGFyZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCBVc2VyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvVXNlcic7XG5pbXBvcnQgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xuaW1wb3J0IHsgT2JqZWN0SWQgfSBmcm9tICdtb25nb2RiJztcbmltcG9ydCBPcmRlckNhcnJpZXJTdGF0dXMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnVtcy9PcmRlckNhcnJpZXJTdGF0dXMnO1xuaW1wb3J0IE9yZGVyV2FyZWhvdXNlU3RhdHVzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW51bXMvT3JkZXJXYXJlaG91c2VTdGF0dXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuXG4vKipcbiAqIEN1c3RvbWVycyBPcmRlcnMgU2VydmljZVxuICogVE9ETzogcmVuYW1lIFVzZXJzIHRvIEN1c3RvbWVyc1xuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBVc2Vyc09yZGVyc1NlcnZpY2VcbiAqIEBpbXBsZW1lbnRzIHtJVXNlck9yZGVyc1JvdXRlcn1cbiAqIEBpbXBsZW1lbnRzIHtJU2VydmljZX1cbiAqL1xuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ3VzZXItb3JkZXJzJylcbmV4cG9ydCBjbGFzcyBVc2Vyc09yZGVyc1NlcnZpY2UgaW1wbGVtZW50cyBJVXNlck9yZGVyc1JvdXRlciwgSVNlcnZpY2Uge1xuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHtcblx0XHRuYW1lOiAndXNlcnNPcmRlcnNTZXJ2aWNlJyxcblx0fSk7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gT3JkZXJzU2VydmljZSkpXG5cdFx0cHJvdGVjdGVkIG9yZGVyc1NlcnZpY2U6IE9yZGVyc1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gVXNlcnNTZXJ2aWNlKSlcblx0XHRwcm90ZWN0ZWQgdXNlcnNTZXJ2aWNlOiBVc2Vyc1NlcnZpY2Vcblx0KSB7fVxuXG5cdC8qKlxuXHQgKiBHZXQgT3JkZXJzIGZvciBnaXZlbiBDdXN0b21lcnNcblx0ICogVE9ETzogYWRkIHBhZ2luZ1xuXHQgKlxuXHQgKiBAcGFyYW0ge1VzZXJbJ2lkJ119IHVzZXJJZFxuXHQgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxPcmRlcltdPn1cblx0ICogQG1lbWJlcm9mIFVzZXJzT3JkZXJzU2VydmljZVxuXHQgKi9cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldCh1c2VySWQ6IFVzZXJbJ2lkJ10pOiBPYnNlcnZhYmxlPE9yZGVyW10+IHtcblx0XHRyZXR1cm4gY29uY2F0KFxuXHRcdFx0b2YobnVsbCksXG5cdFx0XHR0aGlzLm9yZGVyc1NlcnZpY2UuZXhpc3RlbmNlLnBpcGUoXG5cdFx0XHRcdGZpbHRlcigoZSkgPT4gdGhpcy5fc2hvdWxkUHVsbCh1c2VySWQsIGUpKSxcblx0XHRcdFx0c2hhcmUoKVxuXHRcdFx0KVxuXHRcdCkucGlwZShleGhhdXN0TWFwKCgpID0+IHRoaXMuZ2V0Q3VycmVudCh1c2VySWQpKSk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IE9yZGVycyBmb3IgZ2l2ZW4gQ3VzdG9tZXJzXG5cdCAqIFRPRE86IGFkZCBwYWdpbmdcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxPcmRlcltdPn1cblx0ICogQG1lbWJlcm9mIFVzZXJzT3JkZXJzU2VydmljZVxuXHQgKi9cblx0YXN5bmMgZ2V0Q3VycmVudCh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8T3JkZXJbXT4ge1xuXHRcdGNvbnN0IG9yZGVycyA9IGF3YWl0IHRoaXMub3JkZXJzU2VydmljZS5maW5kKHtcblx0XHRcdCd1c2VyLl9pZCc6IG5ldyBtb25nb29zZS5UeXBlcy5PYmplY3RJZCh1c2VySWQpLFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblxuXHRcdHJldHVybiBfLm9yZGVyQnkoXG5cdFx0XHRvcmRlcnMsXG5cdFx0XHRbKG9yZGVyKSA9PiBvcmRlci5jcmVhdGVkQXQsIChvcmRlcikgPT4gb3JkZXIub3JkZXJOdW1iZXJdLFxuXHRcdFx0WydkZXNjJywgJ2Rlc2MnXVxuXHRcdCk7XG5cdH1cblxuXHRhc3luYyBnZXRDdXN0b21lck1ldHJpY3MoaWQ6IHN0cmluZykge1xuXHRcdGNvbnN0IGNvbXBsZXRlZFVzZXJPcmRlcnMgPSBhd2FpdCB0aGlzLm9yZGVyc1NlcnZpY2UuTW9kZWwuZmluZCh7XG5cdFx0XHQkYW5kOiBbXG5cdFx0XHRcdHsgJ3VzZXIuX2lkJzogaWQgfSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdCRvcjogW1xuXHRcdFx0XHRcdFx0eyBjYXJyaWVyU3RhdHVzOiBPcmRlckNhcnJpZXJTdGF0dXMuRGVsaXZlcnlDb21wbGV0ZWQgfSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOlxuXHRcdFx0XHRcdFx0XHRcdE9yZGVyV2FyZWhvdXNlU3RhdHVzLkdpdmVuVG9DdXN0b21lcixcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XSxcblx0XHRcdFx0fSxcblx0XHRcdFx0eyBpc0NhbmNlbGxlZDogZmFsc2UgfSxcblx0XHRcdF0sXG5cdFx0fSkuc2VsZWN0KHsgcHJvZHVjdHM6IDEgfSk7XG5cblx0XHRjb25zdCBjb21wbGV0ZWRPcmRlcnNUb3RhbFN1bSA9IGNvbXBsZXRlZFVzZXJPcmRlcnNcblx0XHRcdC5tYXAoKG8pID0+IHtcblx0XHRcdFx0cmV0dXJuIG8ucHJvZHVjdHNcblx0XHRcdFx0XHQubWFwKChwKSA9PiB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcC5wcmljZSAqIHAuY291bnQ7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG5cdFx0XHR9KVxuXHRcdFx0LnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApO1xuXG5cdFx0Y29uc3QgdG90YWxPcmRlcnMgPSBhd2FpdCB0aGlzLm9yZGVyc1NlcnZpY2UuTW9kZWwuZmluZCh7XG5cdFx0XHQndXNlci5faWQnOiBpZCxcblx0XHR9KVxuXHRcdFx0LmNvdW50RG9jdW1lbnRzKClcblx0XHRcdC5leGVjKCk7XG5cblx0XHRjb25zdCBjYW5jZWxlZE9yZGVycyA9IGF3YWl0IHRoaXMub3JkZXJzU2VydmljZS5Nb2RlbC5maW5kKHtcblx0XHRcdCRhbmQ6IFt7ICd1c2VyLl9pZCc6IGlkIH0sIHsgaXNDYW5jZWxsZWQ6IHRydWUgfV0sXG5cdFx0fSlcblx0XHRcdC5jb3VudERvY3VtZW50cygpXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvdGFsT3JkZXJzLFxuXHRcdFx0Y2FuY2VsZWRPcmRlcnMsXG5cdFx0XHRjb21wbGV0ZWRPcmRlcnNUb3RhbFN1bSxcblx0XHR9O1xuXHR9XG5cblx0cHJpdmF0ZSBfc2hvdWxkUHVsbCh1c2VySWQ6IFVzZXJbJ2lkJ10sIGV2ZW50KSB7XG5cdFx0c3dpdGNoIChldmVudC50eXBlIGFzIEV4aXN0ZW5jZUV2ZW50VHlwZSkge1xuXHRcdFx0Y2FzZSBFeGlzdGVuY2VFdmVudFR5cGUuQ3JlYXRlZDpcblx0XHRcdFx0cmV0dXJuIGV2ZW50LnZhbHVlICE9IG51bGwgJiYgZXZlbnQudmFsdWUudXNlci5pZCA9PT0gdXNlcklkO1xuXG5cdFx0XHRjYXNlIEV4aXN0ZW5jZUV2ZW50VHlwZS5VcGRhdGVkOlxuXHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdChldmVudC52YWx1ZSAhPSBudWxsICYmIGV2ZW50LnZhbHVlLnVzZXIuaWQgPT09IHVzZXJJZCkgfHxcblx0XHRcdFx0XHQoZXZlbnQubGFzdFZhbHVlICE9IG51bGwgJiZcblx0XHRcdFx0XHRcdGV2ZW50Lmxhc3RWYWx1ZS51c2VyLmlkID09PSB1c2VySWQpXG5cdFx0XHRcdCk7XG5cblx0XHRcdGNhc2UgRXhpc3RlbmNlRXZlbnRUeXBlLlJlbW92ZWQ6XG5cdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0ZXZlbnQubGFzdFZhbHVlICE9IG51bGwgJiZcblx0XHRcdFx0XHRldmVudC5sYXN0VmFsdWUudXNlci5pZCA9PT0gdXNlcklkXG5cdFx0XHRcdCk7XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IG9ic2VydmFibGVMaXN0ZW5lciwgcm91dGVyTmFtZSB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCBJVXNlclByb2R1Y3RzUm91dGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JVXNlclByb2R1Y3RzUm91dGVyJztcbmltcG9ydCBIYW5kbGViYXJzIGZyb20gJ2hhbmRsZWJhcnMnO1xuaW1wb3J0IHsgb2JzZXJ2ZUZpbGUgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBEZXZpY2VzU2VydmljZSB9IGZyb20gJy4uL2RldmljZXMvRGV2aWNlc1NlcnZpY2UnO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJy4uL0lTZXJ2aWNlJztcbmltcG9ydCB7XG5cdGRpc3RpbmN0VW50aWxDaGFuZ2VkLFxuXHRleGhhdXN0TWFwLFxuXHRwdWJsaXNoUmVwbGF5LFxuXHRyZWZDb3VudCxcblx0c2hhcmUsXG5cdHN3aXRjaE1hcCxcbn0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgb2YsIHRocm93RXJyb3IsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcblxuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ3VzZXItcHJvZHVjdHMnKVxuZXhwb3J0IGNsYXNzIFVzZXJzUHJvZHVjdHNTZXJ2aWNlIGltcGxlbWVudHMgSVVzZXJQcm9kdWN0c1JvdXRlciwgSVNlcnZpY2Uge1xuXHRwcml2YXRlIHN0YXRpYyB0ZW1wbGF0ZXNEaXJQYXRoOiBzdHJpbmcgPSBgJHtfX2Rpcm5hbWV9Ly4uLy4uLy4uL3Jlcy90ZW1wbGF0ZXMvYDtcblxuXHRwcm90ZWN0ZWQgX3BsYWNlaG9sZGVyVGVtcGxhdGVGaWxlTmFtZTogc3RyaW5nID1cblx0XHRVc2Vyc1Byb2R1Y3RzU2VydmljZS50ZW1wbGF0ZXNEaXJQYXRoICsgYHVzZXJfcHJvZHVjdHNfcGxhY2Vob2xkZXIuaGJzYDtcblxuXHRwcm90ZWN0ZWQgX3BsYWNlaG9sZGVyVHJhbnNsYXRpb25zRmlsZU5hbWU6IHN0cmluZyA9XG5cdFx0VXNlcnNQcm9kdWN0c1NlcnZpY2UudGVtcGxhdGVzRGlyUGF0aCArXG5cdFx0YHVzZXJfcHJvZHVjdHNfcGxhY2Vob2xkZXIuanNvbmA7XG5cblx0cHJpdmF0ZSByZWFkb25seSBfcGxhY2Vob2xkZXJUZW1wbGF0ZVN0cmluZzogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuXHRwcml2YXRlIHJlYWRvbmx5IF9wbGFjZWhvbGRlclRyYW5zbGF0aW9uc0pTT046IE9ic2VydmFibGU8c3RyaW5nPjtcblxuXHRjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgZGV2aWNlc1NlcnZpY2U6IERldmljZXNTZXJ2aWNlKSB7XG5cdFx0dGhpcy5fcGxhY2Vob2xkZXJUZW1wbGF0ZVN0cmluZyA9IG9ic2VydmVGaWxlKFxuXHRcdFx0dGhpcy5fcGxhY2Vob2xkZXJUZW1wbGF0ZUZpbGVOYW1lXG5cdFx0KS5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksIHB1Ymxpc2hSZXBsYXkoMSksIHJlZkNvdW50KCkpO1xuXG5cdFx0dGhpcy5fcGxhY2Vob2xkZXJUcmFuc2xhdGlvbnNKU09OID0gb2JzZXJ2ZUZpbGUoXG5cdFx0XHR0aGlzLl9wbGFjZWhvbGRlclRyYW5zbGF0aW9uc0ZpbGVOYW1lXG5cdFx0KS5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksIHB1Ymxpc2hSZXBsYXkoMSksIHJlZkNvdW50KCkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBodG1sIHJlcHJlc2VudGluZyBwbGFjZWhvbGRlciB0byBzaG93IGluIGFwcCB3aGVuIHRoZXJlIGFyZSBubyBwcm9kdWN0cyBhdmFpbGFibGUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkXG5cdCAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPHN0cmluZz59XG5cdCAqIEBtZW1iZXJvZiBVc2Vyc1Byb2R1Y3RzU2VydmljZVxuXHQgKi9cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldFBsYWNlaG9sZGVyKHVzZXJJZDogc3RyaW5nLCBkZXZpY2VJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxzdHJpbmc+IHtcblx0XHRyZXR1cm4gdGhpcy5kZXZpY2VzU2VydmljZS5nZXQoZGV2aWNlSWQpLnBpcGUoXG5cdFx0XHRleGhhdXN0TWFwKChkZXZpY2UpID0+IHtcblx0XHRcdFx0aWYgKGRldmljZSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiB0aHJvd0Vycm9yKFxuXHRcdFx0XHRcdFx0bmV3IEVycm9yKGBVc2VyIHdpdGggdGhlIGlkICR7dXNlcklkfSBkb2Vzbid0IGV4aXN0YClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiBvZihkZXZpY2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KSxcblx0XHRcdGRpc3RpbmN0VW50aWxDaGFuZ2VkKFxuXHRcdFx0XHQob2xkRGV2aWNlLCBuZXdEZXZpY2UpID0+XG5cdFx0XHRcdFx0b2xkRGV2aWNlLmxhbmd1YWdlICE9PSBuZXdEZXZpY2UubGFuZ3VhZ2Vcblx0XHRcdCksXG5cdFx0XHRzd2l0Y2hNYXAoKGRldmljZSkgPT5cblx0XHRcdFx0Y29tYmluZUxhdGVzdChcblx0XHRcdFx0XHR0aGlzLl9wbGFjZWhvbGRlclRlbXBsYXRlU3RyaW5nLFxuXHRcdFx0XHRcdHRoaXMuX3BsYWNlaG9sZGVyVHJhbnNsYXRpb25zSlNPTixcblx0XHRcdFx0XHQodGVtcGxhdGVTdHJpbmc6IHN0cmluZywgdHJhbnNsYXRpb25zSlNPTjogc3RyaW5nKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCB0cmFuc2xhdGlvbnMgPSBKU09OLnBhcnNlKHRyYW5zbGF0aW9uc0pTT04pO1xuXG5cdFx0XHRcdFx0XHRjb25zdCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZSh0ZW1wbGF0ZVN0cmluZyk7XG5cblx0XHRcdFx0XHRcdGNvbnN0IGxhbmd1YWdlID0gT2JqZWN0LmtleXMoXG5cdFx0XHRcdFx0XHRcdEpTT04ucGFyc2UodHJhbnNsYXRpb25zSlNPTilcblx0XHRcdFx0XHRcdCkuZmlsdGVyKChrKSA9PlxuXHRcdFx0XHRcdFx0XHRrXG5cdFx0XHRcdFx0XHRcdFx0LnRvTG93ZXJDYXNlKClcblx0XHRcdFx0XHRcdFx0XHQuaW5jbHVkZXMoZGV2aWNlLmxhbmd1YWdlLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdFx0XHQpWzBdO1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gdGVtcGxhdGUodHJhbnNsYXRpb25zW2xhbmd1YWdlXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpXG5cdFx0XHQpLFxuXHRcdFx0c2hhcmUoKVxuXHRcdCk7XG5cdH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgTGF6eVNlcnZpY2VJZGVudGlmZXIgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgZW52IH0gZnJvbSAnLi4vLi4vZW52JztcbmltcG9ydCBVc2VyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvVXNlcic7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IHsgSW52aXRlc1NlcnZpY2UgfSBmcm9tICcuLi9pbnZpdGVzJztcbmltcG9ydCB7IERCU2VydmljZSB9IGZyb20gJ0BweXJvL2RiLXNlcnZlcic7XG5pbXBvcnQge1xuXHRJVXNlckNyZWF0ZU9iamVjdCxcblx0SVVzZXJJbml0aWFsaXplT2JqZWN0LFxufSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSVVzZXInO1xuaW1wb3J0IElVc2VyUm91dGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JVXNlclJvdXRlcic7XG5pbXBvcnQge1xuXHRhc3luY0xpc3RlbmVyLFxuXHRvYnNlcnZhYmxlTGlzdGVuZXIsXG5cdHJvdXRlck5hbWUsXG5cdHNlcmlhbGl6YXRpb24sXG59IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IG9ic2VydmVGaWxlIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IEdlb0xvY2F0aW9uLCB7XG5cdENvdW50cnksXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvR2VvTG9jYXRpb24nO1xuaW1wb3J0IElHZW9Mb2NhdGlvbiwge1xuXHRJR2VvTG9jYXRpb25DcmVhdGVPYmplY3QsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JR2VvTG9jYXRpb24nO1xuaW1wb3J0IHsgRGV2aWNlc1NlcnZpY2UgfSBmcm9tICcuLi9kZXZpY2VzJztcbmltcG9ydCBJU2VydmljZSBmcm9tICcuLi9JU2VydmljZSc7XG5pbXBvcnQgeyB2MSBhcyB1dWlkIH0gZnJvbSAndXVpZCc7XG5pbXBvcnQge1xuXHRkaXN0aW5jdFVudGlsQ2hhbmdlZCxcblx0ZXhoYXVzdE1hcCxcblx0Zmlyc3QsXG5cdHB1Ymxpc2hSZXBsYXksXG5cdHJlZkNvdW50LFxuXHRzd2l0Y2hNYXAsXG5cdHRhcCxcblx0bWFwLFxufSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBvZiB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS9vZic7XG5pbXBvcnQgeyBfdGhyb3cgfSBmcm9tICdyeGpzL29ic2VydmFibGUvdGhyb3cnO1xuaW1wb3J0IElMYW5ndWFnZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSUxhbmd1YWdlJztcbmltcG9ydCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5pbXBvcnQgZmFrZXIgZnJvbSAnZmFrZXInO1xuaW1wb3J0IHsgV2FyZWhvdXNlc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy93YXJlaG91c2VzJztcbmltcG9ydCBJUGFnaW5nT3B0aW9ucyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSVBhZ2luZ09wdGlvbnMnO1xuaW1wb3J0IFN0cmlwZSA9IHJlcXVpcmUoJ3N0cmlwZScpO1xuXG5pbnRlcmZhY2UgSVdhdGNoZWRGaWxlcyB7XG5cdGFib3V0VXM6IHsgW2xhbmd1YWdlIGluIElMYW5ndWFnZV06IE9ic2VydmFibGU8c3RyaW5nPiB9O1xuXHRwcml2YWN5OiB7IFtsYW5ndWFnZSBpbiBJTGFuZ3VhZ2VdOiBPYnNlcnZhYmxlPHN0cmluZz4gfTtcblx0dGVybXNPZlVzZTogeyBbbGFuZ3VhZ2UgaW4gSUxhbmd1YWdlXTogT2JzZXJ2YWJsZTxzdHJpbmc+IH07XG59XG5cbi8qKlxuICogQ3VzdG9tZXJzIFNlcnZpY2VcbiAqIFRPRE86IHJlbmFtZSBmcm9tIFVzZXJzU2VydmljZSB0byBDdXN0b21lcnNTZXJ2aWNlXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIFVzZXJzU2VydmljZVxuICogQGV4dGVuZHMge0RCU2VydmljZTxVc2VyPn1cbiAqIEBpbXBsZW1lbnRzIHtJVXNlclJvdXRlcn1cbiAqIEBpbXBsZW1lbnRzIHtJU2VydmljZX1cbiAqL1xuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ3VzZXInKVxuZXhwb3J0IGNsYXNzIFVzZXJzU2VydmljZSBleHRlbmRzIERCU2VydmljZTxVc2VyPlxuXHRpbXBsZW1lbnRzIElVc2VyUm91dGVyLCBJU2VydmljZSB7XG5cdHB1YmxpYyByZWFkb25seSBEQk9iamVjdDogYW55ID0gVXNlcjtcblxuXHQvLyBUT0RPOiB0aGlzIGFuZCBvdGhlciBTdHJpcGUgcmVsYXRlZCB0aGluZ3Mgc2hvdWxkIGJlIGluc2lkZSBzZXBhcmF0ZSBQYXltZW50cyBTZXJ2aWNlXG5cdHByaXZhdGUgc3RyaXBlID0gbmV3IFN0cmlwZShlbnYuU1RSSVBFX1NFQ1JFVF9LRVkpO1xuXG5cdHByb3RlY3RlZCByZWFkb25seSBsb2c6IExvZ2dlciA9IGNyZWF0ZUV2ZXJMb2dnZXIoe1xuXHRcdG5hbWU6ICd1c2Vyc1NlcnZpY2UnLFxuXHR9KTtcblxuXHRwdWJsaWMgd2F0Y2hlZEZpbGVzOiBJV2F0Y2hlZEZpbGVzO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdEBpbmplY3QobmV3IExhenlTZXJ2aWNlSWRlbnRpZmVyKCgpID0+IEludml0ZXNTZXJ2aWNlKSlcblx0XHRwcm90ZWN0ZWQgaW52aXRlc1NlcnZpY2U6IEludml0ZXNTZXJ2aWNlLFxuXHRcdEBpbmplY3QobmV3IExhenlTZXJ2aWNlSWRlbnRpZmVyKCgpID0+IERldmljZXNTZXJ2aWNlKSlcblx0XHRwcm90ZWN0ZWQgZGV2aWNlc1NlcnZpY2U6IERldmljZXNTZXJ2aWNlLFxuXHRcdEBpbmplY3QobmV3IExhenlTZXJ2aWNlSWRlbnRpZmVyKCgpID0+IFdhcmVob3VzZXNTZXJ2aWNlKSlcblx0XHRwcm90ZWN0ZWQgX3N0b3Jlc1NlcnZpY2U6IFdhcmVob3VzZXNTZXJ2aWNlXG5cdCkge1xuXHRcdHN1cGVyKCk7XG5cblx0XHQvLyBUT0RPOiB0b28gbWFueSBoYXJkY29kZWQgY29uc3RhbnRzIHVzZWQgYmVsb3cuIFJlZmFjdG9yIVxuXHRcdHRoaXMud2F0Y2hlZEZpbGVzID0gXy56aXBPYmplY3QoXG5cdFx0XHRbJ2Fib3V0VXMnLCAncHJpdmFjeScsICd0ZXJtc09mVXNlJ10sXG5cdFx0XHRfLm1hcChbJ2Fib3V0X3VzJywgJ3ByaXZhY3knLCAndGVybXNfb2ZfdXNlJ10sIChmb2xkZXIpID0+XG5cdFx0XHRcdF8uemlwT2JqZWN0KFxuXHRcdFx0XHRcdFsnZW4tVVMnLCAnaGUtSUwnLCAncnUtUlUnLCAnYmctQkcnXSxcblx0XHRcdFx0XHRfLm1hcChbJ2VuLVVTJywgJ2hlLUlMJywgJ3J1LVJVJywgJ2JnLUJHJ10sIChsYW5ndWFnZSkgPT5cblx0XHRcdFx0XHRcdG9ic2VydmVGaWxlKFxuXHRcdFx0XHRcdFx0XHRgJHtfX2Rpcm5hbWV9Ly4uLy4uLy4uL3Jlcy90ZW1wbGF0ZXMvJHtmb2xkZXJ9LyR7bGFuZ3VhZ2V9Lmhic2Bcblx0XHRcdFx0XHRcdCkucGlwZShcblx0XHRcdFx0XHRcdFx0dGFwKHsgZXJyb3I6IChlcnIpID0+IHRoaXMubG9nLmVycm9yKGVycikgfSksXG5cdFx0XHRcdFx0XHRcdHB1Ymxpc2hSZXBsYXkoMSksXG5cdFx0XHRcdFx0XHRcdHJlZkNvdW50PHN0cmluZz4oKVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCkgYXMgYW55O1xuXHR9XG5cblx0LyoqXG5cdCAqIFZlcmlmeSBpZiBjdXN0b21lciB3aXRoIGdpdmVuIGVtYWlsIGFscmVhZHkgZXhpc3RzXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cblx0ICogQG1lbWJlcm9mIFVzZXJzU2VydmljZVxuXHQgKi9cblx0YXN5bmMgaXNVc2VyRW1haWxFeGlzdHMoZW1haWw6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHJldHVybiAoYXdhaXQgdGhpcy5jb3VudCh7IGVtYWlsIH0pKSA+IDA7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IEN1c3RvbWVyIGJ5IGdpdmVuIHNvY2lhbCBJZFxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc29jaWFsSWRcblx0ICogQHJldHVybnMge1Byb21pc2U8VXNlcj59XG5cdCAqIEBtZW1iZXJvZiBVc2Vyc1NlcnZpY2Vcblx0ICovXG5cdGFzeW5jIGdldFNvY2lhbChzb2NpYWxJZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyPiB7XG5cdFx0cmV0dXJuIHN1cGVyLmZpbmRPbmUoe1xuXHRcdFx0c29jaWFsSWRzOiB7ICRpbjogW3NvY2lhbElkXSB9LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgbmV3IGN1c3RvbWVyIChpbnRpYWxpemUgcmVjb3JkKVxuXHQgKlxuXHQgKiBAcGFyYW0ge0lVc2VySW5pdGlhbGl6ZU9iamVjdH0gdXNlckluaXRpYWxpemVPYmplY3Rcblx0ICogQHJldHVybnMge1Byb21pc2U8VXNlcj59XG5cdCAqIEBtZW1iZXJvZiBVc2Vyc1NlcnZpY2Vcblx0ICovXG5cdGFzeW5jIGluaXRVc2VyKHVzZXJJbml0aWFsaXplT2JqZWN0OiBJVXNlckluaXRpYWxpemVPYmplY3QpOiBQcm9taXNlPFVzZXI+IHtcblx0XHRyZXR1cm4gc3VwZXIuY3JlYXRlKHVzZXJJbml0aWFsaXplT2JqZWN0IGFzIGFueSk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IEN1c3RvbWVyc1xuXHQgKlxuXHQgKiBAcGFyYW0geyp9IGZpbmRJbnB1dFxuXHQgKiBAcGFyYW0ge0lQYWdpbmdPcHRpb25zfSBwYWdpbmdPcHRpb25zXG5cdCAqIEByZXR1cm5zXG5cdCAqIEBtZW1iZXJvZiBVc2Vyc1NlcnZpY2Vcblx0ICovXG5cdGFzeW5jIGdldFVzZXJzKGZpbmRJbnB1dDogYW55LCBwYWdpbmdPcHRpb25zOiBJUGFnaW5nT3B0aW9ucykge1xuXHRcdGNvbnN0IHNvcnRPYmogPSB7fTtcblx0XHRpZiAocGFnaW5nT3B0aW9ucy5zb3J0KSB7XG5cdFx0XHRzb3J0T2JqW3BhZ2luZ09wdGlvbnMuc29ydC5maWVsZF0gPSBwYWdpbmdPcHRpb25zLnNvcnQuc29ydEJ5O1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLk1vZGVsLmZpbmQoe1xuXHRcdFx0Li4uZmluZElucHV0LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KVxuXHRcdFx0LnNvcnQoc29ydE9iailcblx0XHRcdC5za2lwKHBhZ2luZ09wdGlvbnMuc2tpcClcblx0XHRcdC5saW1pdChwYWdpbmdPcHRpb25zLmxpbWl0KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGVzIEN1c3RvbWVyIGRldGFpbHNcblx0ICogLy8gVE9ETyBmdW5jdGlvbiBhY3R1YWxseSByZXR1cm5zIFVzZXIgfCBudWxsIHdlIHNob3VsZCBmaXggdGhhdC5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IGlkXG5cdCAqIEBwYXJhbSB7SVVzZXJDcmVhdGVPYmplY3R9IHVzZXJDcmVhdGVPYmplY3Rcblx0ICogQHJldHVybnMge1Byb21pc2U8VXNlcj59XG5cdCAqIEBtZW1iZXJvZiBVc2Vyc1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgdXBkYXRlVXNlcihcblx0XHRpZDogc3RyaW5nLFxuXHRcdHVzZXJDcmVhdGVPYmplY3Q6IElVc2VyQ3JlYXRlT2JqZWN0XG5cdCk6IFByb21pc2U8VXNlcj4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHN1cGVyLnVwZGF0ZShpZCwgdXNlckNyZWF0ZU9iamVjdCk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IEN1c3RvbWVyIGJ5IElkXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjdXN0b21lcklkXG5cdCAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPFVzZXI+fVxuXHQgKiBAbWVtYmVyb2YgVXNlcnNTZXJ2aWNlXG5cdCAqL1xuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KGN1c3RvbWVySWQ6IHN0cmluZyk6IE9ic2VydmFibGU8VXNlcj4ge1xuXHRcdHJldHVybiBzdXBlci5nZXQoY3VzdG9tZXJJZCkucGlwZShcblx0XHRcdG1hcChhc3luYyAodXNlcikgPT4ge1xuXHRcdFx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoY3VzdG9tZXJJZCk7XG5cdFx0XHRcdHJldHVybiB1c2VyO1xuXHRcdFx0fSksXG5cdFx0XHRzd2l0Y2hNYXAoKHVzZXIpID0+IHVzZXIpXG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgU3RyaXBlIENhcmRzIGZvciBnaXZlbiBjdXN0b21lclxuXHQgKiBUT0RPOiBtb3ZlIHRvIHNlcGFyYXRlIFN0cmlwZSAoUGF5bWVudHMpIFNlcnZpY2Vcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxTdHJpcGUuY2FyZHMuSUNhcmRbXT59XG5cdCAqIEBtZW1iZXJvZiBVc2Vyc1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZ2V0Q2FyZHModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFN0cmlwZS5jYXJkcy5JQ2FyZFtdPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKHVzZXJJZCk7XG5cblx0XHRjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5nZXQodXNlcklkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKHVzZXIgIT0gbnVsbCkge1xuXHRcdFx0aWYgKHVzZXIuc3RyaXBlQ3VzdG9tZXJJZCAhPSBudWxsKSB7XG5cdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5zdHJpcGUuY3VzdG9tZXJzLmxpc3RTb3VyY2VzKFxuXHRcdFx0XHRcdFx0dXNlci5zdHJpcGVDdXN0b21lcklkLFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRvYmplY3Q6ICdjYXJkJyxcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHQpXG5cdFx0XHRcdCkuZGF0YTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBbXTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBVc2VyIHdpdGggdGhlIGlkICR7dXNlcklkfSBkb2Vzbid0IGV4aXN0YCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEFkZCBQYXltZW50IE1ldGhvZCAoQ3JlZGl0IENhcmQpIGZvciB0aGUgY3VzdG9tZXIuXG5cdCAqIElmIG1ldGhvZCBjYWxsZWQgZmlyc3QgdGltZSBmb3IgZ2l2ZW4gY3VzdG9tZXIsIGl0IGNyZWF0ZXMgQ3VzdG9tZXIgcmVjb3JkIGluIHRoZSBTdHJpcGUgQVBJIGFuZFxuXHQgKiB1cGRhdGVzIHN0cmlwZUN1c3RvbWVySWQgaW4gb3VyIERCXG5cdCAqXG5cdCAqIFRPRE86IG1vdmUgdG8gc2VwYXJhdGUgU3RyaXBlIChQYXltZW50cykgU2VydmljZVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlbklkXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG5cdCAqIEBtZW1iZXJvZiBVc2Vyc1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgYWRkUGF5bWVudE1ldGhvZCh1c2VySWQ6IHN0cmluZywgdG9rZW5JZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHModXNlcklkKTtcblxuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7IGNhbGxJZCwgdXNlcklkLCB0b2tlbklkIH0sXG5cdFx0XHQnLmFkZFBheW1lbnRNZXRob2QodXNlcklkLCB0b2tlbklkKSBjYWxsZWQnXG5cdFx0KTtcblxuXHRcdGxldCBjYXJkOiBTdHJpcGUuY2FyZHMuSUNhcmQ7XG5cblx0XHR0cnkge1xuXHRcdFx0bGV0IHVzZXIgPSBhd2FpdCB0aGlzLmdldCh1c2VySWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cblx0XHRcdGlmICh1c2VyICE9IG51bGwpIHtcblx0XHRcdFx0aWYgKHVzZXIuc3RyaXBlQ3VzdG9tZXJJZCA9PSBudWxsKSB7XG5cdFx0XHRcdFx0Y29uc3QgY3VzdG9tZXIgPSBhd2FpdCB0aGlzLnN0cmlwZS5jdXN0b21lcnMuY3JlYXRlKHtcblx0XHRcdFx0XHRcdGVtYWlsOiB1c2VyLmVtYWlsLFxuXHRcdFx0XHRcdFx0ZGVzY3JpcHRpb246ICdVc2VyIGlkOiAnICsgdXNlci5pZCxcblx0XHRcdFx0XHRcdG1ldGFkYXRhOiB7XG5cdFx0XHRcdFx0XHRcdHVzZXJJZDogdXNlci5pZCxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHR1c2VyID0gYXdhaXQgdGhpcy51cGRhdGUodXNlcklkLCB7XG5cdFx0XHRcdFx0XHRzdHJpcGVDdXN0b21lcklkOiBjdXN0b21lci5pZCxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhcmQgPSAoYXdhaXQgdGhpcy5zdHJpcGUuY3VzdG9tZXJzLmNyZWF0ZVNvdXJjZShcblx0XHRcdFx0XHR1c2VyLnN0cmlwZUN1c3RvbWVySWQgYXMgc3RyaW5nLFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdHNvdXJjZTogdG9rZW5JZCxcblx0XHRcdFx0XHR9XG5cdFx0XHRcdCkpIGFzIFN0cmlwZS5jYXJkcy5JQ2FyZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgVXNlciB3aXRoIHRoZSBpZCAke3VzZXJJZH0gZG9lc24ndCBleGlzdGApO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dGhpcy5sb2cuZXJyb3IoXG5cdFx0XHRcdHsgY2FsbElkLCB1c2VySWQsIHRva2VuSWQsIGVyciB9LFxuXHRcdFx0XHQnLmFkZFBheW1lbnRNZXRob2QodXNlcklkLCB0b2tlbklkKSB0aHJvd24gZXJyb3IhJ1xuXHRcdFx0KTtcblx0XHRcdHRocm93IGVycjtcblx0XHR9XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0eyBjYWxsSWQsIHVzZXJJZCwgdG9rZW5JZCwgY2FyZCB9LFxuXHRcdFx0Jy5hZGRQYXltZW50TWV0aG9kKHVzZXJJZCwgdG9rZW5JZCkgYWRkZWQgcGF5bWVudCBtZXRob2QnXG5cdFx0KTtcblxuXHRcdHJldHVybiBjYXJkLmlkO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZSBlbWFpbCBmb3IgZ2l2ZW4gQ3VzdG9tZXIgKGJ5IGN1c3RvbWVyIElkKVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxVc2VyPn1cblx0ICogQG1lbWJlcm9mIFVzZXJzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyB1cGRhdGVFbWFpbCh1c2VySWQ6IHN0cmluZywgZW1haWw6IHN0cmluZyk6IFByb21pc2U8VXNlcj4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyh1c2VySWQpO1xuXHRcdHJldHVybiB0aGlzLnVwZGF0ZSh1c2VySWQsIHsgZW1haWwgfSk7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlIGN1cnJlbnQgbG9jYXRpb24gKGFkZHJlc3MpIGZvciBnaXZlbiBDdXN0b21lclxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkXG5cdCAqIEBwYXJhbSB7R2VvTG9jYXRpb259IGdlb0xvY2F0aW9uXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPFVzZXI+fVxuXHQgKiBAbWVtYmVyb2YgVXNlcnNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHVwZGF0ZUdlb0xvY2F0aW9uKFxuXHRcdHVzZXJJZDogc3RyaW5nLFxuXHRcdEBzZXJpYWxpemF0aW9uKChnOiBJR2VvTG9jYXRpb24pID0+IG5ldyBHZW9Mb2NhdGlvbihnKSlcblx0XHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb25cblx0KTogUHJvbWlzZTxVc2VyPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKHVzZXJJZCk7XG5cdFx0cmV0dXJuIHRoaXMudXBkYXRlKHVzZXJJZCwgeyBnZW9Mb2NhdGlvbiB9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgQWJvdXQgVXMgQ29udGVudCAoSFRNTClcblx0ICogTm90ZTogRGVwZW5kaW5nIG9uIHVzZXIgY291bnRyeSwgbGFuZ3VhZ2UgYW5kIG90aGVyIHNldHRpbmdzLCB3ZSBtYXkgd2FudCBsYXRlciB0byBzaG93IGRpZmZlcmVudCBBYm91dCBVcyBwYWdlXG5cdCAqIChlLmcuIHNob3cgZGlmZmVyZW50IGNvbnRhY3QgZGV0YWlscyBvciBicmFuY2ggbG9jYXRpb24gZXRjKVxuXHQgKiBAcGFyYW0gdXNlcklkXG5cdCAqIEBwYXJhbSBkZXZpY2VJZFxuXHQgKiBAcmV0dXJucyBIVE1MIHJlcHJlc2VudGF0aW9uIG9mIEFib3V0IFVzXG5cdCAqL1xuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0QWJvdXRVcyhcblx0XHR1c2VySWQ6IHN0cmluZyxcblx0XHRkZXZpY2VJZDogc3RyaW5nXG5cdCk6IE9ic2VydmFibGU8c3RyaW5nPiAvKnJldHVybnMgaHRtbCovIHtcblx0XHRyZXR1cm4gdGhpcy5kZXZpY2VzU2VydmljZS5nZXQoZGV2aWNlSWQpLnBpcGUoXG5cdFx0XHRleGhhdXN0TWFwKChkZXZpY2UpID0+IHtcblx0XHRcdFx0aWYgKGRldmljZSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBfdGhyb3coXG5cdFx0XHRcdFx0XHRuZXcgRXJyb3IoYFVzZXIgd2l0aCB0aGUgaWQgJHt1c2VySWR9IGRvZXNuJ3QgZXhpc3RgKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9mKGRldmljZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pLFxuXHRcdFx0ZGlzdGluY3RVbnRpbENoYW5nZWQoXG5cdFx0XHRcdChvbGREZXZpY2UsIG5ld0RldmljZSkgPT5cblx0XHRcdFx0XHRvbGREZXZpY2UubGFuZ3VhZ2UgIT09IG5ld0RldmljZS5sYW5ndWFnZVxuXHRcdFx0KSxcblx0XHRcdHN3aXRjaE1hcCgoZGV2aWNlKSA9PiB0aGlzLndhdGNoZWRGaWxlcy5hYm91dFVzW2RldmljZS5sYW5ndWFnZV0pXG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgVGVybXMgT2YgVXNlIENvbnRlbnQgKEhUTUwpXG5cdCAqIE5vdGU6IERlcGVuZGluZyBvbiB1c2VyIGNvdW50cnksIGxhbmd1YWdlIGFuZCBvdGhlciBzZXR0aW5ncywgd2UgbWF5IHdhbnQgbGF0ZXIgdG8gc2hvdyBkaWZmZXJlbnQgVGVybXNcblx0ICogQHBhcmFtIHVzZXJJZFxuXHQgKiBAcGFyYW0gZGV2aWNlSWRcblx0ICogQHJldHVybnMgSFRNTCByZXByZXNlbnRhdGlvbiBvZiBUZXJtcyBPZiBVc2Vcblx0ICovXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXRUZXJtc09mVXNlKHVzZXJJZDogc3RyaW5nLCBkZXZpY2VJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxzdHJpbmc+IHtcblx0XHRyZXR1cm4gdGhpcy5kZXZpY2VzU2VydmljZS5nZXQoZGV2aWNlSWQpLnBpcGUoXG5cdFx0XHRleGhhdXN0TWFwKChkZXZpY2UpID0+IHtcblx0XHRcdFx0aWYgKGRldmljZSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBfdGhyb3coXG5cdFx0XHRcdFx0XHRuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRcdGBEZXZpY2Ugd2l0aCB0aGUgaWQgJHtkZXZpY2VJZH0gZG9lc24ndCBleGlzdGBcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiBvZihkZXZpY2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KSxcblx0XHRcdGRpc3RpbmN0VW50aWxDaGFuZ2VkKFxuXHRcdFx0XHQob2xkRGV2aWNlLCBuZXdEZXZpY2UpID0+XG5cdFx0XHRcdFx0b2xkRGV2aWNlLmxhbmd1YWdlICE9PSBuZXdEZXZpY2UubGFuZ3VhZ2Vcblx0XHRcdCksXG5cdFx0XHRzd2l0Y2hNYXAoKGRldmljZSkgPT4gdGhpcy53YXRjaGVkRmlsZXMudGVybXNPZlVzZVtkZXZpY2UubGFuZ3VhZ2VdKVxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IFByaXZhY3kgUG9saWN5IENvbnRlbnQgKEhUTUwpXG5cdCAqIE5vdGU6IERlcGVuZGluZyBvbiB1c2VyIGNvdW50cnksIGxhbmd1YWdlIGFuZCBvdGhlciBzZXR0aW5ncywgd2UgbWF5IHdhbnQgbGF0ZXIgdG8gc2hvdyBkaWZmZXJlbnQgUG9saWN5XG5cdCAqIEBwYXJhbSB1c2VySWRcblx0ICogQHBhcmFtIGRldmljZUlkXG5cdCAqIEByZXR1cm5zIEhUTUwgcmVwcmVzZW50YXRpb24gb2YgcHJpdmFjeSBwb2xpY3lcblx0ICovXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXRQcml2YWN5KHVzZXJJZDogc3RyaW5nLCBkZXZpY2VJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxzdHJpbmc+IHtcblx0XHRyZXR1cm4gdGhpcy5kZXZpY2VzU2VydmljZS5nZXQoZGV2aWNlSWQpLnBpcGUoXG5cdFx0XHRleGhhdXN0TWFwKChkZXZpY2UpID0+IHtcblx0XHRcdFx0aWYgKGRldmljZSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBfdGhyb3coXG5cdFx0XHRcdFx0XHRuZXcgRXJyb3IoYFVzZXIgd2l0aCB0aGUgaWQgJHt1c2VySWR9IGRvZXNuJ3QgZXhpc3RgKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9mKGRldmljZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pLFxuXHRcdFx0ZGlzdGluY3RVbnRpbENoYW5nZWQoXG5cdFx0XHRcdChvbGREZXZpY2UsIG5ld0RldmljZSkgPT5cblx0XHRcdFx0XHRvbGREZXZpY2UubGFuZ3VhZ2UgIT09IG5ld0RldmljZS5sYW5ndWFnZVxuXHRcdFx0KSxcblx0XHRcdHN3aXRjaE1hcCgoZGV2aWNlKSA9PiB0aGlzLndhdGNoZWRGaWxlcy5wcml2YWN5W2RldmljZS5sYW5ndWFnZV0pXG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZW5lcmF0ZXMgRmFrZSBDdXN0b21lciByZWNvcmRzXG5cdCAqIFRPRE86IG1vdmUgdG8gc2VwYXJhdGUgRmFrZVVzZXJzU2VydmljZSAocHV0IGludG8gJ2Zha2UtZGF0YScgZm9sZGVyKVxuXHQgKiBUT0RPOiByZW5hbWUgbWV0aG9kIHRvIFwiZ2VuZXJhdGVDdXN0b21lcnNcIlxuXHQgKlxuXHQgKiBAcGFyYW0ge251bWJlcn0gZGVmYXVsdExuZ1xuXHQgKiBAcGFyYW0ge251bWJlcn0gZGVmYXVsdExhdFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxJVXNlckNyZWF0ZU9iamVjdFtdPn1cblx0ICogQG1lbWJlcm9mIFVzZXJzU2VydmljZVxuXHQgKi9cblx0YXN5bmMgZ2VuZXJhdGUxMDAwQ3VzdG9tZXJzKFxuXHRcdGRlZmF1bHRMbmc6IG51bWJlcixcblx0XHRkZWZhdWx0TGF0OiBudW1iZXJcblx0KTogUHJvbWlzZTxJVXNlckNyZWF0ZU9iamVjdFtdPiB7XG5cdFx0Y29uc3QgZXhpc3RpbmdFbWFpbHMgPSBfLm1hcChcblx0XHRcdGF3YWl0IHRoaXMuTW9kZWwuZmluZCh7fSkuc2VsZWN0KHsgZW1haWw6IDEgfSkubGVhbigpLmV4ZWMoKSxcblx0XHRcdCh1KSA9PiB1LmVtYWlsXG5cdFx0KTtcblxuXHRcdGNvbnN0IGN1c3RvbWVyc1RvQ3JlYXRlOiBJVXNlckNyZWF0ZU9iamVjdFtdID0gW107XG5cblx0XHRjb25zdCBjdXN0b21lckNyZWF0ZWRGcm9tID0gbmV3IERhdGUoMjAxNSwgMSk7XG5cdFx0Y29uc3QgY3VzdG9tZXJDcmVhdGVkVG8gPSBuZXcgRGF0ZSgpO1xuXG5cdFx0bGV0IGN1c3RvbWVyQ291bnQgPSAxO1xuXG5cdFx0d2hpbGUgKGN1c3RvbWVyQ291bnQgPD0gMTAwMCkge1xuXHRcdFx0Y29uc3QgZmlyc3ROYW1lID0gZmFrZXIubmFtZS5maXJzdE5hbWUoKTtcblx0XHRcdGNvbnN0IGxhc3ROYW1lID0gZmFrZXIubmFtZS5sYXN0TmFtZSgpO1xuXHRcdFx0Y29uc3QgZW1haWwgPSBmYWtlci5pbnRlcm5ldC5lbWFpbChmaXJzdE5hbWUsIGxhc3ROYW1lKTtcblx0XHRcdGNvbnN0IGlzQmFubmVkID0gTWF0aC5yYW5kb20oKSA8IDAuMDI7XG5cblx0XHRcdGNvbnN0IGdlb0xvY2F0aW9uOiBJR2VvTG9jYXRpb25DcmVhdGVPYmplY3QgPSB7XG5cdFx0XHRcdGNvdW50cnlJZDogZmFrZXIucmFuZG9tLm51bWJlcihDb3VudHJ5LlpXKSBhcyBDb3VudHJ5LFxuXHRcdFx0XHRjaXR5OiBmYWtlci5hZGRyZXNzLmNpdHkoKSxcblx0XHRcdFx0aG91c2U6IGAke2N1c3RvbWVyQ291bnR9YCxcblx0XHRcdFx0bG9jOiB7XG5cdFx0XHRcdFx0dHlwZTogJ1BvaW50Jyxcblx0XHRcdFx0XHRjb29yZGluYXRlczogW2RlZmF1bHRMbmcsIGRlZmF1bHRMYXRdLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdHJlZXRBZGRyZXNzOiBmYWtlci5hZGRyZXNzLnN0cmVldEFkZHJlc3MoKSxcblx0XHRcdH07XG5cblx0XHRcdGlmICghZXhpc3RpbmdFbWFpbHMuaW5jbHVkZXMoZW1haWwpKSB7XG5cdFx0XHRcdGV4aXN0aW5nRW1haWxzLnB1c2goZW1haWwpO1xuXG5cdFx0XHRcdGN1c3RvbWVyc1RvQ3JlYXRlLnB1c2goe1xuXHRcdFx0XHRcdGZpcnN0TmFtZTogZmFrZXIubmFtZS5maXJzdE5hbWUoKSxcblx0XHRcdFx0XHRsYXN0TmFtZTogZmFrZXIubmFtZS5sYXN0TmFtZSgpLFxuXHRcdFx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0XHRcdGFwYXJ0bWVudDogYCR7Y3VzdG9tZXJDb3VudH1gLFxuXHRcdFx0XHRcdGVtYWlsLFxuXHRcdFx0XHRcdGlzQmFubmVkLFxuXHRcdFx0XHRcdGltYWdlOiBmYWtlci5pbWFnZS5hdmF0YXIoKSxcblx0XHRcdFx0XHRwaG9uZTogZmFrZXIucGhvbmUucGhvbmVOdW1iZXIoKSxcblx0XHRcdFx0XHRfY3JlYXRlZEF0OiBmYWtlci5kYXRlLmJldHdlZW4oXG5cdFx0XHRcdFx0XHRjdXN0b21lckNyZWF0ZWRGcm9tLFxuXHRcdFx0XHRcdFx0Y3VzdG9tZXJDcmVhdGVkVG9cblx0XHRcdFx0XHQpLFxuXHRcdFx0XHR9IGFzIGFueSk7XG5cblx0XHRcdFx0Y3VzdG9tZXJDb3VudCArPSAxO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLk1vZGVsLmluc2VydE1hbnkoY3VzdG9tZXJzVG9DcmVhdGUpO1xuXHR9XG5cblx0YXN5bmMgYmFuVXNlcihpZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRyZXR1cm4gdGhpcy51cGRhdGUoaWQsIHsgaXNCYW5uZWQ6IHRydWUgfSk7XG5cdH1cblxuXHRhc3luYyB1bmJhblVzZXIoaWQ6IHN0cmluZyk6IFByb21pc2U8VXNlcj4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHRoaXMudXBkYXRlKGlkLCB7IGlzQmFubmVkOiBmYWxzZSB9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVjayBpZiBub3QgZGVsZXRlZCBjdXN0b21lciB3aXRoIGdpdmVuIElkIGV4aXN0cyBpbiBEQiBhbmQgdGhyb3cgZXhjZXB0aW9uIGlmIGl0J3Mgbm90IGV4aXN0cyBvciBkZWxldGVkXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWRcblx0ICogQG1lbWJlcm9mIFVzZXJzU2VydmljZVxuXHQgKi9cblx0YXN5bmMgdGhyb3dJZk5vdEV4aXN0cyh1c2VySWQ6IHN0cmluZykge1xuXHRcdGNvbnN0IHVzZXIgPSBhd2FpdCBzdXBlci5nZXQodXNlcklkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKCF1c2VyIHx8IHVzZXIuaXNEZWxldGVkKSB7XG5cdFx0XHR0aHJvdyBFcnJvcihgQ3VzdG9tZXIgd2l0aCBpZCAnJHt1c2VySWR9JyBkb2VzIG5vdCBleGlzdHMhYCk7XG5cdFx0fVxuXHR9XG59XG4iLCJleHBvcnQgKiBmcm9tICcuL1VzZXJzU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL1NvY2lhbFN0cmF0ZWdpZXNTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vU29jaWFsUmVnaXN0ZXJTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vVXNlcnNPcmRlcnNTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vVXNlcnNQcm9kdWN0c1NlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9Vc2VyQ29tbWFuZFNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9Vc2Vyc0F1dGhTZXJ2aWNlJztcbiIsImltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgTGF6eVNlcnZpY2VJZGVudGlmZXIgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IENhcnJpZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9DYXJyaWVyJztcbmltcG9ydCB7IG9mLCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBDYXJyaWVyc1NlcnZpY2UgfSBmcm9tICcuLi9jYXJyaWVycyc7XG5pbXBvcnQgeyBXYXJlaG91c2VzU2VydmljZSB9IGZyb20gJy4vV2FyZWhvdXNlc1NlcnZpY2UnO1xuaW1wb3J0IFdhcmVob3VzZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1dhcmVob3VzZSc7XG5pbXBvcnQge1xuXHRjYXRjaEVycm9yLFxuXHRkaXN0aW5jdFVudGlsQ2hhbmdlZCxcblx0ZXhoYXVzdE1hcCxcblx0bWFwLFxuXHRzd2l0Y2hNYXAsXG59IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IHJvdXRlck5hbWUsIG9ic2VydmFibGVMaXN0ZW5lciwgYXN5bmNMaXN0ZW5lciB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgSVdhcmVob3VzZUNhcnJpZXJzUm91dGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JV2FyZWhvdXNlQ2FycmllcnNSb3V0ZXInO1xuaW1wb3J0IHsgZW52IH0gZnJvbSAnLi4vLi4vZW52JztcbmltcG9ydCB7IEF1dGhTZXJ2aWNlLCBBdXRoU2VydmljZUZhY3RvcnkgfSBmcm9tICcuLi9hdXRoJztcblxuY2xhc3MgTm9XYXJlaG91c2VSZXN0cmljdGVkQ2FycmllcnNFcnJvciBleHRlbmRzIEVycm9yIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoXCJXYXJlaG91c2UgZG9lc24ndCBoYXZlIGNhcnJpZXJzIHJlc3RyaWN0ZWQgdG8gaGltc2VsZlwiKTtcblx0fVxufVxuXG4vKipcbiAqIFdhcmVob3VzZXMgQ2FycmllcnMgU2VydmljZVxuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBXYXJlaG91c2VzQ2FycmllcnNTZXJ2aWNlXG4gKiBAaW1wbGVtZW50cyB7SVdhcmVob3VzZUNhcnJpZXJzUm91dGVyfVxuICovXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgnd2FyZWhvdXNlLWNhcnJpZXJzJylcbmV4cG9ydCBjbGFzcyBXYXJlaG91c2VzQ2FycmllcnNTZXJ2aWNlIGltcGxlbWVudHMgSVdhcmVob3VzZUNhcnJpZXJzUm91dGVyIHtcblx0cHJpdmF0ZSByZWFkb25seSBhdXRoU2VydmljZTogQXV0aFNlcnZpY2U8Q2Fycmllcj47XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gQ2FycmllcnNTZXJ2aWNlKSlcblx0XHRwcml2YXRlIHJlYWRvbmx5IGNhcnJpZXJzU2VydmljZTogQ2FycmllcnNTZXJ2aWNlLFxuXHRcdEBpbmplY3QobmV3IExhenlTZXJ2aWNlSWRlbnRpZmVyKCgpID0+IFdhcmVob3VzZXNTZXJ2aWNlKSlcblx0XHRwcml2YXRlIHJlYWRvbmx5IHdhcmVob3VzZXNTZXJ2aWNlOiBXYXJlaG91c2VzU2VydmljZSxcblx0XHRAaW5qZWN0KCdGYWN0b3J5PEF1dGhTZXJ2aWNlPicpXG5cdFx0cHJpdmF0ZSByZWFkb25seSBhdXRoU2VydmljZUZhY3Rvcnk6IEF1dGhTZXJ2aWNlRmFjdG9yeVxuXHQpIHtcblx0XHR0aGlzLmF1dGhTZXJ2aWNlID0gdGhpcy5hdXRoU2VydmljZUZhY3Rvcnkoe1xuXHRcdFx0cm9sZTogJ2NhcnJpZXInLFxuXHRcdFx0RW50aXR5OiBDYXJyaWVyLFxuXHRcdFx0c2FsdFJvdW5kczogZW52LkNBUlJJRVJfUEFTU1dPUkRfQkNSWVBUX1NBTFRfUk9VTkRTLFxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBDYXJyaWVycyBhc3NpZ25lZCB0byBnaXZlbiBTdG9yZVxuXHQgKiBSZXR1cm5zIG51bGwgaWYgIXdhcmVob3VzZS5oYXNSZXN0cmljdGVkQ2FycmllcnNcblx0ICogQHBhcmFtIHtTdHJpbmd9IHdhcmVob3VzZUlkXG5cdCAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPENhcnJpZXJbXSB8IG51bGw+fVxuXHQgKi9cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldCh3YXJlaG91c2VJZDogV2FyZWhvdXNlWydpZCddKTogT2JzZXJ2YWJsZTxDYXJyaWVyW10gfCBudWxsPiB7XG5cdFx0cmV0dXJuIHRoaXMud2FyZWhvdXNlc1NlcnZpY2UuZ2V0KHdhcmVob3VzZUlkKS5waXBlKFxuXHRcdFx0bWFwKCh3YXJlaG91c2UpID0+IHtcblx0XHRcdFx0aWYgKCF3YXJlaG91c2UuaGFzUmVzdHJpY3RlZENhcnJpZXJzKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IE5vV2FyZWhvdXNlUmVzdHJpY3RlZENhcnJpZXJzRXJyb3IoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB3YXJlaG91c2UudXNlZENhcnJpZXJzSWRzO1xuXHRcdFx0fSksXG5cdFx0XHRkaXN0aW5jdFVudGlsQ2hhbmdlZCgoY2FycmllcklkczEsIGNhcnJpZXJJZHMyKSA9PiB7XG5cdFx0XHRcdHJldHVybiBfLmlzRXF1YWwoY2FycmllcklkczEuc29ydCgpLCBjYXJyaWVySWRzMi5zb3J0KCkpO1xuXHRcdFx0fSksXG5cdFx0XHRleGhhdXN0TWFwKChjYXJyaWVySWRzKSA9PiB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNhcnJpZXJzU2VydmljZS5nZXRNdWx0aXBsZUJ5SWRzKGNhcnJpZXJJZHMpO1xuXHRcdFx0fSksXG5cdFx0XHRzd2l0Y2hNYXAoKGNhcnJpZXJzKSA9PiBjYXJyaWVycyksXG5cdFx0XHRjYXRjaEVycm9yKChlcnIpID0+IHtcblx0XHRcdFx0aWYgKCEoZXJyIGluc3RhbmNlb2YgTm9XYXJlaG91c2VSZXN0cmljdGVkQ2FycmllcnNFcnJvcikpIHtcblx0XHRcdFx0XHR0aHJvdyBlcnI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gb2YobnVsbCk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlIGNhcnJpZXIgcGFzc3dvcmRcblx0ICpcblx0ICogQHBhcmFtIHtDYXJyaWVyWydpZCddfSBpZFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gcGFzc3dvcmRcblx0ICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzQ2FycmllcnNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHVwZGF0ZVBhc3N3b3JkKGlkOiBDYXJyaWVyWydpZCddLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0YXdhaXQgdGhpcy5jYXJyaWVyc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0YXdhaXQgdGhpcy5hdXRoU2VydmljZS5fc2F2ZVBhc3N3b3JkKGlkLCBwYXNzd29yZCk7XG5cdH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgTGF6eVNlcnZpY2VJZGVudGlmZXIgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IEJsdWViaXJkIGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgT3JkZXJQcm9kdWN0IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvT3JkZXJQcm9kdWN0JztcbmltcG9ydCBPcmRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL09yZGVyJztcbmltcG9ydCBQcm9kdWN0IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvUHJvZHVjdCc7XG5pbXBvcnQgeyBXYXJlaG91c2VzU2VydmljZSB9IGZyb20gJy4vV2FyZWhvdXNlc1NlcnZpY2UnO1xuaW1wb3J0IHsgUHJvZHVjdHNTZXJ2aWNlIH0gZnJvbSAnLi4vcHJvZHVjdHMnO1xuaW1wb3J0IHsgT3JkZXJzU2VydmljZSB9IGZyb20gJy4uL29yZGVycyc7XG5pbXBvcnQgeyBJT3JkZXJQcm9kdWN0Q3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lPcmRlclByb2R1Y3QnO1xuaW1wb3J0IElPcmRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSU9yZGVyJztcbmltcG9ydCB7IFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UgfSBmcm9tICcuL1dhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UnO1xuaW1wb3J0IElXYXJlaG91c2VPcmRlcnNSb3V0ZXIsIHtcblx0SU9yZGVyQ3JlYXRlSW5wdXQsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JV2FyZWhvdXNlT3JkZXJzUm91dGVyJztcbmltcG9ydCB7IGFzeW5jTGlzdGVuZXIsIG9ic2VydmFibGVMaXN0ZW5lciwgcm91dGVyTmFtZSB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCB7IFVzZXJzU2VydmljZSB9IGZyb20gJy4uL3VzZXJzJztcbmltcG9ydCBJU2VydmljZSBmcm9tICcuLi9JU2VydmljZSc7XG5pbXBvcnQge1xuXHRleGhhdXN0TWFwLFxuXHRmaWx0ZXIsXG5cdGZpcnN0LFxuXHRzaGFyZSxcblx0c3dpdGNoTWFwLFxuXHRtYXAsXG59IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IEV4aXN0ZW5jZUV2ZW50LCBFeGlzdGVuY2VFdmVudFR5cGUgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IHsgY29uY2F0LCBvZiwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IFdhcmVob3VzZSwge1xuXHRXaXRoRnVsbFByb2R1Y3RzLFxufSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1dhcmVob3VzZSc7XG5pbXBvcnQgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuaW1wb3J0IElQYWdpbmdPcHRpb25zIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JUGFnaW5nT3B0aW9ucyc7XG5pbXBvcnQgT3JkZXJXYXJlaG91c2VTdGF0dXMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnVtcy9PcmRlcldhcmVob3VzZVN0YXR1cyc7XG5pbXBvcnQgT3JkZXJDYXJyaWVyU3RhdHVzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW51bXMvT3JkZXJDYXJyaWVyU3RhdHVzJztcbmltcG9ydCBEZWxpdmVyeVR5cGUgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnVtcy9EZWxpdmVyeVR5cGUnO1xuXG4vKipcbiAqIFdhcmVob3VzZXMgT3JkZXJzIFNlcnZpY2VcbiAqXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgV2FyZWhvdXNlc09yZGVyc1NlcnZpY2VcbiAqIEBpbXBsZW1lbnRzIHtJV2FyZWhvdXNlT3JkZXJzUm91dGVyfVxuICogQGltcGxlbWVudHMge0lTZXJ2aWNlfVxuICovXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgnd2FyZWhvdXNlLW9yZGVycycpXG5leHBvcnQgY2xhc3MgV2FyZWhvdXNlc09yZGVyc1NlcnZpY2Vcblx0aW1wbGVtZW50cyBJV2FyZWhvdXNlT3JkZXJzUm91dGVyLCBJU2VydmljZSB7XG5cdHByb3RlY3RlZCBsb2c6IExvZ2dlciA9IGNyZWF0ZUV2ZXJMb2dnZXIoe1xuXHRcdG5hbWU6ICd3YXJlaG91c2VzT3JkZXJzU2VydmljZScsXG5cdH0pO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdEBpbmplY3QobmV3IExhenlTZXJ2aWNlSWRlbnRpZmVyKCgpID0+IFdhcmVob3VzZXNTZXJ2aWNlKSlcblx0XHRwcm90ZWN0ZWQgd2FyZWhvdXNlc1NlcnZpY2U6IFdhcmVob3VzZXNTZXJ2aWNlLFxuXHRcdEBpbmplY3QobmV3IExhenlTZXJ2aWNlSWRlbnRpZmVyKCgpID0+IFByb2R1Y3RzU2VydmljZSkpXG5cdFx0cHJvdGVjdGVkIHByb2R1Y3RzU2VydmljZTogUHJvZHVjdHNTZXJ2aWNlLFxuXHRcdEBpbmplY3QobmV3IExhenlTZXJ2aWNlSWRlbnRpZmVyKCgpID0+IFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UpKVxuXHRcdHByb3RlY3RlZCB3YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlOiBXYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLFxuXHRcdEBpbmplY3QobmV3IExhenlTZXJ2aWNlSWRlbnRpZmVyKCgpID0+IE9yZGVyc1NlcnZpY2UpKVxuXHRcdHByb3RlY3RlZCBvcmRlcnNTZXJ2aWNlOiBPcmRlcnNTZXJ2aWNlLFxuXHRcdEBpbmplY3QobmV3IExhenlTZXJ2aWNlSWRlbnRpZmVyKCgpID0+IFVzZXJzU2VydmljZSkpXG5cdFx0cHJvdGVjdGVkIHVzZXJzU2VydmljZTogVXNlcnNTZXJ2aWNlXG5cdCkge31cblxuXHQvKipcblx0ICogVE9ETzogZG9jdW1lbnRcblx0ICpcblx0ICogQHBhcmFtIHtXYXJlaG91c2VbJ2lkJ119IHdhcmVob3VzZUlkXG5cdCAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPEV4aXN0ZW5jZUV2ZW50PE9yZGVyPj59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzT3JkZXJzU2VydmljZVxuXHQgKi9cblx0Z2V0RXhpc3RlbmNlKFxuXHRcdHdhcmVob3VzZUlkOiBXYXJlaG91c2VbJ2lkJ11cblx0KTogT2JzZXJ2YWJsZTxFeGlzdGVuY2VFdmVudDxPcmRlcj4+IHtcblx0XHRyZXR1cm4gdGhpcy5vcmRlcnNTZXJ2aWNlLmV4aXN0ZW5jZS5waXBlKFxuXHRcdFx0ZmlsdGVyKChleGlzdGVuY2VFdmVudCkgPT4ge1xuXHRcdFx0XHRzd2l0Y2ggKGV4aXN0ZW5jZUV2ZW50LnR5cGUgYXMgRXhpc3RlbmNlRXZlbnRUeXBlKSB7XG5cdFx0XHRcdFx0Y2FzZSBFeGlzdGVuY2VFdmVudFR5cGUuQ3JlYXRlZDpcblx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdGV4aXN0ZW5jZUV2ZW50LnZhbHVlICE9IG51bGwgJiZcblx0XHRcdFx0XHRcdFx0ZXhpc3RlbmNlRXZlbnQudmFsdWUud2FyZWhvdXNlSWQgPT09IHdhcmVob3VzZUlkXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0Y2FzZSBFeGlzdGVuY2VFdmVudFR5cGUuVXBkYXRlZDpcblx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdChleGlzdGVuY2VFdmVudC52YWx1ZSAhPSBudWxsICYmXG5cdFx0XHRcdFx0XHRcdFx0ZXhpc3RlbmNlRXZlbnQudmFsdWUud2FyZWhvdXNlSWQgPT09XG5cdFx0XHRcdFx0XHRcdFx0XHR3YXJlaG91c2VJZCkgfHxcblx0XHRcdFx0XHRcdFx0KGV4aXN0ZW5jZUV2ZW50Lmxhc3RWYWx1ZSAhPSBudWxsICYmXG5cdFx0XHRcdFx0XHRcdFx0ZXhpc3RlbmNlRXZlbnQubGFzdFZhbHVlLndhcmVob3VzZUlkID09PVxuXHRcdFx0XHRcdFx0XHRcdFx0d2FyZWhvdXNlSWQpXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0Y2FzZSBFeGlzdGVuY2VFdmVudFR5cGUuUmVtb3ZlZDpcblx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdGV4aXN0ZW5jZUV2ZW50Lmxhc3RWYWx1ZSAhPSBudWxsICYmXG5cdFx0XHRcdFx0XHRcdGV4aXN0ZW5jZUV2ZW50Lmxhc3RWYWx1ZS53YXJlaG91c2VJZCA9PT0gd2FyZWhvdXNlSWRcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pLFxuXHRcdFx0c2hhcmUoKVxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IE9yZGVycyBmcm9tIGdpdmVuIFdhcmVob3VzZVxuXHQgKlxuXHQgKiBAcGFyYW0ge1dhcmVob3VzZVsnaWQnXX0gd2FyZWhvdXNlSWRcblx0ICogQHJldHVybnMge09ic2VydmFibGU8T3JkZXJbXT59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzT3JkZXJzU2VydmljZVxuXHQgKi9cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldChcblx0XHR3YXJlaG91c2VJZDogV2FyZWhvdXNlWydpZCddLFxuXHRcdG9wdGlvbnM6IHtcblx0XHRcdHBvcHVsYXRlV2FyZWhvdXNlPzogYm9vbGVhbjtcblx0XHRcdHBvcHVsYXRlQ2Fycmllcj86IGJvb2xlYW47XG5cdFx0XHRvcmRlcj86IGJvb2xlYW47XG5cdFx0fSA9IHt9XG5cdCk6IE9ic2VydmFibGU8T3JkZXJbXT4ge1xuXHRcdHJldHVybiBjb25jYXQob2YobnVsbCksIHRoaXMuZ2V0RXhpc3RlbmNlKHdhcmVob3VzZUlkKSkucGlwZShcblx0XHRcdG1hcChhc3luYyAocmVzKSA9PiB7XG5cdFx0XHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyh3YXJlaG91c2VJZCk7XG5cdFx0XHRcdHJldHVybiByZXM7XG5cdFx0XHR9KSxcblx0XHRcdHN3aXRjaE1hcCgocmVzKSA9PiByZXMpLFxuXHRcdFx0ZXhoYXVzdE1hcCgoKSA9PlxuXHRcdFx0XHR0aGlzLl9nZXQod2FyZWhvdXNlSWQsIHtcblx0XHRcdFx0XHRwb3B1bGF0ZVdhcmVob3VzZTogISFvcHRpb25zLnBvcHVsYXRlV2FyZWhvdXNlLFxuXHRcdFx0XHRcdHBvcHVsYXRlQ2FycmllcjogISFvcHRpb25zLnBvcHVsYXRlQ2Fycmllcixcblx0XHRcdFx0XHRvbmx5QXZhaWxhYmxlVG9DYXJyaWVyOiBmYWxzZSxcblx0XHRcdFx0fSlcblx0XHRcdClcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBuZXh0IG9yZGVyIG51bWJlciBpbiBnaXZlbiBTdG9yZVxuXHQgKiBJbXBsZW1lbnRlZCBzaW1wbGUsIGJ1dCBub3QgZWZmaWNpZW50L3N0YWJsZSB3YXk6XG5cdCAqIC0gZ28gb3ZlciBleGlzdGVkIG9yZGVycyBpbiB0aGUgU3RvcmVcblx0ICogLSBmaW5kIGxhc3Qgb25lXG5cdCAqIC0gcmV0dXJuIG51bWJlciBvZiBsYXN0IG9uZSBwbHVzIDFcblx0ICpcblx0ICogV2lsbCBOT1Qgd29yayB3ZWxsIGlmIGNhbGxlZCBpbiBwYXJhbGxlbCwgdW5sZXNzIHdlOlxuXHQgKiBUT0RPOiBpbXBsZW1lbnQgZGlzdHJpYnV0ZWQgbG9ja2luZyBvciBzdG9yZSBsYXN0IG9yZGVyIGlkIHNlcGFyYXRlbHlcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHdhcmVob3VzZUlkXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPG51bWJlcj59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzT3JkZXJzU2VydmljZVxuXHQgKi9cblx0YXN5bmMgZ2V0TmV4dE9yZGVyTnVtYmVyKHdhcmVob3VzZUlkOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj4ge1xuXHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyh3YXJlaG91c2VJZCk7XG5cblx0XHRjb25zdCBvcmRlckRvY3VtZW50ID0gKGF3YWl0IHRoaXMub3JkZXJzU2VydmljZS5Nb2RlbC5maW5kT25lKHtcblx0XHRcdHdhcmVob3VzZTogd2FyZWhvdXNlSWQsXG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdFx0X2NyZWF0ZWRBdDoge1xuXHRcdFx0XHQkZ3RlOiAoPGFueT5tb21lbnQpKCkuc3RhcnRPZignZGF5JykudG9EYXRlKCksXG5cdFx0XHR9LFxuXHRcdH0pXG5cdFx0XHQuc2VsZWN0KCdvcmRlck51bWJlcicpXG5cdFx0XHQuc29ydCh7IG9yZGVyTnVtYmVyOiAtMSB9KVxuXHRcdFx0LmV4ZWMoKSkgYXMgYW55O1xuXG5cdFx0aWYgKG9yZGVyRG9jdW1lbnQgPT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIDE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBvcmRlckRvY3VtZW50Lm9yZGVyTnVtYmVyICsgMTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogT3JkZXIgZm9yIG11bHRpcGxlIHByb2R1Y3RzXG5cdCAqIFVzZXIgYWx3YXlzIG9yZGVyIHByb2R1Y3QgZnJvbSBzcGVjaWZpYyBzdG9yZSBiZWNhdXNlIHRoZSBwcmljZSBhbmQgYXZhaWxhYmlsaXR5IGlzIHBlciBzdG9yZVxuXHQgKiBJdCBpcyBwb3NzaWJsZSB0aGF0IHVzZXIgaXMgbnVsbC5cblx0ICogSW4gdGhpcyBjYXNlLCBpdCBtZWFuIHRoYXQgY3VzdG9tZXIgZG9lcyBub3QgcHVyY2hhc2UgcHJvZHVjdHMgeWV0LCBidXQgY2FycmllciBhcnJpdmVzIHRvIHdhcmVob3VzZVxuXHQgKiBhbmQgZ2V0IHRoaXMgc3BlY2lmaWMgcHJvZHVjdHMgYW5kIGhlIGlzIHJlYWR5IHRvIGRlbGl2ZXJ5IHRoZW0gdG8gY3VzdG9tZXJcblx0ICogKGluIHN1Y2ggYWR2YW5jZWQgc2NlbmFyaW9zLCB3ZSBjcmVhdGUgXCJvcmRlcnNcIiwgYXNzaWduIGNhcnJpZXJzLCBidXQgZG8gbm90IGFzc2lnbiBjdXN0b21lciB5ZXQpXG5cdCAqXG5cdCAqIEBwYXJhbSB7SU9yZGVyQ3JlYXRlSW5wdXR9IHtcblx0ICogXHRcdHdhcmVob3VzZUlkLFxuXHQgKiBcdFx0dXNlcklkLFxuXHQgKiBcdFx0cHJvZHVjdHMsXG5cdCAqIFx0XHRvcHRpb25zXG5cdCAqIFx0fVxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxPcmRlcj59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzT3JkZXJzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBjcmVhdGUoe1xuXHRcdHdhcmVob3VzZUlkLFxuXHRcdHVzZXJJZCxcblx0XHRwcm9kdWN0cyxcblx0XHRvcmRlclR5cGUsXG5cdFx0b3B0aW9ucyxcblx0fTogSU9yZGVyQ3JlYXRlSW5wdXQpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0aWYgKCFvcHRpb25zKSB7XG5cdFx0XHRvcHRpb25zID0ge307XG5cdFx0fVxuXG5cdFx0b3B0aW9ucyA9IHtcblx0XHRcdGF1dG9Db25maXJtOiAhIW9wdGlvbnMuYXV0b0NvbmZpcm0sXG5cdFx0fTtcblxuXHRcdGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLnVzZXJzU2VydmljZVxuXHRcdFx0LmdldCh1c2VySWQpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXG5cdFx0Y29uc3Qgd2FyZWhvdXNlID0gKGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2Vcblx0XHRcdC5nZXQod2FyZWhvdXNlSWQsIHRydWUpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpKSBhcyBXaXRoRnVsbFByb2R1Y3RzO1xuXG5cdFx0Y29uc3Qgd2FyZWhvdXNlUHJvZHVjdHMgPSBfLmtleUJ5KHdhcmVob3VzZS5wcm9kdWN0cywgJ3Byb2R1Y3RJZCcpO1xuXG5cdFx0aWYgKHVzZXIgPT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBUaGVyZSBpcyBubyB1c2VyIHdpdGggdGhlIGlkICR7dXNlcklkfWApO1xuXHRcdH1cblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7XG5cdFx0XHRcdHVzZXIsXG5cdFx0XHRcdHdhcmVob3VzZUlkLFxuXHRcdFx0XHRwcm9kdWN0cyxcblx0XHRcdH0sXG5cdFx0XHQnT3JkZXIgY3JlYXRlIGNhbGwnXG5cdFx0KTtcblxuXHRcdC8vIElmIG5vIGltYWdlIHdhcyBnaXZlbiBmcm9tIGNsaWVudCBzaWRlIGZvciBhbiBvcmRlciBwcm9kdWN0LFxuXHRcdC8vIHdlIHNob3VsZCBjb3B5IGl0IGZyb20gcHJvZHVjdCBpbiBEQlxuXHRcdGNvbnN0IG9yZGVyUHJvZHVjdHMgPSBhd2FpdCBfLm1hcChcblx0XHRcdHByb2R1Y3RzLFxuXHRcdFx0KGFyZ3MpOiBJT3JkZXJQcm9kdWN0Q3JlYXRlT2JqZWN0ID0+IHtcblx0XHRcdFx0Y29uc3Qgd1Byb2R1Y3QgPSB3YXJlaG91c2VQcm9kdWN0c1thcmdzLnByb2R1Y3RJZF07XG5cblx0XHRcdFx0aWYgKCF3UHJvZHVjdCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGBXYXJlaG91c2VPcmRlcnNTZXJ2aWNlIGdvdCBjYWxsIHRvIGNyZWF0ZSh1c2VySWQsIG9yZGVyUHJvZHVjdHMpIC0gQnV0IHRoZXJlIGlzIG5vIHByb2R1Y3Qgd2l0aCB0aGUgaWQgJHthcmdzLnByb2R1Y3RJZH0hYFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGNvdW50OiBhcmdzLmNvdW50LFxuXHRcdFx0XHRcdHByaWNlOiB3UHJvZHVjdC5wcmljZSxcblx0XHRcdFx0XHRpbml0aWFsUHJpY2U6IHdQcm9kdWN0LmluaXRpYWxQcmljZSxcblx0XHRcdFx0XHRkZWxpdmVyeVRpbWVNaW46IHdQcm9kdWN0LmRlbGl2ZXJ5VGltZU1pbixcblx0XHRcdFx0XHRkZWxpdmVyeVRpbWVNYXg6IHdQcm9kdWN0LmRlbGl2ZXJ5VGltZU1heCxcblx0XHRcdFx0XHRwcm9kdWN0OiB3UHJvZHVjdC5wcm9kdWN0IGFzIFByb2R1Y3QsXG5cdFx0XHRcdFx0aXNNYW51ZmFjdHVyaW5nOiB3UHJvZHVjdC5pc01hbnVmYWN0dXJpbmcsXG5cdFx0XHRcdFx0aXNDYXJyaWVyUmVxdWlyZWQ6IHdQcm9kdWN0LmlzQ2FycmllclJlcXVpcmVkLFxuXHRcdFx0XHRcdGlzRGVsaXZlcnlSZXF1aXJlZDogd1Byb2R1Y3QuaXNEZWxpdmVyeVJlcXVpcmVkLFxuXHRcdFx0XHRcdGlzVGFrZWF3YXk6IHdQcm9kdWN0LmlzVGFrZWF3YXksXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdC8vIFRPRE8gbmV4dCBzaG91bGQgYmUgaW4gdGhlIHNpbmdsZSB0cmFuc2FjdGlvbiFcblx0XHQvLyAoaS5lLiBjcmVhdGUgb3JkZXIgYW5kIGRlY3JlYXNlIHByb2R1Y3QgYXZhaWxhYmlsaXR5IGluIHRoZSB3YXJlaG91c2UpXG5cdFx0Ly8gaHR0cDovL21vbmdvb3NlanMuY29tL2RvY3MvdHJhbnNhY3Rpb25zLmh0bWxcblxuXHRcdGNvbnN0IG9yZGVyID0gYXdhaXQgdGhpcy5vcmRlcnNTZXJ2aWNlLmNyZWF0ZSh7XG5cdFx0XHR1c2VyLFxuXHRcdFx0cHJvZHVjdHM6IG9yZGVyUHJvZHVjdHMsXG5cdFx0XHR3YXJlaG91c2U6IHdhcmVob3VzZUlkLFxuXHRcdFx0b3JkZXJOdW1iZXI6IGF3YWl0IHRoaXMuZ2V0TmV4dE9yZGVyTnVtYmVyKHdhcmVob3VzZUlkKSxcblx0XHRcdG9yZGVyVHlwZSxcblx0XHRcdC4uLihvcHRpb25zLmF1dG9Db25maXJtID8geyBpc0NvbmZpcm1lZDogdHJ1ZSB9IDoge30pLFxuXHRcdH0pO1xuXG5cdFx0Ly8gd2UgZG8gYWxsIHJlbW92ZSBvcGVyYXRpb25zIGFuZCBub3RpZnkgYWJvdXQgd2FyZWhvdXNlIG9yZGVycyBjaGFuZ2UgYWZ0ZXIgd2UgcmVtb3ZlIHByb2R1Y3RzIGZyb20gd2FyZWhvdXNlXG5cdFx0YXdhaXQgKDxhbnk+Qmx1ZWJpcmQpLm1hcChcblx0XHRcdG9yZGVyLnByb2R1Y3RzLFxuXHRcdFx0YXN5bmMgKG9yZGVyUHJvZHVjdDogT3JkZXJQcm9kdWN0KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHByb2R1Y3RJZCA9IG9yZGVyUHJvZHVjdC5wcm9kdWN0LmlkO1xuXG5cdFx0XHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0d2FyZWhvdXNlSWQsXG5cdFx0XHRcdFx0XHRwcm9kdWN0SWQsXG5cdFx0XHRcdFx0XHRjb3VudDogb3JkZXJQcm9kdWN0LmNvdW50LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0J09yZGVyIGNyZWF0ZSByZW1vdmUgcHJvZHVjdHMgY2FsbCdcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRhd2FpdCB0aGlzLndhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UuZGVjcmVhc2VDb3VudChcblx0XHRcdFx0XHR3YXJlaG91c2VJZCxcblx0XHRcdFx0XHRwcm9kdWN0SWQsIC8vIHdoYXQgcHJvZHVjdCBhdmFpbGFiaWxpdHkgc2hvdWxkIGJlIGRlY3JlYXNlZFxuXHRcdFx0XHRcdG9yZGVyUHJvZHVjdC5jb3VudCAvLyBob3cgbWFueSB0byByZW1vdmVcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRhd2FpdCB0aGlzLndhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UuaW5jcmVhc2VTb2xkQ291bnQoXG5cdFx0XHRcdFx0d2FyZWhvdXNlSWQsXG5cdFx0XHRcdFx0cHJvZHVjdElkLFxuXHRcdFx0XHRcdG9yZGVyUHJvZHVjdC5jb3VudFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0d2FyZWhvdXNlSWQsXG5cdFx0XHRcdFx0XHRwcm9kdWN0SWQsXG5cdFx0XHRcdFx0XHRjb3VudDogb3JkZXJQcm9kdWN0LmNvdW50LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0J09yZGVyIGNyZWF0ZSByZW1vdmUgcHJvZHVjdHMgY2FsbCBzdWNjZWVkJ1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHRyZXR1cm4gb3JkZXI7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlIE9yZGVyIGJ5IGdpdmVuIGN1c3RvbWVyIGluIHRoZSBnaXZlbiBTdG9yZSBmb3IgMSBzcGVjaWZpYyBwcm9kdWN0XG5cdCAqIChvcHRpbWl6ZWQgZm9yIHNpbmdsZSBwcm9kdWN0IHB1cmNoYXNlcylcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gd2FyZWhvdXNlSWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IHByb2R1Y3RJZFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxPcmRlcj59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzT3JkZXJzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBjcmVhdGVCeVByb2R1Y3RUeXBlKFxuXHRcdHVzZXJJZDogc3RyaW5nLFxuXHRcdHdhcmVob3VzZUlkOiBzdHJpbmcsXG5cdFx0cHJvZHVjdElkOiBzdHJpbmcsXG5cdFx0b3JkZXJUeXBlPzogRGVsaXZlcnlUeXBlXG5cdCk6IFByb21pc2U8T3JkZXI+IHtcblx0XHRhd2FpdCB0aGlzLnVzZXJzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKHVzZXJJZCk7XG5cdFx0YXdhaXQgdGhpcy53YXJlaG91c2VzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKHdhcmVob3VzZUlkKTtcblx0XHRhd2FpdCB0aGlzLnByb2R1Y3RzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKHByb2R1Y3RJZCk7XG5cblx0XHRyZXR1cm4gdGhpcy5jcmVhdGUoe1xuXHRcdFx0dXNlcklkLFxuXHRcdFx0d2FyZWhvdXNlSWQsXG5cdFx0XHRvcmRlclR5cGUsXG5cdFx0XHRwcm9kdWN0czogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0cHJvZHVjdElkLFxuXHRcdFx0XHRcdGNvdW50OiAxLFxuXHRcdFx0XHR9LFxuXHRcdFx0XSxcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDYW5jZWwgYW4gb3JkZXIuXG5cdCAqIE1vbmV5IGJhY2sgYW5kIGNhbmNlbCBzaGlwcGluZyB0byB0aGUgY2xpZW50IGlmIGl0J3Mgc3RhcnRlZCBhbHJlYWR5XG5cdCAqIEZvciBub24tY29uZmlybWVkIG9yZGVycyB3ZSBvbmx5IGluY3JlYXNlIGF2YWlsYWJpbGl0eVxuXHQgKiBGb3IgY29uZmlybWVkIG9yZGVycyB3ZSBpbmNyZWFzZSBhdmFpbGFiaWxpdHksIHJldHVybiBwYXltZW50IGFuZCBjYW5jZWwgc2hpcHBpbmdcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IG9yZGVySWRcblx0ICogQHJldHVybnMge1Byb21pc2U8T3JkZXI+fVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlc09yZGVyc1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgY2FuY2VsKG9yZGVySWQ6IHN0cmluZyk6IFByb21pc2U8T3JkZXI+IHtcblx0XHRsZXQgb3JkZXIgPSBhd2FpdCB0aGlzLm9yZGVyc1NlcnZpY2Vcblx0XHRcdC5nZXQob3JkZXJJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cblx0XHRpZiAob3JkZXIgPT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgVGhlcmUgaXMgbm8gb3JkZXIgd2l0aCB0aGUgaWQgJHtvcmRlcklkfSB0byBjYW5jZWxgXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmIChvcmRlci5pc0NhbmNlbGxlZCkge1xuXHRcdFx0dGhpcy5sb2cud2FybihgT3JkZXIgd2l0aCBpZCAke29yZGVySWR9IGlzIGFscmVhZHkgY2FuY2VsbGVkIWApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGNhbmNlbGluZyBvcmRlclxuXHRcdG9yZGVyID0gYXdhaXQgdGhpcy5vcmRlcnNTZXJ2aWNlLmNhbmNlbChvcmRlcklkKTtcblxuXHRcdGlmIChvcmRlci5pc0NvbmZpcm1lZCkge1xuXHRcdFx0Ly8gVE9ETzogcmV0dXJuIHBheW1lbnQgYmFjayBhbmQgY2FuY2VsIHNoaXBwaW5nXG5cdFx0fVxuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHtcblx0XHRcdFx0d2FyZWhvdXNlSWQ6IG9yZGVyLndhcmVob3VzZUlkLFxuXHRcdFx0XHRwcm9kdWN0czogb3JkZXIucHJvZHVjdHMsXG5cdFx0XHR9LFxuXHRcdFx0J09yZGVyIGNhbmNlbCBhZGQgcHJvZHVjdHMgYmFjayBjYWxsJ1xuXHRcdCk7XG5cblx0XHQvLyBhZGQgcHJvZHVjdHMgYmFjayB0byB3YXJlaG91c2Vcblx0XHRhd2FpdCB0aGlzLndhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UuYWRkKFxuXHRcdFx0b3JkZXIud2FyZWhvdXNlSWQsXG5cdFx0XHRfLm1hcChvcmRlci5wcm9kdWN0cywgKG9yZGVyUHJvZHVjdCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHByb2R1Y3Q6IG9yZGVyUHJvZHVjdC5wcm9kdWN0LmlkLFxuXHRcdFx0XHRcdGNvdW50OiBvcmRlclByb2R1Y3QuY291bnQsXG5cdFx0XHRcdFx0cHJpY2U6IG9yZGVyUHJvZHVjdC5wcmljZSxcblx0XHRcdFx0XHRpbml0aWFsUHJpY2U6IG9yZGVyUHJvZHVjdC5pbml0aWFsUHJpY2UsXG5cdFx0XHRcdFx0ZGVsaXZlcnlUaW1lTWluOiBvcmRlclByb2R1Y3QuZGVsaXZlcnlUaW1lTWluLFxuXHRcdFx0XHRcdGRlbGl2ZXJ5VGltZU1heDogb3JkZXJQcm9kdWN0LmRlbGl2ZXJ5VGltZU1heCxcblx0XHRcdFx0fTtcblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdC8vIHJldmVydCBvcmRlciBzb2xkIGNvdW50XG5cdFx0YXdhaXQgKDxhbnk+Qmx1ZWJpcmQpLm1hcChcblx0XHRcdG9yZGVyLnByb2R1Y3RzLFxuXHRcdFx0YXN5bmMgKG9yZGVyUHJvZHVjdDogT3JkZXJQcm9kdWN0KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHByb2R1Y3RJZCA9IG9yZGVyUHJvZHVjdC5wcm9kdWN0LmlkO1xuXG5cdFx0XHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZS5kZWNyZWFzZVNvbGRDb3VudChcblx0XHRcdFx0XHRvcmRlci53YXJlaG91c2VJZCxcblx0XHRcdFx0XHRwcm9kdWN0SWQsXG5cdFx0XHRcdFx0b3JkZXJQcm9kdWN0LmNvdW50XG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7XG5cdFx0XHRcdHdhcmVob3VzZUlkOiBvcmRlci53YXJlaG91c2VJZCxcblx0XHRcdFx0cHJvZHVjdHM6IG9yZGVyLnByb2R1Y3RzLFxuXHRcdFx0fSxcblx0XHRcdCdPcmRlciBjYW5jZWwgYWRkIHByb2R1Y3RzIGJhY2sgY2FsbCBzdWNjZWVkJ1xuXHRcdCk7XG5cblx0XHRyZXR1cm4gb3JkZXI7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IE9yZGVycyBmb3IgZ2l2ZW4gU3RvcmVcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlSWRcblx0ICogQHBhcmFtIHtJUGFnaW5nT3B0aW9uc30gcGFnaW5nT3B0aW9uc1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gc3RhdHVzXG5cdCAqIEByZXR1cm5zXG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzT3JkZXJzU2VydmljZVxuXHQgKi9cblx0YXN5bmMgZ2V0U3RvcmVPcmRlcnMoXG5cdFx0c3RvcmVJZDogc3RyaW5nLFxuXHRcdHBhZ2luZ09wdGlvbnM6IElQYWdpbmdPcHRpb25zLFxuXHRcdHN0YXR1czogc3RyaW5nXG5cdCkge1xuXHRcdGNvbnN0IHNvcnRPYmogPSB7fTtcblxuXHRcdGNvbnN0IGZpbmRPYmogPSBnZXRTdG9yZU9yZGVyc0ZpbmdPYmooc3RvcmVJZCwgc3RhdHVzKTtcblxuXHRcdGlmIChwYWdpbmdPcHRpb25zLnNvcnQpIHtcblx0XHRcdHNvcnRPYmpbcGFnaW5nT3B0aW9ucy5zb3J0LmZpZWxkXSA9IHBhZ2luZ09wdGlvbnMuc29ydC5zb3J0Qnk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMub3JkZXJzU2VydmljZS5Nb2RlbC5maW5kKGZpbmRPYmopXG5cdFx0XHQuc29ydChzb3J0T2JqKVxuXHRcdFx0LnNraXAocGFnaW5nT3B0aW9ucy5za2lwKVxuXHRcdFx0LmxpbWl0KHBhZ2luZ09wdGlvbnMubGltaXQpXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBfZ2V0KFxuXHRcdHdhcmVob3VzZUlkOiBXYXJlaG91c2VbJ2lkJ10sXG5cdFx0b3B0aW9uczoge1xuXHRcdFx0cG9wdWxhdGVXYXJlaG91c2U/OiBib29sZWFuO1xuXHRcdFx0cG9wdWxhdGVDYXJyaWVyPzogYm9vbGVhbjtcblx0XHRcdG9ubHlBdmFpbGFibGVUb0NhcnJpZXI/OiBib29sZWFuO1xuXHRcdH0gPSB7fVxuXHQpOiBQcm9taXNlPE9yZGVyW10+IHtcblx0XHRhd2FpdCB0aGlzLndhcmVob3VzZXNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHMod2FyZWhvdXNlSWQpO1xuXG5cdFx0Y29uc3QgZmluZE9iaiA9IHsgd2FyZWhvdXNlOiB3YXJlaG91c2VJZCB9O1xuXG5cdFx0aWYgKG9wdGlvbnMub25seUF2YWlsYWJsZVRvQ2Fycmllcikge1xuXHRcdFx0Xy5leHRlbmQoXG5cdFx0XHRcdGZpbmRPYmosXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjYXJyaWVyU3RhdHVzOiAwLFxuXHRcdFx0XHRcdCRvcjogW1xuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRjYXJyaWVyOiB7ICRleGlzdHM6IGZhbHNlIH0sXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRjYXJyaWVyOiBudWxsLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRdLFxuXHRcdFx0XHRcdHdhcmVob3VzZVN0YXR1czogeyAkZ3RlOiAyLCAkbHQ6IDIwMCB9LFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRPcmRlcnNTZXJ2aWNlLkZpbmRPYmplY3RzLmlzQ29tcGxldGVkXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGxldCB0b1BvcHVsYXRlID0gJyc7XG5cblx0XHRpZiAob3B0aW9ucy5wb3B1bGF0ZUNhcnJpZXIpIHtcblx0XHRcdHRvUG9wdWxhdGUgKz0gJ2NhcnJpZXIgJztcblx0XHR9XG5cblx0XHRpZiAob3B0aW9ucy5wb3B1bGF0ZVdhcmVob3VzZSkge1xuXHRcdFx0dG9Qb3B1bGF0ZSArPSAnd2FyZWhvdXNlICc7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgb3JkZXJzID0gXy5tYXAoXG5cdFx0XHQoYXdhaXQgdGhpcy5vcmRlcnNTZXJ2aWNlLk1vZGVsLmZpbmQoe1xuXHRcdFx0XHQuLi5maW5kT2JqLFxuXHRcdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdFx0fSlcblx0XHRcdFx0LnBvcHVsYXRlKHRvUG9wdWxhdGUpXG5cdFx0XHRcdC5zb3J0KHtcblx0XHRcdFx0XHRfY3JlYXRlZEF0OiAtMSwgLy8gU29ydCBieSBEYXRlIEFkZGVkIERFU0Ncblx0XHRcdFx0fSlcblx0XHRcdFx0LmxlYW4oKVxuXHRcdFx0XHQuZXhlYygpKSBhcyBJT3JkZXJbXSxcblx0XHRcdChvcmRlcikgPT4gbmV3IE9yZGVyKG9yZGVyKVxuXHRcdCk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0e1xuXHRcdFx0XHR3YXJlaG91c2VJZCxcblx0XHRcdFx0b3JkZXJzLFxuXHRcdFx0fSxcblx0XHRcdCdvcmRlcnMgYnkgd2FyZWhvdXNlIChpbiBnZXRCeVdhcmVob3VzZSknXG5cdFx0KTtcblxuXHRcdHJldHVybiBvcmRlcnM7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0b3JlT3JkZXJzRmluZ09iaihzdG9yZUlkOiBzdHJpbmcsIHN0YXR1czogc3RyaW5nKSB7XG5cdGNvbnN0IGZpbmRPYmogPSB7XG5cdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR3YXJlaG91c2U6IHN0b3JlSWQsXG5cdH07XG5cblx0c3dpdGNoIChzdGF0dXMpIHtcblx0XHRjYXNlICdjb25maXJtZWQnOlxuXHRcdFx0ZmluZE9ialsnJGFuZCddID0gW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOiB7XG5cdFx0XHRcdFx0XHQkZ3Q6IE9yZGVyV2FyZWhvdXNlU3RhdHVzLk5vU3RhdHVzLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR3YXJlaG91c2VTdGF0dXM6IHtcblx0XHRcdFx0XHRcdCRsdDogT3JkZXJXYXJlaG91c2VTdGF0dXMuR2l2ZW5Ub0N1c3RvbWVyLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjYXJyaWVyU3RhdHVzOiB7XG5cdFx0XHRcdFx0XHQkbHRlOiBPcmRlckNhcnJpZXJTdGF0dXMuQ2FycmllclNlbGVjdGVkT3JkZXIsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSxcblx0XHRcdF07XG5cdFx0XHRmaW5kT2JqWydpc0NhbmNlbGxlZCddID0gZmFsc2U7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdpbl9kZWxpdmVyeSc6XG5cdFx0XHRmaW5kT2JqWyckYW5kJ10gPSBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjYXJyaWVyU3RhdHVzOiB7XG5cdFx0XHRcdFx0XHQkZ3RlOiBPcmRlckNhcnJpZXJTdGF0dXMuQ2FycmllclBpY2tlZFVwT3JkZXIsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHdhcmVob3VzZVN0YXR1czoge1xuXHRcdFx0XHRcdFx0JGx0OiBPcmRlcldhcmVob3VzZVN0YXR1cy5BbGxvY2F0aW9uRmFpbGVkLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjYXJyaWVyU3RhdHVzOiB7XG5cdFx0XHRcdFx0XHQkbHQ6IE9yZGVyQ2FycmllclN0YXR1cy5EZWxpdmVyeUNvbXBsZXRlZCxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9LFxuXHRcdFx0XTtcblx0XHRcdGZpbmRPYmpbJ2lzQ2FuY2VsbGVkJ10gPSBmYWxzZTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ25vdF9jb25maXJtZWQnOlxuXHRcdFx0ZmluZE9ialsnd2FyZWhvdXNlU3RhdHVzJ10gPSBPcmRlcldhcmVob3VzZVN0YXR1cy5Ob1N0YXR1cztcblx0XHRcdGZpbmRPYmpbJ2lzQ2FuY2VsbGVkJ10gPSBmYWxzZTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ25vdF9wYWlkJzpcblx0XHRcdGZpbmRPYmpbJ2lzUGFpZCddID0gZmFsc2U7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdjYW5jZWxsZWQnOlxuXHRcdFx0ZmluZE9ialsnaXNDYW5jZWxsZWQnXSA9IHRydWU7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdyZWxldmFudCc6XG5cdFx0XHRmaW5kT2JqWyckYW5kJ10gPSBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR3YXJlaG91c2VTdGF0dXM6IHtcblx0XHRcdFx0XHRcdCRndGU6IE9yZGVyV2FyZWhvdXNlU3RhdHVzLk5vU3RhdHVzLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR3YXJlaG91c2VTdGF0dXM6IHtcblx0XHRcdFx0XHRcdCRsdDogT3JkZXJXYXJlaG91c2VTdGF0dXMuR2l2ZW5Ub0N1c3RvbWVyLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjYXJyaWVyU3RhdHVzOiB7XG5cdFx0XHRcdFx0XHQkbHRlOiBPcmRlckNhcnJpZXJTdGF0dXMuQ2FycmllclNlbGVjdGVkT3JkZXIsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSxcblx0XHRcdF07XG5cdFx0XHRmaW5kT2JqWydpc0NhbmNlbGxlZCddID0gZmFsc2U7XG5cdFx0XHRicmVhaztcblx0XHRkZWZhdWx0OlxuXHRcdFx0YnJlYWs7XG5cdH1cblxuXHRyZXR1cm4gZmluZE9iajtcbn1cbiIsImltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4uLy4uL2hlbHBlcnMvTG9nJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCBXYXJlaG91c2VQcm9kdWN0IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvV2FyZWhvdXNlUHJvZHVjdCc7XG5pbXBvcnQgeyBXYXJlaG91c2VzU2VydmljZSB9IGZyb20gJy4vV2FyZWhvdXNlc1NlcnZpY2UnO1xuaW1wb3J0IElXYXJlaG91c2VQcm9kdWN0LCB7XG5cdElXYXJlaG91c2VQcm9kdWN0Q3JlYXRlT2JqZWN0LFxufSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSVdhcmVob3VzZVByb2R1Y3QnO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBXYXJlaG91c2UgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9XYXJlaG91c2UnO1xuaW1wb3J0IElXYXJlaG91c2UgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lXYXJlaG91c2UnO1xuaW1wb3J0IHsgRXhpc3RlbmNlRXZlbnRUeXBlLCBEQlNlcnZpY2UgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IElXYXJlaG91c2VQcm9kdWN0c1JvdXRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL3JvdXRlcnMvSVdhcmVob3VzZVByb2R1Y3RzUm91dGVyJztcbmltcG9ydCB7XG5cdGFzeW5jTGlzdGVuZXIsXG5cdG9ic2VydmFibGVMaXN0ZW5lcixcblx0cm91dGVyTmFtZSxcblx0c2VyaWFsaXphdGlvbixcbn0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IElQcm9kdWN0IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JUHJvZHVjdCc7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnLi4vSVNlcnZpY2UnO1xuaW1wb3J0IHsgZXhoYXVzdE1hcCwgZmlyc3QsIG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IG9mIH0gZnJvbSAncnhqcy9vYnNlcnZhYmxlL29mJztcbmltcG9ydCB7IF90aHJvdyB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS90aHJvdyc7XG5pbXBvcnQgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xuaW1wb3J0IElQYWdpbmdPcHRpb25zIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JUGFnaW5nT3B0aW9ucyc7XG5cbmNvbnN0IG5vR2V0UHJvZHVjdFR5cGVNZXNzYWdlID0gYFRoZXJlIHNob3VsZCBiZSB0cnVlIGF0IGxlYXN0IG9uZSBvZiB0aGUgdHdvIC0gXCJpc0NhcnJpZXJSZXF1aXJlZFwiIG9yIFwiaXNUYWtlYXdheVwiIWA7XG5cbi8qKlxuICogV2FyZWhvdXNlcyBQcm9kdWN0cyBTZXJ2aWNlXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2VcbiAqIEBpbXBsZW1lbnRzIHtJV2FyZWhvdXNlUHJvZHVjdHNSb3V0ZXJ9XG4gKiBAaW1wbGVtZW50cyB7SVNlcnZpY2V9XG4gKi9cbkBpbmplY3RhYmxlKClcbkByb3V0ZXJOYW1lKCd3YXJlaG91c2UtcHJvZHVjdHMnKVxuZXhwb3J0IGNsYXNzIFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2Vcblx0aW1wbGVtZW50cyBJV2FyZWhvdXNlUHJvZHVjdHNSb3V0ZXIsIElTZXJ2aWNlIHtcblx0cHJvdGVjdGVkIHJlYWRvbmx5IGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7XG5cdFx0bmFtZTogJ3dhcmVob3VzZVByb2R1Y3RzU2VydmljZScsXG5cdH0pO1xuXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgd2FyZWhvdXNlc1NlcnZpY2U6IFdhcmVob3VzZXNTZXJ2aWNlKSB7fVxuXG5cdC8qKlxuXHQgKiBHZXQgYWxsIHByb2R1Y3RzIGZvciBnaXZlbiB3YXJlaG91c2UgKG5vdCBvbmx5IGF2YWlsYWJsZSwgYnV0IGFsbCBhc3NpZ25lZClcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHdhcmVob3VzZUlkXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Z1bGxQcm9kdWN0cz10cnVlXSBpZiB0cnVlLCBpbmNsdWRlIGZ1bGwgcHJvZHVjdHMgZGV0YWlsc1xuXHQgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxXYXJlaG91c2VQcm9kdWN0W10+fVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZVxuXHQgKi9cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldChcblx0XHR3YXJlaG91c2VJZDogc3RyaW5nLFxuXHRcdGZ1bGxQcm9kdWN0czogYm9vbGVhbiA9IHRydWVcblx0KTogT2JzZXJ2YWJsZTxXYXJlaG91c2VQcm9kdWN0W10+IHtcblx0XHRyZXR1cm4gdGhpcy53YXJlaG91c2VzU2VydmljZS5nZXQod2FyZWhvdXNlSWQsIGZ1bGxQcm9kdWN0cykucGlwZShcblx0XHRcdGV4aGF1c3RNYXAoKHdhcmVob3VzZSkgPT4ge1xuXHRcdFx0XHRpZiAod2FyZWhvdXNlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIF90aHJvdyhcblx0XHRcdFx0XHRcdG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdFx0YFdhcmVob3VzZSB3aXRoIHRoZSBpZCAke3dhcmVob3VzZUlkfSBkb2Vzbid0IGV4aXN0YFxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9mKHdhcmVob3VzZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pLFxuXHRcdFx0bWFwKCh3YXJlaG91c2UpID0+IHdhcmVob3VzZS5wcm9kdWN0cylcblx0XHQpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXRQcm9kdWN0c1dpdGhQYWdpbmF0aW9uKFxuXHRcdGlkOiBzdHJpbmcsXG5cdFx0cGFnaW5nT3B0aW9uczogSVBhZ2luZ09wdGlvbnNcblx0KTogUHJvbWlzZTxXYXJlaG91c2VQcm9kdWN0W10+IHtcblx0XHRjb25zdCBhbGxQcm9kdWN0cyA9IGF3YWl0IHRoaXMuZ2V0KGlkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXG5cdFx0Y29uc3QgcHJvZHVjdHMgPSBbLi4uYWxsUHJvZHVjdHNdO1xuXG5cdFx0aWYgKHBhZ2luZ09wdGlvbnMubGltaXQgJiYgcGFnaW5nT3B0aW9ucy5za2lwKSB7XG5cdFx0XHRyZXR1cm4gcHJvZHVjdHNcblx0XHRcdFx0LnNsaWNlKHBhZ2luZ09wdGlvbnMuc2tpcClcblx0XHRcdFx0LnNsaWNlKDAsIHBhZ2luZ09wdGlvbnMubGltaXQpXG5cdFx0XHRcdC5zb3J0KChhLCBiKSA9PiBiLnNvbGRDb3VudCAtIGEuc29sZENvdW50KTtcblx0XHR9IGVsc2UgaWYgKHBhZ2luZ09wdGlvbnMubGltaXQpIHtcblx0XHRcdHJldHVybiBwcm9kdWN0c1xuXHRcdFx0XHQuc2xpY2UoMCwgcGFnaW5nT3B0aW9ucy5saW1pdClcblx0XHRcdFx0LnNvcnQoKGEsIGIpID0+IGIuc29sZENvdW50IC0gYS5zb2xkQ291bnQpO1xuXHRcdH0gZWxzZSBpZiAocGFnaW5nT3B0aW9ucy5za2lwKSB7XG5cdFx0XHRyZXR1cm4gcHJvZHVjdHNcblx0XHRcdFx0LnNsaWNlKHBhZ2luZ09wdGlvbnMuc2tpcClcblx0XHRcdFx0LnNvcnQoKGEsIGIpID0+IGIuc29sZENvdW50IC0gYS5zb2xkQ291bnQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBwcm9kdWN0cy5zb3J0KChhLCBiKSA9PiBiLnNvbGRDb3VudCAtIGEuc29sZENvdW50KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZ2V0UHJvZHVjdHNDb3VudChpZDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgYWxsUHJvZHVjdHMgPSBhd2FpdCB0aGlzLmdldChpZCkucGlwZShmaXJzdCgpKS50b1Byb21pc2UoKTtcblxuXHRcdHJldHVybiBhbGxQcm9kdWN0cy5sZW5ndGg7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IHByb2R1Y3RzIGZvciBnaXZlbiB3YXJlaG91c2Ugd2hpY2ggYXZhaWxhYmxlIGZvciBwdXJjaGFzZVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gd2FyZWhvdXNlSWRcblx0ICogQHJldHVybnMge09ic2VydmFibGU8V2FyZWhvdXNlUHJvZHVjdFtdPn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2Vcblx0ICovXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXRBdmFpbGFibGUod2FyZWhvdXNlSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8V2FyZWhvdXNlUHJvZHVjdFtdPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KHdhcmVob3VzZUlkKS5waXBlKFxuXHRcdFx0bWFwKCh3YXJlaG91c2VQcm9kdWN0cykgPT5cblx0XHRcdFx0Xy5maWx0ZXIoXG5cdFx0XHRcdFx0d2FyZWhvdXNlUHJvZHVjdHMsXG5cdFx0XHRcdFx0KHdhcmVob3VzZVByb2R1Y3QpID0+IHdhcmVob3VzZVByb2R1Y3QuY291bnQgPiAwXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlbW92ZSBwcm9kdWN0cyBmcm9tIHdhcmVob3VzZVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gd2FyZWhvdXNlSWRcblx0ICogQHBhcmFtIHtzdHJpbmdbXX0gcHJvZHVjdHNJZHNcblx0ICogQHJldHVybnMge1Byb21pc2U8V2FyZWhvdXNlUHJvZHVjdFtdPn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgcmVtb3ZlKFxuXHRcdHdhcmVob3VzZUlkOiBzdHJpbmcsXG5cdFx0cHJvZHVjdHNJZHM6IHN0cmluZ1tdXG5cdCk6IFByb21pc2U8V2FyZWhvdXNlUHJvZHVjdFtdPiB7XG5cdFx0dGhpcy5sb2cuaW5mbygnUmVtb3ZpbmcgcHJvZHVjdHMgJyArIHByb2R1Y3RzSWRzKTtcblxuXHRcdGNvbnN0IHdhcmVob3VzZSA9IGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2Vcblx0XHRcdC5nZXQod2FyZWhvdXNlSWQsIHRydWUpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKHdhcmVob3VzZSA9PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGlzIG5vIHdhcmVob3VzZSB3aXRoIHRoZSBpZCAke3dhcmVob3VzZX0hYCk7XG5cdFx0fVxuXG5cdFx0d2FyZWhvdXNlLnByb2R1Y3RzID0gd2FyZWhvdXNlLnByb2R1Y3RzLmZpbHRlcigocCkgPT4ge1xuXHRcdFx0aWYgKCFwLnByb2R1Y3RbJ19pZCddKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgcHJvZHVjdElkID0gcC5wcm9kdWN0WydpZCddO1xuXHRcdFx0cmV0dXJuICFwcm9kdWN0c0lkcy5pbmNsdWRlcyhwcm9kdWN0SWQpO1xuXHRcdH0pO1xuXHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2Uuc2F2ZSh3YXJlaG91c2UpO1xuXG5cdFx0cmV0dXJuIHdhcmVob3VzZS5wcm9kdWN0cztcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGQgcHJvZHVjdHMgdG8gd2FyZWhvdXNlXG5cdCAqIFRPRE86IHNob3VsZCBcIm1lcmdlXCIgcHJvZHVjdHMsIG5vdCBqdXN0IGFkZCB0aGVtIVxuXHQgKiBCeSBtZXJnZSBJIG1lYW4gaW5jcmVhc2UgcXR5IGlmIHByb2R1Y3QgYWxyZWFkeSBpbiB3YXJlaG91c2Ugb3IgYWRkIG5ldyBwcm9kdWN0IGlmIGl0J3Mgbm90LlxuXHQgKiBXZSBhbHNvIHNob3VsZCB0aGluayB3aGF0IHRvIGRvIHdpdGggcHJpY2VzP1xuXHQgKiBJcyBpdCBwb3NzaWJsZSB0byBoYXZlIDIgc2FtZSBwcm9kdWN0cyBidXQgY29tZSB3aXRoIGRpZmZlcmVudCBwcmljZT9cblx0ICogT3Igd2Ugc2hvdWxkIG1lcmdlIHByb2R1Y3RzIGFuZCB1c2UgbGF0ZXN0IHByaWNlP1xuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gd2FyZWhvdXNlSWRcblx0ICogQHBhcmFtIHtJV2FyZWhvdXNlUHJvZHVjdENyZWF0ZU9iamVjdFtdfSBwcm9kdWN0c1xuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IFt0cmlnZ2VyQ2hhbmdlPXRydWVdXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPFdhcmVob3VzZVByb2R1Y3RbXT59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGFkZChcblx0XHR3YXJlaG91c2VJZDogc3RyaW5nLFxuXHRcdHByb2R1Y3RzOiBJV2FyZWhvdXNlUHJvZHVjdENyZWF0ZU9iamVjdFtdLFxuXHRcdHRyaWdnZXJDaGFuZ2U6IGJvb2xlYW4gPSB0cnVlXG5cdCk6IFByb21pc2U8V2FyZWhvdXNlUHJvZHVjdFtdPiB7XG5cdFx0Ly8gVE9ETzogdXNlIGF0b21pYyBvcGVyYXRpb25zIChlLmcuOmZpbmRBbmRNb2RpZnkpIG9yIDIgcGhhc2UgY29tbWl0XG5cdFx0Ly8gc2VlIGh0dHA6Ly9ibG9nLm9jbGl3LmNvbS8yMDEyLzExLzI1L21vbmdvb3NlLWFkZC10by1hbi1leGlzdGluZy1hcnJheS9cblxuXHRcdHRoaXMubG9nLmluZm8oJ0FkZGluZyBwcm9kdWN0cyAnICsgSlNPTi5zdHJpbmdpZnkocHJvZHVjdHMpKTtcblxuXHRcdGxldCB3YXJlaG91c2UgPSBhd2FpdCB0aGlzLndhcmVob3VzZXNTZXJ2aWNlXG5cdFx0XHQuZ2V0KHdhcmVob3VzZUlkLCBmYWxzZSlcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7IC8vIHByb2R1Y3RzIG5vdCBwb3B1bGF0ZWQhXG5cblx0XHRpZiAod2FyZWhvdXNlID09IG51bGwpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gd2FyZWhvdXNlIHdpdGggdGhlIGlkICR7d2FyZWhvdXNlfSFgKTtcblx0XHR9XG5cblx0XHRjb25zdCBub3RVcGRhdGVkV2FyZWhvdXNlID0gXy5jbG9uZSh3YXJlaG91c2UpO1xuXG5cdFx0Ly8gSW4gcHJhY3RpY2UgdG8gbWFrZSBpdCBtb3JlIHJlbGlhYmxlLCB3ZSBzaG91bGQgZ28gb25lIGJ5IG9uZSwgaS5lLiBvbmUgcHJvZHVjdCBhIHRpbWVcblx0XHQvLyBhbmQgZWFjaCB0aW1lIGV4ZWN1dGUgYXRvbWljIG9wZXJhdGlvbiBvbiBlYWNoIHByb2R1Y3QuXG5cdFx0Ly8gU2F5IGlmIHByb2R1Y3QgYWxyZWFkeSB0aGVyZSwgd2Ugd2FudCB0byBpbmNyZWFzZSBjb3VudCB1c2luZyBhdG9taWMgb3BlcmF0aW9uIGJ5IGdpdmVuIHZhbHVlIGluIHRoZSBzdG9yYWdlLlxuXHRcdC8vIGV0Y1xuXG5cdFx0bGV0IG5ld1Byb2RzOiBJV2FyZWhvdXNlUHJvZHVjdENyZWF0ZU9iamVjdFtdO1xuXG5cdFx0aWYgKHdhcmVob3VzZS5wcm9kdWN0cyAmJiB3YXJlaG91c2UucHJvZHVjdHMubGVuZ3RoID4gMCkge1xuXHRcdFx0bmV3UHJvZHMgPSBfLmNsb25lKHdhcmVob3VzZS5wcm9kdWN0cyk7XG5cblx0XHRcdF8uZWFjaChwcm9kdWN0cywgKHByb2R1Y3QpID0+IHtcblx0XHRcdFx0aWYgKCFwcm9kdWN0LmlzRGVsaXZlcnlSZXF1aXJlZCAmJiAhcHJvZHVjdC5pc1Rha2Vhd2F5KSB7XG5cdFx0XHRcdFx0cHJvZHVjdC5pc0RlbGl2ZXJ5UmVxdWlyZWQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IGV4aXN0ZWQgPSBfLmZpbmQoXG5cdFx0XHRcdFx0bmV3UHJvZHMsXG5cdFx0XHRcdFx0KG5ld1Byb2QpID0+XG5cdFx0XHRcdFx0XHQobmV3UHJvZC5wcm9kdWN0IGFzIHN0cmluZykgPT09XG5cdFx0XHRcdFx0XHQocHJvZHVjdC5wcm9kdWN0IGFzIHN0cmluZylcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0dHlwZW9mIGV4aXN0ZWQgPT09ICd1bmRlZmluZWQnIHx8XG5cdFx0XHRcdFx0ZXhpc3RlZCA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdFx0ZXhpc3RlZCA9PSBudWxsXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdG5ld1Byb2RzLnB1c2gocHJvZHVjdCk7IC8vIGlmIG5vIHN1Y2ggcHJvZHVjdCBleGlzdGVkIHlldCwgd2UgYWRkIGl0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gaWYgcHJvZHVjdCB3aXRoIHNhbWUgaWQgYWxyZWFkeSBleGlzdHMsIHdlIHNob3VsZCBpbmNyZWFzZSBoaXMgcXR5XG5cdFx0XHRcdFx0aWYgKGV4aXN0ZWQuY291bnQgJiYgcHJvZHVjdC5jb3VudCkge1xuXHRcdFx0XHRcdFx0ZXhpc3RlZC5jb3VudCArPSBwcm9kdWN0LmNvdW50O1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRleGlzdGVkLmNvdW50ID0gcHJvZHVjdC5jb3VudDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gc2hvdWxkIHdlIG1lcmdlIHByaWNlIGhlcmU/IFdoYXQgaWYgbmV3IHByb2R1Y3RzIGNvbWUgd2l0aCBuZXcgcHJpY2UsXG5cdFx0XHRcdFx0Ly8gc2hvdWxkIHdlIG1ha2UgXCJhdmVyYWdlXCIgcHJpY2UgaW4gd2FyZWhvdXNlIG9yIHVzZSBsYXRlc3QgcHJpY2UgaW5zdGVhZD9cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5ld1Byb2RzID0gcHJvZHVjdHM7XG5cdFx0fVxuXG5cdFx0dHJ5IHtcblx0XHRcdHdhcmVob3VzZSA9IG5ldyBXYXJlaG91c2UoXG5cdFx0XHRcdChhd2FpdCB0aGlzLndhcmVob3VzZXNTZXJ2aWNlLk1vZGVsLmZpbmRCeUlkQW5kVXBkYXRlKFxuXHRcdFx0XHRcdHdhcmVob3VzZUlkLFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdCRzZXQ6IHsgcHJvZHVjdHM6IG5ld1Byb2RzIH0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR7IG5ldzogdHJ1ZSB9XG5cdFx0XHRcdClcblx0XHRcdFx0XHQucG9wdWxhdGUoJ3Byb2R1Y3RzLnByb2R1Y3QnKVxuXHRcdFx0XHRcdC5sZWFuKClcblx0XHRcdFx0XHQuZXhlYygpKSBhcyBJV2FyZWhvdXNlXG5cdFx0XHQpO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLmxvZy5lcnJvcihlcnJvcik7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRpZiAodHJpZ2dlckNoYW5nZSkge1xuXHRcdFx0dGhpcy53YXJlaG91c2VzU2VydmljZS5leGlzdGVuY2UubmV4dCh7XG5cdFx0XHRcdGlkOiB3YXJlaG91c2UuaWQsXG5cdFx0XHRcdHZhbHVlOiB3YXJlaG91c2UsXG5cdFx0XHRcdGxhc3RWYWx1ZTogbm90VXBkYXRlZFdhcmVob3VzZSxcblx0XHRcdFx0dHlwZTogRXhpc3RlbmNlRXZlbnRUeXBlLlVwZGF0ZWQsXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRjb25zdCBuZXdQcm9kc0lkcyA9IF8ubWFwKG5ld1Byb2RzLCAod2FyZWhvdXNlUHJvZHVjdCkgPT4ge1xuXHRcdFx0aWYgKHR5cGVvZiB3YXJlaG91c2VQcm9kdWN0LnByb2R1Y3QgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdHJldHVybiB3YXJlaG91c2VQcm9kdWN0LnByb2R1Y3QgYXMgc3RyaW5nO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuICh3YXJlaG91c2VQcm9kdWN0LnByb2R1Y3QgYXMgSVByb2R1Y3QpLl9pZC50b1N0cmluZygpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIF8uZmlsdGVyKHdhcmVob3VzZS5wcm9kdWN0cywgKHdhcmVob3VzZVByb2R1Y3QpID0+IHtcblx0XHRcdHJldHVybiBfLmluY2x1ZGVzKG5ld1Byb2RzSWRzLCB3YXJlaG91c2VQcm9kdWN0LnByb2R1Y3RJZCk7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogSW5jcmVhc2UgaW52ZW50b3J5IG9mIGdpdmVuIHByb2R1Y3QgdXNpbmcgZXhpc3RlZCBwcm9kdWN0IHByaWNlIGJ5IGdpdmVuIGNvdW50XG5cdCAqIElmIG5vIHN1Y2ggcHJvZHVjdCBleGlzdHMgaW4gd2FyZWhvdXNlIHlldCwgZG8gbm90aGluZ1xuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gd2FyZWhvdXNlSWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IHByb2R1Y3RJZFxuXHQgKiBAcGFyYW0ge251bWJlcn0gY291bnRcblx0ICogQHJldHVybnMge1Byb21pc2U8V2FyZWhvdXNlUHJvZHVjdD59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGluY3JlYXNlQ291bnQoXG5cdFx0d2FyZWhvdXNlSWQ6IHN0cmluZyxcblx0XHRwcm9kdWN0SWQ6IHN0cmluZyxcblx0XHRjb3VudDogbnVtYmVyXG5cdCk6IFByb21pc2U8V2FyZWhvdXNlUHJvZHVjdD4ge1xuXHRcdGNvbnN0IHdhcmVob3VzZSA9IGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2Vcblx0XHRcdC5nZXQod2FyZWhvdXNlSWQpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKHdhcmVob3VzZSkge1xuXHRcdFx0Y29uc3QgZXhpc3RlZFByb2R1Y3QgPSBfLmZpbmQoXG5cdFx0XHRcdHdhcmVob3VzZS5wcm9kdWN0cyxcblx0XHRcdFx0KHdhcmVob3VzZVByb2R1Y3QpID0+IHdhcmVob3VzZVByb2R1Y3QucHJvZHVjdElkID09PSBwcm9kdWN0SWRcblx0XHRcdCk7XG5cblx0XHRcdGlmIChleGlzdGVkUHJvZHVjdCkge1xuXHRcdFx0XHQvLyB3ZSB3YW50IHRvIGFkZCBnaXZlbiBxdHkgb2Ygc3VjaCBwcm9kdWN0c1xuXHRcdFx0XHRleGlzdGVkUHJvZHVjdC5jb3VudCArPSBjb3VudDtcblxuXHRcdFx0XHRyZXR1cm4gdGhpcy5zYXZlVXBkYXRlZCh3YXJlaG91c2VJZCwgZXhpc3RlZFByb2R1Y3QpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgZXJyTXNnID0gJ0Nhbm5vdCBmaW5kIHByb2R1Y3QnO1xuXHRcdFx0XHR0aGlzLmxvZy5lcnJvcihuZXcgRXJyb3IoZXJyTXNnKSk7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCBlcnJNc2cgPSAnQ2Fubm90IGZpbmQgd2FyZWhvdXNlJztcblx0XHRcdHRoaXMubG9nLmVycm9yKG5ldyBFcnJvcihlcnJNc2cpKTtcblx0XHRcdHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBJbmNyZWFzZSBzb2xkIHF0eSBvZiBnaXZlbiBwcm9kdWN0IGJ5IGdpdmVuIGNvdW50XG5cdCAqIElmIG5vIHN1Y2ggcHJvZHVjdCBleGlzdHMgaW4gd2FyZWhvdXNlIHlldCwgZG8gbm90aGluZ1xuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gd2FyZWhvdXNlSWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IHByb2R1Y3RJZFxuXHQgKiBAcGFyYW0ge251bWJlcn0gY291bnRcblx0ICogQHJldHVybnMge1Byb21pc2U8V2FyZWhvdXNlUHJvZHVjdD59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGluY3JlYXNlU29sZENvdW50KFxuXHRcdHdhcmVob3VzZUlkOiBzdHJpbmcsXG5cdFx0cHJvZHVjdElkOiBzdHJpbmcsXG5cdFx0Y291bnQ6IG51bWJlclxuXHQpOiBQcm9taXNlPFdhcmVob3VzZVByb2R1Y3Q+IHtcblx0XHRjb25zdCB3YXJlaG91c2UgPSBhd2FpdCB0aGlzLndhcmVob3VzZXNTZXJ2aWNlXG5cdFx0XHQuZ2V0KHdhcmVob3VzZUlkKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblxuXHRcdGlmICh3YXJlaG91c2UpIHtcblx0XHRcdGNvbnN0IGV4aXN0ZWRQcm9kdWN0ID0gXy5maW5kKFxuXHRcdFx0XHR3YXJlaG91c2UucHJvZHVjdHMsXG5cdFx0XHRcdCh3YXJlaG91c2VQcm9kdWN0KSA9PiB3YXJlaG91c2VQcm9kdWN0LnByb2R1Y3RJZCA9PT0gcHJvZHVjdElkXG5cdFx0XHQpO1xuXG5cdFx0XHRpZiAoZXhpc3RlZFByb2R1Y3QpIHtcblx0XHRcdFx0Ly8gd2Ugd2FudCB0byBhZGQgZ2l2ZW4gcXR5IG9mIHN1Y2ggcHJvZHVjdHNcblx0XHRcdFx0ZXhpc3RlZFByb2R1Y3Quc29sZENvdW50ICs9IGNvdW50O1xuXG5cdFx0XHRcdHJldHVybiB0aGlzLnNhdmVVcGRhdGVkKHdhcmVob3VzZUlkLCBleGlzdGVkUHJvZHVjdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBlcnJNc2cgPSAnQ2Fubm90IGZpbmQgcHJvZHVjdCc7XG5cdFx0XHRcdHRoaXMubG9nLmVycm9yKG5ldyBFcnJvcihlcnJNc2cpKTtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGVyck1zZyA9ICdDYW5ub3QgZmluZCB3YXJlaG91c2UnO1xuXHRcdFx0dGhpcy5sb2cuZXJyb3IobmV3IEVycm9yKGVyck1zZykpO1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFRPRE86IGRvY3VtZW50XG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3YXJlaG91c2VJZFxuXHQgKiBAcGFyYW0ge1dhcmVob3VzZVByb2R1Y3R9IF91cGRhdGVkV2FyZWhvdXNlUHJvZHVjdFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxXYXJlaG91c2VQcm9kdWN0Pn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgc2F2ZVVwZGF0ZWQoXG5cdFx0d2FyZWhvdXNlSWQ6IHN0cmluZyxcblx0XHRAc2VyaWFsaXphdGlvbigodTogSVdhcmVob3VzZVByb2R1Y3QpID0+IG5ldyBXYXJlaG91c2VQcm9kdWN0KHUpKVxuXHRcdF91cGRhdGVkV2FyZWhvdXNlUHJvZHVjdDogV2FyZWhvdXNlUHJvZHVjdFxuXHQpOiBQcm9taXNlPFdhcmVob3VzZVByb2R1Y3Q+IHtcblx0XHRhd2FpdCB0aGlzLndhcmVob3VzZXNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHMod2FyZWhvdXNlSWQpO1xuXHRcdGlmIChcblx0XHRcdCFfdXBkYXRlZFdhcmVob3VzZVByb2R1Y3QuaXNEZWxpdmVyeVJlcXVpcmVkICYmXG5cdFx0XHQhX3VwZGF0ZWRXYXJlaG91c2VQcm9kdWN0LmlzVGFrZWF3YXlcblx0XHQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihub0dldFByb2R1Y3RUeXBlTWVzc2FnZSk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdXBkYXRlZFdhcmVob3VzZVByb2R1Y3QgPSBfLmNsb25lKF91cGRhdGVkV2FyZWhvdXNlUHJvZHVjdCk7XG5cdFx0dXBkYXRlZFdhcmVob3VzZVByb2R1Y3QucHJvZHVjdCA9IHVwZGF0ZWRXYXJlaG91c2VQcm9kdWN0LnByb2R1Y3RJZDtcblxuXHRcdGNvbnN0IHVwZGF0ZWRXYXJlaG91c2UgPSAoXG5cdFx0XHRhd2FpdCB0aGlzLndhcmVob3VzZXNTZXJ2aWNlLnVwZGF0ZU11bHRpcGxlKFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0X2lkOiBuZXcgbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQod2FyZWhvdXNlSWQpLFxuXHRcdFx0XHRcdCdwcm9kdWN0cy5faWQnOiB1cGRhdGVkV2FyZWhvdXNlUHJvZHVjdC5faWQsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQncHJvZHVjdHMuJCc6IHVwZGF0ZWRXYXJlaG91c2VQcm9kdWN0LFxuXHRcdFx0XHR9XG5cdFx0XHQpXG5cdFx0KVswXTtcblxuXHRcdHJldHVybiBfLmZpbmQoXG5cdFx0XHR1cGRhdGVkV2FyZWhvdXNlLnByb2R1Y3RzLFxuXHRcdFx0KHdhcmVob3VzZVByb2R1Y3QpID0+XG5cdFx0XHRcdHdhcmVob3VzZVByb2R1Y3QucHJvZHVjdElkID09PSB1cGRhdGVkV2FyZWhvdXNlUHJvZHVjdC5wcm9kdWN0SWRcblx0XHQpIGFzIFdhcmVob3VzZVByb2R1Y3Q7XG5cdH1cblxuXHQvKipcblx0ICogQ2hhbmdlIHByaWNlIGZvciB0aGUgcHJvZHVjdFxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gd2FyZWhvdXNlSWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IHByb2R1Y3RJZCB3aGljaCBwcm9kdWN0IHByaWNlIHNob3VsZCBiZSBjaGFuZ2VkXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBwcmljZSBuZXcgcHJpY2Vcblx0ICogQHJldHVybnMge1Byb21pc2U8V2FyZWhvdXNlUHJvZHVjdD59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGNoYW5nZVByaWNlKFxuXHRcdHdhcmVob3VzZUlkOiBzdHJpbmcsXG5cdFx0cHJvZHVjdElkOiBzdHJpbmcsXG5cdFx0cHJpY2U6IG51bWJlclxuXHQpOiBQcm9taXNlPFdhcmVob3VzZVByb2R1Y3Q+IHtcblx0XHQvLyBUT0RPOiBTb21lIGdsb2JhbCBkaXN0cmlidXRlZCBsb2NrIHNob3VsZCBiZSBhcHBseSBoZXJlXG5cdFx0Ly8gc28gd2UgY2FuJ3QgY2hhbmdlIHByb2R1Y3QgcHJpY2Ugb24gMiBzZXBhcmF0ZSBzZXJ2ZXJzIGF0IHRoZSBzYW1lIHRpbWU/XG5cblx0XHRjb25zdCB3YXJlaG91c2UgPSBhd2FpdCB0aGlzLndhcmVob3VzZXNTZXJ2aWNlXG5cdFx0XHQuZ2V0KHdhcmVob3VzZUlkLCBmYWxzZSlcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cblx0XHRpZiAod2FyZWhvdXNlID09IG51bGwpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YFRoZXJlIGlzIG5vIHN1Y2ggYW4gd2FyZWhvdXNlIHdpdGggdGhlIGlkICR7d2FyZWhvdXNlSWR9YFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0J0NoYW5nZSBwcm9kdWN0IHByaWNlIHJlcXVlc3RlZCBpbiB3YXJlaG91c2U6ICcgK1xuXHRcdFx0XHRKU09OLnN0cmluZ2lmeSh3YXJlaG91c2UpICtcblx0XHRcdFx0JyBmb3IgcHJvZHVjdCBpZDogJyArXG5cdFx0XHRcdHByb2R1Y3RJZFxuXHRcdCk7XG5cblx0XHRjb25zdCBwcm9kdWN0ID0gXy5maW5kKFxuXHRcdFx0d2FyZWhvdXNlLnByb2R1Y3RzLFxuXHRcdFx0KHApID0+IHAucHJvZHVjdElkID09PSBwcm9kdWN0SWRcblx0XHQpO1xuXG5cdFx0aWYgKHByb2R1Y3QgIT0gbnVsbCkge1xuXHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0YFByb2R1Y3QgcHJpY2UgYmVmb3JlOiAke3Byb2R1Y3QucHJpY2V9IGFuZCB3ZSB3YW50IHRvIGNoYW5nZSBpdCB0bzogJHtwcmljZX1gXG5cdFx0XHQpO1xuXHRcdFx0cHJvZHVjdC5wcmljZSA9IHByaWNlO1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5zYXZlVXBkYXRlZCh3YXJlaG91c2VJZCwgcHJvZHVjdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YFRoZXJlIGlzIG5vIHN1Y2ggYW4gcHJvZHVjdCB3aXRoIHRoZSBpZCAke3Byb2R1Y3RJZH0gaW4gdGhlIHdhcmVob3VzZSB3aXRoIHRoZSBpZCAke3dhcmVob3VzZUlkfWBcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgcHJvZHVjdHMgZnJvbSB3YXJlaG91c2UgKGNhbGxlZCBkdXJpbmcgc2VsbCBvZiB0aGUgcHJvZHVjdClcblx0ICogQWx3YXlzIGNhdXNlIGNoYW5nZSBub3RpZmljYXRpb24gdG8gYmUgc2VuZCB0byB0aGUgY2xpZW50c1xuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gd2FyZWhvdXNlSWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IHByb2R1Y3RJZCB3aGF0IHByb2R1Y3QgYXZhaWxhYmlsaXR5IHNob3VsZCBiZSBkZWNyZWFzZWRcblx0ICogQHBhcmFtIHtudW1iZXJ9IGNvdW50IGhvdyBtYW55IHRvIHJlbW92ZVxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxXYXJlaG91c2VQcm9kdWN0Pn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZGVjcmVhc2VDb3VudChcblx0XHR3YXJlaG91c2VJZDogc3RyaW5nLFxuXHRcdHByb2R1Y3RJZDogc3RyaW5nLFxuXHRcdGNvdW50OiBudW1iZXJcblx0KTogUHJvbWlzZTxXYXJlaG91c2VQcm9kdWN0PiB7XG5cdFx0Ly8gVE9ETzogU29tZSBnbG9iYWwgZGlzdHJpYnV0ZWQgbG9jayBzaG91bGQgYmUgYXBwbHkgaGVyZVxuXHRcdC8vIHNvIHdlIGNhbid0IGRlY3JlYXNlIHByb2R1Y3QgY291bnQgb24gMiBzZXBhcmF0ZSBzZXJ2ZXJzIGF0IHRoZSBzYW1lIHRpbWUhXG5cblx0XHRjb25zdCB3YXJlaG91c2UgPSBhd2FpdCB0aGlzLndhcmVob3VzZXNTZXJ2aWNlXG5cdFx0XHQuZ2V0KHdhcmVob3VzZUlkKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblxuXHRcdGlmICh3YXJlaG91c2UgPT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCB3YXJlaG91c2U6ICR7d2FyZWhvdXNlSWR9YCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdGBSZW1vdmUgcmVxdWVzdGVkIGluIHdhcmVob3VzZTogJHtKU09OLnN0cmluZ2lmeShcblx0XHRcdFx0d2FyZWhvdXNlXG5cdFx0XHQpfSBmb3IgcHJvZHVjdCBpZDogJHtwcm9kdWN0SWR9YFxuXHRcdCk7XG5cblx0XHRjb25zdCBwcm9kdWN0ID0gXy5maW5kKFxuXHRcdFx0d2FyZWhvdXNlLnByb2R1Y3RzLFxuXHRcdFx0KHApID0+IHAucHJvZHVjdElkID09PSBwcm9kdWN0SWRcblx0XHQpO1xuXG5cdFx0aWYgKHByb2R1Y3QgIT0gbnVsbCkge1xuXHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0YFByb2R1Y3QgY291bnQgYmVmb3JlIHJlbW92ZTogJHtwcm9kdWN0LmNvdW50fSBhbmQgd2Ugd2FudCB0byByZW1vdmUgJHtjb3VudH0gcHJvZHVjdHNgXG5cdFx0XHQpO1xuXG5cdFx0XHRpZiAocHJvZHVjdC5jb3VudCA+PSBjb3VudCkge1xuXHRcdFx0XHRwcm9kdWN0LmNvdW50IC09IGNvdW50O1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5zYXZlVXBkYXRlZCh3YXJlaG91c2VJZCwgcHJvZHVjdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBlcnJvck1zZyA9XG5cdFx0XHRcdFx0J1JlcXVlc3QgdG8gcmVtb3ZlIG1vcmUgcHJvZHVjdHMgdGhhbiBhdmFpbGFibGUnO1xuXG5cdFx0XHRcdHRoaXMubG9nLmVycm9yKHtcblx0XHRcdFx0XHRlcnI6IG5ldyBFcnJvcihlcnJvck1zZyksXG5cdFx0XHRcdFx0cHJvZHVjdCxcblx0XHRcdFx0XHRjb3VudCxcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgVGhlcmUgaXMgbm8gc3VjaCBhbiBwcm9kdWN0IHdpdGggdGhlIGlkICR7cHJvZHVjdElkfSBpbiB0aGUgd2FyZWhvdXNlIHdpdGggdGhlIGlkICR7d2FyZWhvdXNlSWR9YFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogRGVjcmVhc2UgcHJvZHVjdHMgc29sZCBjb3VudCBmcm9tIHdhcmVob3VzZSAoY2FsbGVkIGR1cmluZyB0aGUgb3JkZXIgY2FuY2VsKVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gd2FyZWhvdXNlSWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IHByb2R1Y3RJZFxuXHQgKiBAcGFyYW0ge251bWJlcn0gY291bnRcblx0ICogQHJldHVybnMge1Byb21pc2U8V2FyZWhvdXNlUHJvZHVjdD59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGRlY3JlYXNlU29sZENvdW50KFxuXHRcdHdhcmVob3VzZUlkOiBzdHJpbmcsXG5cdFx0cHJvZHVjdElkOiBzdHJpbmcsXG5cdFx0Y291bnQ6IG51bWJlclxuXHQpOiBQcm9taXNlPFdhcmVob3VzZVByb2R1Y3Q+IHtcblx0XHQvLyBUT0RPOiBTb21lIGdsb2JhbCBkaXN0cmlidXRlZCBsb2NrIHNob3VsZCBiZSBhcHBseSBoZXJlXG5cdFx0Ly8gc28gd2UgY2FuJ3QgZGVjcmVhc2UgcHJvZHVjdCBzb2xkIGNvdW50IG9uIDIgc2VwYXJhdGUgc2VydmVycyBhdCB0aGUgc2FtZSB0aW1lIVxuXG5cdFx0Y29uc3Qgd2FyZWhvdXNlID0gYXdhaXQgdGhpcy53YXJlaG91c2VzU2VydmljZVxuXHRcdFx0LmdldCh3YXJlaG91c2VJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cblx0XHRpZiAod2FyZWhvdXNlID09IG51bGwpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgd2FyZWhvdXNlOiAke3dhcmVob3VzZUlkfWApO1xuXHRcdH1cblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRgUmVtb3ZlIHJlcXVlc3RlZCBpbiB3YXJlaG91c2U6ICR7SlNPTi5zdHJpbmdpZnkoXG5cdFx0XHRcdHdhcmVob3VzZVxuXHRcdFx0KX0gZm9yIHByb2R1Y3QgaWQ6ICR7cHJvZHVjdElkfWBcblx0XHQpO1xuXG5cdFx0Y29uc3QgcHJvZHVjdCA9IF8uZmluZChcblx0XHRcdHdhcmVob3VzZS5wcm9kdWN0cyxcblx0XHRcdChwKSA9PiBwLnByb2R1Y3RJZCA9PT0gcHJvZHVjdElkXG5cdFx0KTtcblxuXHRcdGlmIChwcm9kdWN0ICE9IG51bGwpIHtcblx0XHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRcdGBQcm9kdWN0IHNvbGQgY291bnQgYmVmb3JlIGRlY3JlYXNlOiAke3Byb2R1Y3Quc29sZENvdW50fSBhbmQgd2Ugd2FudCB0byBkZWNyZWFzZSAke2NvdW50fSBwcm9kdWN0c2Bcblx0XHRcdCk7XG5cblx0XHRcdGlmIChwcm9kdWN0LnNvbGRDb3VudCA+PSBjb3VudCkge1xuXHRcdFx0XHRwcm9kdWN0LnNvbGRDb3VudCAtPSBjb3VudDtcblx0XHRcdFx0cmV0dXJuIHRoaXMuc2F2ZVVwZGF0ZWQod2FyZWhvdXNlSWQsIHByb2R1Y3QpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgZXJyb3JNc2cgPVxuXHRcdFx0XHRcdCdSZXF1ZXN0IHRvIGRlY3JlYXNlIGNvdW50IG9mIG1vcmUgcHJvZHVjdHMgdGhhbiBhdmFpbGFibGUnO1xuXG5cdFx0XHRcdHRoaXMubG9nLmVycm9yKHtcblx0XHRcdFx0XHRlcnI6IG5ldyBFcnJvcihlcnJvck1zZyksXG5cdFx0XHRcdFx0cHJvZHVjdCxcblx0XHRcdFx0XHRjb3VudCxcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgVGhlcmUgaXMgbm8gc3VjaCBhbiBwcm9kdWN0IHdpdGggdGhlIGlkICR7cHJvZHVjdElkfSBpbiB0aGUgd2FyZWhvdXNlIHdpdGggdGhlIGlkICR7d2FyZWhvdXNlSWR9YFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogR2V0IFRvcCBzb2xkIHByb2R1Y3RzIGZyb20gZ2l2ZW4gV2FyZWhvdXNlXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3YXJlaG91c2VJZCB3YXJlaG91c2UgZnJvbSB3aGljaCB0byByZXR1cm4gcHJvZHVjdHNcblx0ICogQHBhcmFtIHtudW1iZXJ9IHF1YW50aXR5IGhvdyBtYW55IHByb2R1Y3RzIHRvIHJldHVyblxuXHQgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxXYXJlaG91c2VQcm9kdWN0W10+fVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZVxuXHQgKi9cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldFRvcFByb2R1Y3RzKFxuXHRcdHdhcmVob3VzZUlkOiBzdHJpbmcsXG5cdFx0cXVhbnRpdHk6IG51bWJlclxuXHQpOiBPYnNlcnZhYmxlPFdhcmVob3VzZVByb2R1Y3RbXT4ge1xuXHRcdHJldHVybiB0aGlzLmdldCh3YXJlaG91c2VJZCkucGlwZShcblx0XHRcdG1hcCgod2FyZWhvdXNlUHJvZHVjdHMpID0+IHtcblx0XHRcdFx0bGV0IHRvcFByb2R1Y3RzID0gXy5maWx0ZXIoXG5cdFx0XHRcdFx0d2FyZWhvdXNlUHJvZHVjdHMsXG5cdFx0XHRcdFx0KHdhcmVob3VzZVByb2R1Y3QpID0+IHdhcmVob3VzZVByb2R1Y3Quc29sZENvdW50ID4gMFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdHRvcFByb2R1Y3RzID0gXy5vcmRlckJ5KHRvcFByb2R1Y3RzLCBbJ3NvbGRDb3VudCddLCBbJ2Rlc2MnXSk7XG5cblx0XHRcdFx0cmV0dXJuIF8udGFrZSh0b3BQcm9kdWN0cywgcXVhbnRpdHkpO1xuXHRcdFx0fSlcblx0XHQpO1xuXHR9XG5cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldFByb2R1Y3QoXG5cdFx0d2FyZWhvdXNlSWQ6IHN0cmluZyxcblx0XHR3YXJlaG91c2VQcm9kdWN0SWQ6IHN0cmluZ1xuXHQpOiBPYnNlcnZhYmxlPFdhcmVob3VzZVByb2R1Y3Q+IHtcblx0XHRyZXR1cm4gdGhpcy53YXJlaG91c2VzU2VydmljZS5nZXQod2FyZWhvdXNlSWQsIHRydWUpLnBpcGUoXG5cdFx0XHRleGhhdXN0TWFwKCh3YXJlaG91c2UpID0+IHtcblx0XHRcdFx0aWYgKHdhcmVob3VzZSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBfdGhyb3coXG5cdFx0XHRcdFx0XHRuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRcdGBXYXJlaG91c2Ugd2l0aCB0aGUgaWQgJHt3YXJlaG91c2VJZH0gZG9lc24ndCBleGlzdGBcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiBvZih3YXJlaG91c2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KSxcblx0XHRcdG1hcCgod2FyZWhvdXNlKSA9PlxuXHRcdFx0XHR3YXJlaG91c2UucHJvZHVjdHMuZmluZCgocCkgPT4gcC5pZCA9PT0gd2FyZWhvdXNlUHJvZHVjdElkKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgUHJvZHVjdHNTZXJ2aWNlIH0gZnJvbSAnLi4vcHJvZHVjdHMnO1xuaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4uLy4uL2hlbHBlcnMvTG9nJztcbmltcG9ydCBXYXJlaG91c2UgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9XYXJlaG91c2UnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBJV2FyZWhvdXNlIH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lXYXJlaG91c2UnO1xuaW1wb3J0IHsgSUdlb0xvY2F0aW9uQ3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lHZW9Mb2NhdGlvbic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgSVdhcmVob3VzZVJvdXRlciwge1xuXHRJV2FyZWhvdXNlUmVnaXN0cmF0aW9uSW5wdXQsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JV2FyZWhvdXNlUm91dGVyJztcbmltcG9ydCB7XG5cdGFzeW5jTGlzdGVuZXIsXG5cdG9ic2VydmFibGVMaXN0ZW5lcixcblx0cm91dGVyTmFtZSxcblx0c2VyaWFsaXphdGlvbixcbn0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJy4uL0lTZXJ2aWNlJztcbmltcG9ydCB7IGNvbmNhdCwgZXhoYXVzdE1hcCwgdGFwLCBmaXJzdCwgbWFwLCBzd2l0Y2hNYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBvZiB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS9vZic7XG5pbXBvcnQgeyBEQlNlcnZpY2UgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IHsgSVdhcmVob3VzZUxvZ2luUmVzcG9uc2UgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL3JvdXRlcnMvSVdhcmVob3VzZVJvdXRlcic7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi8uLi9lbnYnO1xuaW1wb3J0IHsgQXV0aFNlcnZpY2UsIEF1dGhTZXJ2aWNlRmFjdG9yeSB9IGZyb20gJy4uL2F1dGgnO1xuaW1wb3J0IHsgdjEgYXMgdXVpZCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IElQYWdpbmdPcHRpb25zIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JUGFnaW5nT3B0aW9ucyc7XG5cbi8qKlxuICogV2FyZWhvdXNlcyBTZXJ2aWNlXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIFdhcmVob3VzZXNTZXJ2aWNlXG4gKiBAZXh0ZW5kcyB7REJTZXJ2aWNlPFdhcmVob3VzZT59XG4gKiBAaW1wbGVtZW50cyB7SVdhcmVob3VzZVJvdXRlcn1cbiAqIEBpbXBsZW1lbnRzIHtJU2VydmljZX1cbiAqL1xuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ3dhcmVob3VzZScpXG5leHBvcnQgY2xhc3MgV2FyZWhvdXNlc1NlcnZpY2UgZXh0ZW5kcyBEQlNlcnZpY2U8V2FyZWhvdXNlPlxuXHRpbXBsZW1lbnRzIElXYXJlaG91c2VSb3V0ZXIsIElTZXJ2aWNlIHtcblx0cHVibGljIHJlYWRvbmx5IERCT2JqZWN0OiBhbnkgPSBXYXJlaG91c2U7XG5cblx0cHJvdGVjdGVkIGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7IG5hbWU6ICd3YXJlaG91c2VzU2VydmljZScgfSk7XG5cblx0cHJpdmF0ZSByZWFkb25seSBhdXRoU2VydmljZTogQXV0aFNlcnZpY2U8V2FyZWhvdXNlPjtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRAaW5qZWN0KFByb2R1Y3RzU2VydmljZSlcblx0XHRwcml2YXRlIHJlYWRvbmx5IHByb2R1Y3RzU2VydmljZTogUHJvZHVjdHNTZXJ2aWNlLFxuXHRcdEBpbmplY3QoJ0ZhY3Rvcnk8QXV0aFNlcnZpY2U+Jylcblx0XHRwcml2YXRlIHJlYWRvbmx5IGF1dGhTZXJ2aWNlRmFjdG9yeTogQXV0aFNlcnZpY2VGYWN0b3J5XG5cdCkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5hdXRoU2VydmljZSA9IHRoaXMuYXV0aFNlcnZpY2VGYWN0b3J5KHtcblx0XHRcdHJvbGU6ICd3YXJlaG91c2UnLFxuXHRcdFx0RW50aXR5OiBXYXJlaG91c2UsXG5cdFx0XHRzYWx0Um91bmRzOiBlbnYuVVNFUl9QQVNTV09SRF9CQ1JZUFRfU0FMVF9ST1VORFMsXG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IE1lcmNoYW50c1xuXHQgKlxuXHQgKiBAcGFyYW0geyp9IGZpbmRJbnB1dFxuXHQgKiBAcGFyYW0ge0lQYWdpbmdPcHRpb25zfSBwYWdpbmdPcHRpb25zXG5cdCAqIEByZXR1cm5zXG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzU2VydmljZVxuXHQgKi9cblx0YXN5bmMgZ2V0TWVyY2hhbnRzKGZpbmRJbnB1dDogYW55LCBwYWdpbmdPcHRpb25zOiBJUGFnaW5nT3B0aW9ucykge1xuXHRcdGNvbnN0IHNvcnRPYmogPSB7fTtcblx0XHRpZiAocGFnaW5nT3B0aW9ucy5zb3J0KSB7XG5cdFx0XHRzb3J0T2JqW3BhZ2luZ09wdGlvbnMuc29ydC5maWVsZF0gPSBwYWdpbmdPcHRpb25zLnNvcnQuc29ydEJ5O1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLk1vZGVsLmZpbmQoe1xuXHRcdFx0Li4uZmluZElucHV0LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KVxuXHRcdFx0LnNvcnQoc29ydE9iailcblx0XHRcdC5za2lwKHBhZ2luZ09wdGlvbnMuc2tpcClcblx0XHRcdC5saW1pdChwYWdpbmdPcHRpb25zLmxpbWl0KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgYWxsIGFjdGl2ZSBtZXJjaGFudHNcblx0ICpcblx0ICogQHBhcmFtIHtib29sZWFufSBbZnVsbFByb2R1Y3RzPWZhbHNlXVxuXHQgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxXYXJlaG91c2VbXT59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzU2VydmljZVxuXHQgKi9cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldEFsbEFjdGl2ZShmdWxsUHJvZHVjdHM6IGJvb2xlYW4gPSBmYWxzZSk6IE9ic2VydmFibGU8V2FyZWhvdXNlW10+IHtcblx0XHRjb25zdCBjYWxsSWQgPSB1dWlkKCk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0eyBjYWxsSWQsIGZ1bGxQcm9kdWN0cyB9LFxuXHRcdFx0Jy5nZXRBbGxBY3RpdmUoZnVsbFByb2R1Y3RzKSBjYWxsZWQnXG5cdFx0KTtcblxuXHRcdHJldHVybiBvZihudWxsKS5waXBlKFxuXHRcdFx0Y29uY2F0KHRoaXMuZXhpc3RlbmNlKSxcblx0XHRcdGV4aGF1c3RNYXAoKCkgPT4gdGhpcy5fZ2V0QWxsQ3VycmVudEFjdGl2ZShmdWxsUHJvZHVjdHMpKSxcblx0XHRcdHRhcCh7XG5cdFx0XHRcdG5leHQ6ICh3YXJlaG91c2VzKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0XHRcdHsgY2FsbElkLCBmdWxsUHJvZHVjdHMsIHdhcmVob3VzZXMgfSxcblx0XHRcdFx0XHRcdCcuZ2V0QWxsQWN0aXZlKGZ1bGxQcm9kdWN0cykgZW1pdHRlZCBuZXh0IHZhbHVlJ1xuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGVycm9yOiAoZXJyKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5sb2cuZXJyb3IoXG5cdFx0XHRcdFx0XHR7IGNhbGxJZCwgZnVsbFByb2R1Y3RzLCBlcnIgfSxcblx0XHRcdFx0XHRcdCcuZ2V0QWxsQWN0aXZlKGZ1bGxQcm9kdWN0cykgdGhyb3duIGVycm9yISdcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9LFxuXHRcdFx0fSlcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBuZXcgTWVyY2hhbnRcblx0ICpcblx0ICogQHBhcmFtIHtJV2FyZWhvdXNlUmVnaXN0cmF0aW9uSW5wdXR9IGlucHV0XG5cdCAqIEByZXR1cm5zXG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyByZWdpc3RlcihpbnB1dDogSVdhcmVob3VzZVJlZ2lzdHJhdGlvbklucHV0KSB7XG5cdFx0Y29uc3Qgd2FyZWhvdXNlID0gYXdhaXQgc3VwZXIuY3JlYXRlKHtcblx0XHRcdC4uLmlucHV0LndhcmVob3VzZSxcblx0XHRcdC4uLihpbnB1dC5wYXNzd29yZFxuXHRcdFx0XHQ/IHtcblx0XHRcdFx0XHRcdGhhc2g6IGF3YWl0IHRoaXMuYXV0aFNlcnZpY2UuZ2V0UGFzc3dvcmRIYXNoKFxuXHRcdFx0XHRcdFx0XHRpbnB1dC5wYXNzd29yZFxuXHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0ICB9XG5cdFx0XHRcdDoge30pLFxuXHRcdH0pO1xuXHRcdHJldHVybiB3YXJlaG91c2U7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlIHBhc3N3b3JkIGZvciBNZXJjaGFudCBhZG1pbiB1c2VyXG5cdCAqXG5cdCAqIEBwYXJhbSB7V2FyZWhvdXNlWydpZCddfSBpZFxuXHQgKiBAcGFyYW0ge3sgY3VycmVudDogc3RyaW5nOyBuZXc6IHN0cmluZyB9fSBwYXNzd29yZFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHVwZGF0ZVBhc3N3b3JkKFxuXHRcdGlkOiBXYXJlaG91c2VbJ2lkJ10sXG5cdFx0cGFzc3dvcmQ6IHsgY3VycmVudDogc3RyaW5nOyBuZXc6IHN0cmluZyB9XG5cdCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0YXdhaXQgdGhpcy5hdXRoU2VydmljZS51cGRhdGVQYXNzd29yZChpZCwgcGFzc3dvcmQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEF1dGhlbnRpY2F0ZSB1c2VyIGluIHRoZSBNZXJjaGFudCBhcHBcblx0ICogVE9ETzogbW92ZSB0byBzZXBhcmF0ZSBBdXRoIHNlcnZpY2Vcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZFxuXHQgKiBAcmV0dXJucyB7KFByb21pc2U8SVdhcmVob3VzZUxvZ2luUmVzcG9uc2UgfCBudWxsPil9XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBsb2dpbihcblx0XHR1c2VybmFtZTogc3RyaW5nLFxuXHRcdHBhc3N3b3JkOiBzdHJpbmdcblx0KTogUHJvbWlzZTxJV2FyZWhvdXNlTG9naW5SZXNwb25zZSB8IG51bGw+IHtcblx0XHRjb25zdCByZXMgPSBhd2FpdCB0aGlzLmF1dGhTZXJ2aWNlLmxvZ2luKHsgdXNlcm5hbWUgfSwgcGFzc3dvcmQpO1xuXG5cdFx0aWYgKCFyZXMgfHwgcmVzLmVudGl0eS5pc0RlbGV0ZWQpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR3YXJlaG91c2U6IHJlcy5lbnRpdHksXG5cdFx0XHR0b2tlbjogcmVzLnRva2VuLFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogR2V0IE1lcmNoYW50XG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IFtmdWxsUHJvZHVjdHM9dHJ1ZV1cblx0ICogQHJldHVybnMgeyhPYnNlcnZhYmxlPFdhcmVob3VzZSB8IG51bGw+KX1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNTZXJ2aWNlXG5cdCAqL1xuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KGlkOiBzdHJpbmcsIGZ1bGxQcm9kdWN0cyA9IHRydWUpOiBPYnNlcnZhYmxlPFdhcmVob3VzZSB8IG51bGw+IHtcblx0XHRpZiAoIWZ1bGxQcm9kdWN0cykge1xuXHRcdFx0cmV0dXJuIHN1cGVyLmdldChpZCkucGlwZShcblx0XHRcdFx0bWFwKGFzeW5jICh3YXJlaG91c2UpID0+IHtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdFx0XHRcdHJldHVybiB3YXJlaG91c2U7XG5cdFx0XHRcdH0pLFxuXHRcdFx0XHRzd2l0Y2hNYXAoKHdhcmVob3VzZSkgPT4gd2FyZWhvdXNlKVxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHN1cGVyXG5cdFx0XHRcdC5nZXQoaWQpXG5cdFx0XHRcdC5waXBlKFxuXHRcdFx0XHRcdG1hcChhc3luYyAod2FyZWhvdXNlKSA9PiB7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHdhcmVob3VzZTtcblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRzd2l0Y2hNYXAoKHdhcmVob3VzZSkgPT4gd2FyZWhvdXNlKVxuXHRcdFx0XHQpXG5cdFx0XHRcdC5waXBlKGV4aGF1c3RNYXAoKCkgPT4gdGhpcy5fZ2V0KGlkLCB0cnVlKSkpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTZXQgbmV3IGxvY2F0aW9uIGZvciBleGlzdGVkIHdhcmVob3VzZVxuXHQgKiBOb3RlOiB3ZSBzdXBwb3J0IG1vdmluZyBtZXJjaGFudHMuIEZvciBleGFtcGxlLCBzb21lIHBlb3BsZS9jb21wYW5pZXMgc2VsbCBwcm9kdWN0cyBvbiB0aGUgXCJnb1wiLlxuXHQgKiBJbiBzdWNoIGNhc2UsIHRoaXMgbWV0aG9kIHdpbGwgYmUgY2FsbGVkIHBlcmlvZGljYWxseSB0byB1cGRhdGUgTWVyY2hhbnQgbG9jYXRpb24gaW4gcmVhbC10aW1lXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3YXJlaG91c2VJZFxuXHQgKiBAcGFyYW0ge0lHZW9Mb2NhdGlvbkNyZWF0ZU9iamVjdH0gZ2VvTG9jYXRpb25cblx0ICogQHJldHVybnMge1Byb21pc2U8V2FyZWhvdXNlPn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHVwZGF0ZUdlb0xvY2F0aW9uKFxuXHRcdHdhcmVob3VzZUlkOiBzdHJpbmcsXG5cdFx0Z2VvTG9jYXRpb246IElHZW9Mb2NhdGlvbkNyZWF0ZU9iamVjdFxuXHQpOiBQcm9taXNlPFdhcmVob3VzZT4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyh3YXJlaG91c2VJZCk7XG5cdFx0cmV0dXJuIHRoaXMudXBkYXRlKHdhcmVob3VzZUlkLCB7IGdlb0xvY2F0aW9uIH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldCB3YXJlaG91c2UgdG8gYXZhaWxhYmxlIG9yIG5vdCBhdmFpbGFibGVcblx0ICogKGUuZy4gd2FyZWhvdXNlIGNsb3NlIG9yIG9wZW4gZXRjKVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gd2FyZWhvdXNlSWRcblx0ICogQHBhcmFtIHtib29sZWFufSBpc0F2YWlsYWJsZVxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxXYXJlaG91c2U+fVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlc1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgdXBkYXRlQXZhaWxhYmlsaXR5KFxuXHRcdHdhcmVob3VzZUlkOiBzdHJpbmcsXG5cdFx0aXNBdmFpbGFibGU6IGJvb2xlYW5cblx0KTogUHJvbWlzZTxXYXJlaG91c2U+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMod2FyZWhvdXNlSWQpO1xuXHRcdHJldHVybiB0aGlzLnVwZGF0ZSh3YXJlaG91c2VJZCwgeyBpc0FjdGl2ZTogaXNBdmFpbGFibGUgfSk7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlIE1lcmNoYW50IGRldGFpbHNcblx0ICpcblx0ICogQHBhcmFtIHtXYXJlaG91c2V9IHdhcmVob3VzZVxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxXYXJlaG91c2U+fVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlc1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgc2F2ZShcblx0XHRAc2VyaWFsaXphdGlvbigodzogSVdhcmVob3VzZSkgPT4gbmV3IFdhcmVob3VzZSh3KSkgd2FyZWhvdXNlOiBXYXJlaG91c2Vcblx0KTogUHJvbWlzZTxXYXJlaG91c2U+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMod2FyZWhvdXNlLmlkKTtcblxuXHRcdHdhcmVob3VzZSA9IF8uY2xvbmUod2FyZWhvdXNlKTtcblxuXHRcdF8uZWFjaCh3YXJlaG91c2UucHJvZHVjdHMsICh3YXJlaG91c2VQcm9kdWN0KSA9PiB7XG5cdFx0XHR3YXJlaG91c2VQcm9kdWN0LnByb2R1Y3QgPSB3YXJlaG91c2VQcm9kdWN0LnByb2R1Y3RJZDtcblx0XHR9KTtcblxuXHRcdHJldHVybiB0aGlzLnVwZGF0ZSh3YXJlaG91c2UuaWQsIHdhcmVob3VzZSk7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2sgaWYgbWVyY2hhbnQgcmVjb3JkIGV4aXN0cyBhbmQgbm90IGRlbGV0ZWQuXG5cdCAqIFRocm93cyBleGNlcHRpb24gaWYgbm90IGZvdW5kIG9yIGRlbGV0ZWQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yZUlkXG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzU2VydmljZVxuXHQgKi9cblx0YXN5bmMgdGhyb3dJZk5vdEV4aXN0cyhzdG9yZUlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBzdG9yZSA9IGF3YWl0IHN1cGVyLmdldChzdG9yZUlkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKCFzdG9yZSB8fCBzdG9yZS5pc0RlbGV0ZWQpIHtcblx0XHRcdHRocm93IEVycm9yKGBTdG9yZSB3aXRoIGlkICcke3N0b3JlSWR9JyBkb2VzIG5vdCBleGlzdHMhYCk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBfZ2V0KGlkOiBzdHJpbmcsIGZ1bGxQcm9kdWN0cyA9IGZhbHNlKTogUHJvbWlzZTxXYXJlaG91c2U+IHtcblx0XHRjb25zdCBfd2FyZWhvdXNlID0gKGF3YWl0IHRoaXMuTW9kZWwuZmluZEJ5SWQoaWQpXG5cdFx0XHQucG9wdWxhdGUoZnVsbFByb2R1Y3RzID8gJ3Byb2R1Y3RzLnByb2R1Y3QnIDogJycpXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpKSBhcyBJV2FyZWhvdXNlO1xuXG5cdFx0cmV0dXJuIG5ldyBXYXJlaG91c2UoX3dhcmVob3VzZSk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIF9nZXRBbGxDdXJyZW50QWN0aXZlKFxuXHRcdGZ1bGxQcm9kdWN0cyA9IGZhbHNlXG5cdCk6IFByb21pc2U8V2FyZWhvdXNlW10+IHtcblx0XHRyZXR1cm4gXy5tYXAoXG5cdFx0XHQoYXdhaXQgdGhpcy5Nb2RlbC5maW5kKHtcblx0XHRcdFx0aXNBY3RpdmU6IHRydWUsXG5cdFx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0XHR9KVxuXHRcdFx0XHQucG9wdWxhdGUoZnVsbFByb2R1Y3RzID8gJ3Byb2R1Y3RzLnByb2R1Y3QnIDogJycpXG5cdFx0XHRcdC5sZWFuKClcblx0XHRcdFx0LmV4ZWMoKSkgYXMgSVdhcmVob3VzZVtdLFxuXHRcdFx0KHdhcmVob3VzZSkgPT4gbmV3IFdhcmVob3VzZSh3YXJlaG91c2UpXG5cdFx0KTtcblx0fVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlLCBMYXp5U2VydmljZUlkZW50aWZlciB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZUxpc3RlbmVyLCByb3V0ZXJOYW1lLCBhc3luY0xpc3RlbmVyIH0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJy4uL0lTZXJ2aWNlJztcbmltcG9ydCB7IGNvbmNhdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IFVzZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9Vc2VyJztcbmltcG9ydCB7IE9yZGVyc1NlcnZpY2UgfSBmcm9tICcuLi9vcmRlcnMnO1xuaW1wb3J0IFdhcmVob3VzZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1dhcmVob3VzZSc7XG5pbXBvcnQgeyBXYXJlaG91c2VzT3JkZXJzU2VydmljZSB9IGZyb20gJy4vV2FyZWhvdXNlc09yZGVyc1NlcnZpY2UnO1xuaW1wb3J0IHsgZXhoYXVzdE1hcCwgbWFwLCBzd2l0Y2hNYXAsIHRhcCwgZmlyc3QgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgSVdhcmVob3VzZVVzZXJzUm91dGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JV2FyZWhvdXNlVXNlcnNSb3V0ZXInO1xuaW1wb3J0IHsgV2FyZWhvdXNlc1NlcnZpY2UgfSBmcm9tICcuL1dhcmVob3VzZXNTZXJ2aWNlJztcblxuLyoqXG4gKiBXYXJlaG91c2VzIEN1c3RvbWVycyBTZXJ2aWNlXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIFdhcmVob3VzZXNVc2Vyc1NlcnZpY2VcbiAqIEBpbXBsZW1lbnRzIHtJU2VydmljZX1cbiAqIEBpbXBsZW1lbnRzIHtJV2FyZWhvdXNlVXNlcnNSb3V0ZXJ9XG4gKi9cbkBpbmplY3RhYmxlKClcbkByb3V0ZXJOYW1lKCd3YXJlaG91c2UtdXNlcnMnKVxuZXhwb3J0IGNsYXNzIFdhcmVob3VzZXNVc2Vyc1NlcnZpY2UgaW1wbGVtZW50cyBJU2VydmljZSwgSVdhcmVob3VzZVVzZXJzUm91dGVyIHtcblx0cHJvdGVjdGVkIGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7XG5cdFx0bmFtZTogJ3dhcmVob3VzZXNVc2Vyc1NlcnZpY2UnLFxuXHR9KTtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRAaW5qZWN0KG5ldyBMYXp5U2VydmljZUlkZW50aWZlcigoKSA9PiBXYXJlaG91c2VzT3JkZXJzU2VydmljZSkpXG5cdFx0cHJpdmF0ZSByZWFkb25seSB3YXJlaG91c2VzT3JkZXJzU2VydmljZTogV2FyZWhvdXNlc09yZGVyc1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gT3JkZXJzU2VydmljZSkpXG5cdFx0cHJpdmF0ZSByZWFkb25seSBvcmRlcnNTZXJ2aWNlOiBPcmRlcnNTZXJ2aWNlLFxuXHRcdEBpbmplY3QobmV3IExhenlTZXJ2aWNlSWRlbnRpZmVyKCgpID0+IFdhcmVob3VzZXNTZXJ2aWNlKSlcblx0XHRwcml2YXRlIHJlYWRvbmx5IF93YXJlaG91c2VzU2VydmljZTogV2FyZWhvdXNlc1NlcnZpY2Vcblx0KSB7fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBjdXN0b21lcnMgd2hvIG1hZGUgb3JkZXJzIGZyb20gdGhlIGdpdmVuIFN0b3JlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB3YXJlaG91c2VJZFxuXHQgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxVc2VyW10+fVxuXHQgKi9cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldCh3YXJlaG91c2VJZDogV2FyZWhvdXNlWydpZCddKTogT2JzZXJ2YWJsZTxVc2VyW10+IHtcblx0XHRyZXR1cm4gY29uY2F0KFxuXHRcdFx0bnVsbCxcblx0XHRcdHRoaXMud2FyZWhvdXNlc09yZGVyc1NlcnZpY2UuZ2V0RXhpc3RlbmNlKHdhcmVob3VzZUlkKVxuXHRcdCkucGlwZShcblx0XHRcdGV4aGF1c3RNYXAoKCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5vcmRlcnNTZXJ2aWNlLk1vZGVsLmRpc3RpbmN0KCd1c2VyLl9pZCcsIHtcblx0XHRcdFx0XHR3YXJlaG91c2U6IHdhcmVob3VzZUlkLFxuXHRcdFx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0XHRcdH0pXG5cdFx0XHRcdFx0LmxlYW4oKVxuXHRcdFx0XHRcdC5leGVjKCk7XG5cdFx0XHR9KSxcblx0XHRcdG1hcCgodXNlcnM6IFVzZXJbXSkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gdXNlcnMubWFwKCh1KSA9PiBuZXcgVXNlcih1KSk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgY3VzdG9tZXJzIHdobyBtYWRlIG9yZGVycyBmcm9tIGZyb20gdGhlIGdpdmVuIFN0b3JlXG5cdCAqXG5cdCAqIEBwYXJhbSB7V2FyZWhvdXNlWydpZCddfSB3YXJlaG91c2VJZFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxVc2VyW10+fVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlc1VzZXJzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXRQcm9taXNlKHdhcmVob3VzZUlkOiBXYXJlaG91c2VbJ2lkJ10pOiBQcm9taXNlPFVzZXJbXT4ge1xuXHRcdGF3YWl0IHRoaXMuX3dhcmVob3VzZXNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHMod2FyZWhvdXNlSWQpO1xuXHRcdHJldHVybiB0aGlzLmdldCh3YXJlaG91c2VJZCkucGlwZShmaXJzdCgpKS50b1Byb21pc2UoKTtcblx0fVxufVxuIiwiZXhwb3J0ICogZnJvbSAnLi9XYXJlaG91c2VzU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL1dhcmVob3VzZXNPcmRlcnNTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL1dhcmVob3VzZXNVc2Vyc1NlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9XYXJlaG91c2VzQ2FycmllcnNTZXJ2aWNlJztcbiIsIi8vIFRPRE86IG1vdmUgYWxsIHV0aWxzIGludG8gc2hhcmVkL2NvcmVcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcblxuZXhwb3J0IGZ1bmN0aW9uIG9ic2VydmVGaWxlKGZpbGVOYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPHN0cmluZz4ge1xuXHRyZXR1cm4gT2JzZXJ2YWJsZS5jcmVhdGUoKG9ic2VydmVyKSA9PiB7XG5cdFx0Y29uc3QgZmV0Y2hUcmFuc2xhdGlvbnMgPSAoKSA9PiB7XG5cdFx0XHRmcy5yZWFkRmlsZShmaWxlTmFtZSwgJ3V0Zi04JywgKGVyciwgY29udGVudCkgPT4ge1xuXHRcdFx0XHRvYnNlcnZlci5uZXh0KGNvbnRlbnQpO1xuXG5cdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRvYnNlcnZlci5lcnJvcihlcnIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0ZmV0Y2hUcmFuc2xhdGlvbnMoKTtcblxuXHRcdGZzLndhdGNoRmlsZShmaWxlTmFtZSwgZmV0Y2hUcmFuc2xhdGlvbnMpO1xuXG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGZzLnVud2F0Y2hGaWxlKGZpbGVOYW1lLCBmZXRjaFRyYW5zbGF0aW9ucyk7XG5cdFx0fTtcblx0fSk7XG59XG5cbi8qKlxuICogZ2VlXG4gKiBAcGFyYW0ge1tudW1iZXIsIG51bWJlcl19IHBvaW50IC0gYXJvdW5kIHdoaWNoIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gaW4gbWV0ZXJzXG4gKiBAcmV0dXJucyB7W251bWJlcl19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21Db29yZGluYXRlc05lYXIoXG5cdFtsb25naXR1ZGUsIGxhdGl0dWRlXTogW251bWJlciwgbnVtYmVyXSxcblx0cmFkaXVzOiBudW1iZXJcbik6IFtudW1iZXIsIG51bWJlcl0ge1xuXHRjb25zdCByID0gMTAwIC8gMTExMzAwOyAvLyA9IDEwMCBtZXRlcnNcblx0Y29uc3QgeTAgPSBsb25naXR1ZGU7XG5cdGNvbnN0IHgwID0gbGF0aXR1ZGU7XG5cdGNvbnN0IHUgPSBNYXRoLnJhbmRvbSgpO1xuXHRjb25zdCB2ID0gTWF0aC5yYW5kb20oKTtcblx0Y29uc3QgdyA9IHIgKiBNYXRoLnNxcnQodSk7XG5cdGNvbnN0IHQgPSAyICogTWF0aC5QSSAqIHY7XG5cdGNvbnN0IHggPSB3ICogTWF0aC5jb3ModCk7XG5cdGNvbnN0IHkxID0gdyAqIE1hdGguc2luKHQpO1xuXHRjb25zdCB4MSA9IHggLyBNYXRoLmNvcyh5MCk7XG5cblx0cmV0dXJuIFt5MCArIHkxLCB4MCArIHgxXTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBjYXB0ZW11bGF0aW9uL2dldC1wYXJhbWV0ZXItbmFtZXNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQG5lc3Rqcy9jb21tb25cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQG5lc3Rqcy9jb3JlXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBuZXN0anMvY3Fyc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAbmVzdGpzL2dyYXBocWxcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQG5lc3Rqcy9wYXNzcG9ydFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAbmVzdGpzL3N3YWdnZXJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQG5lc3Rqcy90eXBlb3JtXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImFwb2xsby1zZXJ2ZXItZXhwcmVzc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJheGlvc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJiY3J5cHRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYmx1ZWJpcmRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYnNvblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJidW55YW5cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYnVueWFuLWNsb3Vkd2F0Y2hcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYnVueWFuLXByZXR0eXN0cmVhbVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImRvdGVudlwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJlbnZhbGlkXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImVycm9yaGFuZGxlclwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJleHByZXNzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3MtaGFuZGxlYmFyc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmYWtlclwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJncmFwaHFsXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImdyYXBocWwtc3Vic2NyaXB0aW9uc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJoYW5kbGViYXJzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImh0dHBcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaHR0cHNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaW52ZXJzaWZ5XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImlwc3RhY2tcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImxvZGFzaFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtZXJnZS1ncmFwaHFsLXNjaGVtYXNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibWV0aG9kLW92ZXJyaWRlXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1rZGlycFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb21lbnRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibW9uZ29kYlwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb3JnYW5cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwib3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGFzc3BvcnRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGFzc3BvcnQtZmFjZWJvb2tcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGFzc3BvcnQtZ29vZ2xlLW9hdXRoMjBcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGFzc3BvcnQtand0XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhdGhcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGVtXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZmxlY3QtbWV0YWRhdGFcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVxdWVzdC1pcFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZXF1ZXN0LXByb21pc2VcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicnhqc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyeGpzL1N1YnNjcmlwdGlvblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyeGpzL29ic2VydmFibGUvZnJvbVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyeGpzL29ic2VydmFibGUvb2ZcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicnhqcy9vYnNlcnZhYmxlL3Rocm93XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJ4anMvb3BlcmF0b3JzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInNvY2tldC5pb1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzdHJpcGVcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwic3Vic2NyaXB0aW9ucy10cmFuc3BvcnQtd3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidHNsaWJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidHlwZW9ybVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ1dGlsXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInV1aWRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwid2VicGFjay9ob3QvcG9sbD8xMDBcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==